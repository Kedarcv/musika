var iHe=Object.defineProperty,rHe=Object.defineProperties,sHe=Object.getOwnPropertyDescriptors,bM=Object.getOwnPropertySymbols,XK=Object.prototype.hasOwnProperty,qK=Object.prototype.propertyIsEnumerable,Xo=Math.pow,YK=(He,H,A)=>H in He?iHe(He,H,{enumerable:!0,configurable:!0,writable:!0,value:A}):He[H]=A,Be=(He,H)=>{for(var A in H||(H={}))XK.call(H,A)&&YK(He,A,H[A]);if(bM)for(var A of bM(H))qK.call(H,A)&&YK(He,A,H[A]);return He},xn=(He,H)=>rHe(He,sHe(H)),KK=(He,H)=>{var A={};for(var h in He)XK.call(He,h)&&H.indexOf(h)<0&&(A[h]=He[h]);if(null!=He&&bM)for(var h of bM(He))H.indexOf(h)<0&&qK.call(He,h)&&(A[h]=He[h]);return A};(self.webpackChunkng_aviator=self.webpackChunkng_aviator||[]).push([[179],{417:(He,H,A)=>{"use strict";var h={};A.r(h),A.d(h,{BaseTextureCache:()=>Il,CanvasRenderTarget:()=>sm,DATA_URI:()=>Fj,EventEmitter:()=>im(),ProgramCache:()=>uA,TextureCache:()=>Aa,clearTextureCache:()=>z0e,correctBlendMode:()=>oA,createIndicesForQuads:()=>Dj,decomposeDataUri:()=>W0e,deprecation:()=>hu,destroyTextureCache:()=>V0e,determineCrossOrigin:()=>Lj,earcut:()=>QI(),getBufferType:()=>iE,getResolutionOfUrl:()=>ly,hex2rgb:()=>nd,hex2string:()=>tE,interleaveTypedArrays:()=>j0e,isMobile:()=>Qa,isPow2:()=>lA,isWebGLSupported:()=>Aj,log2:()=>cA,nextPow2:()=>ay,premultiplyBlendMode:()=>sA,premultiplyRgba:()=>Rj,premultiplyTint:()=>nE,premultiplyTintToRgba:()=>aA,removeItems:()=>kf,rgb2hex:()=>rA,sayHello:()=>nA,sign:()=>Ff,skipHello:()=>Ij,string2hex:()=>po,trimCanvas:()=>kj,uid:()=>lh,url:()=>Nf});var M={};function S(n){return"function"==typeof n}function T(n){const e=n(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}A.r(M),A.d(M,{ALPHA_MODES:()=>Zs,AbstractBatchRenderer:()=>PH,AbstractMultiResource:()=>hE,AbstractRenderer:()=>t2,AccessibilityManager:()=>_A,AnimatedSprite:()=>B7,AppLoaderPlugin:()=>zH,Application:()=>vy,ArrayResource:()=>EA,Attribute:()=>xA,BLEND_MODES:()=>qe,BUFFER_BITS:()=>oh,BUFFER_TYPE:()=>Ts,BaseImageResource:()=>fu,BasePrepare:()=>x2,BaseRenderTexture:()=>fy,BaseTexture:()=>Ci,BatchDrawCall:()=>EE,BatchGeometry:()=>r2,BatchPluginFactory:()=>RH,BatchRenderer:()=>DH,BatchShaderGenerator:()=>xH,BatchSystem:()=>DA,BatchTextureArray:()=>TE,BitmapFont:()=>od,BitmapFontData:()=>Oy,BitmapFontLoader:()=>I7,BitmapText:()=>Py,BlobResource:()=>XH,Bounds:()=>om,Buffer:()=>ws,BufferResource:()=>am,CLEAR_MODES:()=>Lo,CanvasExtract:()=>qV,CanvasGraphicsRenderer:()=>WV,CanvasMeshRenderer:()=>HV,CanvasPrepare:()=>JV,CanvasRenderer:()=>_u,CanvasResource:()=>hy,CanvasSpriteRenderer:()=>YV,Circle:()=>Gj,CompressedTextureLoader:()=>qH,CompressedTextureResource:()=>PE,Container:()=>rr,ContextSystem:()=>NA,CountLimiter:()=>_7,CubeResource:()=>TA,DDSLoader:()=>ZH,DEG_TO_RAD:()=>Uj,DRAW_MODES:()=>fo,DisplayObject:()=>Gr,ENV:()=>Js,Ellipse:()=>jj,Extract:()=>BH,FORMATS:()=>it,FORMATS_TO_COMPONENTS:()=>e7,FillStyle:()=>f2,Filter:()=>rd,FilterState:()=>tH,FilterSystem:()=>RA,Framebuffer:()=>pE,FramebufferSystem:()=>kA,GC_MODES:()=>rm,GLFramebuffer:()=>iH,GLProgram:()=>EH,GLTexture:()=>CE,GRAPHICS_CURVES:()=>dm,Geometry:()=>lm,GeometrySystem:()=>LA,Graphics:()=>la,GraphicsData:()=>S2,GraphicsGeometry:()=>f7,IGLUniformData:()=>Aye,INSTALLED:()=>dy,INTERNAL_FORMATS:()=>Gn,INTERNAL_FORMAT_TO_BYTES_PER_PIXEL:()=>yy,ImageBitmapResource:()=>OA,ImageResource:()=>fE,InteractionData:()=>vA,InteractionEvent:()=>Xj,InteractionManager:()=>bA,InteractionTrackingData:()=>lE,KTXLoader:()=>n7,LINE_CAP:()=>gu,LINE_JOIN:()=>pu,LineStyle:()=>p7,Loader:()=>Bo,LoaderResource:()=>jr,MASK_TYPES:()=>Ii,MIPMAP_MODES:()=>aa,MSAA_QUALITY:()=>qn,MaskData:()=>rH,MaskSystem:()=>WA,Matrix:()=>zi,Mesh:()=>Dl,MeshBatchUvs:()=>w7,MeshGeometry:()=>My,MeshMaterial:()=>Kf,NineSlicePlane:()=>xy,ObjectRenderer:()=>py,ObservablePoint:()=>Lf,PI_2:()=>cy,PRECISION:()=>Es,ParticleContainer:()=>r7,ParticleRenderer:()=>o7,PlaneGeometry:()=>D7,Point:()=>_r,Polygon:()=>uy,Prepare:()=>v7,Program:()=>cm,ProjectionSystem:()=>XA,Quad:()=>eH,QuadUv:()=>IA,RAD_TO_DEG:()=>Bj,RENDERER_TYPE:()=>Tc,Rectangle:()=>mi,RenderTexture:()=>Al,RenderTexturePool:()=>Zj,RenderTextureSystem:()=>qA,Renderer:()=>Mc,Resource:()=>Hf,RopeGeometry:()=>N7,RoundedRectangle:()=>Hj,Runner:()=>go,SAMPLER_TYPES:()=>ah,SCALE_MODES:()=>Cs,SHAPES:()=>Oi,SVGResource:()=>wA,ScissorSystem:()=>$A,Shader:()=>id,ShaderSystem:()=>KA,SimpleMesh:()=>L7,SimplePlane:()=>F7,SimpleRope:()=>k7,Sprite:()=>_o,SpriteMaskFilter:()=>_H,Spritesheet:()=>y7,SpritesheetLoader:()=>b7,State:()=>uh,StateSystem:()=>JA,StencilSystem:()=>YA,System:()=>Yye,TARGETS:()=>Ia,TEXT_GRADIENT:()=>Xf,TYPES:()=>Dt,TYPES_TO_BYTES_PER_COMPONENT:()=>d2,TYPES_TO_BYTES_PER_PIXEL:()=>t7,TemporaryDisplayObject:()=>gA,Text:()=>Ty,TextMetrics:()=>el,TextStyle:()=>qf,Texture:()=>Jt,TextureGCSystem:()=>ZA,TextureLoader:()=>WH,TextureMatrix:()=>bE,TextureSystem:()=>QA,TextureUvs:()=>PA,Ticker:()=>Qs,TickerPlugin:()=>Yj,TilingSprite:()=>C7,TilingSpriteRenderer:()=>T7,TimeLimiter:()=>Zbe,Transform:()=>hA,UPDATE_PRIORITY:()=>wc,UniformGroup:()=>ch,VERSION:()=>U1e,VideoResource:()=>MA,ViewableBuffer:()=>wE,WRAP_MODES:()=>xl,accessibleTarget:()=>zj,autoDetectRenderer:()=>MH,autoDetectResource:()=>dE,canvasUtils:()=>ds,checkMaxIfStatementsInShader:()=>pH,createUBOElements:()=>bH,defaultFilterVertex:()=>n2,defaultVertex:()=>OH,filters:()=>G1e,generateProgram:()=>TH,generateUniformBufferSync:()=>CH,getTestContext:()=>cH,getUBOData:()=>SH,graphicsUtils:()=>kbe,groupD8:()=>wr,interactiveTarget:()=>qj,isMobile:()=>Qa,resources:()=>NH,settings:()=>Mt,systems:()=>kH,uniformParsers:()=>Vf,utils:()=>h});const b=T(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function v(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class g{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const s of e)s.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(S(i))try{i()}catch(s){t=s instanceof b?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{w(s)}catch(o){t=null!=t?t:[],o instanceof b?t=[...t,...o.errors]:t.push(o)}}if(t)throw new b(t)}}add(t){var e;if(t&&t!==this)if(this.closed)w(t);else{if(t instanceof g){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&v(e,t)}remove(t){const{_finalizers:e}=this;e&&v(e,t),t instanceof g&&t._removeParent(this)}}g.EMPTY=(()=>{const n=new g;return n.closed=!0,n})();const _=g.EMPTY;function m(n){return n instanceof g||n&&"closed"in n&&S(n.remove)&&S(n.add)&&S(n.unsubscribe)}function w(n){S(n)?n():n.unsubscribe()}const P={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},p={setTimeout(n,t,...e){const{delegate:i}=p;return(null==i?void 0:i.setTimeout)?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=p;return((null==t?void 0:t.clearTimeout)||clearTimeout)(n)},delegate:void 0};function C(n){p.setTimeout(()=>{const{onUnhandledError:t}=P;if(!t)throw n;t(n)})}function x(){}const L=re("C",void 0,void 0);function re(n,t,e){return{kind:n,value:t,error:e}}let ie=null;function ee(n){if(P.useDeprecatedSynchronousErrorHandling){const t=!ie;if(t&&(ie={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:i}=ie;if(ie=null,e)throw i}}else n()}class q extends g{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,m(t)&&t.add(this)):this.destination=Fe}static create(t,e,i){return new se(t,e,i)}next(t){this.isStopped?ke(function X(n){return re("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?ke(function $(n){return re("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?ke(L,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const le=Function.prototype.bind;function Q(n,t){return le.call(n,t)}class ce{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){we(i)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){we(i)}else we(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){we(e)}}}class se extends q{constructor(t,e,i){let r;if(super(),S(t)||!t)r={next:null!=t?t:void 0,error:null!=e?e:void 0,complete:null!=i?i:void 0};else{let s;this&&P.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&Q(t.next,s),error:t.error&&Q(t.error,s),complete:t.complete&&Q(t.complete,s)}):r=t}this.destination=new ce(r)}}function we(n){P.useDeprecatedSynchronousErrorHandling?function V(n){P.useDeprecatedSynchronousErrorHandling&&ie&&(ie.errorThrown=!0,ie.error=n)}(n):C(n)}function ke(n,t){const{onStoppedNotification:e}=P;e&&p.setTimeout(()=>e(n,t))}const Fe={closed:!0,next:x,error:function Ue(n){throw n},complete:x},oe="function"==typeof Symbol&&Symbol.observable||"@@observable";function Se(n){return n}let _e=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){const s=function tt(n){return n&&n instanceof q||function Pe(n){return n&&S(n.next)&&S(n.error)&&S(n.complete)}(n)&&m(n)}(e)?e:new se(e,i,r);return ee(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=Ce(i))((r,s)=>{const o=new se({next:a=>{try{e(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[oe](){return this}pipe(...e){return function We(n){return 0===n.length?Se:1===n.length?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}(e)(this)}toPromise(e){return new(e=Ce(e))((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return n.create=t=>new n(t),n})();function Ce(n){var t;return null!==(t=null!=n?n:P.Promise)&&void 0!==t?t:Promise}const yt=T(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Qe=(()=>{class n extends _e{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new Kt(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new yt}next(e){ee(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){ee(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){ee(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:s}=this;return i||r?_:(this.currentObservers=null,s.push(e),new g(()=>{this.currentObservers=null,v(s,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:s}=this;i?e.error(r):s&&e.complete()}asObservable(){const e=new _e;return e.source=this,e}}return n.create=(t,e)=>new Kt(t,e),n})();class Kt extends Qe{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,t)}error(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==i?i:_}}function pt(n){return S(null==n?void 0:n.lift)}function Je(n){return t=>{if(pt(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function ue(n,t,e,i,r){return new Me(n,t,e,i,r)}class Me extends q{constructor(t,e,i,r,s,o){super(t),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function Ie(n,t){return Je((e,i)=>{let r=0;e.subscribe(ue(i,s=>{i.next(n.call(t,s,r++))}))})}function Ke(n,t,e,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(t,e,s):o(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s}function Xe(n){return this instanceof Xe?(this.v=n,this):new Xe(n)}function Et(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=e.apply(n,t||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(f){i[f]&&(r[f]=function(y){return new Promise(function(O,I){s.push([f,y,O,I])>1||a(f,y)})})}function a(f,y){try{!function l(f){f.value instanceof Xe?Promise.resolve(f.value.v).then(c,u):d(s[0][2],f)}(i[f](y))}catch(O){d(s[0][3],O)}}function c(f){a("next",f)}function u(f){a("throw",f)}function d(f,y){f(y),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Rt(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function Ne(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(s){e[s]=n[s]&&function(o){return new Promise(function(a,l){!function r(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}(a,l,(o=n[s](o)).done,o.value)})}}}const Xt=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function $n(n){return S(null==n?void 0:n.then)}function Yr(n){return S(n[oe])}function Xr(n){return Symbol.asyncIterator&&S(null==n?void 0:n[Symbol.asyncIterator])}function ci(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Xi=function _n(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function un(n){return S(null==n?void 0:n[Xi])}function br(n){return Et(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:i,done:r}=yield Xe(e.read());if(r)return yield Xe(void 0);yield yield Xe(i)}}finally{e.releaseLock()}})}function qr(n){return S(null==n?void 0:n.getReader)}function Pt(n){if(n instanceof _e)return n;if(null!=n){if(Yr(n))return function Kr(n){return new _e(t=>{const e=n[oe]();if(S(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Xt(n))return function Ps(n){return new _e(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if($n(n))return function gl(n){return new _e(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,C)})}(n);if(Xr(n))return _l(n);if(un(n))return function Jh(n){return new _e(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(qr(n))return function Nu(n){return _l(br(n))}(n)}throw ci(n)}function _l(n){return new _e(t=>{(function Jr(n,t){var e,i,r,s;return function gn(n,t,e,i){return new(e||(e=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(d){o(d)}}function l(u){try{c(i.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):function r(s){return s instanceof e?s:new e(function(o){o(s)})}(u.value).then(a,l)}c((i=i.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=Rt(n);!(i=yield e.next()).done;)if(t.next(i.value),t.closed)return}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=e.return)&&(yield s.call(e))}finally{if(r)throw r.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function Mo(n,t,e,i=0,r=!1){const s=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(s),!r)return s}function Sr(n,t,e=1/0){return S(t)?Sr((i,r)=>Ie((s,o)=>t(i,s,r,o))(Pt(n(i,r))),e):("number"==typeof t&&(e=t),Je((i,r)=>function Ws(n,t,e,i,r,s,o,a){const l=[];let c=0,u=0,d=!1;const f=()=>{d&&!l.length&&!c&&t.complete()},y=I=>c<i?O(I):l.push(I),O=I=>{s&&t.next(I),c++;let N=!1;Pt(e(I,u++)).subscribe(ue(t,k=>{null==r||r(k),s?y(k):t.next(k)},()=>{N=!0},void 0,()=>{if(N)try{for(c--;l.length&&c<i;){const k=l.shift();o?Mo(t,o,()=>O(k)):O(k)}f()}catch(k){t.error(k)}}))};return n.subscribe(ue(t,y,()=>{d=!0,f()})),()=>{null==a||a()}}(i,r,n,e)))}function xs(n=1/0){return Sr(Se,n)}const ht=new _e(n=>n.complete());function Ai(n){return n&&S(n.schedule)}function En(n){return n[n.length-1]}function cr(n){return S(En(n))?n.pop():void 0}function ja(n){return Ai(En(n))?n.pop():void 0}function ur(n,t=0){return Je((e,i)=>{e.subscribe(ue(i,r=>Mo(i,n,()=>i.next(r),t),()=>Mo(i,n,()=>i.complete(),t),r=>Mo(i,n,()=>i.error(r),t)))})}function Zr(n,t=0){return Je((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function sc(n,t){if(!n)throw new Error("Iterable cannot be null");return new _e(e=>{Mo(e,t,()=>{const i=n[Symbol.asyncIterator]();Mo(e,t,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function ri(n,t){return t?function Zh(n,t){if(null!=n){if(Yr(n))return function Oo(n,t){return Pt(n).pipe(Zr(t),ur(t))}(n,t);if(Xt(n))return function os(n,t){return new _e(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}(n,t);if($n(n))return function $s(n,t){return Pt(n).pipe(Zr(t),ur(t))}(n,t);if(Xr(n))return sc(n,t);if(un(n))return function ku(n,t){return new _e(e=>{let i;return Mo(e,t,()=>{i=n[Xi](),Mo(e,t,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){return void e.error(o)}s?e.complete():e.next(r)},0,!0)}),()=>S(null==i?void 0:i.return)&&i.return()})}(n,t);if(qr(n))return function kd(n,t){return sc(br(n),t)}(n,t)}throw ci(n)}(n,t):Pt(n)}function Ri(n){return n<=0?()=>ht:Je((t,e)=>{let i=0;t.subscribe(ue(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function qo(n={}){const{connector:t=(()=>new Qe),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return s=>{let o=null,a=null,l=null,c=0,u=!1,d=!1;const f=()=>{null==a||a.unsubscribe(),a=null},y=()=>{f(),o=l=null,u=d=!1},O=()=>{const I=o;y(),null==I||I.unsubscribe()};return Je((I,N)=>{c++,!d&&!u&&f();const k=l=null!=l?l:t();N.add(()=>{c--,0===c&&!d&&!u&&(a=Po(O,r))}),k.subscribe(N),o||(o=new se({next:B=>k.next(B),error:B=>{d=!0,f(),a=Po(y,e,B),k.error(B)},complete:()=>{u=!0,f(),a=Po(y,i),k.complete()}}),ri(I).subscribe(o))})(s)}}function Po(n,t,...e){return!0===t?(n(),null):!1===t?null:t(...e).pipe(Ri(1)).subscribe(()=>n())}function Yn(n){for(let t in n)if(n[t]===Yn)return t;throw Error("Could not find renamed property on target object.")}function ml(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function xi(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(xi).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function xg(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const Ig=Yn({__forward_ref__:Yn});function Hn(n){return n.__forward_ref__=Hn,n.toString=function(){return xi(this())},n}function Vn(n){return Kk(n)?n():n}function Kk(n){return"function"==typeof n&&n.hasOwnProperty(Ig)&&n.__forward_ref__===Hn}class Wt extends Error{constructor(t,e){super(function SM(n,t){return`NG0${Math.abs(n)}${t?": "+t:""}`}(t,e)),this.code=t}}function An(n){return"string"==typeof n?n:null==n?"":String(n)}function ao(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():An(n)}function p1(n,t){const e=t?` in ${t}`:"";throw new Wt(-201,`No provider for ${ao(n)} found${e}`)}function Va(n,t){null==n&&function ji(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function gt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ut(n){return{providers:n.providers||[],imports:n.imports||[]}}function CM(n){return Jk(n,g1)||Jk(n,Qk)}function Jk(n,t){return n.hasOwnProperty(t)?n[t]:null}function Zk(n){return n&&(n.hasOwnProperty(EM)||n.hasOwnProperty(iJ))?n[EM]:null}const g1=Yn({\u0275prov:Yn}),EM=Yn({\u0275inj:Yn}),Qk=Yn({ngInjectableDef:Yn}),iJ=Yn({ngInjectorDef:Yn});var Mn=(()=>((Mn=Mn||{})[Mn.Default=0]="Default",Mn[Mn.Host=1]="Host",Mn[Mn.Self=2]="Self",Mn[Mn.SkipSelf=4]="SkipSelf",Mn[Mn.Optional=8]="Optional",Mn))();let TM;function Fd(n){const t=TM;return TM=n,t}function e3(n,t,e){const i=CM(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&Mn.Optional?null:void 0!==t?t:void p1(xi(n),"Injector")}function Ld(n){return{toString:n}.toString()}var oc=(()=>((oc=oc||{})[oc.OnPush=0]="OnPush",oc[oc.Default=1]="Default",oc))(),ac=(()=>{return(n=ac||(ac={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",ac;var n})();const sJ="undefined"!=typeof globalThis&&globalThis,oJ="undefined"!=typeof window&&window,aJ="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,qi=sJ||"undefined"!=typeof global&&global||oJ||aJ,Ag={},tr=[],_1=Yn({\u0275cmp:Yn}),wM=Yn({\u0275dir:Yn}),m1=Yn({\u0275pipe:Yn}),t3=Yn({\u0275mod:Yn}),Lu=Yn({\u0275fac:Yn}),xv=Yn({__NG_ELEMENT_ID__:Yn});let lJ=0;function rt(n){return Ld(()=>{const e={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===oc.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||tr,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||ac.Emulated,id:"c",styles:n.styles||tr,_:null,setInput:null,schemas:n.schemas||null,tView:null},r=n.directives,s=n.features,o=n.pipes;return i.id+=lJ++,i.inputs=o3(n.inputs,e),i.outputs=o3(n.outputs),s&&s.forEach(a=>a(i)),i.directiveDefs=r?()=>("function"==typeof r?r():r).map(n3):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map(r3):null,i})}function n3(n){return lo(n)||function Bd(n){return n[wM]||null}(n)}function r3(n){return function Qh(n){return n[m1]||null}(n)}const s3={};function dt(n){return Ld(()=>{const t={type:n.type,bootstrap:n.bootstrap||tr,declarations:n.declarations||tr,imports:n.imports||tr,exports:n.exports||tr,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(s3[n.id]=n.type),t})}function o3(n,t){if(null==n)return Ag;const e={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),e[r]=i,t&&(t[r]=s)}return e}const At=rt;function as(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function lo(n){return n[_1]||null}function vl(n,t){const e=n[t3]||null;if(!e&&!0===t)throw new Error(`Type ${xi(n)} does not have '\u0275mod' property.`);return e}function $c(n){return Array.isArray(n)&&"object"==typeof n[1]}function cc(n){return Array.isArray(n)&&!0===n[1]}function PM(n){return 0!=(8&n.flags)}function S1(n){return 2==(2&n.flags)}function C1(n){return 1==(1&n.flags)}function uc(n){return null!==n.template}function pJ(n){return 0!=(512&n[2])}function rf(n,t){return n.hasOwnProperty(Lu)?n[Lu]:null}class mJ{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function Is(){return l3}function l3(n){return n.type.prototype.ngOnChanges&&(n.setInput=yJ),vJ}function vJ(){const n=u3(this),t=null==n?void 0:n.current;if(t){const e=n.previous;if(e===Ag)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function yJ(n,t,e,i){const r=u3(n)||function bJ(n,t){return n[c3]=t}(n,{previous:Ag,current:null}),s=r.current||(r.current={}),o=r.previous,a=this.declaredInputs[e],l=o[a];s[a]=new mJ(l&&l.currentValue,t,o===Ag),n[i]=t}Is.ngInherit=!0;const c3="__ngSimpleChanges__";function u3(n){return n[c3]||null}let DM;function NM(){return void 0!==DM?DM:"undefined"!=typeof document?document:void 0}function es(n){return!!n.listen}const d3={createRenderer:(n,t)=>NM()};function _s(n){for(;Array.isArray(n);)n=n[0];return n}function E1(n,t){return _s(t[n])}function Wa(n,t){return _s(t[n.index])}function kM(n,t){return n.data[t]}function Fg(n,t){return n[t]}function $a(n,t){const e=t[n];return $c(e)?e:e[0]}function h3(n){return 4==(4&n[2])}function FM(n){return 128==(128&n[2])}function Ud(n,t){return null==t?null:n[t]}function f3(n){n[18]=0}function LM(n,t){n[5]+=t;let e=n,i=n[3];for(;null!==i&&(1===t&&1===e[5]||-1===t&&0===e[5]);)i[5]+=t,e=i,i=i[3]}const Rn={lFrame:C3(null),bindingsEnabled:!0};function g3(){return Rn.bindingsEnabled}function St(){return Rn.lFrame.lView}function Si(){return Rn.lFrame.tView}function ot(n){return Rn.lFrame.contextLView=n,n[8]}function As(){let n=_3();for(;null!==n&&64===n.type;)n=n.parent;return n}function _3(){return Rn.lFrame.currentTNode}function Yc(n,t){const e=Rn.lFrame;e.currentTNode=n,e.isParent=t}function BM(){return Rn.lFrame.isParent}function UM(){Rn.lFrame.isParent=!1}function Jo(){const n=Rn.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function Bu(){return Rn.lFrame.bindingIndex}function Lg(){return Rn.lFrame.bindingIndex++}function Uu(n){const t=Rn.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function LJ(n,t){const e=Rn.lFrame;e.bindingIndex=e.bindingRootIndex=n,GM(t)}function GM(n){Rn.lFrame.currentDirectiveIndex=n}function y3(){return Rn.lFrame.currentQueryIndex}function HM(n){Rn.lFrame.currentQueryIndex=n}function UJ(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function b3(n,t,e){if(e&Mn.SkipSelf){let r=t,s=n;for(;!(r=r.parent,null!==r||e&Mn.Host||(r=UJ(s),null===r||(s=s[15],10&r.type))););if(null===r)return!1;t=r,n=s}const i=Rn.lFrame=S3();return i.currentTNode=t,i.lView=n,!0}function w1(n){const t=S3(),e=n[1];Rn.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function S3(){const n=Rn.lFrame,t=null===n?null:n.child;return null===t?C3(n):t}function C3(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function E3(){const n=Rn.lFrame;return Rn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const T3=E3;function M1(){const n=E3();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Zo(){return Rn.lFrame.selectedIndex}function Gd(n){Rn.lFrame.selectedIndex=n}function Fr(){const n=Rn.lFrame;return kM(n.tView,n.selectedIndex)}function O1(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const s=n.data[e].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(n.contentHooks||(n.contentHooks=[])).push(-e,o),a&&((n.contentHooks||(n.contentHooks=[])).push(e,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-e,l),c&&((n.viewHooks||(n.viewHooks=[])).push(e,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,c)),null!=u&&(n.destroyHooks||(n.destroyHooks=[])).push(e,u)}}function P1(n,t,e){M3(n,t,3,e)}function x1(n,t,e,i){(3&n[2])===e&&M3(n,t,e,i)}function VM(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function M3(n,t,e,i){const s=null!=i?i:-1,o=t.length-1;let a=0;for(let l=void 0!==i?65535&n[18]:0;l<o;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=i&&a>=i)break}else t[l]<0&&(n[18]+=65536),(a<s||-1==s)&&(YJ(n,e,t,l),n[18]=(4294901760&n[18])+l+2),l++}function YJ(n,t,e,i){const r=e[i]<0,s=e[i+1],a=n[r?-e[i]:e[i]];if(r){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class Nv{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function I1(n,t,e){const i=es(n);let r=0;for(;r<e.length;){const s=e[r];if("number"==typeof s){if(0!==s)break;r++;const o=e[r++],a=e[r++],l=e[r++];i?n.setAttribute(t,a,l,o):t.setAttributeNS(o,a,l)}else{const o=s,a=e[++r];WM(o)?i&&n.setProperty(t,o,a):i?n.setAttribute(t,o,a):t.setAttribute(o,a),r++}}return r}function O3(n){return 3===n||4===n||6===n}function WM(n){return 64===n.charCodeAt(0)}function A1(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?e=r:0===e||P3(n,e,r,null,-1===e||2===e?t[++i]:null)}}return n}function P3(n,t,e,i,r){let s=0,o=n.length;if(-1===t)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===t){o=-1;break}if(a>t){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===e){if(null===i)return void(null!==r&&(n[s+1]=r));if(i===n[s+1])return void(n[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(n.splice(o,0,t),s=o+1),n.splice(s++,0,e),null!==i&&n.splice(s++,0,i),null!==r&&n.splice(s++,0,r)}function x3(n){return-1!==n}function Bg(n){return 32767&n}function Ug(n,t){let e=function ZJ(n){return n>>16}(n),i=t;for(;e>0;)i=i[15],e--;return i}let $M=!0;function R1(n){const t=$M;return $M=n,t}let QJ=0;function Fv(n,t){const e=XM(n,t);if(-1!==e)return e;const i=t[1];i.firstCreatePass&&(n.injectorIndex=t.length,YM(i.data,n),YM(t,null),YM(i.blueprint,null));const r=D1(n,t),s=n.injectorIndex;if(x3(r)){const o=Bg(r),a=Ug(r,t),l=a[1].data;for(let c=0;c<8;c++)t[s+c]=a[o+c]|l[o+c]}return t[s+8]=r,s}function YM(n,t){n.push(0,0,0,0,0,0,0,0,t)}function XM(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function D1(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;null!==r;){const s=r[1],o=s.type;if(i=2===o?s.declTNode:1===o?r[6]:null,null===i)return-1;if(e++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return-1}function N1(n,t,e){!function eZ(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(xv)&&(i=e[xv]),null==i&&(i=e[xv]=QJ++);const r=255&i;t.data[n+(r>>5)]|=1<<r}(n,t,e)}function R3(n,t,e){if(e&Mn.Optional)return n;p1(t,"NodeInjector")}function D3(n,t,e,i){if(e&Mn.Optional&&void 0===i&&(i=null),0==(e&(Mn.Self|Mn.Host))){const r=n[9],s=Fd(void 0);try{return r?r.get(t,i,e&Mn.Optional):e3(t,i,e&Mn.Optional)}finally{Fd(s)}}return R3(i,t,e)}function N3(n,t,e,i=Mn.Default,r){if(null!==n){const s=function rZ(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(xv)?n[xv]:void 0;return"number"==typeof t?t>=0?255&t:nZ:t}(e);if("function"==typeof s){if(!b3(t,n,i))return i&Mn.Host?R3(r,e,i):D3(t,e,i,r);try{const o=s(i);if(null!=o||i&Mn.Optional)return o;p1(e)}finally{T3()}}else if("number"==typeof s){let o=null,a=XM(n,t),l=-1,c=i&Mn.Host?t[16][6]:null;for((-1===a||i&Mn.SkipSelf)&&(l=-1===a?D1(n,t):t[a+8],-1!==l&&L3(i,!1)?(o=t[1],a=Bg(l),t=Ug(l,t)):a=-1);-1!==a;){const u=t[1];if(F3(s,a,u.data)){const d=iZ(a,t,e,o,i,c);if(d!==k3)return d}l=t[a+8],-1!==l&&L3(i,t[1].data[a+8]===c)&&F3(s,a,t)?(o=u,a=Bg(l),t=Ug(l,t)):a=-1}}}return D3(t,e,i,r)}const k3={};function nZ(){return new Gg(As(),St())}function iZ(n,t,e,i,r,s){const o=t[1],a=o.data[n+8],u=k1(a,o,e,null==i?S1(a)&&$M:i!=o&&0!=(3&a.type),r&Mn.Host&&s===a);return null!==u?Lv(t,o,u,a):k3}function k1(n,t,e,i,r){const s=n.providerIndexes,o=t.data,a=1048575&s,l=n.directiveStart,u=s>>20,f=r?a+u:n.directiveEnd;for(let y=i?a:a+u;y<f;y++){const O=o[y];if(y<l&&e===O||y>=l&&O.type===e)return y}if(r){const y=o[l];if(y&&uc(y)&&y.type===e)return l}return null}function Lv(n,t,e,i){let r=n[e];const s=t.data;if(function XJ(n){return n instanceof Nv}(r)){const o=r;o.resolving&&function JK(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new Wt(-200,`Circular dependency in DI detected for ${n}${e}`)}(ao(s[e]));const a=R1(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?Fd(o.injectImpl):null;b3(n,i,Mn.Default);try{r=n[e]=o.factory(void 0,s,n,i),t.firstCreatePass&&e>=i.directiveStart&&function $J(n,t,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=t.type.prototype;if(i){const o=l3(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,o),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,o)}r&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,r),s&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,s))}(e,s[e],t)}finally{null!==l&&Fd(l),R1(a),o.resolving=!1,T3()}}return r}function F3(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function L3(n,t){return!(n&Mn.Self||n&Mn.Host&&t)}class Gg{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return N3(this._tNode,this._lView,t,i,e)}}function Io(n){return Ld(()=>{const t=n.prototype.constructor,e=t[Lu]||qM(t),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const s=r[Lu]||qM(r);if(s&&s!==e)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function qM(n){return Kk(n)?()=>{const t=qM(Vn(n));return t&&t()}:rf(n)}const Hg="__parameters__";function zg(n,t,e){return Ld(()=>{const i=function KM(n){return function(...e){if(n){const i=n(...e);for(const r in i)this[r]=i[r]}}}(t);function r(...s){if(this instanceof r)return i.apply(this,s),this;const o=new r(...s);return a.annotation=o,a;function a(l,c,u){const d=l.hasOwnProperty(Hg)?l[Hg]:Object.defineProperty(l,Hg,{value:[]})[Hg];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}class Zt{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=gt({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const oZ=new Zt("AnalyzeForEntryComponents");function Sl(n,t){void 0===t&&(t=n);for(let e=0;e<n.length;e++){let i=n[e];Array.isArray(i)?(t===n&&(t=n.slice(0,e)),Sl(i,t)):t!==n&&t.push(i)}return t}function Xc(n,t){n.forEach(e=>Array.isArray(e)?Xc(e,t):t(e))}function U3(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function F1(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function Gv(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}function Ya(n,t,e){let i=Wg(n,t);return i>=0?n[1|i]=e:(i=~i,function cZ(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(1===r)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;)n[r]=n[r-2],r--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function ZM(n,t){const e=Wg(n,t);if(e>=0)return n[1|e]}function Wg(n,t){return function H3(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){const s=i+(r-i>>1),o=n[s<<e];if(t===o)return s<<e;o>t?r=s:i=s+1}return~(r<<e)}(n,t,1)}const jv={},eO="__NG_DI_FLAG__",B1="ngTempTokenPath",_Z=/\n/gm,z3="__source",vZ=Yn({provide:String,useValue:Yn});let Hv;function W3(n){const t=Hv;return Hv=n,t}function yZ(n,t=Mn.Default){if(void 0===Hv)throw new Wt(203,"");return null===Hv?e3(n,void 0,t):Hv.get(n,t&Mn.Optional?null:void 0,t)}function je(n,t=Mn.Default){return(function rJ(){return TM}()||yZ)(Vn(n),t)}const Y3=je;function tO(n){const t=[];for(let e=0;e<n.length;e++){const i=Vn(n[e]);if(Array.isArray(i)){if(0===i.length)throw new Wt(900,"");let r,s=Mn.Default;for(let o=0;o<i.length;o++){const a=i[o],l=bZ(a);"number"==typeof l?-1===l?r=a.token:s|=l:r=a}t.push(je(r,s))}else t.push(je(i))}return t}function Vv(n,t){return n[eO]=t,n.prototype[eO]=t,n}function bZ(n){return n[eO]}const U1=Vv(zg("Inject",n=>({token:n})),-1),Hd=Vv(zg("Optional"),8),zv=Vv(zg("SkipSelf"),4);var Xa=(()=>((Xa=Xa||{})[Xa.Important=1]="Important",Xa[Xa.DashCase=2]="DashCase",Xa))();const eF="__ngContext__";function Ao(n,t){n[eF]=t}function rO(n){const t=function $v(n){return n[eF]||null}(n);return t?Array.isArray(t)?t:t.lView:null}function oO(n,t){return undefined(n,t)}function Yv(n){const t=n[3];return cc(t)?t[3]:t}function aO(n){return aF(n[13])}function lO(n){return aF(n[4])}function aF(n){for(;null!==n&&!cc(n);)n=n[4];return n}function Yg(n,t,e,i,r){if(null!=i){let s,o=!1;cc(i)?s=i:$c(i)&&(o=!0,i=i[0]);const a=_s(i);0===n&&null!==e?null==r?fF(t,e,a):af(t,e,a,r||null,!0):1===n&&null!==e?af(t,e,a,r||null,!0):2===n?function gO(n,t,e){const i=j1(n,t);i&&function JZ(n,t,e,i){es(n)?n.removeChild(t,e,i):t.removeChild(e)}(n,i,t,e)}(t,a,o):3===n&&t.destroyNode(a),null!=s&&function eQ(n,t,e,i,r){const s=e[7];s!==_s(e)&&Yg(t,n,i,s,r);for(let a=10;a<e.length;a++){const l=e[a];Xv(l[1],l,n,t,i,s)}}(t,n,s,e,r)}}function uO(n,t,e){if(es(n))return n.createElement(t,e);{const i=null!==e?function TJ(n){const t=n.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(e):null;return null===i?n.createElement(t):n.createElementNS(i,t)}}function cF(n,t){const e=n[9],i=e.indexOf(t),r=t[3];1024&t[2]&&(t[2]&=-1025,LM(r,-1)),e.splice(i,1)}function dO(n,t){if(n.length<=10)return;const e=10+t,i=n[e];if(i){const r=i[17];null!==r&&r!==n&&cF(r,i),t>0&&(n[e-1][4]=i[4]);const s=F1(n,10+t);!function VZ(n,t){Xv(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(i[1],i);const o=s[19];null!==o&&o.detachView(s[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function uF(n,t){if(!(256&t[2])){const e=t[11];es(e)&&e.destroyNode&&Xv(n,t,e,3,null,null),function $Z(n){let t=n[13];if(!t)return hO(n[1],n);for(;t;){let e=null;if($c(t))e=t[13];else{const i=t[10];i&&(e=i)}if(!e){for(;t&&!t[4]&&t!==n;)$c(t)&&hO(t[1],t),t=t[3];null===t&&(t=n),$c(t)&&hO(t[1],t),e=t&&t[4]}t=e}}(t)}}function hO(n,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function KZ(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const r=t[e[i]];if(!(r instanceof Nv)){const s=e[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=r[s[o]],l=s[o+1];try{l.call(a)}finally{}}else try{s.call(r)}finally{}}}}(n,t),function qZ(n,t){const e=n.cleanup,i=t[7];let r=-1;if(null!==e)for(let s=0;s<e.length-1;s+=2)if("string"==typeof e[s]){const o=e[s+1],a="function"==typeof o?o(t):_s(t[o]),l=i[r=e[s+2]],c=e[s+3];"boolean"==typeof c?a.removeEventListener(e[s],l,c):c>=0?i[r=c]():i[r=-c].unsubscribe(),s+=2}else{const o=i[r=e[s+1]];e[s].call(o)}if(null!==i){for(let s=r+1;s<i.length;s++)i[s]();t[7]=null}}(n,t),1===t[1].type&&es(t[11])&&t[11].destroy();const e=t[17];if(null!==e&&cc(t[3])){e!==t[3]&&cF(e,t);const i=t[19];null!==i&&i.detachView(n)}}}function dF(n,t,e){return function hF(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[0];if(2&i.flags){const r=n.data[i.directiveStart].encapsulation;if(r===ac.None||r===ac.Emulated)return null}return Wa(i,e)}(n,t.parent,e)}function af(n,t,e,i,r){es(n)?n.insertBefore(t,e,i,r):t.insertBefore(e,i,r)}function fF(n,t,e){es(n)?n.appendChild(t,e):t.appendChild(e)}function pF(n,t,e,i,r){null!==i?af(n,t,e,i,r):fF(n,t,e)}function j1(n,t){return es(n)?n.parentNode(t):t.parentNode}function gF(n,t,e){return mF(n,t,e)}let z1,W1,mF=function _F(n,t,e){return 40&n.type?Wa(n,e):null};function H1(n,t,e,i){const r=dF(n,i,t),s=t[11],a=gF(i.parent||t[6],i,t);if(null!=r)if(Array.isArray(e))for(let l=0;l<e.length;l++)pF(s,r,e[l],a,!1);else pF(s,r,e,a,!1)}function V1(n,t){if(null!==t){const e=t.type;if(3&e)return Wa(t,n);if(4&e)return pO(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return V1(n,i);{const r=n[t.index];return cc(r)?pO(-1,r):_s(r)}}if(32&e)return oO(t,n)()||_s(n[t.index]);{const i=yF(n,t);return null!==i?Array.isArray(i)?i[0]:V1(Yv(n[16]),i):V1(n,t.next)}}return null}function yF(n,t){return null!==t?n[16][6].projection[t.projection]:null}function pO(n,t){const e=10+n+1;if(e<t.length){const i=t[e],r=i[1].firstChild;if(null!==r)return V1(i,r)}return t[7]}function _O(n,t,e,i,r,s,o){for(;null!=e;){const a=i[e.index],l=e.type;if(o&&0===t&&(a&&Ao(_s(a),i),e.flags|=4),64!=(64&e.flags))if(8&l)_O(n,t,e.child,i,r,s,!1),Yg(t,n,r,a,s);else if(32&l){const c=oO(e,i);let u;for(;u=c();)Yg(t,n,r,u,s);Yg(t,n,r,a,s)}else 16&l?bF(n,t,i,e,r,s):Yg(t,n,r,a,s);e=o?e.projectionNext:e.next}}function Xv(n,t,e,i,r,s){_O(e,i,n.firstChild,t,r,s,!1)}function bF(n,t,e,i,r,s){const o=e[16],l=o[6].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Yg(t,n,r,l[c],s);else _O(n,t,l,o[3],r,s,!0)}function SF(n,t,e){es(n)?n.setAttribute(t,"style",e):t.style.cssText=e}function mO(n,t,e){es(n)?""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e):t.className=e}function lf(n){var t;return(null===(t=function vO(){if(void 0===z1&&(z1=null,qi.trustedTypes))try{z1=qi.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return z1}())||void 0===t?void 0:t.createHTML(n))||n}function yO(){if(void 0===W1&&(W1=null,qi.trustedTypes))try{W1=qi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return W1}function CF(n){var t;return(null===(t=yO())||void 0===t?void 0:t.createHTML(n))||n}function TF(n){var t;return(null===(t=yO())||void 0===t?void 0:t.createScriptURL(n))||n}class cf{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class sQ extends cf{getTypeName(){return"HTML"}}class oQ extends cf{getTypeName(){return"Style"}}class aQ extends cf{getTypeName(){return"Script"}}class lQ extends cf{getTypeName(){return"URL"}}class cQ extends cf{getTypeName(){return"ResourceURL"}}function qa(n){return n instanceof cf?n.changingThisBreaksApplicationSecurity:n}function qc(n,t){const e=wF(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===t}function wF(n){return n instanceof cf&&n.getTypeName()||null}class gQ{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(lf(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class _Q{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const i=this.inertDocument.createElement("body");e.appendChild(i)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=lf(t),e;const i=this.inertDocument.createElement("body");return i.innerHTML=lf(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const o=e.item(r).name;("xmlns:ns1"===o||0===o.indexOf("ns1:"))&&t.removeAttribute(o)}let i=t.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const vQ=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,yQ=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function qv(n){return(n=String(n)).match(vQ)||n.match(yQ)?n:"unsafe:"+n}function OF(n){return(n=String(n)).split(",").map(t=>qv(t.trim())).join(", ")}function Kc(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function Kv(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const PF=Kc("area,br,col,hr,img,wbr"),xF=Kc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),IF=Kc("rp,rt"),bO=Kv(PF,Kv(xF,Kc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Kv(IF,Kc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Kv(IF,xF)),SO=Kc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),CO=Kc("srcset"),AF=Kv(SO,CO,Kc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Kc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),bQ=Kc("script,style,template");class SQ{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!bO.hasOwnProperty(e))return this.sanitizedSomething=!0,!bQ.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let r=0;r<i.length;r++){const s=i.item(r),o=s.name,a=o.toLowerCase();if(!AF.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;SO[a]&&(l=qv(l)),CO[a]&&(l=OF(l)),this.buf.push(" ",o,'="',RF(l),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();bO.hasOwnProperty(e)&&!PF.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(RF(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const CQ=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,EQ=/([^\#-~ |!])/g;function RF(n){return n.replace(/&/g,"&amp;").replace(CQ,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(EQ,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let $1;function DF(n,t){let e=null;try{$1=$1||function MF(n){const t=new _Q(n);return function mQ(){try{return!!(new window.DOMParser).parseFromString(lf(""),"text/html")}catch(n){return!1}}()?new gQ(t):t}(n);let i=t?String(t):"";e=$1.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=e.innerHTML,e=$1.getInertBodyElement(i)}while(i!==s);return lf((new SQ).sanitizeChildren(EO(e)||e))}finally{if(e){const i=EO(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function EO(n){return"content"in n&&function TQ(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var hr=(()=>((hr=hr||{})[hr.NONE=0]="NONE",hr[hr.HTML=1]="HTML",hr[hr.STYLE=2]="STYLE",hr[hr.SCRIPT=3]="SCRIPT",hr[hr.URL=4]="URL",hr[hr.RESOURCE_URL=5]="RESOURCE_URL",hr))();function Y1(n){const t=Jv();return t?CF(t.sanitize(hr.HTML,n)||""):qc(n,"HTML")?CF(qa(n)):DF(NM(),An(n))}function rn(n){const t=Jv();return t?t.sanitize(hr.URL,n)||"":qc(n,"URL")?qa(n):qv(An(n))}function X1(n){const t=Jv();if(t)return TF(t.sanitize(hr.RESOURCE_URL,n)||"");if(qc(n,"ResourceURL"))return TF(qa(n));throw new Wt(904,"")}function Jv(){const n=St();return n&&n[12]}function wO(n){return n.ngOriginalError}function NQ(n,...t){n.error(...t)}class Xg{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),i=function DQ(n){return n&&n.ngErrorLogger||NQ}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&wO(t);for(;e&&wO(e);)e=wO(e);return e||null}}const jQ=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(qi))();function Jc(n){return n instanceof Function?n():n}function kF(n,t,e){let i=n.length;for(;;){const r=n.indexOf(t,e);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const s=t.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}e=r+1}}const FF="ng-template";function WQ(n,t,e){let i=0;for(;i<n.length;){let r=n[i++];if(e&&"class"===r){if(r=n[i],-1!==kF(r.toLowerCase(),t,0))return!0}else if(1===r){for(;i<n.length&&"string"==typeof(r=n[i++]);)if(r.toLowerCase()===t)return!0;return!1}}return!1}function LF(n){return 4===n.type&&n.value!==FF}function $Q(n,t,e){return t===(4!==n.type||e?n.value:FF)}function YQ(n,t,e){let i=4;const r=n.attrs||[],s=function KQ(n){for(let t=0;t<n.length;t++)if(O3(n[t]))return t;return n.length}(r);let o=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!$Q(n,l,e)||""===l&&1===t.length){if(dc(i))return!1;o=!0}}else{const c=8&i?l:t[++a];if(8&i&&null!==n.attrs){if(!WQ(n.attrs,c,e)){if(dc(i))return!1;o=!0}continue}const d=XQ(8&i?"class":l,r,LF(n),e);if(-1===d){if(dc(i))return!1;o=!0;continue}if(""!==c){let f;f=d>s?"":r[d+1].toLowerCase();const y=8&i?f:null;if(y&&-1!==kF(y,c,0)||2&i&&c!==f){if(dc(i))return!1;o=!0}}}}else{if(!o&&!dc(i)&&!dc(l))return!1;if(o&&dc(l))continue;o=!1,i=l|1&i}}return dc(i)||o}function dc(n){return 0==(1&n)}function XQ(n,t,e,i){if(null===t)return-1;let r=0;if(i||!e){let s=!1;for(;r<t.length;){const o=t[r];if(o===n)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=t[++r];for(;"string"==typeof a;)a=t[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function JQ(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function BF(n,t,e=!1){for(let i=0;i<t.length;i++)if(YQ(n,t[i],e))return!0;return!1}function ZQ(n,t){e:for(let e=0;e<t.length;e++){const i=t[e];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function UF(n,t){return n?":not("+t.trim()+")":t}function QQ(n){let t=n[0],e=1,i=2,r="",s=!1;for(;e<n.length;){let o=n[e];if("string"==typeof o)if(2&i){const a=n[++e];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""!==r&&!dc(o)&&(t+=UF(s,r),r=""),i=o,s=s||!dc(i);e++}return""!==r&&(t+=UF(s,r)),t}const Dn={};function E(n){GF(Si(),St(),Zo()+n,!1)}function GF(n,t,e,i){if(!i)if(3==(3&t[2])){const s=n.preOrderCheckHooks;null!==s&&P1(t,s,e)}else{const s=n.preOrderHooks;null!==s&&x1(t,s,0,e)}Gd(e)}function q1(n,t){return n<<17|t<<2}function hc(n){return n>>17&32767}function MO(n){return 2|n}function Gu(n){return(131068&n)>>2}function OO(n,t){return-131069&n|t<<2}function PO(n){return 1|n}function JF(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const r=e[i],s=e[i+1];if(-1!==s){const o=n.data[s];HM(r),o.contentQueries(2,t[s],s)}}}function Zv(n,t,e,i,r,s,o,a,l,c){const u=t.blueprint.slice();return u[0]=r,u[2]=140|i,f3(u),u[3]=u[15]=n,u[8]=e,u[10]=o||n&&n[10],u[11]=a||n&&n[11],u[12]=l||n&&n[12]||null,u[9]=c||n&&n[9]||null,u[6]=s,u[16]=2==t.type?n[16]:u,u}function Kg(n,t,e,i,r){let s=n.data[t];if(null===s)s=function LO(n,t,e,i,r){const s=_3(),o=BM(),l=n.data[t]=function mee(n,t,e,i,r,s){return{type:e,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,e,t,i,r);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l)),l}(n,t,e,i,r),function FJ(){return Rn.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=e,s.value=i,s.attrs=r;const o=function Dv(){const n=Rn.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Yc(s,!0),s}function Jg(n,t,e,i){if(0===e)return-1;const r=t.length;for(let s=0;s<e;s++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function Qv(n,t,e){w1(t);try{const i=n.viewQuery;null!==i&&$O(1,i,e);const r=n.template;null!==r&&ZF(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&JF(n,t),n.staticViewQueries&&$O(2,n.viewQuery,e);const s=n.components;null!==s&&function pee(n,t){for(let e=0;e<t.length;e++)kee(n,t[e])}(t,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[2]&=-5,M1()}}function Zg(n,t,e,i){const r=t[2];if(256!=(256&r)){w1(t);try{f3(t),function m3(n){return Rn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&ZF(n,t,e,2,i);const o=3==(3&r);if(o){const c=n.preOrderCheckHooks;null!==c&&P1(t,c,null)}else{const c=n.preOrderHooks;null!==c&&x1(t,c,0,null),VM(t,0)}if(function Dee(n){for(let t=aO(n);null!==t;t=lO(t)){if(!t[2])continue;const e=t[9];for(let i=0;i<e.length;i++){const r=e[i],s=r[3];0==(1024&r[2])&&LM(s,1),r[2]|=1024}}}(t),function Ree(n){for(let t=aO(n);null!==t;t=lO(t))for(let e=10;e<t.length;e++){const i=t[e],r=i[1];FM(i)&&Zg(r,i,r.template,i[8])}}(t),null!==n.contentQueries&&JF(n,t),o){const c=n.contentCheckHooks;null!==c&&P1(t,c)}else{const c=n.contentHooks;null!==c&&x1(t,c,1),VM(t,1)}!function hee(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const r=e[i];if(r<0)Gd(~r);else{const s=r,o=e[++i],a=e[++i];LJ(o,s),a(2,t[s])}}}finally{Gd(-1)}}(n,t);const a=n.components;null!==a&&function fee(n,t){for(let e=0;e<t.length;e++)Nee(n,t[e])}(t,a);const l=n.viewQuery;if(null!==l&&$O(2,l,i),o){const c=n.viewCheckHooks;null!==c&&P1(t,c)}else{const c=n.viewHooks;null!==c&&x1(t,c,2),VM(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[2]&=-73,1024&t[2]&&(t[2]&=-1025,LM(t[3],-1))}finally{M1()}}}function gee(n,t,e,i){const r=t[10],o=h3(t);try{!o&&r.begin&&r.begin(),o&&Qv(n,t,i),Zg(n,t,e,i)}finally{!o&&r.end&&r.end()}}function ZF(n,t,e,i,r){const s=Zo(),o=2&i;try{Gd(-1),o&&t.length>20&&GF(n,t,20,!1),e(i,r)}finally{Gd(s)}}function QF(n,t,e){if(PM(t)){const r=t.directiveEnd;for(let s=t.directiveStart;s<r;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,e[s],s)}}}function BO(n,t,e){!g3()||(function Tee(n,t,e,i){const r=e.directiveStart,s=e.directiveEnd;n.firstCreatePass||Fv(e,t),Ao(i,t);const o=e.initialInputs;for(let a=r;a<s;a++){const l=n.data[a],c=uc(l);c&&xee(t,e,l);const u=Lv(t,n,a,e);Ao(u,t),null!==o&&Iee(0,a-r,u,l,0,o),c&&($a(e.index,t)[8]=u)}}(n,t,e,Wa(e,t)),128==(128&e.flags)&&function wee(n,t,e){const i=e.directiveStart,r=e.directiveEnd,o=e.index,a=function BJ(){return Rn.lFrame.currentDirectiveIndex}();try{Gd(o);for(let l=i;l<r;l++){const c=n.data[l],u=t[l];GM(l),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&aL(c,u)}}finally{Gd(-1),GM(a)}}(n,t,e))}function UO(n,t,e=Wa){const i=t.localNames;if(null!==i){let r=t.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?e(t,n):n[o];n[r++]=a}}}function eL(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=Z1(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function Z1(n,t,e,i,r,s,o,a,l,c){const u=20+i,d=u+r,f=function _ee(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:Dn);return e}(u,d),y="function"==typeof c?c():c;return f[1]={type:n,blueprint:f,template:e,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:y,incompleteFirstPass:!1}}function iL(n,t,e,i){const r=fL(t);null===e?r.push(i):(r.push(e),n.firstCreatePass&&pL(n).push(i,r.length-1))}function rL(n,t,e){for(let i in n)if(n.hasOwnProperty(i)){const r=n[i];(e=null===e?{}:e).hasOwnProperty(i)?e[i].push(t,r):e[i]=[t,r]}return e}function Ka(n,t,e,i,r,s,o,a){const l=Wa(t,e);let u,c=t.inputs;!a&&null!=c&&(u=c[i])?(mL(n,e,u,i,r),S1(t)&&function bee(n,t){const e=$a(t,n);16&e[2]||(e[2]|=64)}(e,t.index)):3&t.type&&(i=function yee(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=o?o(r,t.value||"",i):r,es(s)?s.setProperty(l,i,r):WM(i)||(l.setProperty?l.setProperty(i,r):l[i]=r))}function GO(n,t,e,i){let r=!1;if(g3()){const s=function Mee(n,t,e){const i=n.directiveRegistry;let r=null;if(i)for(let s=0;s<i.length;s++){const o=i[s];BF(e,o.selectors,!1)&&(r||(r=[]),N1(Fv(e,t),n,o.type),uc(o)?(lL(n,e),r.unshift(o)):r.push(o))}return r}(n,t,e),o=null===i?null:{"":-1};if(null!==s){r=!0,cL(e,n.data.length,s.length);for(let u=0;u<s.length;u++){const d=s[u];d.providersResolver&&d.providersResolver(d)}let a=!1,l=!1,c=Jg(n,t,s.length,null);for(let u=0;u<s.length;u++){const d=s[u];e.mergedAttrs=A1(e.mergedAttrs,d.hostAttrs),uL(n,e,t,c,d),Pee(c,d,o),null!==d.contentQueries&&(e.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(e.flags|=128);const f=d.type.prototype;!a&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),a=!0),!l&&(f.ngOnChanges||f.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),l=!0),c++}!function vee(n,t){const i=t.directiveEnd,r=n.data,s=t.attrs,o=[];let a=null,l=null;for(let c=t.directiveStart;c<i;c++){const u=r[c],d=u.inputs,f=null===s||LF(t)?null:Aee(d,s);o.push(f),a=rL(d,c,a),l=rL(u.outputs,c,l)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=o,t.inputs=a,t.outputs=l}(n,e)}o&&function Oee(n,t,e){if(t){const i=n.localNames=[];for(let r=0;r<t.length;r+=2){const s=e[t[r+1]];if(null==s)throw new Wt(-301,!1);i.push(t[r],s)}}}(e,i,o)}return e.mergedAttrs=A1(e.mergedAttrs,e.attrs),r}function oL(n,t,e,i,r,s){const o=s.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const l=~t.index;(function Eee(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(a)!=l&&a.push(l),a.push(i,r,o)}}function aL(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function lL(n,t){t.flags|=2,(n.components||(n.components=[])).push(t.index)}function Pee(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;uc(t)&&(e[""]=n)}}function cL(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function uL(n,t,e,i,r){n.data[i]=r;const s=r.factory||(r.factory=rf(r.type)),o=new Nv(s,uc(r),null);n.blueprint[i]=o,e[i]=o,oL(n,t,0,i,Jg(n,e,r.hostVars,Dn),r)}function xee(n,t,e){const i=Wa(t,n),r=eL(e),s=n[10],o=Q1(n,Zv(n,r,null,e.onPush?64:16,i,t,s,s.createRenderer(i,e),null,null));n[t.index]=o}function Zc(n,t,e,i,r,s){const o=Wa(n,t);!function jO(n,t,e,i,r,s,o){if(null==s)es(n)?n.removeAttribute(t,r,e):t.removeAttribute(r);else{const a=null==o?An(s):o(s,i||"",r);es(n)?n.setAttribute(t,r,a,e):e?t.setAttributeNS(e,r,a):t.setAttribute(r,a)}}(t[11],o,s,n.value,e,i,r)}function Iee(n,t,e,i,r,s){const o=s[t];if(null!==o){const a=i.setInput;for(let l=0;l<o.length;){const c=o[l++],u=o[l++],d=o[l++];null!==a?i.setInput(e,d,c,u):e[u]=d}}}function Aee(n,t){let e=null,i=0;for(;i<t.length;){const r=t[i];if(0!==r)if(5!==r){if("number"==typeof r)break;n.hasOwnProperty(r)&&(null===e&&(e=[]),e.push(r,n[r],t[i+1])),i+=2}else i+=2;else i+=4}return e}function dL(n,t,e,i){return new Array(n,!0,!1,t,null,0,i,e,null,null)}function Nee(n,t){const e=$a(t,n);if(FM(e)){const i=e[1];80&e[2]?Zg(i,e,i.template,e[8]):e[5]>0&&HO(e)}}function HO(n){for(let i=aO(n);null!==i;i=lO(i))for(let r=10;r<i.length;r++){const s=i[r];if(1024&s[2]){const o=s[1];Zg(o,s,o.template,s[8])}else s[5]>0&&HO(s)}const e=n[1].components;if(null!==e)for(let i=0;i<e.length;i++){const r=$a(e[i],n);FM(r)&&r[5]>0&&HO(r)}}function kee(n,t){const e=$a(t,n),i=e[1];(function Fee(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(i,e),Qv(i,e,e[8])}function Q1(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function VO(n){for(;n;){n[2]|=64;const t=Yv(n);if(pJ(n)&&!t)return n;n=t}return null}function hL(n){!function zO(n){for(let t=0;t<n.components.length;t++){const e=n.components[t],i=rO(e),r=i[1];gee(r,i,r.template,e)}}(n[8])}function $O(n,t,e){HM(0),t(n,e)}const Bee=(()=>Promise.resolve(null))();function fL(n){return n[7]||(n[7]=[])}function pL(n){return n.cleanup||(n.cleanup=[])}function _L(n,t){const e=n[9],i=e?e.get(Xg,null):null;i&&i.handleError(t)}function mL(n,t,e,i,r){for(let s=0;s<e.length;){const o=e[s++],a=e[s++],l=t[o],c=n.data[o];null!==c.setInput?c.setInput(l,r,i,a):l[a]=r}}function ju(n,t,e){const i=E1(t,n);!function lF(n,t,e){es(n)?n.setValue(t,e):t.textContent=e}(n[11],i,e)}function eS(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?s=a:1==s?r=xg(r,a):2==s&&(i=xg(i,a+": "+t[++o]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}const YO=new Zt("INJECTOR",-1);class vL{get(t,e=jv){if(e===jv){const i=new Error(`NullInjectorError: No provider for ${xi(t)}!`);throw i.name="NullInjectorError",i}return e}}const XO=new Zt("Set Injector scope."),e0={},jee={};let qO;function yL(){return void 0===qO&&(qO=new vL),qO}function bL(n,t=null,e=null,i){const r=SL(n,t,e,i);return r._resolveInjectorDefTypes(),r}function SL(n,t=null,e=null,i){return new Hee(n,e,t||yL(),i)}class Hee{constructor(t,e,i,r=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];e&&Xc(e,a=>this.processProvider(a,t,e)),Xc([t],a=>this.processInjectorType(a,[],s)),this.records.set(YO,Qg(void 0,this));const o=this.records.get(XO);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:xi(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=jv,i=Mn.Default){this.assertNotDestroyed();const r=W3(this),s=Fd(void 0);try{if(!(i&Mn.SkipSelf)){let a=this.records.get(t);if(void 0===a){const l=function Kee(n){return"function"==typeof n||"object"==typeof n&&n instanceof Zt}(t)&&CM(t);a=l&&this.injectableDefInScope(l)?Qg(KO(t),e0):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(i&Mn.Self?yL():this.parent).get(t,e=i&Mn.Optional&&e===jv?null:e)}catch(o){if("NullInjectorError"===o.name){if((o[B1]=o[B1]||[]).unshift(xi(t)),r)throw o;return function SZ(n,t,e,i){const r=n[B1];throw t[z3]&&r.unshift(t[z3]),n.message=function CZ(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let r=xi(t);if(Array.isArray(t))r=t.map(xi).join(" -> ");else if("object"==typeof t){let s=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):xi(a)))}r=`{${s.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace(_Z,"\n  ")}`}("\n"+n.message,r,e,i),n.ngTokenPath=r,n[B1]=null,n}(o,t,"R3InjectorError",this.source)}throw o}finally{Fd(s),W3(r)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((i,r)=>t.push(xi(r))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Wt(205,!1)}processInjectorType(t,e,i){if(!(t=Vn(t)))return!1;let r=Zk(t);const s=null==r&&t.ngModule||void 0,o=void 0===s?t:s,a=-1!==i.indexOf(o);if(void 0!==s&&(r=Zk(s)),null==r)return!1;if(null!=r.imports&&!a){let u;i.push(o);try{Xc(r.imports,d=>{this.processInjectorType(d,e,i)&&(void 0===u&&(u=[]),u.push(d))})}finally{}if(void 0!==u)for(let d=0;d<u.length;d++){const{ngModule:f,providers:y}=u[d];Xc(y,O=>this.processProvider(O,f,y||tr))}}this.injectorDefTypes.add(o);const l=rf(o)||(()=>new o);this.records.set(o,Qg(l,e0));const c=r.providers;if(null!=c&&!a){const u=t;Xc(c,d=>this.processProvider(d,u,c))}return void 0!==s&&void 0!==t.providers}processProvider(t,e,i){let r=e_(t=Vn(t))?t:Vn(t&&t.provide);const s=function zee(n,t,e){return EL(n)?Qg(void 0,n.useValue):Qg(CL(n),e0)}(t);if(e_(t)||!0!==t.multi)this.records.get(r);else{let o=this.records.get(r);o||(o=Qg(void 0,e0,!0),o.factory=()=>tO(o.multi),this.records.set(r,o)),r=t,o.multi.push(t)}this.records.set(r,s)}hydrate(t,e){return e.value===e0&&(e.value=jee,e.value=e.factory()),"object"==typeof e.value&&e.value&&function qee(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=Vn(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function KO(n){const t=CM(n),e=null!==t?t.factory:rf(n);if(null!==e)return e;if(n instanceof Zt)throw new Wt(204,!1);if(n instanceof Function)return function Vee(n){const t=n.length;if(t>0)throw Gv(t,"?"),new Wt(204,!1);const e=function tJ(n){const t=n&&(n[g1]||n[Qk]);if(t){const e=function nJ(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new Wt(204,!1)}function CL(n,t,e){let i;if(e_(n)){const r=Vn(n);return rf(r)||KO(r)}if(EL(n))i=()=>Vn(n.useValue);else if(function $ee(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...tO(n.deps||[]));else if(function Wee(n){return!(!n||!n.useExisting)}(n))i=()=>je(Vn(n.useExisting));else{const r=Vn(n&&(n.useClass||n.provide));if(!function Xee(n){return!!n.deps}(n))return rf(r)||KO(r);i=()=>new r(...tO(n.deps))}return i}function Qg(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function EL(n){return null!==n&&"object"==typeof n&&vZ in n}function e_(n){return"function"==typeof n}let Ds=(()=>{class n{static create(e,i){var r;if(Array.isArray(e))return bL({name:""},i,e,"");{const s=null!==(r=e.name)&&void 0!==r?r:"";return bL({name:s},e.parent,e.providers,s)}}}return n.THROW_IF_NOT_FOUND=jv,n.NULL=new vL,n.\u0275prov=gt({token:n,providedIn:"any",factory:()=>je(YO)}),n.__NG_ELEMENT_ID__=-1,n})();function rte(n,t){O1(rO(n)[1],As())}function Di(n){let t=function kL(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let r;if(uc(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Wt(903,"");r=t.\u0275dir}if(r){if(e){i.push(r);const o=n;o.inputs=QO(n.inputs),o.declaredInputs=QO(n.declaredInputs),o.outputs=QO(n.outputs);const a=r.hostBindings;a&&lte(n,a);const l=r.viewQuery,c=r.contentQueries;if(l&&ote(n,l),c&&ate(n,c),ml(n.inputs,r.inputs),ml(n.declaredInputs,r.declaredInputs),ml(n.outputs,r.outputs),uc(r)&&r.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===Di&&(e=!1)}}t=Object.getPrototypeOf(t)}!function ste(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=A1(r.hostAttrs,e=A1(e,r.hostAttrs))}}(i)}function QO(n){return n===Ag?{}:n===tr?[]:n}function ote(n,t){const e=n.viewQuery;n.viewQuery=e?(i,r)=>{t(i,r),e(i,r)}:t}function ate(n,t){const e=n.contentQueries;n.contentQueries=e?(i,r,s)=>{t(i,r,s),e(i,r,s)}:t}function lte(n,t){const e=n.hostBindings;n.hostBindings=e?(i,r)=>{t(i,r),e(i,r)}:t}let tS=null;function t_(){if(!tS){const n=qi.Symbol;if(n&&n.iterator)tS=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const i=t[e];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(tS=i)}}}return tS}function t0(n){return!!eP(n)&&(Array.isArray(n)||!(n instanceof Map)&&t_()in n)}function eP(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Qc(n,t,e){return n[t]=e}function Ro(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function uf(n,t,e,i){const r=Ro(n,t,e);return Ro(n,t+1,i)||r}function nS(n,t,e,i,r){const s=uf(n,t,e,i);return Ro(n,t+2,r)||s}function ui(n,t,e,i){const r=St();return Ro(r,Lg(),t)&&(Si(),Zc(Fr(),r,n,t,e,i)),ui}function i_(n,t,e,i){return Ro(n,Lg(),e)?t+An(e)+i:Dn}function K(n,t,e,i,r,s,o,a){const l=St(),c=Si(),u=n+20,d=c.firstCreatePass?function gte(n,t,e,i,r,s,o,a,l){const c=t.consts,u=Kg(t,n,4,o||null,Ud(c,a));GO(t,e,u,Ud(c,l)),O1(t,u);const d=u.tViews=Z1(2,u,i,r,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}(u,c,l,t,e,i,r,s,o):c.data[u];Yc(d,!1);const f=l[11].createComment("");H1(c,l,f,d),Ao(f,l),Q1(l,l[u]=dL(f,l,f,d)),C1(d)&&BO(c,l,d),null!=o&&UO(l,d,a)}function Fi(n){return Fg(function kJ(){return Rn.lFrame.contextLView}(),20+n)}function z(n,t=Mn.Default){const e=St();return null===e?je(n,t):N3(As(),e,Vn(n),t)}function sP(){throw new Error("invalid")}function F(n,t,e){const i=St();return Ro(i,Lg(),t)&&Ka(Si(),Fr(),i,n,t,i[11],e,!1),F}function oP(n,t,e,i,r){const o=r?"class":"style";mL(n,e,t.inputs[o],o,i)}function R(n,t,e,i){const r=St(),s=Si(),o=20+n,a=r[11],l=r[o]=uO(a,t,function WJ(){return Rn.lFrame.currentNamespace}()),c=s.firstCreatePass?function Fte(n,t,e,i,r,s,o){const a=t.consts,c=Kg(t,n,2,r,Ud(a,s));return GO(t,e,c,Ud(a,o)),null!==c.attrs&&eS(c,c.attrs,!1),null!==c.mergedAttrs&&eS(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(o,s,r,0,t,e,i):s.data[o];Yc(c,!0);const u=c.mergedAttrs;null!==u&&I1(a,l,u);const d=c.classes;null!==d&&mO(a,l,d);const f=c.styles;return null!==f&&SF(a,l,f),64!=(64&c.flags)&&H1(s,r,l,c),0===function IJ(){return Rn.lFrame.elementDepthCount}()&&Ao(l,r),function AJ(){Rn.lFrame.elementDepthCount++}(),C1(c)&&(BO(s,r,c),QF(s,c,r)),null!==i&&UO(r,c),R}function D(){let n=As();BM()?UM():(n=n.parent,Yc(n,!1));const t=n;!function RJ(){Rn.lFrame.elementDepthCount--}();const e=Si();return e.firstCreatePass&&(O1(e,n),PM(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function KJ(n){return 0!=(16&n.flags)}(t)&&oP(e,t,St(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function JJ(n){return 0!=(32&n.flags)}(t)&&oP(e,t,St(),t.stylesWithoutHost,!1),D}function fe(n,t,e,i){return R(n,t,e,i),D(),fe}function at(n,t,e){const i=St(),r=Si(),s=n+20,o=r.firstCreatePass?function Lte(n,t,e,i,r){const s=t.consts,o=Ud(s,i),a=Kg(t,n,8,"ng-container",o);return null!==o&&eS(a,o,!0),GO(t,e,a,Ud(s,r)),null!==t.queries&&t.queries.elementStart(t,a),a}(s,r,i,t,e):r.data[s];Yc(o,!0);const a=i[s]=i[11].createComment("");return H1(r,i,a,o),Ao(a,i),C1(o)&&(BO(r,i,o),QF(r,o,i)),null!=e&&UO(i,o),at}function lt(){let n=As();const t=Si();return BM()?UM():(n=n.parent,Yc(n,!1)),t.firstCreatePass&&(O1(t,n),PM(n)&&t.queries.elementEnd(n)),lt}function Xs(n,t,e){return at(n,t,e),lt(),Xs}function ft(){return St()}function r0(n){return!!n&&"function"==typeof n.then}function tB(n){return!!n&&"function"==typeof n.subscribe}const aP=tB;function Te(n,t,e,i){const r=St(),s=Si(),o=As();return function iB(n,t,e,i,r,s,o,a){const l=C1(i),u=n.firstCreatePass&&pL(n),d=t[8],f=fL(t);let y=!0;if(3&i.type||a){const N=Wa(i,t),k=a?a(N):N,B=f.length,G=a?Y=>a(_s(Y[i.index])):i.index;if(es(e)){let Y=null;if(!a&&l&&(Y=function Bte(n,t,e,i){const r=n.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===e&&r[s+1]===i){const a=t[7],l=r[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,t,r,i.index)),null!==Y)(Y.__ngLastListenerFn__||Y).__ngNextListenerFn__=s,Y.__ngLastListenerFn__=s,y=!1;else{s=lP(i,t,d,s,!1);const J=e.listen(k,r,s);f.push(s,J),u&&u.push(r,G,B,B+1)}}else s=lP(i,t,d,s,!0),k.addEventListener(r,s,o),f.push(s),u&&u.push(r,G,B,o)}else s=lP(i,t,d,s,!1);const O=i.outputs;let I;if(y&&null!==O&&(I=O[r])){const N=I.length;if(N)for(let k=0;k<N;k+=2){const Z=t[I[k]][I[k+1]].subscribe(s),ge=f.length;f.push(s,Z),u&&u.push(r,i.index,ge,-(ge+1))}}}(s,r,r[11],o,n,t,!!e,i),Te}function rB(n,t,e,i){try{return!1!==e(i)}catch(r){return _L(n,r),!1}}function lP(n,t,e,i,r){return function s(o){if(o===Function)return i;const a=2&n.flags?$a(n.index,t):t;0==(32&t[2])&&VO(a);let l=rB(t,0,i,o),c=s.__ngNextListenerFn__;for(;c;)l=rB(t,0,c,o)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function ne(n=1){return function GJ(n){return(Rn.lFrame.contextLView=function jJ(n,t){for(;n>0;)t=t[15],n--;return t}(n,Rn.lFrame.contextLView))[8]}(n)}function Ute(n,t){let e=null;const i=function qQ(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(n);for(let r=0;r<t.length;r++){const s=t[r];if("*"!==s){if(null===i?BF(n,s,!0):ZQ(i,s))return r}else e=r}return e}function s0(n){const t=St()[16][6];if(!t.projection){const i=t.projection=Gv(n?n.length:1,null),r=i.slice();let s=t.child;for(;null!==s;){const o=n?Ute(s,n):0;null!==o&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s),s=s.next}}}function o0(n,t=0,e){const i=St(),r=Si(),s=Kg(r,20+n,16,null,e||null);null===s.projection&&(s.projection=t),UM(),64!=(64&s.flags)&&function QZ(n,t,e){bF(t[11],0,t,e,dF(n,e,t),gF(e.parent||t[6],e,t))}(r,i,s)}function Hu(n,t,e){return rS(n,"",t,"",e),Hu}function rS(n,t,e,i,r){const s=St(),o=i_(s,t,e,i);return o!==Dn&&Ka(Si(),Fr(),s,n,o,s[11],r,!1),rS}function fB(n,t,e,i,r){const s=n[e+1],o=null===t;let a=i?hc(s):Gu(s),l=!1;for(;0!==a&&(!1===l||o);){const u=n[a+1];Hte(n[a],t)&&(l=!0,n[a+1]=i?PO(u):MO(u)),a=i?hc(u):Gu(u)}l&&(n[e+1]=i?MO(s):PO(s))}function Hte(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&Wg(n,t)>=0}const Ns={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function pB(n){return n.substring(Ns.key,Ns.keyEnd)}function gB(n,t){const e=Ns.textEnd;return e===t?-1:(t=Ns.keyEnd=function $te(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,Ns.key=t,e),h_(n,t,e))}function h_(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function pc(n,t,e){return gc(n,t,e,!1),pc}function wt(n,t){return gc(n,t,null,!0),wt}function df(n){_c(Ya,tu,n,!0)}function tu(n,t){for(let e=function zte(n){return function mB(n){Ns.key=0,Ns.keyEnd=0,Ns.value=0,Ns.valueEnd=0,Ns.textEnd=n.length}(n),gB(n,h_(n,0,Ns.textEnd))}(t);e>=0;e=gB(t,e))Ya(n,pB(t),!0)}function gc(n,t,e,i){const r=St(),s=Si(),o=Uu(2);s.firstUpdatePass&&SB(s,n,o,i),t!==Dn&&Ro(r,o,t)&&EB(s,s.data[Zo()],r,r[11],n,r[o+1]=function nne(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=xi(qa(n)))),n}(t,e),i,o)}function _c(n,t,e,i){const r=Si(),s=Uu(2);r.firstUpdatePass&&SB(r,null,s,i);const o=St();if(e!==Dn&&Ro(o,s,e)){const a=r.data[Zo()];if(wB(a,i)&&!bB(r,s)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(e=xg(l,e||"")),oP(r,a,o,e,i)}else!function tne(n,t,e,i,r,s,o,a){r===Dn&&(r=tr);let l=0,c=0,u=0<r.length?r[0]:null,d=0<s.length?s[0]:null;for(;null!==u||null!==d;){const f=l<r.length?r[l+1]:void 0,y=c<s.length?s[c+1]:void 0;let I,O=null;u===d?(l+=2,c+=2,f!==y&&(O=d,I=y)):null===d||null!==u&&u<d?(l+=2,O=u):(c+=2,O=d,I=y),null!==O&&EB(n,t,e,i,O,I,o,a),u=l<r.length?r[l]:null,d=c<s.length?s[c]:null}}(r,a,o,o[11],o[s+1],o[s+1]=function ene(n,t,e){if(null==e||""===e)return tr;const i=[],r=qa(e);if(Array.isArray(r))for(let s=0;s<r.length;s++)n(i,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&n(i,s,r[s]);else"string"==typeof r&&t(i,r);return i}(n,t,e),i,s)}}function bB(n,t){return t>=n.expandoStartIndex}function SB(n,t,e,i){const r=n.data;if(null===r[e+1]){const s=r[Zo()],o=bB(n,e);wB(s,i)&&null===t&&!o&&(t=!1),t=function Kte(n,t,e,i){const r=function jM(n){const t=Rn.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let s=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(e=a0(e=cP(null,n,t,e,i),t.attrs,i),s=null);else{const o=t.directiveStylingLast;if(-1===o||n[o]!==r)if(e=cP(r,n,t,e,i),null===s){let l=function Jte(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==Gu(i))return n[hc(i)]}(n,t,i);void 0!==l&&Array.isArray(l)&&(l=cP(null,n,t,l[1],i),l=a0(l,t.attrs,i),function Zte(n,t,e,i){n[hc(e?t.classBindings:t.styleBindings)]=i}(n,t,i,l))}else s=function Qte(n,t,e){let i;const r=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<r;s++)i=a0(i,n[s].hostAttrs,e);return a0(i,t.attrs,e)}(n,t,i)}return void 0!==s&&(i?t.residualClasses=s:t.residualStyles=s),e}(r,s,t,i),function Gte(n,t,e,i,r,s){let o=s?t.classBindings:t.styleBindings,a=hc(o),l=Gu(o);n[i]=e;let u,c=!1;if(Array.isArray(e)){const d=e;u=d[1],(null===u||Wg(d,u)>0)&&(c=!0)}else u=e;if(r)if(0!==l){const f=hc(n[a+1]);n[i+1]=q1(f,a),0!==f&&(n[f+1]=OO(n[f+1],i)),n[a+1]=function nee(n,t){return 131071&n|t<<17}(n[a+1],i)}else n[i+1]=q1(a,0),0!==a&&(n[a+1]=OO(n[a+1],i)),a=i;else n[i+1]=q1(l,0),0===a?a=i:n[l+1]=OO(n[l+1],i),l=i;c&&(n[i+1]=MO(n[i+1])),fB(n,u,i,!0),fB(n,u,i,!1),function jte(n,t,e,i,r){const s=r?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof t&&Wg(s,t)>=0&&(e[i+1]=PO(e[i+1]))}(t,u,n,i,s),o=q1(a,l),s?t.classBindings=o:t.styleBindings=o}(r,s,t,e,o,i)}}function cP(n,t,e,i,r){let s=null;const o=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<o&&(s=t[a],i=a0(i,s.hostAttrs,r),s!==n);)a++;return null!==n&&(e.directiveStylingLast=a),i}function a0(n,t,e){const i=e?1:2;let r=-1;if(null!==t)for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?r=o:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Ya(n,o,!!e||t[++s]))}return void 0===n?null:n}function EB(n,t,e,i,r,s,o,a){if(!(3&t.type))return;const l=n.data,c=l[a+1];sS(function VF(n){return 1==(1&n)}(c)?TB(l,t,e,r,Gu(c),o):void 0)||(sS(s)||function HF(n){return 2==(2&n)}(c)&&(s=TB(l,null,e,r,a,o)),function tQ(n,t,e,i,r){const s=es(n);if(t)r?s?n.addClass(e,i):e.classList.add(i):s?n.removeClass(e,i):e.classList.remove(i);else{let o=-1===i.indexOf("-")?void 0:Xa.DashCase;if(null==r)s?n.removeStyle(e,i,o):e.style.removeProperty(i);else{const a="string"==typeof r&&r.endsWith("!important");a&&(r=r.slice(0,-10),o|=Xa.Important),s?n.setStyle(e,i,r,o):e.style.setProperty(i,r,a?"important":"")}}}(i,o,E1(Zo(),e),r,s))}function TB(n,t,e,i,r,s){const o=null===t;let a;for(;r>0;){const l=n[r],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let f=e[r+1];f===Dn&&(f=d?tr:void 0);let y=d?ZM(f,i):u===i?f:void 0;if(c&&!sS(y)&&(y=ZM(l,i)),sS(y)&&(a=y,o))return a;const O=n[r+1];r=o?hc(O):Gu(O)}if(null!==t){let l=s?t.residualClasses:t.residualStyles;null!=l&&(a=ZM(l,i))}return a}function sS(n){return void 0!==n}function wB(n,t){return 0!=(n.flags&(t?16:32))}function U(n,t=""){const e=St(),i=Si(),r=n+20,s=i.firstCreatePass?Kg(i,r,1,t,null):i.data[r],o=e[r]=function cO(n,t){return es(n)?n.createText(t):n.createTextNode(t)}(e[11],t);H1(i,e,o,s),Yc(s,!1)}function Ye(n){return te("",n,""),Ye}function te(n,t,e){const i=St(),r=i_(i,n,t,e);return r!==Dn&&ju(i,Zo(),r),te}function Un(n,t,e,i,r){const s=St(),o=function r_(n,t,e,i,r,s){const a=uf(n,Bu(),e,r);return Uu(2),a?t+An(e)+i+An(r)+s:Dn}(s,n,t,e,i,r);return o!==Dn&&ju(s,Zo(),o),Un}function f_(n,t,e,i,r,s,o){const a=St(),l=function s_(n,t,e,i,r,s,o,a){const c=nS(n,Bu(),e,r,o);return Uu(3),c?t+An(e)+i+An(r)+s+An(o)+a:Dn}(a,n,t,e,i,r,s,o);return l!==Dn&&ju(a,Zo(),l),f_}function l0(n,t,e){_c(Ya,tu,i_(St(),n,t,e),!0)}const ff=void 0;var Sne=["en",[["a","p"],["AM","PM"],ff],[["AM","PM"],ff,ff],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ff,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ff,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ff,"{1} 'at' {0}",ff],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function bne(n){const e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];let p_={};function ea(n){const t=function Cne(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=VB(t);if(e)return e;const i=t.split("-")[0];if(e=VB(i),e)return e;if("en"===i)return Sne;throw new Error(`Missing locale data for the locale "${n}".`)}function VB(n){return n in p_||(p_[n]=qi.ng&&qi.ng.common&&qi.ng.common.locales&&qi.ng.common.locales[n]),p_[n]}var Ht=(()=>((Ht=Ht||{})[Ht.LocaleId=0]="LocaleId",Ht[Ht.DayPeriodsFormat=1]="DayPeriodsFormat",Ht[Ht.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ht[Ht.DaysFormat=3]="DaysFormat",Ht[Ht.DaysStandalone=4]="DaysStandalone",Ht[Ht.MonthsFormat=5]="MonthsFormat",Ht[Ht.MonthsStandalone=6]="MonthsStandalone",Ht[Ht.Eras=7]="Eras",Ht[Ht.FirstDayOfWeek=8]="FirstDayOfWeek",Ht[Ht.WeekendRange=9]="WeekendRange",Ht[Ht.DateFormat=10]="DateFormat",Ht[Ht.TimeFormat=11]="TimeFormat",Ht[Ht.DateTimeFormat=12]="DateTimeFormat",Ht[Ht.NumberSymbols=13]="NumberSymbols",Ht[Ht.NumberFormats=14]="NumberFormats",Ht[Ht.CurrencyCode=15]="CurrencyCode",Ht[Ht.CurrencySymbol=16]="CurrencySymbol",Ht[Ht.CurrencyName=17]="CurrencyName",Ht[Ht.Currencies=18]="Currencies",Ht[Ht.Directionality=19]="Directionality",Ht[Ht.PluralCase=20]="PluralCase",Ht[Ht.ExtraData=21]="ExtraData",Ht))();const oS="en-US";let zB=oS;function fP(n,t,e,i,r){if(n=Vn(n),Array.isArray(n))for(let s=0;s<n.length;s++)fP(n[s],t,e,i,r);else{const s=Si(),o=St();let a=e_(n)?n:Vn(n.provide),l=CL(n);const c=As(),u=1048575&c.providerIndexes,d=c.directiveStart,f=c.providerIndexes>>20;if(e_(n)||!n.multi){const y=new Nv(l,r,z),O=gP(a,t,r?u:u+f,d);-1===O?(N1(Fv(c,o),s,a),pP(s,n,t.length),t.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),e.push(y),o.push(y)):(e[O]=y,o[O]=y)}else{const y=gP(a,t,u+f,d),O=gP(a,t,u,u+f),I=y>=0&&e[y],N=O>=0&&e[O];if(r&&!N||!r&&!I){N1(Fv(c,o),s,a);const k=function vie(n,t,e,i,r){const s=new Nv(n,e,z);return s.multi=[],s.index=t,s.componentProviders=0,p4(s,r,i&&!e),s}(r?mie:_ie,e.length,r,i,l);!r&&N&&(e[O].providerFactory=k),pP(s,n,t.length,0),t.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),e.push(k),o.push(k)}else pP(s,n,y>-1?y:O,p4(e[r?O:y],l,!r&&i));!r&&i&&N&&e[O].componentProviders++}}}function pP(n,t,e,i){const r=e_(t),s=function Yee(n){return!!n.useClass}(t);if(r||s){const l=(s?Vn(t.useClass):t).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){const u=c.indexOf(e);-1===u?c.push(e,[i,l]):c[u+1].push(i,l)}else c.push(e,l)}}}function p4(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function gP(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function _ie(n,t,e,i){return _P(this.multi,[])}function mie(n,t,e,i){const r=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Lv(e,e[1],this.providerFactory.index,i);s=a.slice(0,o),_P(r,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],_P(r,s);return s}function _P(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function Jn(n,t=[]){return e=>{e.providersResolver=(i,r)=>function gie(n,t,e){const i=Si();if(i.firstCreatePass){const r=uc(n);fP(e,i.data,i.blueprint,r,!0),fP(t,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,t)}}class g4{}class Sie{resolveComponentFactory(t){throw function bie(n){const t=Error(`No component factory found for ${xi(n)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=n,t}(t)}}let pf=(()=>{class n{}return n.NULL=new Sie,n})();function Cie(){return __(As(),St())}function __(n,t){return new Ei(Wa(n,t))}let Ei=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=Cie,n})();function Eie(n){return n instanceof Ei?n.nativeElement:n}class m_{}let Do=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function wie(){const n=St(),e=$a(As().index,n);return function Tie(n){return n[11]}($c(e)?e:n)}(),n})(),Mie=(()=>{class n{}return n.\u0275prov=gt({token:n,providedIn:"root",factory:()=>null}),n})();class f0{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const dS=new f0("13.4.0"),mP={};function hS(n,t,e,i,r=!1){for(;null!==e;){const s=t[e.index];if(null!==s&&i.push(_s(s)),cc(s))for(let a=10;a<s.length;a++){const l=s[a],c=l[1].firstChild;null!==c&&hS(l[1],l,c,i)}const o=e.type;if(8&o)hS(n,t,e.child,i);else if(32&o){const a=oO(e,t);let l;for(;l=a();)i.push(l)}else if(16&o){const a=yF(t,e);if(Array.isArray(a))i.push(...a);else{const l=Yv(t[16]);hS(l[1],l,a,i,!0)}}e=r?e.projectionNext:e.next}return i}class p0{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return hS(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(cc(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(dO(t,i),F1(e,i))}this._attachedToViewContainer=!1}uF(this._lView[1],this._lView)}onDestroy(t){iL(this._lView[1],this._lView,null,t)}markForCheck(){VO(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function WO(n,t,e){const i=t[10];i.begin&&i.begin();try{Zg(n,t,n.template,e)}catch(r){throw _L(t,r),r}finally{i.end&&i.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Wt(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function WZ(n,t){Xv(n,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Wt(902,"");this._appRef=t}}class Oie extends p0{constructor(t){super(t),this._view=t}detectChanges(){hL(this._view)}checkNoChanges(){}get context(){return null}}class m4 extends pf{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=lo(t);return new vP(e,this.ngModule)}}function v4(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class vP extends g4{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function eee(n){return n.map(QQ).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return v4(this.componentDef.inputs)}get outputs(){return v4(this.componentDef.outputs)}create(t,e,i,r){const s=(r=r||this.ngModule)?function xie(n,t){return{get:(e,i,r)=>{const s=n.get(e,mP,r);return s!==mP||i===mP?s:t.get(e,i,r)}}}(t,r.injector):t,o=s.get(m_,d3),a=s.get(Mie,null),l=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",u=i?function nL(n,t,e){if(es(n))return n.selectRootElement(t,e===ac.ShadowDom);let i="string"==typeof t?n.querySelector(t):t;return i.textContent="",i}(l,i,this.componentDef.encapsulation):uO(o.createRenderer(null,this.componentDef),c,function Pie(n){const t=n.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(c)),d=this.componentDef.onPush?576:528,f=function NL(n,t){return{components:[],scheduler:n||jQ,clean:Bee,playerHandler:t||null,flags:0}}(),y=Z1(0,null,null,1,0,null,null,null,null,null),O=Zv(null,y,f,d,null,null,o,l,a,s);let I,N;w1(O);try{const k=function RL(n,t,e,i,r,s){const o=e[1];e[20]=n;const l=Kg(o,20,2,"#host",null),c=l.mergedAttrs=t.hostAttrs;null!==c&&(eS(l,c,!0),null!==n&&(I1(r,n,c),null!==l.classes&&mO(r,n,l.classes),null!==l.styles&&SF(r,n,l.styles)));const u=i.createRenderer(n,t),d=Zv(e,eL(t),null,t.onPush?64:16,e[20],l,i,u,s||null,null);return o.firstCreatePass&&(N1(Fv(l,e),o,t.type),lL(o,l),cL(l,e.length,1)),Q1(e,d),e[20]=d}(u,this.componentDef,O,o,l);if(u)if(i)I1(l,u,["ng-version",dS.full]);else{const{attrs:B,classes:G}=function tee(n){const t=[],e=[];let i=1,r=2;for(;i<n.length;){let s=n[i];if("string"==typeof s)2===r?""!==s&&t.push(s,n[++i]):8===r&&e.push(s);else{if(!dc(r))break;r=s}i++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);B&&I1(l,u,B),G&&G.length>0&&mO(l,u,G.join(" "))}if(N=kM(y,20),void 0!==e){const B=N.projection=[];for(let G=0;G<this.ngContentSelectors.length;G++){const Y=e[G];B.push(null!=Y?Array.from(Y):null)}}I=function DL(n,t,e,i,r){const s=e[1],o=function Cee(n,t,e){const i=As();n.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),uL(n,i,t,Jg(n,t,1,null),e));const r=Lv(t,n,i.directiveStart,i);Ao(r,t);const s=Wa(i,t);return s&&Ao(s,t),r}(s,e,t);if(i.components.push(o),n[8]=o,r&&r.forEach(l=>l(o,t)),t.contentQueries){const l=As();t.contentQueries(1,o,l.directiveStart)}const a=As();return!s.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Gd(a.index),oL(e[1],a,0,a.directiveStart,a.directiveEnd,t),aL(t,o)),o}(k,this.componentDef,O,f,[rte]),Qv(y,O,null)}finally{M1()}return new Aie(this.componentType,I,__(N,O),O,N)}}class Aie extends class yie{}{constructor(t,e,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.instance=e,this.hostView=this.changeDetectorRef=new Oie(r),this.componentType=t}get injector(){return new Gg(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}class Vu{}class y4{}const v_=new Map;class C4 extends Vu{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new m4(this);const i=vl(t);this._bootstrapComponents=Jc(i.bootstrap),this._r3Injector=SL(t,e,[{provide:Vu,useValue:this},{provide:pf,useValue:this.componentFactoryResolver}],xi(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Ds.THROW_IF_NOT_FOUND,i=Mn.Default){return t===Ds||t===Vu||t===YO?this:this._r3Injector.get(t,e,i)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class yP extends y4{constructor(t){super(),this.moduleType=t,null!==vl(t)&&function Die(n){const t=new Set;!function e(i){const r=vl(i,!0),s=r.id;null!==s&&(function b4(n,t,e){if(t&&t!==e)throw new Error(`Duplicate module registered for ${n} - ${xi(t)} vs ${xi(t.name)}`)}(s,v_.get(s),i),v_.set(s,i));const o=Jc(r.imports);for(const a of o)t.has(a)||(t.add(a),e(a))}(n)}(t)}create(t){return new C4(this.moduleType,t)}}function di(n,t,e,i){return E4(St(),Jo(),n,t,e,i)}function ta(n,t,e,i,r){return T4(St(),Jo(),n,t,e,i,r)}function y_(n,t,e,i,r,s){return function w4(n,t,e,i,r,s,o,a){const l=t+e;return nS(n,l,r,s,o)?Qc(n,l+3,a?i.call(a,r,s,o):i(r,s,o)):g0(n,l+3)}(St(),Jo(),n,t,e,i,r,s)}function bP(n,t,e,i,r,s,o){return function M4(n,t,e,i,r,s,o,a,l){const c=t+e;return function Cl(n,t,e,i,r,s){const o=uf(n,t,e,i);return uf(n,t+2,r,s)||o}(n,c,r,s,o,a)?Qc(n,c+4,l?i.call(l,r,s,o,a):i(r,s,o,a)):g0(n,c+4)}(St(),Jo(),n,t,e,i,r,s,o)}function g0(n,t){const e=n[t];return e===Dn?void 0:e}function E4(n,t,e,i,r,s){const o=t+e;return Ro(n,o,r)?Qc(n,o+1,s?i.call(s,r):i(r)):g0(n,o+1)}function T4(n,t,e,i,r,s,o){const a=t+e;return uf(n,a,r,s)?Qc(n,a+2,o?i.call(o,r,s):i(r,s)):g0(n,a+2)}function j(n,t){const e=Si();let i;const r=n+20;e.firstCreatePass?(i=function Gie(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}}(t,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(r,i.onDestroy)):i=e.data[r];const s=i.factory||(i.factory=rf(i.type)),o=Fd(z);try{const a=R1(!1),l=s();return R1(a),function _te(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,St(),r,l),l}finally{Fd(o)}}function W(n,t,e){const i=n+20,r=St(),s=Fg(r,i);return _0(r,i)?E4(r,Jo(),t,s.transform,e,s):s.transform(e)}function Ut(n,t,e,i){const r=n+20,s=St(),o=Fg(s,r);return _0(s,r)?T4(s,Jo(),t,o.transform,e,i,o):o.transform(e,i)}function _0(n,t){return n[1].data[t].pure}function SP(n){return t=>{setTimeout(n,void 0,t)}}const nn=class zie extends Qe{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){var r,s,o;let a=t,l=e||(()=>null),c=i;if(t&&"object"==typeof t){const d=t;a=null===(r=d.next)||void 0===r?void 0:r.bind(d),l=null===(s=d.error)||void 0===s?void 0:s.bind(d),c=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}this.__isAsync&&(l=SP(l),a&&(a=SP(a)),c&&(c=SP(c)));const u=super.subscribe({next:a,error:l,complete:c});return t instanceof g&&t.add(u),u}};function Wie(){return this._results[t_()]()}class CP{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=t_(),i=CP.prototype;i[e]||(i[e]=Wie)}get changes(){return this._changes||(this._changes=new nn)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const r=Sl(t);(this._changesDetected=!function aZ(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=t[i];if(e&&(r=e(r),s=e(s)),s!==r)return!1}return!0}(i._results,r,e))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Cr=(()=>{class n{}return n.__NG_ELEMENT_ID__=Xie,n})();const $ie=Cr,Yie=class extends $ie{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}createEmbeddedView(t){const e=this._declarationTContainer.tViews,i=Zv(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(i[19]=s.createEmbeddedView(e)),Qv(e,i,t),new p0(i)}};function Xie(){return fS(As(),St())}function fS(n,t){return 4&n.type?new Yie(t,n,__(n,t)):null}let Ja=(()=>{class n{}return n.__NG_ELEMENT_ID__=qie,n})();function qie(){return I4(As(),St())}const Kie=Ja,P4=class extends Kie{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return __(this._hostTNode,this._hostLView)}get injector(){return new Gg(this._hostTNode,this._hostLView)}get parentInjector(){const t=D1(this._hostTNode,this._hostLView);if(x3(t)){const e=Ug(t,this._hostLView),i=Bg(t);return new Gg(e[1].data[i+8],e)}return new Gg(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=x4(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,i){const r=t.createEmbeddedView(e||{});return this.insert(r,i),r}createComponent(t,e,i,r,s){const o=t&&!function Uv(n){return"function"==typeof n}(t);let a;if(o)a=e;else{const d=e||{};a=d.index,i=d.injector,r=d.projectableNodes,s=d.ngModuleRef}const l=o?t:new vP(lo(t)),c=i||this.parentInjector;if(!s&&null==l.ngModule){const f=(o?c:this.parentInjector).get(Vu,null);f&&(s=f)}const u=l.create(c,r,void 0,s);return this.insert(u.hostView,a),u}insert(t,e){const i=t._lView,r=i[1];if(function xJ(n){return cc(n[3])}(i)){const u=this.indexOf(t);if(-1!==u)this.detach(u);else{const d=i[3],f=new P4(d,d[6],d[3]);f.detach(f.indexOf(t))}}const s=this._adjustIndex(e),o=this._lContainer;!function YZ(n,t,e,i){const r=10+i,s=e.length;i>0&&(e[r-1][4]=t),i<s-10?(t[4]=e[r],U3(e,10+i,t)):(e.push(t),t[4]=null),t[3]=e;const o=t[17];null!==o&&e!==o&&function XZ(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(o,t);const a=t[19];null!==a&&a.insertView(n),t[2]|=128}(r,i,o,s);const a=pO(s,o),l=i[11],c=j1(l,o[7]);return null!==c&&function zZ(n,t,e,i,r,s){i[0]=r,i[6]=t,Xv(n,i,e,1,r,s)}(r,o[6],l,i,c,a),t.attachToViewContainerRef(),U3(EP(o),s,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=x4(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=dO(this._lContainer,e);i&&(F1(EP(this._lContainer),e),uF(i[1],i))}detach(t){const e=this._adjustIndex(t,-1),i=dO(this._lContainer,e);return i&&null!=F1(EP(this._lContainer),e)?new p0(i):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function x4(n){return n[8]}function EP(n){return n[8]||(n[8]=[])}function I4(n,t){let e;const i=t[n.index];if(cc(i))e=i;else{let r;if(8&n.type)r=_s(i);else{const s=t[11];r=s.createComment("");const o=Wa(n,t);af(s,j1(s,o),r,function ZZ(n,t){return es(n)?n.nextSibling(t):t.nextSibling}(s,o),!1)}t[n.index]=e=dL(i,t,r,n),Q1(t,e)}return new P4(e,n,t)}class TP{constructor(t){this.queryList=t,this.matches=null}clone(){return new TP(this.queryList)}setDirty(){this.queryList.setDirty()}}class wP{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let s=0;s<i;s++){const o=e.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new wP(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==k4(t,e).matches&&this.queries[e].setDirty()}}class A4{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class MP{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,s=this.getByIndex(i).embeddedTView(t,r);s&&(s.indexInDeclarationView=i,null!==e?e.push(s):e=[s])}return null!==e?new MP(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class OP{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new OP(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(t,e,Qie(e,s)),this.matchTNodeWithReadOption(t,e,k1(e,t,s,!1,!1))}else i===Cr?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,k1(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===Ei||r===Ja||r===Cr&&4&e.type)this.addMatch(e.index,-2);else{const s=k1(e,t,r,!1,!1);null!==s&&this.addMatch(e.index,s)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Qie(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function tre(n,t,e,i){return-1===e?function ere(n,t){return 11&n.type?__(n,t):4&n.type?fS(n,t):null}(t,n):-2===e?function nre(n,t,e){return e===Ei?__(t,n):e===Cr?fS(t,n):e===Ja?I4(t,n):void 0}(n,t,i):Lv(n,n[1],e,t)}function R4(n,t,e,i){const r=t[19].queries[i];if(null===r.matches){const s=n.data,o=e.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:tre(t,s[c],o[l+1],e.metadata.read))}r.matches=a}return r.matches}function PP(n,t,e,i){const r=n.queries.getByIndex(e),s=r.matches;if(null!==s){const o=R4(n,t,r,e);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)i.push(o[a/2]);else{const c=s[a+1],u=t[-l];for(let d=10;d<u.length;d++){const f=u[d];f[17]===f[3]&&PP(f[1],f,c,i)}if(null!==u[9]){const d=u[9];for(let f=0;f<d.length;f++){const y=d[f];PP(y[1],y,c,i)}}}}}return i}function kn(n){const t=St(),e=Si(),i=y3();HM(i+1);const r=k4(e,i);if(n.dirty&&h3(t)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const s=r.crossesNgTemplate?PP(e,t,i,[]):R4(e,t,r,i);n.reset(s,Eie),n.notifyOnChanges()}return!0}return!1}function Lr(n,t,e){const i=Si();i.firstCreatePass&&(N4(i,new A4(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),D4(i,St(),t)}function ls(n,t,e,i){const r=Si();if(r.firstCreatePass){const s=As();N4(r,new A4(t,e,i),s.index),function rre(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(r,n),2==(2&e)&&(r.staticContentQueries=!0)}D4(r,St(),e)}function Fn(){return function ire(n,t){return n[19].queries[t].queryList}(St(),y3())}function D4(n,t,e){const i=new CP(4==(4&e));iL(n,t,i,i.destroy),null===t[19]&&(t[19]=new wP),t[19].queries.push(new TP(i))}function N4(n,t,e){null===n.queries&&(n.queries=new MP),n.queries.track(new OP(t,e))}function k4(n,t){return n.queries.getByIndex(t)}function No(n,t){return fS(n,t)}function _S(...n){}const mS=new Zt("Application Initializer");let NP=(()=>{class n{constructor(e){this.appInits=e,this.resolve=_S,this.reject=_S,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const e=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const s=this.appInits[r]();if(r0(s))e.push(s);else if(aP(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});e.push(o)}}Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(je(mS,8))},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const v0=new Zt("AppId",{providedIn:"root",factory:function Z4(){return`${kP()}${kP()}${kP()}`}});function kP(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Q4=new Zt("Platform Initializer"),S_=new Zt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),e5=new Zt("appBootstrapListener");let Sre=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const $d=new Zt("LocaleId",{providedIn:"root",factory:()=>Y3($d,Mn.Optional|Mn.SkipSelf)||function Cre(){return"undefined"!=typeof $localize&&$localize.locale||oS}()});class Tre{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let t5=(()=>{class n{compileModuleSync(e){return new yP(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),s=Jc(vl(e).declarations).reduce((o,a)=>{const l=lo(a);return l&&o.push(new vP(l)),o},[]);return new Tre(i,s)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Mre=(()=>Promise.resolve(0))();function FP(n){"undefined"==typeof Zone?Mre.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Zn{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new nn(!1),this.onMicrotaskEmpty=new nn(!1),this.onStable=new nn(!1),this.onError=new nn(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function Ore(){let n=qi.requestAnimationFrame,t=qi.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function Ire(n){const t=()=>{!function xre(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(qi,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,BP(n),n.isCheckStableRunning=!0,LP(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),BP(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,s,o,a)=>{try{return n5(n),e.invokeTask(r,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&t(),i5(n)}},onInvoke:(e,i,r,s,o,a,l)=>{try{return n5(n),e.invoke(r,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&t(),i5(n)}},onHasTask:(e,i,r,s)=>{e.hasTask(r,s),i===r&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,BP(n),LP(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(e,i,r,s)=>(e.handleError(r,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Zn.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Zn.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,t,Pre,_S,_S);try{return s.runTask(o,e,i)}finally{s.cancelTask(o)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const Pre={};function LP(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function BP(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function n5(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function i5(n){n._nesting--,LP(n)}class Are{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new nn,this.onMicrotaskEmpty=new nn,this.onStable=new nn,this.onError=new nn}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}}let UP=(()=>{class n{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Zn.assertNotInAngularZone(),FP(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())FP(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:s,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,i,r){return[]}}return n.\u0275fac=function(e){return new(e||n)(je(Zn))},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})(),Rre=(()=>{class n{constructor(){this._applications=new Map,GP.addToWindow(this)}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return GP.findTestabilityInTree(this,e,i)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();class Dre{addToWindow(t){}findTestabilityInTree(t,e,i){return null}}let GP=new Dre,gf=null;const r5=new Zt("AllowMultipleToken"),s5=new Zt("PlatformOnDestroy");class o5{constructor(t,e){this.name=t,this.token=e}}function a5(n,t,e=[]){const i=`Platform: ${t}`,r=new Zt(i);return(s=[])=>{let o=jP();if(!o||o.injector.get(r5,!1)){const a=[...e,...s,{provide:r,useValue:!0}];n?n(a):function Lre(n){if(gf&&!gf.get(r5,!1))throw new Wt(400,"");gf=n;const t=n.get(l5),e=n.get(Q4,null);e&&e.forEach(i=>i())}(function Ure(n=[],t){return Ds.create({name:t,providers:[{provide:XO,useValue:"platform"},{provide:s5,useValue:()=>gf=null},...n]})}(a,i))}return function Bre(n){const t=jP();if(!t)throw new Wt(401,"");return t}()}}function jP(){var n;return null!==(n=null==gf?void 0:gf.get(l5))&&void 0!==n?n:null}let l5=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const a=function Gre(n,t){let e;return e="noop"===n?new Are:("zone.js"===n?void 0:n)||new Zn({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),e}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),l=[{provide:Zn,useValue:a}];return a.run(()=>{const c=Ds.create({providers:l,parent:this.injector,name:e.moduleType.name}),u=e.create(c),d=u.injector.get(Xg,null);if(!d)throw new Wt(402,"");return a.runOutsideAngular(()=>{const f=a.onError.subscribe({next:y=>{d.handleError(y)}});u.onDestroy(()=>{HP(this._modules,u),f.unsubscribe()})}),function jre(n,t,e){try{const i=e();return r0(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(d,a,()=>{const f=u.injector.get(NP);return f.runInitializers(),f.donePromise.then(()=>(function Mne(n){Va(n,"Expected localeId to be defined"),"string"==typeof n&&(zB=n.toLowerCase().replace(/_/g,"-"))}(u.injector.get($d,oS)||oS),this._moduleDoBootstrap(u),u))})})}bootstrapModule(e,i=[]){const r=c5({},i);return function kre(n,t,e){const i=new yP(e);return Promise.resolve(i)}(0,0,e).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(e){const i=e.injector.get(vS);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new Wt(403,"");e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Wt(404,"");this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(s5,null);null==e||e(),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(je(Ds))},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function c5(n,t){return Array.isArray(t)?t.reduce(c5,n):Object.assign(Object.assign({},n),t)}let vS=(()=>{class n{constructor(e,i,r,s){this._zone=e,this._injector=i,this._exceptionHandler=r,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new _e(l=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{l.next(this._stable),l.complete()})}),a=new _e(l=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{Zn.assertNotInAngularZone(),FP(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,l.next(!0))})})});const u=this._zone.onUnstable.subscribe(()=>{Zn.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{l.next(!1)}))});return()=>{c.unsubscribe(),u.unsubscribe()}});this.isStable=function Gi(...n){const t=ja(n),e=function Tn(n,t){return"number"==typeof En(n)?n.pop():t}(n,1/0),i=n;return i.length?1===i.length?Pt(i[0]):xs(e)(ri(i,t)):ht}(o,a.pipe(qo()))}bootstrap(e,i){if(!this._initStatus.done)throw new Wt(405,"");let r;r=e instanceof g4?e:this._injector.get(pf).resolveComponentFactory(e),this.componentTypes.push(r.componentType);const s=function Fre(n){return n.isBoundToModule}(r)?void 0:this._injector.get(Vu),a=r.create(Ds.NULL,[],i||r.selector,s),l=a.location.nativeElement,c=a.injector.get(UP,null),u=c&&a.injector.get(Rre);return c&&u&&u.registerApplication(l,c),a.onDestroy(()=>{this.detachView(a.hostView),HP(this.components,a),u&&u.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new Wt(101,"");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;HP(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(e5,[]).concat(this._bootstrapListeners).forEach(r=>r(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(e){return new(e||n)(je(Zn),je(Ds),je(Xg),je(NP))},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function HP(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}let d5=!0,Sn=(()=>{class n{}return n.__NG_ELEMENT_ID__=zre,n})();function zre(n){return function Wre(n,t,e){if(S1(n)&&!e){const i=$a(n.index,t);return new p0(i,i)}return 47&n.type?new p0(t[16],t):null}(As(),St(),16==(16&n))}class _5{constructor(){}supports(t){return t0(t)}create(t){return new Jre(t)}}const Kre=(n,t)=>t;class Jre{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Kre}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,s=null;for(;e||i;){const o=!i||e&&e.currentIndex<v5(i,r,s)?e:i,a=v5(o,r,s),l=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{s||(s=[]);const c=a-r,u=l-r;if(c!=u){for(let f=0;f<c;f++){const y=f<s.length?s[f]:s[f]=0,O=y+f;u<=O&&O<c&&(s[f]=y+1)}s[o.previousIndex]=u-c}}a!==l&&t(o,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!t0(t))throw new Wt(900,"");return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,s,o,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)s=t[a],o=this._trackByFn(a,s),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,s,o,a)),Object.is(e.item,s)||this._addIdentityChange(e,s)):(e=this._mismatch(e,s,o,a),i=!0),e=e._next}else r=0,function pte(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[t_()]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,a=>{o=this._trackByFn(r,a),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,a,o,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,o,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,s,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,s,r)):t=this._addAfter(new Zre(e,i),s,r),t}_verifyReinsertion(t,e,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?t=this._reinsertAfter(s,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,s=t._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new m5),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new m5),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Zre{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Qre{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class m5{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new Qre,this.map.set(e,i)),i.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function v5(n,t,e){const i=n.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}class y5{constructor(){}supports(t){return t instanceof Map||eP(t)}create(){return new ese}}class ese{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||eP(t)))throw new Wt(900,"")}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const s=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,s)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,e);const s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}const i=new tse(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class tse{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function b5(){return new y0([new _5])}let y0=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||b5()),deps:[[n,new zv,new Hd]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new Wt(901,"")}}return n.\u0275prov=gt({token:n,providedIn:"root",factory:b5}),n})();function S5(){return new b0([new y5])}let b0=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||S5()),deps:[[n,new zv,new Hd]]}}find(e){const i=this.factories.find(s=>s.supports(e));if(i)return i;throw new Wt(901,"")}}return n.\u0275prov=gt({token:n,providedIn:"root",factory:S5}),n})();const rse=a5(null,"core",[]);let sse=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(je(vS))},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({}),n})(),SS=null;function nu(){return SS}const Er=new Zt("DocumentToken");let mf=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=gt({token:n,factory:function(){return function cse(){return je(C5)}()},providedIn:"platform"}),n})();const use=new Zt("Location Initialized");let C5=(()=>{class n extends mf{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return nu().getBaseHref(this._doc)}onPopState(e){const i=nu().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=nu().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){E5()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){E5()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(je(Er))},n.\u0275prov=gt({token:n,factory:function(){return function dse(){return new C5(je(Er))}()},providedIn:"platform"}),n})();function E5(){return!!window.history.pushState}function YP(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function T5(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function zu(n){return n&&"?"!==n[0]?"?"+n:n}let C_=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=gt({token:n,factory:function(){return function hse(n){const t=je(Er).location;return new w5(je(mf),t&&t.origin||"")}()},providedIn:"root"}),n})();const XP=new Zt("appBaseHref");let w5=(()=>{class n extends C_{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return YP(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+zu(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const o=this.prepareExternalUrl(r+zu(s));this._platformLocation.pushState(e,i,o)}replaceState(e,i,r,s){const o=this.prepareExternalUrl(r+zu(s));this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(je(mf),je(XP,8))},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})(),fse=(()=>{class n extends C_{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=YP(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let o=this.prepareExternalUrl(r+zu(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(e,i,o)}replaceState(e,i,r,s){let o=this.prepareExternalUrl(r+zu(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(je(mf),je(XP,8))},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})(),qP=(()=>{class n{constructor(e,i){this._subject=new nn,this._urlChangeListeners=[],this._platformStrategy=e;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=T5(M5(r)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+zu(i))}normalize(e){return n.stripTrailingSlash(function gse(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,M5(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._platformStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+zu(i)),r)}replaceState(e,i="",r=null){this._platformStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+zu(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=zu,n.joinWithSlash=YP,n.stripTrailingSlash=T5,n.\u0275fac=function(e){return new(e||n)(je(C_),je(mf))},n.\u0275prov=gt({token:n,factory:function(){return function pse(){return new qP(je(C_),je(mf))}()},providedIn:"root"}),n})();function M5(n){return n.replace(/\/index.html$/,"")}var Ma=(()=>((Ma=Ma||{})[Ma.Decimal=0]="Decimal",Ma[Ma.Percent=1]="Percent",Ma[Ma.Currency=2]="Currency",Ma[Ma.Scientific=3]="Scientific",Ma))(),cs=(()=>((cs=cs||{})[cs.Format=0]="Format",cs[cs.Standalone=1]="Standalone",cs))(),si=(()=>((si=si||{})[si.Narrow=0]="Narrow",si[si.Abbreviated=1]="Abbreviated",si[si.Wide=2]="Wide",si[si.Short=3]="Short",si))(),Br=(()=>((Br=Br||{})[Br.Short=0]="Short",Br[Br.Medium=1]="Medium",Br[Br.Long=2]="Long",Br[Br.Full=3]="Full",Br))(),dn=(()=>((dn=dn||{})[dn.Decimal=0]="Decimal",dn[dn.Group=1]="Group",dn[dn.List=2]="List",dn[dn.PercentSign=3]="PercentSign",dn[dn.PlusSign=4]="PlusSign",dn[dn.MinusSign=5]="MinusSign",dn[dn.Exponential=6]="Exponential",dn[dn.SuperscriptingExponent=7]="SuperscriptingExponent",dn[dn.PerMille=8]="PerMille",dn[dn.Infinity=9]="Infinity",dn[dn.NaN=10]="NaN",dn[dn.TimeSeparator=11]="TimeSeparator",dn[dn.CurrencyDecimal=12]="CurrencyDecimal",dn[dn.CurrencyGroup=13]="CurrencyGroup",dn))();function CS(n,t){return Tl(ea(n)[Ht.DateFormat],t)}function ES(n,t){return Tl(ea(n)[Ht.TimeFormat],t)}function TS(n,t){return Tl(ea(n)[Ht.DateTimeFormat],t)}function El(n,t){const e=ea(n),i=e[Ht.NumberSymbols][t];if(void 0===i){if(t===dn.CurrencyDecimal)return e[Ht.NumberSymbols][dn.Decimal];if(t===dn.CurrencyGroup)return e[Ht.NumberSymbols][dn.Group]}return i}function P5(n){if(!n[Ht.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[Ht.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Tl(n,t){for(let e=t;e>-1;e--)if(void 0!==n[e])return n[e];throw new Error("Locale data API: locale data undefined")}function JP(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const Pse=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,S0={},xse=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var ks=(()=>((ks=ks||{})[ks.Short=0]="Short",ks[ks.ShortGMT=1]="ShortGMT",ks[ks.Long=2]="Long",ks[ks.Extended=3]="Extended",ks))(),yn=(()=>((yn=yn||{})[yn.FullYear=0]="FullYear",yn[yn.Month=1]="Month",yn[yn.Date=2]="Date",yn[yn.Hours=3]="Hours",yn[yn.Minutes=4]="Minutes",yn[yn.Seconds=5]="Seconds",yn[yn.FractionalSeconds=6]="FractionalSeconds",yn[yn.Day=7]="Day",yn))(),zn=(()=>((zn=zn||{})[zn.DayPeriods=0]="DayPeriods",zn[zn.Days=1]="Days",zn[zn.Months=2]="Months",zn[zn.Eras=3]="Eras",zn))();function Ise(n,t,e,i){let r=function Use(n){if(A5(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,s=1,o=1]=n.split("-").map(a=>+a);return wS(r,s-1,o)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(Pse))return function Gse(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,s=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const o=Number(n[4]||0)-e,a=Number(n[5]||0)-i,l=Number(n[6]||0),c=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(t,o,a,l,c),t}(i)}const t=new Date(n);if(!A5(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=Wu(e,t)||t;let a,o=[];for(;t;){if(a=xse.exec(t),!a){o.push(t);break}{o=o.concat(a.slice(1));const u=o.pop();if(!u)break;t=u}}let l=r.getTimezoneOffset();i&&(l=I5(i,l),r=function Bse(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function Lse(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(I5(t,r)-r))}(r,i,!0));let c="";return o.forEach(u=>{const d=function Fse(n){if(QP[n])return QP[n];let t;switch(n){case"G":case"GG":case"GGG":t=fr(zn.Eras,si.Abbreviated);break;case"GGGG":t=fr(zn.Eras,si.Wide);break;case"GGGGG":t=fr(zn.Eras,si.Narrow);break;case"y":t=vs(yn.FullYear,1,0,!1,!0);break;case"yy":t=vs(yn.FullYear,2,0,!0,!0);break;case"yyy":t=vs(yn.FullYear,3,0,!1,!0);break;case"yyyy":t=vs(yn.FullYear,4,0,!1,!0);break;case"Y":t=xS(1);break;case"YY":t=xS(2,!0);break;case"YYY":t=xS(3);break;case"YYYY":t=xS(4);break;case"M":case"L":t=vs(yn.Month,1,1);break;case"MM":case"LL":t=vs(yn.Month,2,1);break;case"MMM":t=fr(zn.Months,si.Abbreviated);break;case"MMMM":t=fr(zn.Months,si.Wide);break;case"MMMMM":t=fr(zn.Months,si.Narrow);break;case"LLL":t=fr(zn.Months,si.Abbreviated,cs.Standalone);break;case"LLLL":t=fr(zn.Months,si.Wide,cs.Standalone);break;case"LLLLL":t=fr(zn.Months,si.Narrow,cs.Standalone);break;case"w":t=ZP(1);break;case"ww":t=ZP(2);break;case"W":t=ZP(1,!0);break;case"d":t=vs(yn.Date,1);break;case"dd":t=vs(yn.Date,2);break;case"c":case"cc":t=vs(yn.Day,1);break;case"ccc":t=fr(zn.Days,si.Abbreviated,cs.Standalone);break;case"cccc":t=fr(zn.Days,si.Wide,cs.Standalone);break;case"ccccc":t=fr(zn.Days,si.Narrow,cs.Standalone);break;case"cccccc":t=fr(zn.Days,si.Short,cs.Standalone);break;case"E":case"EE":case"EEE":t=fr(zn.Days,si.Abbreviated);break;case"EEEE":t=fr(zn.Days,si.Wide);break;case"EEEEE":t=fr(zn.Days,si.Narrow);break;case"EEEEEE":t=fr(zn.Days,si.Short);break;case"a":case"aa":case"aaa":t=fr(zn.DayPeriods,si.Abbreviated);break;case"aaaa":t=fr(zn.DayPeriods,si.Wide);break;case"aaaaa":t=fr(zn.DayPeriods,si.Narrow);break;case"b":case"bb":case"bbb":t=fr(zn.DayPeriods,si.Abbreviated,cs.Standalone,!0);break;case"bbbb":t=fr(zn.DayPeriods,si.Wide,cs.Standalone,!0);break;case"bbbbb":t=fr(zn.DayPeriods,si.Narrow,cs.Standalone,!0);break;case"B":case"BB":case"BBB":t=fr(zn.DayPeriods,si.Abbreviated,cs.Format,!0);break;case"BBBB":t=fr(zn.DayPeriods,si.Wide,cs.Format,!0);break;case"BBBBB":t=fr(zn.DayPeriods,si.Narrow,cs.Format,!0);break;case"h":t=vs(yn.Hours,1,-12);break;case"hh":t=vs(yn.Hours,2,-12);break;case"H":t=vs(yn.Hours,1);break;case"HH":t=vs(yn.Hours,2);break;case"m":t=vs(yn.Minutes,1);break;case"mm":t=vs(yn.Minutes,2);break;case"s":t=vs(yn.Seconds,1);break;case"ss":t=vs(yn.Seconds,2);break;case"S":t=vs(yn.FractionalSeconds,1);break;case"SS":t=vs(yn.FractionalSeconds,2);break;case"SSS":t=vs(yn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=OS(ks.Short);break;case"ZZZZZ":t=OS(ks.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=OS(ks.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=OS(ks.Long);break;default:return null}return QP[n]=t,t}(u);c+=d?d(r,e,l):"''"===u?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function wS(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function Wu(n,t){const e=function _se(n){return ea(n)[Ht.LocaleId]}(n);if(S0[e]=S0[e]||{},S0[e][t])return S0[e][t];let i="";switch(t){case"shortDate":i=CS(n,Br.Short);break;case"mediumDate":i=CS(n,Br.Medium);break;case"longDate":i=CS(n,Br.Long);break;case"fullDate":i=CS(n,Br.Full);break;case"shortTime":i=ES(n,Br.Short);break;case"mediumTime":i=ES(n,Br.Medium);break;case"longTime":i=ES(n,Br.Long);break;case"fullTime":i=ES(n,Br.Full);break;case"short":const r=Wu(n,"shortTime"),s=Wu(n,"shortDate");i=MS(TS(n,Br.Short),[r,s]);break;case"medium":const o=Wu(n,"mediumTime"),a=Wu(n,"mediumDate");i=MS(TS(n,Br.Medium),[o,a]);break;case"long":const l=Wu(n,"longTime"),c=Wu(n,"longDate");i=MS(TS(n,Br.Long),[l,c]);break;case"full":const u=Wu(n,"fullTime"),d=Wu(n,"fullDate");i=MS(TS(n,Br.Full),[u,d])}return i&&(S0[e][t]=i),i}function MS(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function mc(n,t,e="-",i,r){let s="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,s=e));let o=String(n);for(;o.length<t;)o="0"+o;return i&&(o=o.substr(o.length-t)),s+o}function vs(n,t,e=0,i=!1,r=!1){return function(s,o){let a=function Rse(n,t){switch(n){case yn.FullYear:return t.getFullYear();case yn.Month:return t.getMonth();case yn.Date:return t.getDate();case yn.Hours:return t.getHours();case yn.Minutes:return t.getMinutes();case yn.Seconds:return t.getSeconds();case yn.FractionalSeconds:return t.getMilliseconds();case yn.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((e>0||a>-e)&&(a+=e),n===yn.Hours)0===a&&-12===e&&(a=12);else if(n===yn.FractionalSeconds)return function Ase(n,t){return mc(n,3).substr(0,t)}(a,t);const l=El(o,dn.MinusSign);return mc(a,t,l,i,r)}}function fr(n,t,e=cs.Format,i=!1){return function(r,s){return function Dse(n,t,e,i,r,s){switch(e){case zn.Months:return function yse(n,t,e){const i=ea(n),s=Tl([i[Ht.MonthsFormat],i[Ht.MonthsStandalone]],t);return Tl(s,e)}(t,r,i)[n.getMonth()];case zn.Days:return function vse(n,t,e){const i=ea(n),s=Tl([i[Ht.DaysFormat],i[Ht.DaysStandalone]],t);return Tl(s,e)}(t,r,i)[n.getDay()];case zn.DayPeriods:const o=n.getHours(),a=n.getMinutes();if(s){const c=function Ese(n){const t=ea(n);return P5(t),(t[Ht.ExtraData][2]||[]).map(i=>"string"==typeof i?JP(i):[JP(i[0]),JP(i[1])])}(t),u=function Tse(n,t,e){const i=ea(n);P5(i);const s=Tl([i[Ht.ExtraData][0],i[Ht.ExtraData][1]],t)||[];return Tl(s,e)||[]}(t,r,i),d=c.findIndex(f=>{if(Array.isArray(f)){const[y,O]=f,I=o>=y.hours&&a>=y.minutes,N=o<O.hours||o===O.hours&&a<O.minutes;if(y.hours<O.hours){if(I&&N)return!0}else if(I||N)return!0}else if(f.hours===o&&f.minutes===a)return!0;return!1});if(-1!==d)return u[d]}return function mse(n,t,e){const i=ea(n),s=Tl([i[Ht.DayPeriodsFormat],i[Ht.DayPeriodsStandalone]],t);return Tl(s,e)}(t,r,i)[o<12?0:1];case zn.Eras:return function bse(n,t){return Tl(ea(n)[Ht.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,s,n,t,e,i)}}function OS(n){return function(t,e,i){const r=-1*i,s=El(e,dn.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case ks.Short:return(r>=0?"+":"")+mc(o,2,s)+mc(Math.abs(r%60),2,s);case ks.ShortGMT:return"GMT"+(r>=0?"+":"")+mc(o,1,s);case ks.Long:return"GMT"+(r>=0?"+":"")+mc(o,2,s)+":"+mc(Math.abs(r%60),2,s);case ks.Extended:return 0===i?"Z":(r>=0?"+":"")+mc(o,2,s)+":"+mc(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}function x5(n){return wS(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function ZP(n,t=!1){return function(e,i){let r;if(t){const s=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,o=e.getDate();r=1+Math.floor((o+s)/7)}else{const s=x5(e),o=function kse(n){const t=wS(n,0,1).getDay();return wS(n,0,1+(t<=4?4:11)-t)}(s.getFullYear()),a=s.getTime()-o.getTime();r=1+Math.round(a/6048e5)}return mc(r,n,El(i,dn.MinusSign))}}function xS(n,t=!1){return function(e,i){return mc(x5(e).getFullYear(),n,El(i,dn.MinusSign),t)}}const QP={};function I5(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function A5(n){return n instanceof Date&&!isNaN(n.valueOf())}const jse=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function AS(n,t,e){return function tx(n,t,e,i,r,s,o=!1){let a="",l=!1;if(isFinite(n)){let c=function Xse(n){let i,r,s,o,a,t=Math.abs(n)+"",e=0;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(s=t.search(/e/i))>0?(r<0&&(r=s),r+=+t.slice(s+1),t=t.substring(0,s)):r<0&&(r=t.length),s=0;"0"===t.charAt(s);s++);if(s===(a=t.length))i=[0],r=1;else{for(a--;"0"===t.charAt(a);)a--;for(r-=s,i=[],o=0;s<=a;s++,o++)i[o]=Number(t.charAt(s))}return r>22&&(i=i.splice(0,21),e=r-1,r=1),{digits:i,exponent:e,integerLen:r}}(n);o&&(c=function Yse(n){if(0===n.digits[0])return n;const t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===t?n.digits.push(0,0):1===t&&n.digits.push(0),n.integerLen+=2),n}(c));let u=t.minInt,d=t.minFrac,f=t.maxFrac;if(s){const B=s.match(jse);if(null===B)throw new Error(`${s} is not a valid digit info`);const G=B[1],Y=B[3],J=B[5];null!=G&&(u=ix(G)),null!=Y&&(d=ix(Y)),null!=J?f=ix(J):null!=Y&&d>f&&(f=d)}!function qse(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let i=n.digits,r=i.length-n.integerLen;const s=Math.min(Math.max(t,r),e);let o=s+n.integerLen,a=i[o];if(o>0){i.splice(Math.max(n.integerLen,o));for(let d=o;d<i.length;d++)i[d]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,o=s+1),i[0]=0;for(let d=1;d<o;d++)i[d]=0}if(a>=5)if(o-1<0){for(let d=0;d>o;d--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[o-1]++;for(;r<Math.max(0,s);r++)i.push(0);let l=0!==s;const c=t+n.integerLen,u=i.reduceRight(function(d,f,y,O){return O[y]=(f+=d)<10?f:f-10,l&&(0===O[y]&&y>=c?O.pop():l=!1),f>=10?1:0},0);u&&(i.unshift(u),n.integerLen++)}(c,d,f);let y=c.digits,O=c.integerLen;const I=c.exponent;let N=[];for(l=y.every(B=>!B);O<u;O++)y.unshift(0);for(;O<0;O++)y.unshift(0);O>0?N=y.splice(O,y.length):(N=y,y=[0]);const k=[];for(y.length>=t.lgSize&&k.unshift(y.splice(-t.lgSize,y.length).join(""));y.length>t.gSize;)k.unshift(y.splice(-t.gSize,y.length).join(""));y.length&&k.unshift(y.join("")),a=k.join(El(e,i)),N.length&&(a+=El(e,r)+N.join("")),I&&(a+=El(e,dn.Exponential)+"+"+I)}else a=El(e,dn.Infinity);return a=n<0&&!l?t.negPre+a+t.negSuf:t.posPre+a+t.posSuf,a}(n,function nx(n,t="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(";"),r=i[0],s=i[1],o=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf("0")+1),r.substring(r.lastIndexOf("0")+1)],a=o[0],l=o[1]||"";e.posPre=a.substr(0,a.indexOf("#"));for(let u=0;u<l.length;u++){const d=l.charAt(u);"0"===d?e.minFrac=e.maxFrac=u+1:"#"===d?e.maxFrac=u+1:e.posSuf+=d}const c=a.split(",");if(e.gSize=c[1]?c[1].length:0,e.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,s){const u=r.length-e.posPre.length-e.posSuf.length,d=s.indexOf("#");e.negPre=s.substr(0,d).replace(/'/g,""),e.negSuf=s.substr(d+u).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}(function KP(n,t){return ea(n)[Ht.NumberFormats][t]}(t,Ma.Decimal),El(t,dn.MinusSign)),t,dn.Group,dn.Decimal,e)}function ix(n){const t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}function k5(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}let ys=(()=>{class n{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(t0(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${xi(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(z(y0),z(b0),z(Ei),z(Do))},n.\u0275dir=At({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Zse{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let oi=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,o)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Zse(r.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)i.remove(null===s?void 0:s);else if(null!==s){const a=i.get(s);i.move(a,o),F5(a,r)}});for(let r=0,s=i.length;r<s;r++){const a=i.get(r).context;a.index=r,a.count=s,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{F5(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(z(Ja),z(Cr),z(y0))},n.\u0275dir=At({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function F5(n,t){n.context.$implicit=t.item}let Nt=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Qse,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){L5("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){L5("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(z(Ja),z(Cr))},n.\u0275dir=At({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Qse{constructor(){this.$implicit=null,this.ngIf=null}}function L5(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${xi(t)}'.`)}const B5="browser";function E0(n){return n===B5}class ax{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Fs=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=At({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),co=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new ax(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(z(Ja),z(Cr),z(Fs,9))},n.\u0275dir=At({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),iu=(()=>{class n{constructor(e,i,r){r._addDefault(new ax(e,i))}}return n.\u0275fac=function(e){return new(e||n)(z(Ja),z(Cr),z(Fs,9))},n.\u0275dir=At({type:n,selectors:[["","ngSwitchDefault",""]]}),n})(),vf=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,s]=e.split(".");null!=(i=null!=i&&s?`${i}${s}`:i)?this._renderer.setStyle(this._ngEl.nativeElement,r,i):this._renderer.removeStyle(this._ngEl.nativeElement,r)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(z(Ei),z(b0),z(Do))},n.\u0275dir=At({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})(),Yd=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(e.ngTemplateOutlet){const i=this._viewContainerRef;this._viewRef&&i.remove(i.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?i.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(z(Ja))},n.\u0275dir=At({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[Is]}),n})();function vc(n,t){return new Wt(2100,"")}class xoe{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class Ioe{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}onDestroy(t){}}const Aoe=new Ioe,Roe=new xoe;let Pr=(()=>{class n{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if(r0(e))return Aoe;if(tB(e))return Roe;throw vc()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(z(Sn,16))},n.\u0275pipe=as({name:"async",type:n,pure:!1}),n})();const Loe=new Zt("DATE_PIPE_DEFAULT_TIMEZONE");let Oa=(()=>{class n{constructor(e,i){this.locale=e,this.defaultTimezone=i}transform(e,i="mediumDate",r,s){var o;if(null==e||""===e||e!=e)return null;try{return Ise(e,i,s||this.locale,null!==(o=null!=r?r:this.defaultTimezone)&&void 0!==o?o:void 0)}catch(a){throw vc()}}}return n.\u0275fac=function(e){return new(e||n)(z($d,16),z(Loe,24))},n.\u0275pipe=as({name:"date",type:n,pure:!0}),n})(),Xd=(()=>{class n{constructor(e){this._locale=e}transform(e,i,r){if(!function lx(n){return!(null==n||""===n||n!=n)}(e))return null;r=r||this._locale;try{return AS(function cx(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(e),r,i)}catch(s){throw vc()}}}return n.\u0275fac=function(e){return new(e||n)(z($d,16))},n.\u0275pipe=as({name:"number",type:n,pure:!0}),n})();let W5=(()=>{class n{transform(e,i,r){if(null==e)return null;if(!this.supports(e))throw vc();return e.slice(i,r)}supports(e){return"string"==typeof e||Array.isArray(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=as({name:"slice",type:n,pure:!1}),n})(),Ot=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({}),n})(),$oe=(()=>{class n{}return n.\u0275prov=gt({token:n,providedIn:"root",factory:()=>new Yoe(je(Er),window)}),n})();class Yoe{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Xoe(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(o)return o}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=$5(this.window.history)||$5(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function $5(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Y5{}class ux extends class Koe extends class lse{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ase(n){SS||(SS=n)}(new ux)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Joe(){return w0=w0||document.querySelector("base"),w0?w0.getAttribute("href"):null}();return null==e?null:function Zoe(n){NS=NS||document.createElement("a"),NS.setAttribute("href",n);const t=NS.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){w0=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return k5(document.cookie,t)}}let NS,w0=null;const X5=new Zt("TRANSITION_ID"),eae=[{provide:mS,useFactory:function Qoe(n,t,e){return()=>{e.get(NP).donePromise.then(()=>{const i=nu(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[X5,Er,Ds],multi:!0}];class dx{static init(){!function Nre(n){GP=n}(new dx)}addToWindow(t){qi.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},qi.getAllAngularTestabilities=()=>t.getAllTestabilities(),qi.getAllAngularRootElements=()=>t.getAllRootElements(),qi.frameworkStabilizers||(qi.frameworkStabilizers=[]),qi.frameworkStabilizers.push(i=>{const r=qi.getAllAngularTestabilities();let s=r.length,o=!1;const a=function(l){o=o||l,s--,0==s&&i(o)};r.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:i?nu().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let tae=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})();const kS=new Zt("EventManagerPlugins");let FS=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const o=r[s];if(o.supports(e))return this._eventNameToPlugin.set(e,o),o}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(je(kS),je(Zn))},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})();class q5{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=nu().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let K5=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})(),M0=(()=>{class n extends K5{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,r.push(i.appendChild(o))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(J5),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(J5))}}return n.\u0275fac=function(e){return new(e||n)(je(Er))},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})();function J5(n){nu().remove(n)}const hx={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},fx=/%COMP%/g;function LS(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?LS(n,r,e):(r=r.replace(fx,n),e.push(r))}return e}function eU(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let BS=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new px(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case ac.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new aae(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case ac.ShadowDom:return new lae(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=LS(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(je(FS),je(M0),je(v0))},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})();class px{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(hx[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=hx[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=hx[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(Xa.DashCase|Xa.Important)?t.style.setProperty(e,i,r&Xa.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&Xa.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,eU(i)):this.eventManager.addEventListener(t,e,eU(i))}}class aae extends px{constructor(t,e,i,r){super(t),this.component=i;const s=LS(r+"-"+i.id,i.styles,[]);e.addStyles(s),this.contentAttr=function rae(n){return"_ngcontent-%COMP%".replace(fx,n)}(r+"-"+i.id),this.hostAttr=function sae(n){return"_nghost-%COMP%".replace(fx,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class lae extends px{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=LS(r.id,r.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let cae=(()=>{class n extends q5{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(je(Er))},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})();const nU=["alt","control","meta","shift"],dae={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},iU={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},hae={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let fae=(()=>{class n extends q5{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),o=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>nu().onAndCancel(e,s.domEventName,o))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let o="";if(nU.forEach(l=>{const c=i.indexOf(l);c>-1&&(i.splice(c,1),o+=l+".")}),o+=s,0!=i.length||0===s.length)return null;const a={};return a.domEventName=r,a.fullKey=o,a}static getEventFullKey(e){let i="",r=function pae(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&iU.hasOwnProperty(t)&&(t=iU[t]))}return dae[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),nU.forEach(s=>{s!=r&&hae[s](e)&&(i+=s+".")}),i+=r,i}static eventCallback(e,i,r){return s=>{n.getEventFullKey(s)===e&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(je(Er))},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})();const vae=a5(rse,"browser",[{provide:S_,useValue:B5},{provide:Q4,useValue:function gae(){ux.makeCurrent(),dx.init()},multi:!0},{provide:Er,useFactory:function mae(){return function wJ(n){DM=n}(document),document},deps:[]}]),yae=[{provide:XO,useValue:"root"},{provide:Xg,useFactory:function _ae(){return new Xg},deps:[]},{provide:kS,useClass:cae,multi:!0,deps:[Er,Zn,S_]},{provide:kS,useClass:fae,multi:!0,deps:[Er]},{provide:BS,useClass:BS,deps:[FS,M0,v0]},{provide:m_,useExisting:BS},{provide:K5,useExisting:M0},{provide:M0,useClass:M0,deps:[Er]},{provide:UP,useClass:UP,deps:[Zn]},{provide:FS,useClass:FS,deps:[kS,Zn]},{provide:Y5,useClass:tae,deps:[]}];let rU=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:v0,useValue:e.appId},{provide:X5,useExisting:v0},eae]}}}return n.\u0275fac=function(e){return new(e||n)(je(n,12))},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({providers:yae,imports:[Ot,sse]}),n})();"undefined"!=typeof window&&window;let _x=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=gt({token:n,factory:function(e){let i=null;return i=e?new(e||n):je(aU),i},providedIn:"root"}),n})(),aU=(()=>{class n extends _x{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case hr.NONE:return i;case hr.HTML:return qc(i,"HTML")?qa(i):DF(this._doc,String(i)).toString();case hr.STYLE:return qc(i,"Style")?qa(i):i;case hr.SCRIPT:if(qc(i,"Script"))return qa(i);throw new Error("unsafe value used in a script context");case hr.URL:return wF(i),qc(i,"URL")?qa(i):qv(String(i));case hr.RESOURCE_URL:if(qc(i,"ResourceURL"))return qa(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return function uQ(n){return new sQ(n)}(e)}bypassSecurityTrustStyle(e){return function dQ(n){return new oQ(n)}(e)}bypassSecurityTrustScript(e){return function hQ(n){return new aQ(n)}(e)}bypassSecurityTrustUrl(e){return function fQ(n){return new lQ(n)}(e)}bypassSecurityTrustResourceUrl(e){return function pQ(n){return new cQ(n)}(e)}}return n.\u0275fac=function(e){return new(e||n)(je(Er))},n.\u0275prov=gt({token:n,factory:function(e){let i=null;return i=e?new e:function xae(n){return new aU(n.get(Er))}(je(Ds)),i},providedIn:"root"}),n})();function US(n){return n&&n.Math==Math?n:void 0}const bs="object"==typeof globalThis&&US(globalThis)||"object"==typeof window&&US(window)||"object"==typeof self&&US(self)||"object"==typeof global&&US(global)||function(){return this}()||{};function lU(n,t,e){const i=e||bs,r=i.__SENTRY__=i.__SENTRY__||{};return r[n]||(r[n]=t())}const GS="production",cU=Object.prototype.toString;function E_(n,t){return cU.call(n)===`[object ${t}]`}function mx(n){return E_(n,"String")}function uU(n){return"object"==typeof n&&null!==n&&"__sentry_template_string__"in n&&"__sentry_template_values__"in n}function O0(n){return E_(n,"Object")}function jS(n){return Boolean(n&&n.then&&"function"==typeof n.then)}function dU(n){return"number"==typeof n&&n!=n}function HS(n,t){try{return n instanceof t}catch(e){return!1}}const T_=function Iae(){return bs}();function Gae(n,t){const e=n,i=[];let r,s,o,a,l;if(!e||!e.tagName)return"";if(T_.HTMLElement&&e instanceof HTMLElement&&e.dataset&&e.dataset.sentryComponent)return e.dataset.sentryComponent;i.push(e.tagName.toLowerCase());const c=t&&t.length?t.filter(d=>e.getAttribute(d)).map(d=>[d,e.getAttribute(d)]):null;if(c&&c.length)c.forEach(d=>{i.push(`[${d[0]}="${d[1]}"]`)});else if(e.id&&i.push(`#${e.id}`),r=e.className,r&&mx(r))for(s=r.split(/\s+/),l=0;l<s.length;l++)i.push(`.${s[l]}`);const u=["aria-label","type","name","title","alt"];for(l=0;l<u.length;l++)o=u[l],a=e.getAttribute(o),a&&i.push(`[${o}="${a}"]`);return i.join("")}const VS="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,hU=["debug","info","warn","error","log","assert","trace"],fU={};function zS(n){if(!("console"in bs))return n();const t=bs.console,e={},i=Object.keys(fU);i.forEach(r=>{const s=fU[r];e[r]=t[r],t[r]=s});try{return n()}finally{i.forEach(r=>{t[r]=e[r]})}}const $t=function Hae(){let n=!1;const t={enable:()=>{n=!0},disable:()=>{n=!1},isEnabled:()=>n};return hU.forEach(VS?e=>{t[e]=(...i)=>{n&&zS(()=>{bs.console[e](`Sentry Logger [${e}]:`,...i)})}}:e=>{t[e]=()=>{}}),t}();function WS(n,t,e){try{Object.defineProperty(n,t,{value:e,writable:!0,configurable:!0})}catch(i){VS&&$t.log(`Failed to add non-enumerable property "${t}" to object`,n)}}function gU(n){try{return function Nae(n){return"undefined"!=typeof Element&&HS(n,Element)}(n)?function Uae(n,t={}){if(!n)return"<unknown>";try{let e=n;const i=5,r=[];let s=0,o=0;const a=" > ",l=a.length;let c;const u=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||80;for(;e&&s++<i&&(c=Gae(e,u),!("html"===c||s>1&&o+r.length*l+c.length>=d));)r.push(c),o+=c.length,e=e.parentNode;return r.reverse().join(a)}catch(e){return"<unknown>"}}(n):Object.prototype.toString.call(n)}catch(t){return"<unknown>"}}function _U(n){if("object"==typeof n&&null!==n){const t={};for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t}return{}}function Pa(n){return vx(n,new Map)}function vx(n,t){if(function $ae(n){if(!O0(n))return!1;try{const t=Object.getPrototypeOf(n).constructor.name;return!t||"Object"===t}catch(t){return!0}}(n)){const e=t.get(n);if(void 0!==e)return e;const i={};t.set(n,i);for(const r of Object.keys(n))void 0!==n[r]&&(i[r]=vx(n[r],t));return i}if(Array.isArray(n)){const e=t.get(n);if(void 0!==e)return e;const i=[];return t.set(n,i),n.forEach(r=>{i.push(vx(r,t))}),i}return n}function ia(){const t=bs.crypto||bs.msCrypto;let e=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(e=()=>{const i=new Uint8Array(1);return t.getRandomValues(i),i[0]})}catch(i){}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,i=>(i^(15&e())>>i/4).toString(16))}function mU(n){return n.exception&&n.exception.values?n.exception.values[0]:void 0}function yf(n){const{message:t,event_id:e}=n;if(t)return t;const i=mU(n);return i?i.type&&i.value?`${i.type}: ${i.value}`:i.type||i.value||e||"<unknown>":e||"<unknown>"}function vU(n){if(n&&n.__sentry_captured__)return!0;try{WS(n,"__sentry_captured__",!0)}catch(t){}return!1}function yU(n){return Array.isArray(n)?n:[n]}function $S(){return Date.now()/1e3}const P0=function qae(){const{performance:n}=bs;if(!n||!n.now)return $S;const t=Date.now()-n.now(),e=null==n.timeOrigin?t:n.timeOrigin;return()=>(e+n.now())/1e3}();let YS;(()=>{const{performance:n}=bs;if(!n||!n.now)return void(YS="none");const t=36e5,e=n.now(),i=Date.now(),r=n.timeOrigin?Math.abs(n.timeOrigin+e-i):t,s=r<t,o=n.timing&&n.timing.navigationStart,l="number"==typeof o?Math.abs(o+e-i):t;YS=s||l<t?r<=l?"timeOrigin":"navigationStart":"dateNow"})();const on="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;var $u;function XS(n){return new wl(t=>{t(n)})}function SU(n){return new wl((t,e)=>{e(n)})}!function(n){n[n.PENDING=0]="PENDING",n[n.RESOLVED=1]="RESOLVED",n[n.REJECTED=2]="REJECTED"}($u||($u={}));class wl{constructor(t){wl.prototype.__init.call(this),wl.prototype.__init2.call(this),wl.prototype.__init3.call(this),wl.prototype.__init4.call(this),this._state=$u.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(e){this._reject(e)}}then(t,e){return new wl((i,r)=>{this._handlers.push([!1,s=>{if(t)try{i(t(s))}catch(o){r(o)}else i(s)},s=>{if(e)try{i(e(s))}catch(o){r(o)}else r(s)}]),this._executeHandlers()})}catch(t){return this.then(e=>e,t)}finally(t){return new wl((e,i)=>{let r,s;return this.then(o=>{s=!1,r=o,t&&t()},o=>{s=!0,r=o,t&&t()}).then(()=>{s?i(r):e(r)})})}__init(){this._resolve=t=>{this._setResult($u.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult($u.REJECTED,t)}}__init3(){this._setResult=(t,e)=>{if(this._state===$u.PENDING){if(jS(e))return void e.then(this._resolve,this._reject);this._state=t,this._value=e,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===$u.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(e=>{e[0]||(this._state===$u.RESOLVED&&e[1](this._value),this._state===$u.REJECTED&&e[2](this._value),e[0]=!0)})}}}function yx(){return lU("globalEventProcessors",()=>[])}function Kae(n){yx().push(n)}function qS(n,t,e,i=0){return new wl((r,s)=>{const o=n[i];if(null===t||"function"!=typeof o)r(t);else{const a=o(Be({},t),e);on&&o.id&&null===a&&$t.log(`Event processor "${o.id}" dropped event`),jS(a)?a.then(l=>qS(n,l,e,i+1).then(r)).then(null,s):qS(n,a,e,i+1).then(r).then(null,s)}})}function CU(n){const t=P0(),e={sid:ia(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function Jae(n){return Pa({sid:`${n.sid}`,init:n.init,started:new Date(1e3*n.started).toISOString(),timestamp:new Date(1e3*n.timestamp).toISOString(),status:n.status,errors:n.errors,did:"number"==typeof n.did||"string"==typeof n.did?`${n.did}`:void 0,duration:n.duration,abnormal_mechanism:n.abnormal_mechanism,attrs:{release:n.release,environment:n.environment,ip_address:n.ipAddress,user_agent:n.userAgent}})}(e)};return n&&bf(e,n),e}function bf(n,t={}){if(t.user&&(!n.ipAddress&&t.user.ip_address&&(n.ipAddress=t.user.ip_address),!n.did&&!t.did&&(n.did=t.user.id||t.user.email||t.user.username)),n.timestamp=t.timestamp||P0(),t.abnormal_mechanism&&(n.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(n.ignoreDuration=t.ignoreDuration),t.sid&&(n.sid=32===t.sid.length?t.sid:ia()),void 0!==t.init&&(n.init=t.init),!n.did&&t.did&&(n.did=`${t.did}`),"number"==typeof t.started&&(n.started=t.started),n.ignoreDuration)n.duration=void 0;else if("number"==typeof t.duration)n.duration=t.duration;else{const e=n.timestamp-n.started;n.duration=e>=0?e:0}t.release&&(n.release=t.release),t.environment&&(n.environment=t.environment),!n.ipAddress&&t.ipAddress&&(n.ipAddress=t.ipAddress),!n.userAgent&&t.userAgent&&(n.userAgent=t.userAgent),"number"==typeof t.errors&&(n.errors=t.errors),t.status&&(n.status=t.status)}function EU(n,t){let e={};t?e={status:t}:"ok"===n.status&&(e={status:"exited"}),bf(n,e)}function KS(n){return n.transaction}function bx(n){const{spanId:t,traceId:e}=n.spanContext(),{data:i,op:r,parent_span_id:s,status:o,tags:a,origin:l}=Ls(n);return Pa({data:i,op:r,parent_span_id:s,span_id:t,status:o,tags:a,trace_id:e,origin:l})}function JS(n){const{traceId:t,spanId:e}=n.spanContext();return function Qae(n=ia(),t=ia().substring(16),e){let i="";return void 0!==e&&(i=e?"-1":"-0"),`${n}-${t}${i}`}(t,e,Sx(n))}function ZS(n){return"number"==typeof n?MU(n):Array.isArray(n)?n[0]+n[1]/1e9:n instanceof Date?MU(n.getTime()):P0()}function MU(n){return n>9999999999?n/1e3:n}function Ls(n){return function tle(n){return"function"==typeof n.getSpanJSON}(n)?n.getSpanJSON():"function"==typeof n.toJSON?n.toJSON():{}}function Sx(n){const{traceFlags:t}=n.spanContext();return Boolean(1&t)}function QS(n,t,e){const i=t.getOptions(),{publicKey:r}=t.getDsn()||{},{segment:s}=e&&e.getUser()||{},o=Pa({environment:i.environment||GS,release:i.release,user_segment:s,public_key:r,trace_id:n});return t.emit&&t.emit("createDsc",o),o}function w_(n){const t=xr();if(!t)return{};const e=QS(Ls(n).trace_id||"",t,Ml()),i=KS(n);if(!i)return e;const r=i&&i._frozenDynamicSamplingContext;if(r)return r;const{sampleRate:s,source:o}=i.metadata;null!=s&&(e.sample_rate=`${s}`);const a=Ls(i);return o&&"url"!==o&&(e.transaction=a.description),e.sampled=String(Sx(i)),t.emit&&t.emit("createDsc",e),e}function OU(n,t){const{fingerprint:e,span:i,breadcrumbs:r,sdkProcessingMetadata:s}=t;(function nle(n,t){const{extra:e,tags:i,user:r,contexts:s,level:o,transactionName:a}=t,l=Pa(e);l&&Object.keys(l).length&&(n.extra=Be(Be({},l),n.extra));const c=Pa(i);c&&Object.keys(c).length&&(n.tags=Be(Be({},c),n.tags));const u=Pa(r);u&&Object.keys(u).length&&(n.user=Be(Be({},u),n.user));const d=Pa(s);d&&Object.keys(d).length&&(n.contexts=Be(Be({},d),n.contexts)),o&&(n.level=o),a&&(n.transaction=a)})(n,t),i&&function sle(n,t){n.contexts=Be({trace:bx(t)},n.contexts);const e=KS(t);if(e){n.sdkProcessingMetadata=Be({dynamicSamplingContext:w_(t)},n.sdkProcessingMetadata);const i=Ls(e).description;i&&(n.tags=Be({transaction:i},n.tags))}}(n,i),function ole(n,t){n.fingerprint=n.fingerprint?yU(n.fingerprint):[],t&&(n.fingerprint=n.fingerprint.concat(t)),n.fingerprint&&!n.fingerprint.length&&delete n.fingerprint}(n,e),function ile(n,t){const e=[...n.breadcrumbs||[],...t];n.breadcrumbs=e.length?e:void 0}(n,r),function rle(n,t){n.sdkProcessingMetadata=Be(Be({},n.sdkProcessingMetadata),t)}(n,s)}function PU(n,t){const{extra:e,tags:i,user:r,contexts:s,level:o,sdkProcessingMetadata:a,breadcrumbs:l,fingerprint:c,eventProcessors:u,attachments:d,propagationContext:f,transactionName:y,span:O}=t;x0(n,"extra",e),x0(n,"tags",i),x0(n,"user",r),x0(n,"contexts",s),x0(n,"sdkProcessingMetadata",a),o&&(n.level=o),y&&(n.transactionName=y),O&&(n.span=O),l.length&&(n.breadcrumbs=[...n.breadcrumbs,...l]),c.length&&(n.fingerprint=[...n.fingerprint,...c]),u.length&&(n.eventProcessors=[...n.eventProcessors,...u]),d.length&&(n.attachments=[...n.attachments,...d]),n.propagationContext=Be(Be({},n.propagationContext),f)}function x0(n,t,e){if(e&&Object.keys(e).length){n[t]=Be({},n[t]);for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[t][i]=e[i])}}let eC;class Yu{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=xU()}static clone(t){return t?t.clone():new Yu}clone(){const t=new Yu;return t._breadcrumbs=[...this._breadcrumbs],t._tags=Be({},this._tags),t._extra=Be({},this._extra),t._contexts=Be({},this._contexts),t._user=this._user,t._level=this._level,t._span=this._span,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata=Be({},this._sdkProcessingMetadata),t._propagationContext=Be({},this._propagationContext),t._client=this._client,t}setClient(t){this._client=t}getClient(){return this._client}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&bf(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags=Be(Be({},this._tags),t),this._notifyScopeListeners(),this}setTag(t,e){return this._tags=xn(Be({},this._tags),{[t]:e}),this._notifyScopeListeners(),this}setExtras(t){return this._extra=Be(Be({},this._extra),t),this._notifyScopeListeners(),this}setExtra(t,e){return this._extra=xn(Be({},this._extra),{[t]:e}),this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,e){return null===e?delete this._contexts[t]:this._contexts[t]=e,this._notifyScopeListeners(),this}setSpan(t){return this._span=t,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const t=this._span;return t&&t.transaction}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const e="function"==typeof t?t(this):t;if(e instanceof Yu){const i=e.getScopeData();this._tags=Be(Be({},this._tags),i.tags),this._extra=Be(Be({},this._extra),i.extra),this._contexts=Be(Be({},this._contexts),i.contexts),i.user&&Object.keys(i.user).length&&(this._user=i.user),i.level&&(this._level=i.level),i.fingerprint.length&&(this._fingerprint=i.fingerprint),e.getRequestSession()&&(this._requestSession=e.getRequestSession()),i.propagationContext&&(this._propagationContext=i.propagationContext)}else if(O0(e)){const i=t;this._tags=Be(Be({},this._tags),i.tags),this._extra=Be(Be({},this._extra),i.extra),this._contexts=Be(Be({},this._contexts),i.contexts),i.user&&(this._user=i.user),i.level&&(this._level=i.level),i.fingerprint&&(this._fingerprint=i.fingerprint),i.requestSession&&(this._requestSession=i.requestSession),i.propagationContext&&(this._propagationContext=i.propagationContext)}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=xU(),this}addBreadcrumb(t,e){const i="number"==typeof e?e:100;if(i<=0)return this;const r=Be({timestamp:$S()},t),s=this._breadcrumbs;return s.push(r),this._breadcrumbs=s.length>i?s.slice(-i):s,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){const{_breadcrumbs:t,_attachments:e,_contexts:i,_tags:r,_extra:s,_user:o,_level:a,_fingerprint:l,_eventProcessors:c,_propagationContext:u,_sdkProcessingMetadata:d,_transactionName:f,_span:y}=this;return{breadcrumbs:t,attachments:e,contexts:i,tags:r,extra:s,user:o,level:a,fingerprint:l||[],eventProcessors:c,propagationContext:u,sdkProcessingMetadata:d,transactionName:f,span:y}}applyToEvent(t,e={},i=[]){return OU(t,this.getScopeData()),qS([...i,...yx(),...this._eventProcessors],t,e)}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=Be(Be({},this._sdkProcessingMetadata),t),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,e){const i=e&&e.event_id?e.event_id:ia();if(!this._client)return $t.warn("No client configured on scope - will not capture exception!"),i;const r=new Error("Sentry syntheticException");return this._client.captureException(t,xn(Be({originalException:t,syntheticException:r},e),{event_id:i}),this),i}captureMessage(t,e,i){const r=i&&i.event_id?i.event_id:ia();if(!this._client)return $t.warn("No client configured on scope - will not capture message!"),r;const s=new Error(t);return this._client.captureMessage(t,e,xn(Be({originalException:t,syntheticException:s},i),{event_id:r}),this),r}captureEvent(t,e){const i=e&&e.event_id?e.event_id:ia();return this._client?(this._client.captureEvent(t,xn(Be({},e),{event_id:i}),this),i):($t.warn("No client configured on scope - will not capture event!"),i)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}function xU(){return{traceId:ia(),spanId:ia().substring(16)}}const Cx="7.119.0",Ex=parseFloat(Cx),cle=100;class Tx{constructor(t,e,i,r=Ex){let s,o;this._version=r,e?s=e:(s=new Yu,s.setClient(t)),i?o=i:(o=new Yu,o.setClient(t)),this._stack=[{scope:s}],t&&this.bindClient(t),this._isolationScope=o}isOlderThan(t){return this._version<t}bindClient(t){const e=this.getStackTop();e.client=t,e.scope.setClient(t),t&&t.setupIntegrations&&t.setupIntegrations()}pushScope(){const t=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:t}),t}popScope(){return!(this.getStack().length<=1||!this.getStack().pop())}withScope(t){const e=this.pushScope();let i;try{i=t(e)}catch(r){throw this.popScope(),r}return jS(i)?i.then(r=>(this.popScope(),r),r=>{throw this.popScope(),r}):(this.popScope(),i)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(t,e){const i=this._lastEventId=e&&e.event_id?e.event_id:ia(),r=new Error("Sentry syntheticException");return this.getScope().captureException(t,xn(Be({originalException:t,syntheticException:r},e),{event_id:i})),i}captureMessage(t,e,i){const r=this._lastEventId=i&&i.event_id?i.event_id:ia(),s=new Error(t);return this.getScope().captureMessage(t,e,xn(Be({originalException:t,syntheticException:s},i),{event_id:r})),r}captureEvent(t,e){const i=e&&e.event_id?e.event_id:ia();return t.type||(this._lastEventId=i),this.getScope().captureEvent(t,xn(Be({},e),{event_id:i})),i}lastEventId(){return this._lastEventId}addBreadcrumb(t,e){const{scope:i,client:r}=this.getStackTop();if(!r)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:o=cle}=r.getOptions&&r.getOptions()||{};if(o<=0)return;const a=$S(),l=Be({timestamp:a},t),c=s?zS(()=>s(l,e)):l;null!==c&&(r.emit&&r.emit("beforeAddBreadcrumb",c,e),i.addBreadcrumb(c,o))}setUser(t){this.getScope().setUser(t),this.getIsolationScope().setUser(t)}setTags(t){this.getScope().setTags(t),this.getIsolationScope().setTags(t)}setExtras(t){this.getScope().setExtras(t),this.getIsolationScope().setExtras(t)}setTag(t,e){this.getScope().setTag(t,e),this.getIsolationScope().setTag(t,e)}setExtra(t,e){this.getScope().setExtra(t,e),this.getIsolationScope().setExtra(t,e)}setContext(t,e){this.getScope().setContext(t,e),this.getIsolationScope().setContext(t,e)}configureScope(t){const{scope:e,client:i}=this.getStackTop();i&&t(e)}run(t){const e=IU(this);try{t(this)}finally{IU(e)}}getIntegration(t){const e=this.getClient();if(!e)return null;try{return e.getIntegration(t)}catch(i){return on&&$t.warn(`Cannot retrieve integration ${t.id} from the current Hub`),null}}startTransaction(t,e){const i=this._callExtensionMethod("startTransaction",t,e);return on&&!i&&(this.getClient()?$t.warn("Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':\nSentry.addTracingExtensions();\nSentry.init({...});\n"):$t.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")),i}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(t=!1){if(t)return this.endSession();this._sendSessionUpdate()}endSession(){const e=this.getStackTop().scope,i=e.getSession();i&&EU(i),this._sendSessionUpdate(),e.setSession()}startSession(t){const{scope:e,client:i}=this.getStackTop(),{release:r,environment:s=GS}=i&&i.getOptions()||{},{userAgent:o}=bs.navigator||{},a=CU(Be(Be({release:r,environment:s,user:e.getUser()},o&&{userAgent:o}),t)),l=e.getSession&&e.getSession();return l&&"ok"===l.status&&bf(l,{status:"exited"}),this.endSession(),e.setSession(a),a}shouldSendDefaultPii(){const t=this.getClient(),e=t&&t.getOptions();return Boolean(e&&e.sendDefaultPii)}_sendSessionUpdate(){const{scope:t,client:e}=this.getStackTop(),i=t.getSession();i&&e&&e.captureSession&&e.captureSession(i)}_callExtensionMethod(t,...e){const r=Sf().__SENTRY__;if(r&&r.extensions&&"function"==typeof r.extensions[t])return r.extensions[t].apply(this,e);on&&$t.warn(`Extension method ${t} couldn't be found, doing nothing.`)}}function Sf(){return bs.__SENTRY__=bs.__SENTRY__||{extensions:{},hub:void 0},bs}function IU(n){const t=Sf(),e=tC(t);return wx(t,n),e}function qs(){const n=Sf();if(n.__SENTRY__&&n.__SENTRY__.acs){const t=n.__SENTRY__.acs.getCurrentHub();if(t)return t}return function AU(n=Sf()){return(!function RU(n){return!!(n&&n.__SENTRY__&&n.__SENTRY__.hub)}(n)||tC(n).isOlderThan(Ex))&&wx(n,new Tx),tC(n)}(n)}function Cf(){return qs().getIsolationScope()}function tC(n){return lU("hub",()=>new Tx,n)}function wx(n,t){return!!n&&((n.__SENTRY__=n.__SENTRY__||{}).hub=t,!0)}function Mx(n,t=0){return"string"!=typeof n||0===t||n.length<=t?n:`${n.slice(0,t)}...`}function nC(n,t=[],e=!1){return t.some(i=>function ule(n,t,e=!1){return!!mx(n)&&(function kae(n){return E_(n,"RegExp")}(t)?t.test(n):!!mx(t)&&(e?n===t:n.includes(t)))}(n,i,e))}const Ox="<anonymous>";function FU(n){try{return n&&"function"==typeof n&&n.name||Ox}catch(t){return Ox}}function Kd(n,t=100,e=1/0){try{return Px("",n,t,e)}catch(i){return{ERROR:`**non-serializable** (${i})`}}}function Px(n,t,e=1/0,i=1/0,r=function dle(){const n="function"==typeof WeakSet,t=n?new WeakSet:[];return[function e(r){if(n)return!!t.has(r)||(t.add(r),!1);for(let s=0;s<t.length;s++)if(t[s]===r)return!0;return t.push(r),!1},function i(r){if(n)t.delete(r);else for(let s=0;s<t.length;s++)if(t[s]===r){t.splice(s,1);break}}]}()){const[s,o]=r;if(null==t||["number","boolean","string"].includes(typeof t)&&!dU(t))return t;const a=function gle(n,t){try{if("domain"===n&&t&&"object"==typeof t&&t._events)return"[Domain]";if("domainEmitter"===n)return"[DomainEmitter]";if("undefined"!=typeof global&&t===global)return"[Global]";if("undefined"!=typeof window&&t===window)return"[Window]";if("undefined"!=typeof document&&t===document)return"[Document]";if(function Lae(n){return!("object"!=typeof n||null===n||!n.__isVue&&!n._isVue)}(t))return"[VueViewModel]";if(function Fae(n){return O0(n)&&"nativeEvent"in n&&"preventDefault"in n&&"stopPropagation"in n}(t))return"[SyntheticEvent]";if("number"==typeof t&&t!=t)return"[NaN]";if("function"==typeof t)return`[Function: ${FU(t)}]`;if("symbol"==typeof t)return`[${String(t)}]`;if("bigint"==typeof t)return`[BigInt: ${String(t)}]`;const e=function _le(n){const t=Object.getPrototypeOf(n);return t?t.constructor.name:"null prototype"}(t);return/^HTML(\w*)Element$/.test(e)?`[HTMLElement: ${e}]`:`[object ${e}]`}catch(e){return`**non-serializable** (${e})`}}(n,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const l="number"==typeof t.__sentry_override_normalization_depth__?t.__sentry_override_normalization_depth__:e;if(0===l)return a.replace("object ","");if(s(t))return"[Circular ~]";const c=t;if(c&&"function"==typeof c.toJSON)try{return Px("",c.toJSON(),l-1,i,r)}catch(y){}const u=Array.isArray(t)?[]:{};let d=0;const f=function pU(n){if(function Aae(n){switch(cU.call(n)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return HS(n,Error)}}(n))return Be({message:n.message,name:n.name,stack:n.stack},_U(n));if(function Dae(n){return"undefined"!=typeof Event&&HS(n,Event)}(n)){const t=Be({type:n.type,target:gU(n.target),currentTarget:gU(n.currentTarget)},_U(n));return"undefined"!=typeof CustomEvent&&HS(n,CustomEvent)&&(t.detail=n.detail),t}return n}(t);for(const y in f)if(Object.prototype.hasOwnProperty.call(f,y)){if(d>=i){u[y]="[MaxProperties ~]";break}u[y]=Px(y,f[y],l-1,i,r),d++}return o(t),u}const LU=new WeakMap;const Ple=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function I0(n,t){return qs().captureException(n,function Mle(n){if(n)return function Ole(n){return n instanceof Yu||"function"==typeof n}(n)||function xle(n){return Object.keys(n).some(t=>Ple.includes(t))}(n)?{captureContext:n}:n}(t))}function BU(n,t){return qs().captureEvent(n,t)}function Ks(n,t){qs().addBreadcrumb(n,t)}function ru(n,t){qs().setTag(n,t)}function UU(...n){const t=qs();if(2===n.length){const[e,i]=n;return t.withScope(e?()=>(t.getStackTop().scope=e,i(e)):i)}return t.withScope(n[0])}function xr(){return qs().getClient()}function Ml(){return qs().getScope()}function jU(n){const t=xr(),e=Cf(),i=Ml(),{release:r,environment:s=GS}=t&&t.getOptions()||{},{userAgent:o}=bs.navigator||{},a=CU(Be(Be({release:r,environment:s,user:i.getUser()||e.getUser()},o&&{userAgent:o}),n)),l=e.getSession();return l&&"ok"===l.status&&bf(l,{status:"exited"}),HU(),e.setSession(a),i.setSession(a),a}function HU(){const n=Cf(),t=Ml(),e=t.getSession()||n.getSession();e&&EU(e),VU(),n.setSession(),t.setSession()}function VU(){const n=Cf(),t=Ml(),e=xr(),i=t.getSession()||n.getSession();i&&e&&e.captureSession&&e.captureSession(i)}function zU(n=!1){n?HU():VU()}const WU=[];function Dle(n){const t=n.defaultIntegrations||[],e=n.integrations;let i;t.forEach(o=>{o.isDefaultInstance=!0}),i=Array.isArray(e)?[...t,...e]:"function"==typeof e?yU(e(t)):t;const r=function Rle(n){const t={};return n.forEach(e=>{const{name:i}=e,r=t[i];r&&!r.isDefaultInstance&&e.isDefaultInstance||(t[i]=e)}),Object.keys(t).map(e=>t[e])}(i),s=function kle(n,t){for(let e=0;e<n.length;e++)if(!0===t(n[e]))return e;return-1}(r,o=>"Debug"===o.name);if(-1!==s){const[o]=r.splice(s,1);r.push(o)}return r}function $U(n,t){for(const e of t)e&&e.afterAllSetup&&e.afterAllSetup(n)}function YU(n,t,e){if(e[t.name])on&&$t.log(`Integration skipped because it was already installed: ${t.name}`);else{if(e[t.name]=t,-1===WU.indexOf(t.name)&&(t.setupOnce(Kae,qs),WU.push(t.name)),t.setup&&"function"==typeof t.setup&&t.setup(n),n.on&&"function"==typeof t.preprocessEvent){const i=t.preprocessEvent.bind(t);n.on("preprocessEvent",(r,s)=>i(r,s,n))}if(n.addEventProcessor&&"function"==typeof t.processEvent){const i=t.processEvent.bind(t),r=Object.assign((s,o)=>i(s,o,n),{id:t.name});n.addEventProcessor(r)}on&&$t.log(`Integration installed: ${t.name}`)}}function Xu(n,t){return Object.assign(function(...i){return t(...i)},{id:n})}const Fle=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/],Lle=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/],XU="InboundFilters",qU=(n={})=>({name:XU,setupOnce(){},processEvent(t,e,i){const r=i.getOptions(),s=function Ble(n={},t={}){return{allowUrls:[...n.allowUrls||[],...t.allowUrls||[]],denyUrls:[...n.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...n.ignoreErrors||[],...t.ignoreErrors||[],...n.disableErrorDefaults?[]:Fle],ignoreTransactions:[...n.ignoreTransactions||[],...t.ignoreTransactions||[],...n.disableTransactionDefaults?[]:Lle],ignoreInternal:void 0===n.ignoreInternal||n.ignoreInternal}}(n,r);return function Ule(n,t){return t.ignoreInternal&&function Wle(n){try{return"SentryError"===n.exception.values[0].type}catch(t){}return!1}(n)?(on&&$t.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${yf(n)}`),!0):function Gle(n,t){return!(n.type||!t||!t.length)&&function zle(n){const t=[];let e;n.message&&t.push(n.message);try{e=n.exception.values[n.exception.values.length-1]}catch(i){}return e&&e.value&&(t.push(e.value),e.type&&t.push(`${e.type}: ${e.value}`)),on&&0===t.length&&$t.error(`Could not extract message for event ${yf(n)}`),t}(n).some(e=>nC(e,t))}(n,t.ignoreErrors)?(on&&$t.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${yf(n)}`),!0):function jle(n,t){if("transaction"!==n.type||!t||!t.length)return!1;const e=n.transaction;return!!e&&nC(e,t)}(n,t.ignoreTransactions)?(on&&$t.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${yf(n)}`),!0):function Hle(n,t){if(!t||!t.length)return!1;const e=iC(n);return!!e&&nC(e,t)}(n,t.denyUrls)?(on&&$t.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${yf(n)}.\nUrl: ${iC(n)}`),!0):!function Vle(n,t){if(!t||!t.length)return!0;const e=iC(n);return!e||nC(e,t)}(n,t.allowUrls)&&(on&&$t.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${yf(n)}.\nUrl: ${iC(n)}`),!0)}(t,s)?null:t}});function iC(n){try{let t;try{t=n.exception.values[0].stacktrace.frames}catch(e){}return t?function $le(n=[]){for(let t=n.length-1;t>=0;t--){const e=n[t];if(e&&"<anonymous>"!==e.filename&&"[native code]"!==e.filename)return e.filename||null}return null}(t):null}catch(t){return on&&$t.error(`Cannot extract url for event ${yf(n)}`),null}}let KU;Xu(XU,qU);const JU="FunctionToString",ZU=new WeakMap,QU=()=>({name:JU,setupOnce(){KU=Function.prototype.toString;try{Function.prototype.toString=function(...n){const t=function zae(n){return n.__sentry_original__}(this),e=ZU.has(xr())&&void 0!==t?t:this;return KU.apply(e,n)}}catch(n){}},setup(n){ZU.set(n,!0)}});Xu(JU,QU);const Kle=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function A0(n,t=!1){const{host:e,path:i,pass:r,port:s,projectId:o,protocol:a,publicKey:l}=n;return`${a}://${l}${t&&r?`:${r}`:""}@${e}${s?`:${s}`:""}/${i&&`${i}/`}${o}`}function e8(n){return{protocol:n.protocol,publicKey:n.publicKey||"",pass:n.pass||"",host:n.host,port:n.port||"",path:n.path||"",projectId:n.projectId}}function t8(n){const t="string"==typeof n?function Zle(n){const t=Kle.exec(n);if(!t)return void zS(()=>{console.error(`Invalid Sentry Dsn: ${n}`)});const[e,i,r="",s,o="",a]=t.slice(1);let l="",c=a;const u=c.split("/");if(u.length>1&&(l=u.slice(0,-1).join("/"),c=u.pop()),c){const d=c.match(/^\d+/);d&&(c=d[0])}return e8({host:s,pass:r,path:l,projectId:c,port:o,protocol:e,publicKey:i})}(n):e8(n);if(t&&function Qle(n){if(!VS)return!0;const{port:t,projectId:e,protocol:i}=n;return!(["protocol","publicKey","host","projectId"].find(o=>!n[o]&&($t.error(`Invalid Sentry Dsn: ${o} missing`),!0))||(e.match(/^\d+$/)?function Jle(n){return"http"===n||"https"===n}(i)?t&&isNaN(parseInt(t,10))&&($t.error(`Invalid Sentry Dsn: Invalid port ${t}`),1):($t.error(`Invalid Sentry Dsn: Invalid protocol ${i}`),1):($t.error(`Invalid Sentry Dsn: Invalid projectId ${e}`),1)))}(t))return t}function n8(n){return`${n.protocol?`${n.protocol}:`:""}//${n.host}${n.port?`:${n.port}`:""}${n.path?`/${n.path}`:""}/api/`}function ice(n,t={}){const i="string"!=typeof t&&t._metadata?t._metadata.sdk:void 0;return("string"==typeof t?t:t.tunnel)||`${function tce(n){return`${n8(n)}${n.projectId}/envelope/`}(n)}?${function nce(n,t){return function Wae(n){return Object.keys(n).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(n[t])}`).join("&")}(Be({sentry_key:n.publicKey,sentry_version:"7"},t&&{sentry_client:`${t.name}/${t.version}`}))}(n,i)}`}const r8=/\(error: (.*)\)/,s8=/captureMessage|captureException/;function o8(...n){const t=n.sort((e,i)=>e[0]-i[0]).map(e=>e[1]);return(e,i=0)=>{const r=[],s=e.split("\n");for(let o=i;o<s.length;o++){const a=s[o];if(a.length>1024)continue;const l=r8.test(a)?a.replace(r8,"$1"):a;if(!l.match(/\S*Error: /)){for(const c of t){const u=c(l);if(u){r.push(u);break}}if(r.length>=50)break}}return function oce(n){if(!n.length)return[];const t=Array.from(n);return/sentryWrapped/.test(t[t.length-1].function||"")&&t.pop(),t.reverse(),s8.test(t[t.length-1].function||"")&&(t.pop(),s8.test(t[t.length-1].function||"")&&t.pop()),t.slice(0,50).map(e=>xn(Be({},e),{filename:e.filename||t[t.length-1].filename,function:e.function||"?"}))}(r)}}function sce(n){return Array.isArray(n)?o8(...n):n}const Ax="<anonymous>";function Jd(n){try{return n&&"function"==typeof n&&n.name||Ax}catch(t){return Ax}}const rC="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function sC(n){return n&&n.Math==Math?n:void 0}const Ir="object"==typeof globalThis&&sC(globalThis)||"object"==typeof window&&sC(window)||"object"==typeof self&&sC(self)||"object"==typeof global&&sC(global)||function(){return this}()||{};function Rx(){return Ir}const Dx=["debug","info","warn","error","log","assert","trace"],oC={},ra=function cce(){let n=!1;const t={enable:()=>{n=!0},disable:()=>{n=!1},isEnabled:()=>n};return Dx.forEach(rC?e=>{t[e]=(...i)=>{n&&function lce(n){if(!("console"in Ir))return n();const t=Ir.console,e={},i=Object.keys(oC);i.forEach(r=>{const s=oC[r];e[r]=t[r],t[r]=s});try{n()}finally{i.forEach(r=>{t[r]=e[r]})}}(()=>{Ir.console[e](`Sentry Logger [${e}]:`,...i)})}}:e=>{t[e]=()=>{}}),t}(),aC=Rx();function Nx(){if(!("fetch"in aC))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(n){return!1}}function kx(n){return n&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(n.toString())}const a8=Object.prototype.toString;function l8(n){switch(a8.call(n)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return Tf(n,Error)}}function M_(n,t){return a8.call(n)===`[object ${t}]`}function Fx(n){return M_(n,"ErrorEvent")}function c8(n){return M_(n,"DOMError")}function Ef(n){return M_(n,"String")}function u8(n){return"object"==typeof n&&null!==n&&"__sentry_template_string__"in n&&"__sentry_template_values__"in n}function d8(n){return null===n||u8(n)||"object"!=typeof n&&"function"!=typeof n}function h8(n){return M_(n,"Object")}function lC(n){return"undefined"!=typeof Event&&Tf(n,Event)}function Tf(n,t){try{return n instanceof t}catch(e){return!1}}function f8(n){return!("object"!=typeof n||null===n||!n.__isVue&&!n._isVue)}const O_=Rx();function p8(n,t={}){if(!n)return"<unknown>";try{let e=n;const i=5,r=[];let s=0,o=0;const a=" > ",l=a.length;let c;const u=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||80;for(;e&&s++<i&&(c=mce(e,u),!("html"===c||s>1&&o+r.length*l+c.length>=d));)r.push(c),o+=c.length,e=e.parentNode;return r.reverse().join(a)}catch(e){return"<unknown>"}}function mce(n,t){const e=n,i=[];let r,s,o,a,l;if(!e||!e.tagName)return"";if(O_.HTMLElement&&e instanceof HTMLElement&&e.dataset&&e.dataset.sentryComponent)return e.dataset.sentryComponent;i.push(e.tagName.toLowerCase());const c=t&&t.length?t.filter(d=>e.getAttribute(d)).map(d=>[d,e.getAttribute(d)]):null;if(c&&c.length)c.forEach(d=>{i.push(`[${d[0]}="${d[1]}"]`)});else if(e.id&&i.push(`#${e.id}`),r=e.className,r&&Ef(r))for(s=r.split(/\s+/),l=0;l<s.length;l++)i.push(`.${s[l]}`);const u=["aria-label","type","name","title","alt"];for(l=0;l<u.length;l++)o=u[l],a=e.getAttribute(o),a&&i.push(`[${o}="${a}"]`);return i.join("")}function Lx(n,t=0){return"string"!=typeof n||0===t||n.length<=t?n:`${n.slice(0,t)}...`}function g8(n,t){if(!Array.isArray(n))return"";const e=[];for(let i=0;i<n.length;i++){const r=n[i];try{f8(r)?e.push("[VueViewModel]"):e.push(String(r))}catch(s){e.push("[value cannot be serialized]")}}return e.join(t)}function uo(n,t,e){if(!(t in n))return;const i=n[t],r=e(i);"function"==typeof r&&_8(r,i),n[t]=r}function cC(n,t,e){try{Object.defineProperty(n,t,{value:e,writable:!0,configurable:!0})}catch(i){rC&&ra.log(`Failed to add non-enumerable property "${t}" to object`,n)}}function _8(n,t){try{n.prototype=t.prototype=t.prototype||{},cC(n,"__sentry_original__",t)}catch(e){}}function m8(n){return n.__sentry_original__}function v8(n){if(l8(n))return Be({message:n.message,name:n.name,stack:n.stack},b8(n));if(lC(n)){const t=Be({type:n.type,target:y8(n.target),currentTarget:y8(n.currentTarget)},b8(n));return"undefined"!=typeof CustomEvent&&Tf(n,CustomEvent)&&(t.detail=n.detail),t}return n}function y8(n){try{return function hce(n){return"undefined"!=typeof Element&&Tf(n,Element)}(n)?p8(n):Object.prototype.toString.call(n)}catch(t){return"<unknown>"}}function b8(n){if("object"==typeof n&&null!==n){const t={};for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e]);return t}return{}}const uC=Rx(),P_={},S8={};function wf(n,t){P_[n]=P_[n]||[],P_[n].push(t)}function Mf(n,t){S8[n]||(t(),S8[n]=!0)}function yc(n,t){const e=n&&P_[n];if(e)for(const i of e)try{i(t)}catch(r){rC&&ra.error(`Error while triggering instrumentation handler.\nType: ${n}\nName: ${Jd(i)}\nError:`,r)}}const R0=Ir;let dC;function C8(n){const t="history";wf(t,n),Mf(t,Tce)}function Tce(){if(!function Ece(){const n=uC.chrome;return!(n&&n.app&&n.app.runtime||!("history"in uC)||!uC.history.pushState||!uC.history.replaceState)}())return;const n=R0.onpopstate;function t(e){return function(...i){const r=i.length>2?i[2]:void 0;if(r){const s=dC,o=String(r);dC=o,yc("history",{from:s,to:o})}return e.apply(this,i)}}R0.onpopstate=function(...e){const i=R0.location.href,r=dC;if(dC=i,yc("history",{from:r,to:i}),n)try{return n.apply(this,e)}catch(o){}},uo(R0.history,"pushState",t),uo(R0.history,"replaceState",t)}function D0(n,t=[]){return[n,t]}function wce(n,t){const[e,i]=n;return[e,[...i,t]]}function Ux(n,t){const e=n[1];for(const i of e)if(t(i,i[0].type))return!0;return!1}function Gx(n,t){return(t||new TextEncoder).encode(n)}function Mce(n,t){const[e,i]=n;let r=JSON.stringify(e);function s(o){"string"==typeof r?r="string"==typeof o?r+o:[Gx(r,t),o]:r.push("string"==typeof o?Gx(o,t):o)}for(const o of i){const[a,l]=o;if(s(`\n${JSON.stringify(a)}\n`),"string"==typeof l||l instanceof Uint8Array)s(l);else{let c;try{c=JSON.stringify(l)}catch(u){c=JSON.stringify(Kd(l))}s(c)}}return"string"==typeof r?r:function Oce(n){const t=n.reduce((r,s)=>r+s.length,0),e=new Uint8Array(t);let i=0;for(const r of n)e.set(r,i),i+=r.length;return e}(r)}function Pce(n,t){const e="string"==typeof n.data?Gx(n.data,t):n.data;return[Pa({type:"attachment",length:e.length,filename:n.filename,content_type:n.contentType,attachment_type:n.attachmentType}),e]}const xce={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function E8(n){return xce[n]}function T8(n){if(!n||!n.sdk)return;const{name:t,version:e}=n.sdk;return{name:t,version:e}}class su extends Error{constructor(t,e="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=e}}const w8="Not capturing exception because it's already been captured.";function M8(n){return void 0===n.type}function O8(n){return"transaction"===n.type}function P8(n,t,e=[t],i="npm"){const r=n._metadata||{};r.sdk||(r.sdk={name:`sentry.javascript.${t}`,packages:e.map(s=>({name:`${i}:@sentry/${s}`,version:Cx})),version:Cx}),n._metadata=r}function x8(n,t=[]){return[n,t]}function A8(){return Date.now()/1e3}let hC;function R8(n,t=!1){const{host:e,path:i,pass:r,port:s,projectId:o,protocol:a,publicKey:l}=n;return`${a}://${l}${t&&r?`:${r}`:""}@${e}${s?`:${s}`:""}/${i&&`${i}/`}${o}`}!function Xce(){const{performance:n}=Ir;if(!n||!n.now)return A8;const t=Date.now()-n.now(),e=null==n.timeOrigin?t:n.timeOrigin}(),(()=>{const{performance:n}=Ir;if(!n||!n.now)return void(hC="none");const t=36e5,e=n.now(),i=Date.now(),r=n.timeOrigin?Math.abs(n.timeOrigin+e-i):t,s=r<t,o=n.timing&&n.timing.navigationStart,l="number"==typeof o?Math.abs(o+e-i):t;hC=s||l<t?r<=l?"timeOrigin":"navigationStart":"dateNow"})();const Ol="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function tue(n,t=100,e=1/0){try{return Hx("",n,t,e)}catch(i){return{ERROR:`**non-serializable** (${i})`}}}function N8(n,t=3,e=102400){const i=tue(n,t);return function sue(n){return function rue(n){return~-encodeURI(n).split(/%..|./).length}(JSON.stringify(n))}(i)>e?N8(n,t-1,e):i}function Hx(n,t,e=1/0,i=1/0,r=function eue(){const n="function"==typeof WeakSet,t=n?new WeakSet:[];return[function e(r){if(n)return!!t.has(r)||(t.add(r),!1);for(let s=0;s<t.length;s++)if(t[s]===r)return!0;return t.push(r),!1},function i(r){if(n)t.delete(r);else for(let s=0;s<t.length;s++)if(t[s]===r){t.splice(s,1);break}}]}()){const[s,o]=r;if(null==t||["number","boolean","string"].includes(typeof t)&&!function gce(n){return"number"==typeof n&&n!=n}(t))return t;const a=function nue(n,t){try{if("domain"===n&&t&&"object"==typeof t&&t._events)return"[Domain]";if("domainEmitter"===n)return"[DomainEmitter]";if("undefined"!=typeof global&&t===global)return"[Global]";if("undefined"!=typeof window&&t===window)return"[Window]";if("undefined"!=typeof document&&t===document)return"[Document]";if(f8(t))return"[VueViewModel]";if(function pce(n){return h8(n)&&"nativeEvent"in n&&"preventDefault"in n&&"stopPropagation"in n}(t))return"[SyntheticEvent]";if("number"==typeof t&&t!=t)return"[NaN]";if("function"==typeof t)return`[Function: ${Jd(t)}]`;if("symbol"==typeof t)return`[${String(t)}]`;if("bigint"==typeof t)return`[BigInt: ${String(t)}]`;const e=function iue(n){const t=Object.getPrototypeOf(n);return t?t.constructor.name:"null prototype"}(t);return/^HTML(\w*)Element$/.test(e)?`[HTMLElement: ${e}]`:`[object ${e}]`}catch(e){return`**non-serializable** (${e})`}}(n,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const l="number"==typeof t.__sentry_override_normalization_depth__?t.__sentry_override_normalization_depth__:e;if(0===l)return a.replace("object ","");if(s(t))return"[Circular ~]";const c=t;if(c&&"function"==typeof c.toJSON)try{return Hx("",c.toJSON(),l-1,i,r)}catch(y){}const u=Array.isArray(t)?[]:{};let d=0;const f=v8(t);for(const y in f)if(Object.prototype.hasOwnProperty.call(f,y)){if(d>=i){u[y]="[MaxProperties ~]";break}u[y]=Hx(y,f[y],l-1,i,r),d++}return o(t),u}function k8(n){return n.exception&&n.exception.values?n.exception.values[0]:void 0}function aue(n){const{message:t,event_id:e}=n;if(t)return t;const i=k8(n);return i?i.type&&i.value?`${i.type}: ${i.value}`:i.type||i.value||e||"<unknown>":e||"<unknown>"}function Vx(n,t,e){const i=n.exception=n.exception||{},r=i.values=i.values||[],s=r[0]=r[0]||{};s.value||(s.value=t||""),s.type||(s.type=e||"Error")}function fC(n,t){const e=k8(n);if(!e)return;const r=e.mechanism;if(e.mechanism=Be(Be(Be({},{type:"generic",handled:!0}),r),t),t&&"data"in t){const s=Be(Be({},r&&r.data),t.data);e.mechanism.data=s}}var qu;function F8(n){return new ou(t=>{t(n)})}!function(n){n[n.PENDING=0]="PENDING",n[n.RESOLVED=1]="RESOLVED",n[n.REJECTED=2]="REJECTED"}(qu||(qu={}));class ou{constructor(t){ou.prototype.__init.call(this),ou.prototype.__init2.call(this),ou.prototype.__init3.call(this),ou.prototype.__init4.call(this),this._state=qu.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(e){this._reject(e)}}then(t,e){return new ou((i,r)=>{this._handlers.push([!1,s=>{if(t)try{i(t(s))}catch(o){r(o)}else i(s)},s=>{if(e)try{i(e(s))}catch(o){r(o)}else r(s)}]),this._executeHandlers()})}catch(t){return this.then(e=>e,t)}finally(t){return new ou((e,i)=>{let r,s;return this.then(o=>{s=!1,r=o,t&&t()},o=>{s=!0,r=o,t&&t()}).then(()=>{s?i(r):e(r)})})}__init(){this._resolve=t=>{this._setResult(qu.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(qu.REJECTED,t)}}__init3(){this._setResult=(t,e)=>{if(this._state===qu.PENDING){if(function fce(n){return Boolean(n&&n.then&&"function"==typeof n.then)}(e))return void e.then(this._resolve,this._reject);this._state=t,this._value=e,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===qu.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(e=>{e[0]||(this._state===qu.RESOLVED&&e[1](this._value),this._state===qu.REJECTED&&e[2](this._value),e[0]=!0)})}}}function L8(n,t){const e=Wx(n,t),i={type:t&&t.name,value:fue(t)};return e.length&&(i.stacktrace={frames:e}),void 0===i.type&&""===i.value&&(i.value="Unrecoverable error caught"),i}function zx(n,t){return{exception:{values:[L8(n,t)]}}}function Wx(n,t){const e=t.stacktrace||t.stack||"",i=function hue(n){if(n){if("number"==typeof n.framesToPop)return n.framesToPop;if(due.test(n.message))return 1}return 0}(t);try{return n(e,i)}catch(r){}return[]}const due=/Minified React error #\d+;/i;function fue(n){const t=n&&n.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}function $x(n,t,e,i,r){let s;if(Fx(t)&&t.error)return zx(n,t.error);if(c8(t)||function dce(n){return M_(n,"DOMException")}(t)){const o=t;if("stack"in t)s=zx(n,t);else{const a=o.name||(c8(o)?"DOMError":"DOMException"),l=o.message?`${a}: ${o.message}`:a;s=Yx(n,l,e,i),Vx(s,l)}return"code"in o&&(s.tags=xn(Be({},s.tags),{"DOMException.code":`${o.code}`})),s}return l8(t)?zx(n,t):h8(t)||lC(t)?(s=function uue(n,t,e,i){const r=xr(),s=r&&r.getOptions().normalizeDepth,o={exception:{values:[{type:lC(t)?t.constructor.name:i?"UnhandledRejection":"Error",value:_ue(t,{isUnhandledRejection:i})}]},extra:{__serialized__:N8(t,s)}};if(e){const a=Wx(n,e);a.length&&(o.exception.values[0].stacktrace={frames:a})}return o}(n,t,e,r),fC(s,{synthetic:!0}),s):(s=Yx(n,t,e,i),Vx(s,`${t}`,void 0),fC(s,{synthetic:!0}),s)}function Yx(n,t,e,i){const r={};if(i&&e){const s=Wx(n,e);s.length&&(r.exception={values:[{value:t,stacktrace:{frames:s}}]})}if(u8(t)){const{__sentry_template_string__:s,__sentry_template_values__:o}=t;return r.logentry={message:s,params:o},r}return r.message=t,r}function _ue(n,{isUnhandledRejection:t}){const e=function Sce(n,t=40){const e=Object.keys(v8(n));if(e.sort(),!e.length)return"[object has no keys]";if(e[0].length>=t)return Lx(e[0],t);for(let i=e.length;i>0;i--){const r=e.slice(0,i).join(", ");if(!(r.length>t))return i===e.length?r:Lx(r,t)}return""}(n),i=t?"promise rejection":"exception";return Fx(n)?`Event \`ErrorEvent\` captured as ${i} with message \`${n.message}\``:lC(n)?`Event \`${function mue(n){try{const t=Object.getPrototypeOf(n);return t?t.constructor.name:void 0}catch(t){}}(n)}\` (type=${n.type}) captured as ${i}`:`Object captured as ${i} with keys: ${e}`}const Ti=Ir;let Xx=0;function B8(){return Xx>0}function vue(){Xx++,setTimeout(()=>{Xx--})}function x_(n,t={},e){if("function"!=typeof n)return n;try{const r=n.__sentry_wrapped__;if(r)return r;if(m8(n))return n}catch(r){return n}const i=function(){const r=Array.prototype.slice.call(arguments);try{e&&"function"==typeof e&&e.apply(this,arguments);const s=r.map(o=>x_(o,t));return n.apply(this,s)}catch(s){throw vue(),UU(o=>{o.addEventProcessor(a=>(t.mechanism&&(Vx(a,void 0,void 0),fC(a,t.mechanism)),a.extra=xn(Be({},a.extra),{arguments:r}),a)),I0(s)}),s}};try{for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}catch(r){}_8(i,n),cC(n,"__sentry_wrapped__",i);try{Object.getOwnPropertyDescriptor(i,"name").configurable&&Object.defineProperty(i,"name",{get:()=>n.name})}catch(r){}return i}class Sue extends class jce{constructor(t){if(this._options=t,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=t8(t.dsn):on&&$t.warn("No DSN provided, client will not send events."),this._dsn){const e=ice(this._dsn,t);this._transport=t.transport(xn(Be({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this)},t.transportOptions),{url:e}))}}captureException(t,e,i){if(vU(t))return void(on&&$t.log(w8));let r=e&&e.event_id;return this._process(this.eventFromException(t,e).then(s=>this._captureEvent(s,e,i)).then(s=>{r=s})),r}captureMessage(t,e,i,r){let s=i&&i.event_id;const o=uU(t)?t:String(t),a=function Rae(n){return null===n||uU(n)||"object"!=typeof n&&"function"!=typeof n}(t)?this.eventFromMessage(o,e,i):this.eventFromException(t,i);return this._process(a.then(l=>this._captureEvent(l,i,r)).then(l=>{s=l})),s}captureEvent(t,e,i){if(e&&e.originalException&&vU(e.originalException))return void(on&&$t.log(w8));let r=e&&e.event_id;return this._process(this._captureEvent(t,e,(t.sdkProcessingMetadata||{}).capturedSpanScope||i).then(a=>{r=a})),r}captureSession(t){"string"!=typeof t.release?on&&$t.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),bf(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const e=this._transport;return e?(this.metricsAggregator&&this.metricsAggregator.flush(),this._isClientDoneProcessing(t).then(i=>e.flush(t).then(r=>i&&r))):XS(!0)}close(t){return this.flush(t).then(e=>(this.getOptions().enabled=!1,this.metricsAggregator&&this.metricsAggregator.close(),e))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}setupIntegrations(t){(t&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&this._setupIntegrations()}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationById(t){return this.getIntegrationByName(t)}getIntegrationByName(t){return this._integrations[t]}getIntegration(t){try{return this._integrations[t.id]||null}catch(e){return on&&$t.warn(`Cannot retrieve integration ${t.id} from the current Client`),null}}addIntegration(t){const e=this._integrations[t.name];YU(this,t,this._integrations),e||$U(this,[t])}sendEvent(t,e={}){this.emit("beforeSendEvent",t,e);let i=function Dce(n,t,e,i){const r=T8(e),s=n.type&&"replay_event"!==n.type?n.type:"event";!function Ace(n,t){t&&(n.sdk=n.sdk||{},n.sdk.name=n.sdk.name||t.name,n.sdk.version=n.sdk.version||t.version,n.sdk.integrations=[...n.sdk.integrations||[],...t.integrations||[]],n.sdk.packages=[...n.sdk.packages||[],...t.packages||[]])}(n,e&&e.sdk);const o=function Ice(n,t,e,i){const r=n.sdkProcessingMetadata&&n.sdkProcessingMetadata.dynamicSamplingContext;return Be(Be(Be({event_id:n.event_id,sent_at:(new Date).toISOString()},t&&{sdk:t}),!!e&&i&&{dsn:A0(i)}),r&&{trace:Pa(Be({},r))})}(n,r,i,t);return delete n.sdkProcessingMetadata,D0(o,[[{type:s},n]])}(t,this._dsn,this._options._metadata,this._options.tunnel);for(const s of e.attachments||[])i=wce(i,Pce(s,this._options.transportOptions&&this._options.transportOptions.textEncoder));const r=this._sendEnvelope(i);r&&r.then(s=>this.emit("afterSendEvent",t,s),null)}sendSession(t){const e=function Rce(n,t,e,i){const r=T8(e);return D0(Be(Be({sent_at:(new Date).toISOString()},r&&{sdk:r}),!!i&&t&&{dsn:A0(t)}),["aggregates"in n?[{type:"sessions"},n]:[{type:"session"},n.toJSON()]])}(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(e)}recordDroppedEvent(t,e,i){if(this._options.sendClientReports){const r="number"==typeof i?i:1,s=`${t}:${e}`;on&&$t.log(`Recording outcome: "${s}"${r>1?` (${r} times)`:""}`),this._outcomes[s]=(this._outcomes[s]||0)+r}}captureAggregateMetrics(t){on&&$t.log(`Flushing aggregated metrics, number of metrics: ${t.length}`);const e=function Uce(n,t,e,i){const r={sent_at:(new Date).toISOString()};e&&e.sdk&&(r.sdk={name:e.sdk.name,version:e.sdk.version}),i&&t&&(r.dsn=A0(t));const s=function Gce(n){const t=function Nce(n){let t="";for(const e of n){const i=Object.entries(e.tags),r=i.length>0?`|#${i.map(([s,o])=>`${s}:${o}`).join(",")}`:"";t+=`${e.name}@${e.unit}:${e.metric}|${e.metricType}${r}|T${e.timestamp}\n`}return t}(n);return[{type:"statsd",length:t.length},t]}(n);return D0(r,[s])}(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(e)}on(t,e){this._hooks[t]||(this._hooks[t]=[]),this._hooks[t].push(e)}emit(t,...e){this._hooks[t]&&this._hooks[t].forEach(i=>i(...e))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=function Nle(n,t){const e={};return t.forEach(i=>{i&&YU(n,i,e)}),e}(this,t),$U(this,t),this._integrationsInitialized=!0}_updateSessionFromEvent(t,e){let i=!1,r=!1;const s=e.exception&&e.exception.values;if(s){r=!0;for(const l of s){const c=l.mechanism;if(c&&!1===c.handled){i=!0;break}}}const o="ok"===t.status;(o&&0===t.errors||o&&i)&&(bf(t,xn(Be({},i&&{status:"crashed"}),{errors:t.errors||Number(r||i)})),this.captureSession(t))}_isClientDoneProcessing(t){return new wl(e=>{let i=0;const s=setInterval(()=>{0==this._numProcessing?(clearInterval(s),e(!0)):(i+=1,t&&i>=t&&(clearInterval(s),e(!1)))},1)})}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(t,e,i,r=Cf()){const s=this.getOptions(),o=Object.keys(this._integrations);return!e.integrations&&o.length>0&&(e.integrations=o),this.emit("preprocessEvent",t,e),function yle(n,t,e,i,r,s){const{normalizeDepth:o=3,normalizeMaxBreadth:a=1e3}=n,l=xn(Be({},t),{event_id:t.event_id||e.event_id||ia(),timestamp:t.timestamp||$S()}),c=e.integrations||n.integrations.map(N=>N.name);(function ble(n,t){const{environment:e,release:i,dist:r,maxValueLength:s=250}=t;"environment"in n||(n.environment="environment"in t?e:GS),void 0===n.release&&void 0!==i&&(n.release=i),void 0===n.dist&&void 0!==r&&(n.dist=r),n.message&&(n.message=Mx(n.message,s));const o=n.exception&&n.exception.values&&n.exception.values[0];o&&o.value&&(o.value=Mx(o.value,s));const a=n.request;a&&a.url&&(a.url=Mx(a.url,s))})(l,n),function Ele(n,t){t.length>0&&(n.sdk=n.sdk||{},n.sdk.integrations=[...n.sdk.integrations||[],...t])}(l,c),void 0===t.type&&function Sle(n,t){const e=bs._sentryDebugIds;if(!e)return;let i;const r=LU.get(t);r?i=r:(i=new Map,LU.set(t,i));const s=Object.keys(e).reduce((o,a)=>{let l;const c=i.get(a);c?l=c:(l=t(a),i.set(a,l));for(let u=l.length-1;u>=0;u--){const d=l[u];if(d.filename){o[d.filename]=e[a];break}}return o},{});try{n.exception.values.forEach(o=>{o.stacktrace.frames.forEach(a=>{a.filename&&(a.debug_id=s[a.filename])})})}catch(o){}}(l,n.stackParser);const u=function wle(n,t){if(!t)return n;const e=n?n.clone():new Yu;return e.update(t),e}(i,e.captureContext);e.mechanism&&function Yae(n,t){const e=mU(n);if(!e)return;const r=e.mechanism;if(e.mechanism=Be(Be(Be({},{type:"generic",handled:!0}),r),t),t&&"data"in t){const s=Be(Be({},r&&r.data),t.data);e.mechanism.data=s}}(l,e.mechanism);const d=r&&r.getEventProcessors?r.getEventProcessors():[],f=function lle(){return eC||(eC=new Yu),eC}().getScopeData();s&&PU(f,s.getScopeData()),u&&PU(f,u.getScopeData());const y=[...e.attachments||[],...f.attachments];return y.length&&(e.attachments=y),OU(l,f),qS([...d,...yx(),...f.eventProcessors],l,e).then(N=>(N&&function Cle(n){const t={};try{n.exception.values.forEach(i=>{i.stacktrace.frames.forEach(r=>{r.debug_id&&(r.abs_path?t[r.abs_path]=r.debug_id:r.filename&&(t[r.filename]=r.debug_id),delete r.debug_id)})})}catch(i){}if(0===Object.keys(t).length)return;n.debug_meta=n.debug_meta||{},n.debug_meta.images=n.debug_meta.images||[];const e=n.debug_meta.images;Object.keys(t).forEach(i=>{e.push({type:"sourcemap",code_file:i,debug_id:t[i]})})}(N),"number"==typeof o&&o>0?function Tle(n,t,e){if(!n)return null;const i=Be(Be(Be(Be(Be({},n),n.breadcrumbs&&{breadcrumbs:n.breadcrumbs.map(r=>Be(Be({},r),r.data&&{data:Kd(r.data,t,e)}))}),n.user&&{user:Kd(n.user,t,e)}),n.contexts&&{contexts:Kd(n.contexts,t,e)}),n.extra&&{extra:Kd(n.extra,t,e)});return n.contexts&&n.contexts.trace&&i.contexts&&(i.contexts.trace=n.contexts.trace,n.contexts.trace.data&&(i.contexts.trace.data=Kd(n.contexts.trace.data,t,e))),n.spans&&(i.spans=n.spans.map(r=>{const s=Ls(r).data;return s&&(r.data=Kd(s,t,e)),r})),i}(N,o,a):N))}(s,t,e,i,this,r).then(a=>{if(null===a)return a;const l=Be(Be({},r.getPropagationContext()),i?i.getPropagationContext():void 0);if((!a.contexts||!a.contexts.trace)&&l){const{traceId:u,spanId:d,parentSpanId:f,dsc:y}=l;a.contexts=Be({trace:{trace_id:u,span_id:d,parent_span_id:f}},a.contexts);const O=y||QS(u,this,i);a.sdkProcessingMetadata=Be({dynamicSamplingContext:O},a.sdkProcessingMetadata)}return a})}_captureEvent(t,e={},i){return this._processEvent(t,e,i).then(r=>r.event_id,r=>{if(on){const s=r;"log"===s.logLevel?$t.log(s.message):$t.warn(s)}})}_processEvent(t,e,i){const r=this.getOptions(),{sampleRate:s}=r,o=O8(t),a=M8(t),l=t.type||"error",c=`before send for type \`${l}\``;if(a&&"number"==typeof s&&Math.random()>s)return this.recordDroppedEvent("sample_rate","error",t),SU(new su(`Discarding event because it's not included in the random sample (sampling rate = ${s})`,"log"));const u="replay_event"===l?"replay":l;return this._prepareEvent(t,e,i,(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope).then(y=>{if(null===y)throw this.recordDroppedEvent("event_processor",u,t),new su("An event processor returned `null`, will not send event.","log");if(e.data&&!0===e.data.__sentry__)return y;const I=function Vce(n,t,e){const{beforeSend:i,beforeSendTransaction:r}=n;if(M8(t)&&i)return i(t,e);if(O8(t)&&r){if(t.spans){const s=t.spans.length;t.sdkProcessingMetadata=xn(Be({},t.sdkProcessingMetadata),{spanCountBeforeProcessing:s})}return r(t,e)}return t}(r,y,e);return function Hce(n,t){const e=`${t} must return \`null\` or a valid event.`;if(jS(n))return n.then(i=>{if(!O0(i)&&null!==i)throw new su(e);return i},i=>{throw new su(`${t} rejected with ${i}`)});if(!O0(n)&&null!==n)throw new su(e);return n}(I,c)}).then(y=>{if(null===y)throw this.recordDroppedEvent("before_send",u,t),o&&this.recordDroppedEvent("before_send","span",1+(t.spans||[]).length),new su(`${c} returned \`null\`, will not send event.`,"log");const O=i&&i.getSession();if(!o&&O&&this._updateSessionFromEvent(O,y),o){const B=(y.sdkProcessingMetadata&&y.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(y.spans?y.spans.length:0);B>0&&this.recordDroppedEvent("before_send","span",B)}const I=y.transaction_info;if(o&&I&&y.transaction!==t.transaction){const N="custom";y.transaction_info=xn(Be({},I),{source:N})}return this.sendEvent(y,e),y}).then(null,y=>{throw y instanceof su?y:(this.captureException(y,{data:{__sentry__:!0},originalException:y}),new su(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${y}`))})}_process(t){this._numProcessing++,t.then(e=>(this._numProcessing--,e),e=>(this._numProcessing--,e))}_sendEnvelope(t){if(this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport)return this._transport.send(t).then(null,e=>{on&&$t.error("Error while sending event:",e)});on&&$t.error("Transport disabled")}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.keys(t).map(e=>{const[i,r]=e.split(":");return{reason:i,category:r,quantity:t[e]}})}}{constructor(t){P8(t,"browser",["browser"],Ti.SENTRY_SDK_SOURCE||"npm"),super(t),t.sendClientReports&&Ti.document&&Ti.document.addEventListener("visibilitychange",()=>{"hidden"===Ti.document.visibilityState&&this._flushOutcomes()})}eventFromException(t,e){return function pue(n,t,e,i){const s=$x(n,t,e&&e.syntheticException||void 0,i);return fC(s),s.level="error",e&&e.event_id&&(s.event_id=e.event_id),F8(s)}(this._options.stackParser,t,e,this._options.attachStacktrace)}eventFromMessage(t,e="info",i){return function gue(n,t,e="info",i,r){const o=Yx(n,t,i&&i.syntheticException||void 0,r);return o.level=e,i&&i.event_id&&(o.event_id=i.event_id),F8(o)}(this._options.stackParser,t,e,i,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled())return void(Ol&&ra.warn("SDK not enabled, will not capture user feedback."));const e=function yue(n,{metadata:t,tunnel:e,dsn:i}){const r=Be(Be({event_id:n.event_id,sent_at:(new Date).toISOString()},t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}}),!!e&&!!i&&{dsn:R8(i)}),s=function bue(n){return[{type:"user_report"},n]}(n);return x8(r,[s])}(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(e)}_prepareEvent(t,e,i){return t.platform=t.platform||"javascript",super._prepareEvent(t,e,i)}_flushOutcomes(){const t=this._clearOutcomes();if(0===t.length)return void(Ol&&ra.log("No outcomes to send"));if(!this._dsn)return void(Ol&&ra.log("No dsn provided, will not send outcomes"));Ol&&ra.log("Sending outcomes:",t);const e=function qce(n,t,e){return x8(t?{dsn:t}:{},[[{type:"client_report"},{timestamp:e||A8(),discarded_events:n}]])}(t,this._options.tunnel&&R8(this._dsn));this._sendEnvelope(e)}}function Eue(){"console"in Ir&&Dx.forEach(function(n){n in Ir.console&&uo(Ir.console,n,function(t){return oC[n]=t,function(...e){yc("console",{args:e,level:n});const r=oC[n];r&&r.apply(Ir.console,e)}})})}const I_=Ir;let U8,qx,Kx;function Mue(){if(!I_.document)return;const n=yc.bind(null,"dom"),t=G8(n,!0);I_.document.addEventListener("click",t,!1),I_.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(e=>{const i=I_[e]&&I_[e].prototype;!i||!i.hasOwnProperty||!i.hasOwnProperty("addEventListener")||(uo(i,"addEventListener",function(r){return function(s,o,a){if("click"===s||"keypress"==s)try{const l=this,c=l.__sentry_instrumentation_handlers__=l.__sentry_instrumentation_handlers__||{},u=c[s]=c[s]||{refCount:0};if(!u.handler){const d=G8(n);u.handler=d,r.call(this,s,d,a)}u.refCount++}catch(l){}return r.call(this,s,o,a)}}),uo(i,"removeEventListener",function(r){return function(s,o,a){if("click"===s||"keypress"==s)try{const l=this,c=l.__sentry_instrumentation_handlers__||{},u=c[s];u&&(u.refCount--,u.refCount<=0&&(r.call(this,s,u.handler,a),u.handler=void 0,delete c[s]),0===Object.keys(c).length&&delete l.__sentry_instrumentation_handlers__)}catch(l){}return r.call(this,s,o,a)}}))})}function G8(n,t=!1){return e=>{if(!e||e._sentryCaptured)return;const i=function xue(n){try{return n.target}catch(t){return null}}(e);if(function Pue(n,t){return!("keypress"!==n||t&&t.tagName&&("INPUT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable))}(e.type,i))return;cC(e,"_sentryCaptured",!0),i&&!i._sentryId&&cC(i,"_sentryId",function oue(){const t=Ir.crypto||Ir.msCrypto;let e=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(e=()=>{const i=new Uint8Array(1);return t.getRandomValues(i),i[0]})}catch(i){}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,i=>(i^(15&e())>>i/4).toString(16))}());const r="keypress"===e.type?"input":e.type;(function Oue(n){if(n.type!==qx)return!1;try{if(!n.target||n.target._sentryId!==Kx)return!1}catch(t){}return!0})(e)||(n({event:e,name:r,global:t}),qx=e.type,Kx=i?i._sentryId:void 0),clearTimeout(U8),U8=I_.setTimeout(()=>{Kx=void 0,qx=void 0},1e3)}}const Iue=Ir,N0="__sentry_xhr_v3__";function Rue(){if(!Iue.XMLHttpRequest)return;const n=XMLHttpRequest.prototype;uo(n,"open",function(t){return function(...e){const i=Date.now(),r=Ef(e[0])?e[0].toUpperCase():void 0,s=function Due(n){if(Ef(n))return n;try{return n.toString()}catch(t){}}(e[1]);if(!r||!s)return t.apply(this,e);this[N0]={method:r,url:s,request_headers:{}},"POST"===r&&s.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const o=()=>{const a=this[N0];if(a&&4===this.readyState){try{a.status_code=this.status}catch(c){}yc("xhr",{args:[r,s],endTimestamp:Date.now(),startTimestamp:i,xhr:this})}};return"onreadystatechange"in this&&"function"==typeof this.onreadystatechange?uo(this,"onreadystatechange",function(a){return function(...l){return o(),a.apply(this,l)}}):this.addEventListener("readystatechange",o),uo(this,"setRequestHeader",function(a){return function(...l){const[c,u]=l,d=this[N0];return d&&Ef(c)&&Ef(u)&&(d.request_headers[c.toLowerCase()]=u),a.apply(this,l)}}),t.apply(this,e)}}),uo(n,"send",function(t){return function(...e){const i=this[N0];return i?(void 0!==e[0]&&(i.body=e[0]),yc("xhr",{args:[i.method,i.url],startTimestamp:Date.now(),xhr:this}),t.apply(this,e)):t.apply(this,e)}})}function kue(){!function uce(){if("string"==typeof EdgeRuntime)return!0;if(!Nx())return!1;if(kx(aC.fetch))return!0;let n=!1;const t=aC.document;if(t&&"function"==typeof t.createElement)try{const e=t.createElement("iframe");e.hidden=!0,t.head.appendChild(e),e.contentWindow&&e.contentWindow.fetch&&(n=kx(e.contentWindow.fetch)),t.head.removeChild(e)}catch(e){rC&&ra.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return n}()||uo(Ir,"fetch",function(n){return function(...t){const{method:e,url:i}=function Fue(n){if(0===n.length)return{method:"GET",url:""};if(2===n.length){const[e,i]=n;return{url:j8(e),method:Jx(i,"method")?String(i.method).toUpperCase():"GET"}}const t=n[0];return{url:j8(t),method:Jx(t,"method")?String(t.method).toUpperCase():"GET"}}(t),r={args:t,fetchData:{method:e,url:i},startTimestamp:Date.now()};return yc("fetch",Be({},r)),n.apply(Ir,t).then(s=>(yc("fetch",xn(Be({},r),{endTimestamp:Date.now(),response:s})),s),s=>{throw yc("fetch",xn(Be({},r),{endTimestamp:Date.now(),error:s})),s})}})}function Jx(n,t){return!!n&&"object"==typeof n&&!!n[t]}function j8(n){return"string"==typeof n?n:n?Jx(n,"url")?n.url:n.toString?n.toString():"":""}const Lue=["fatal","error","warning","log","info","debug"];function H8(n){return"warn"===n?"warning":Lue.includes(n)?n:"log"}function Zx(n){if(!n)return{};const t=n.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const e=t[6]||"",i=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:e,hash:i,relative:t[5]+e+i}}const V8="Breadcrumbs",z8=(n={})=>{const t=Be({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},n);return{name:V8,setupOnce(){},setup(e){t.console&&function Cue(n){const t="console";wf(t,n),Mf(t,Eue)}(function Gue(n){return function(e){if(xr()!==n)return;const i={category:"console",data:{arguments:e.args,logger:"console"},level:H8(e.level),message:g8(e.args," ")};if("assert"===e.level){if(!1!==e.args[0])return;i.message=`Assertion failed: ${g8(e.args.slice(1)," ")||"console.assert"}`,i.data.arguments=e.args.slice(1)}Ks(i,{input:e.args,level:e.level})}}(e)),t.dom&&function wue(n){wf("dom",n),Mf("dom",Mue)}(function Uue(n,t){return function(i){if(xr()!==n)return;let r,s,o="object"==typeof t?t.serializeAttribute:void 0,a="object"==typeof t&&"number"==typeof t.maxStringLength?t.maxStringLength:void 0;a&&a>1024&&(Ol&&ra.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${a} was configured. Sentry will use 1024 instead.`),a=1024),"string"==typeof o&&(o=[o]);try{const c=i.event,u=function zue(n){return!!n&&!!n.target}(c)?c.target:c;r=p8(u,{keyAttrs:o,maxStringLength:a}),s=function yce(n){if(!O_.HTMLElement)return null;let t=n;for(let i=0;i<5;i++){if(!t)return null;if(t instanceof HTMLElement&&t.dataset.sentryComponent)return t.dataset.sentryComponent;t=t.parentNode}return null}(u)}catch(c){r="<unknown>"}if(0===r.length)return;const l={category:`ui.${i.name}`,message:r};s&&(l.data={"ui.component_name":s}),Ks(l,{event:i.event,name:i.name,global:i.global})}}(e,t.dom)),t.xhr&&function Aue(n){wf("xhr",n),Mf("xhr",Rue)}(function jue(n){return function(e){if(xr()!==n)return;const{startTimestamp:i,endTimestamp:r}=e,s=e.xhr[N0];if(!i||!r||!s)return;const{method:o,url:a,status_code:l,body:c}=s;Ks({category:"xhr",data:{method:o,url:a,status_code:l},type:"http"},{xhr:e.xhr,input:c,startTimestamp:i,endTimestamp:r})}}(e)),t.fetch&&function Nue(n){const t="fetch";wf(t,n),Mf(t,kue)}(function Hue(n){return function(e){if(xr()!==n)return;const{startTimestamp:i,endTimestamp:r}=e;if(r&&(!e.fetchData.url.match(/sentry_key/)||"POST"!==e.fetchData.method))if(e.error)Ks({category:"fetch",data:e.fetchData,level:"error",type:"http"},{data:e.error,input:e.args,startTimestamp:i,endTimestamp:r});else{const s=e.response;Ks({category:"fetch",data:xn(Be({},e.fetchData),{status_code:s&&s.status}),type:"http"},{input:e.args,response:s,startTimestamp:i,endTimestamp:r})}}}(e)),t.history&&C8(function Vue(n){return function(e){if(xr()!==n)return;let i=e.from,r=e.to;const s=Zx(Ti.location.href);let o=i?Zx(i):void 0;const a=Zx(r);(!o||!o.path)&&(o=s),s.protocol===a.protocol&&s.host===a.host&&(r=a.relative),s.protocol===o.protocol&&s.host===o.host&&(i=o.relative),Ks({category:"navigation",data:{from:i,to:r}})}}(e)),t.sentry&&e.on&&e.on("beforeSendEvent",function Bue(n){return function(e){xr()===n&&Ks({category:"sentry."+("transaction"===e.type?"transaction":"event"),event_id:e.event_id,level:e.level,message:aue(e)},{event:e})}}(e))}}};Xu(V8,z8);const $8=()=>{let n;return{name:"Dedupe",setupOnce(){},processEvent(t){if(t.type)return t;try{if(function Wue(n,t){return!(!t||!function $ue(n,t){const e=n.message,i=t.message;return!(!e&&!i||e&&!i||!e&&i||e!==i||!X8(n,t)||!Y8(n,t))}(n,t)&&!function Yue(n,t){const e=q8(t),i=q8(n);return!!(e&&i&&e.type===i.type&&e.value===i.value&&X8(n,t)&&Y8(n,t))}(n,t))}(t,n))return Ol&&ra.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(e){}return n=t}}};function Y8(n,t){let e=K8(n),i=K8(t);if(!e&&!i)return!0;if(e&&!i||!e&&i||i.length!==e.length)return!1;for(let r=0;r<i.length;r++){const s=i[r],o=e[r];if(s.filename!==o.filename||s.lineno!==o.lineno||s.colno!==o.colno||s.function!==o.function)return!1}return!0}function X8(n,t){let e=n.fingerprint,i=t.fingerprint;if(!e&&!i)return!0;if(e&&!i||!e&&i)return!1;try{return e.join("")===i.join("")}catch(r){return!1}}function q8(n){return n.exception&&n.exception.values&&n.exception.values[0]}function K8(n){const t=n.exception;if(t)try{return t.values[0].stacktrace.frames}catch(e){return}}Xu("Dedupe",$8);let gC=null;function que(){gC=Ir.onerror,Ir.onerror=function(n,t,e,i,r){return yc("error",{column:i,error:r,line:e,msg:n,url:t}),!(!gC||gC.__SENTRY_LOADER__)&&gC.apply(this,arguments)},Ir.onerror.__SENTRY_INSTRUMENTED__=!0}let _C=null;function Jue(){_C=Ir.onunhandledrejection,Ir.onunhandledrejection=function(n){return yc("unhandledrejection",n),!(_C&&!_C.__SENTRY_LOADER__)||_C.apply(this,arguments)},Ir.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const J8="GlobalHandlers",Z8=(n={})=>{const t=Be({onerror:!0,onunhandledrejection:!0},n);return{name:J8,setupOnce(){Error.stackTraceLimit=50},setup(e){t.onerror&&(function Zue(n){!function Xue(n){const t="error";wf(t,n),Mf(t,que)}(t=>{const{stackParser:e,attachStacktrace:i}=t6();if(xr()!==n||B8())return;const{msg:r,url:s,line:o,column:a,error:l}=t,c=void 0===l&&Ef(r)?function nde(n,t,e,i){let s=Fx(n)?n.message:n,o="Error";const a=s.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);return a&&(o=a[1],s=a[2]),Q8({exception:{values:[{type:o,value:s}]}},t,e,i)}(r,s,o,a):Q8($x(e,l||r,void 0,i,!1),s,o,a);c.level="error",BU(c,{originalException:l,mechanism:{handled:!1,type:"onerror"}})})}(e),e6("onerror")),t.onunhandledrejection&&(function Que(n){!function Kue(n){const t="unhandledrejection";wf(t,n),Mf(t,Jue)}(t=>{const{stackParser:e,attachStacktrace:i}=t6();if(xr()!==n||B8())return;const r=function ede(n){if(d8(n))return n;const t=n;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch(e){}return n}(t),s=d8(r)?function tde(n){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(n)}`}]}}}(r):$x(e,r,void 0,i,!0);s.level="error",BU(s,{originalException:r,mechanism:{handled:!1,type:"onunhandledrejection"}})})}(e),e6("onunhandledrejection"))}}};function Q8(n,t,e,i){const r=n.exception=n.exception||{},s=r.values=r.values||[],o=s[0]=s[0]||{},a=o.stacktrace=o.stacktrace||{},l=a.frames=a.frames||[],c=isNaN(parseInt(i,10))?void 0:i,u=isNaN(parseInt(e,10))?void 0:e,d=Ef(t)&&t.length>0?t:function vce(){try{return O_.document.location.href}catch(n){return""}}();return 0===l.length&&l.push({colno:c,filename:d,function:"?",in_app:!0,lineno:u}),n}function e6(n){Ol&&ra.log(`Global Handler attached: ${n}`)}function t6(){const n=xr();return n&&n.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}Xu(J8,Z8);const n6="HttpContext",i6=()=>({name:n6,setupOnce(){},preprocessEvent(n){if(!Ti.navigator&&!Ti.location&&!Ti.document)return;const t=n.request&&n.request.url||Ti.location&&Ti.location.href,{referrer:e}=Ti.document||{},{userAgent:i}=Ti.navigator||{},r=Be(Be(Be({},n.request&&n.request.headers),e&&{Referer:e}),i&&{"User-Agent":i}),s=xn(Be(Be({},n.request),t&&{url:t}),{headers:r});n.request=s}});function ide(n,t,e=250,i,r,s,o){if(!(s.exception&&s.exception.values&&o&&Tf(o.originalException,Error)))return;const a=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;a&&(s.exception.values=function rde(n,t){return n.map(e=>(e.value&&(e.value=Lx(e.value,t)),e))}(Qx(n,t,r,o.originalException,i,s.exception.values,a,0),e))}function Qx(n,t,e,i,r,s,o,a){if(s.length>=e+1)return s;let l=[...s];if(Tf(i[r],Error)){r6(o,a);const c=n(t,i[r]),u=l.length;s6(c,r,u,a),l=Qx(n,t,e,i[r],r,[c,...l],c,u)}return Array.isArray(i.errors)&&i.errors.forEach((c,u)=>{if(Tf(c,Error)){r6(o,a);const d=n(t,c),f=l.length;s6(d,`errors[${u}]`,f,a),l=Qx(n,t,e,c,r,[d,...l],d,f)}}),l}function r6(n,t){n.mechanism=n.mechanism||{type:"generic",handled:!0},n.mechanism=xn(Be(Be({},n.mechanism),"AggregateError"===n.type&&{is_exception_group:!0}),{exception_id:t})}function s6(n,t,e,i){n.mechanism=n.mechanism||{type:"generic",handled:!0},n.mechanism=xn(Be({},n.mechanism),{type:"chained",source:t,exception_id:e,parent_id:i})}Xu(n6,i6);const o6="LinkedErrors",a6=(n={})=>{const t=n.limit||5,e=n.key||"cause";return{name:o6,setupOnce(){},preprocessEvent(i,r,s){const o=s.getOptions();ide(L8,o.stackParser,o.maxValueLength,e,t,i,r)}}},ade=(Xu(o6,a6),["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"]),l6="TryCatch",c6=(n={})=>{const t=Be({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},n);return{name:l6,setupOnce(){t.setTimeout&&uo(Ti,"setTimeout",u6),t.setInterval&&uo(Ti,"setInterval",u6),t.requestAnimationFrame&&uo(Ti,"requestAnimationFrame",lde),t.XMLHttpRequest&&"XMLHttpRequest"in Ti&&uo(XMLHttpRequest.prototype,"send",cde);const e=t.eventTarget;e&&(Array.isArray(e)?e:ade).forEach(ude)}}};function u6(n){return function(...t){return t[0]=x_(t[0],{mechanism:{data:{function:Jd(n)},handled:!1,type:"instrument"}}),n.apply(this,t)}}function lde(n){return function(t){return n.apply(this,[x_(t,{mechanism:{data:{function:"requestAnimationFrame",handler:Jd(n)},handled:!1,type:"instrument"}})])}}function cde(n){return function(...t){const e=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(r=>{r in e&&"function"==typeof e[r]&&uo(e,r,function(s){const o={mechanism:{data:{function:r,handler:Jd(s)},handled:!1,type:"instrument"}},a=m8(s);return a&&(o.mechanism.data.handler=Jd(a)),x_(s,o)})}),n.apply(this,t)}}function ude(n){const e=Ti[n]&&Ti[n].prototype;!e||!e.hasOwnProperty||!e.hasOwnProperty("addEventListener")||(uo(e,"addEventListener",function(i){return function(r,s,o){try{"function"==typeof s.handleEvent&&(s.handleEvent=x_(s.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Jd(s),target:n},handled:!1,type:"instrument"}}))}catch(a){}return i.apply(this,[r,x_(s,{mechanism:{data:{function:"addEventListener",handler:Jd(s),target:n},handled:!1,type:"instrument"}}),o])}}),uo(e,"removeEventListener",function(i){return function(r,s,o){const a=s;try{const l=a&&a.__sentry_wrapped__;l&&i.call(this,r,l,o)}catch(l){}return i.call(this,r,a,o)}}))}function k0(n,t,e,i){const r={filename:n,function:t,in_app:!0};return void 0!==e&&(r.lineno=e),void 0!==i&&(r.colno=i),r}Xu(l6,c6);const _de=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,mde=/\((\S*)(?::(\d+))(?::(\d+))\)/,vde=[30,n=>{const t=_de.exec(n);if(t){if(t[2]&&0===t[2].indexOf("eval")){const s=mde.exec(t[2]);s&&(t[2]=s[1],t[3]=s[2],t[4]=s[3])}const[i,r]=d6(t[1]||"?",t[2]);return k0(r,i,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}}],yde=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,bde=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Sde=[50,n=>{const t=yde.exec(n);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const s=bde.exec(t[3]);s&&(t[1]=t[1]||"eval",t[3]=s[1],t[4]=s[2],t[5]="")}let i=t[3],r=t[1]||"?";return[r,i]=d6(r,i),k0(i,r,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}],Cde=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Ede=[40,n=>{const t=Cde.exec(n);return t?k0(t[2],t[1]||"?",+t[3],t[4]?+t[4]:void 0):void 0}],Mde=o8(vde,Sde,Ede),d6=(n,t)=>{const e=-1!==n.indexOf("safari-extension"),i=-1!==n.indexOf("safari-web-extension");return e||i?[-1!==n.indexOf("@")?n.split("@")[0]:"?",e?`safari-extension:${t}`:`safari-web-extension:${t}`]:[n,t]};function h6(n,t,e=function Ode(n){const t=[];function i(o){return t.splice(t.indexOf(o),1)[0]}return{$:t,add:function r(o){if(!function e(){return void 0===n||t.length<n}())return SU(new su("Not adding Promise because buffer limit was reached."));const a=o();return-1===t.indexOf(a)&&t.push(a),a.then(()=>i(a)).then(null,()=>i(a).then(null,()=>{})),a},drain:function s(o){return new wl((a,l)=>{let c=t.length;if(!c)return a(!0);const u=setTimeout(()=>{o&&o>0&&a(!1)},o);t.forEach(d=>{XS(d).then(()=>{--c||(clearTimeout(u),a(!0))},l)})})}}}(n.bufferSize||30)){let i={};function s(o){const a=[];if(Ux(o,(d,f)=>{const y=E8(f);if(function Ade(n,t,e=Date.now()){return function Ide(n,t){return n[t]||n.all||0}(n,t)>e}(i,y)){const O=f6(d,f);n.recordDroppedEvent("ratelimit_backoff",y,O)}else a.push(d)}),0===a.length)return XS();const l=D0(o[0],a),c=d=>{Ux(l,(f,y)=>{const O=f6(f,y);n.recordDroppedEvent(d,E8(y),O)})};return e.add(()=>t({body:Mce(l,n.textEncoder)}).then(d=>(void 0!==d.statusCode&&(d.statusCode<200||d.statusCode>=300)&&on&&$t.warn(`Sentry responded with status code ${d.statusCode} to sent event.`),i=function Rde(n,{statusCode:t,headers:e},i=Date.now()){const r=Be({},n),s=e&&e["x-sentry-rate-limits"],o=e&&e["retry-after"];if(s)for(const a of s.trim().split(",")){const[l,c,,,u]=a.split(":",5),d=parseInt(l,10),f=1e3*(isNaN(d)?60:d);if(c)for(const y of c.split(";"))"metric_bucket"===y?(!u||u.split(";").includes("custom"))&&(r[y]=i+f):r[y]=i+f;else r.all=i+f}else o?r.all=i+function xde(n,t=Date.now()){const e=parseInt(`${n}`,10);if(!isNaN(e))return 1e3*e;const i=Date.parse(`${n}`);return isNaN(i)?6e4:i-t}(o,i):429===t&&(r.all=i+6e4);return r}(i,d),d),d=>{throw c("network_error"),d})).then(d=>d,d=>{if(d instanceof su)return on&&$t.error("Skipped sending event because buffer is full."),c("queue_overflow"),XS();throw d})}return s.__sentry__baseTransport__=!0,{send:s,flush:o=>e.drain(o)}}function f6(n,t){if("event"===t||"transaction"===t)return Array.isArray(n)?n[1]:void 0}let F0;function Fde(n,t=function Nde(){if(F0)return F0;if(kx(Ti.fetch))return F0=Ti.fetch.bind(Ti);const n=Ti.document;let t=Ti.fetch;if(n&&"function"==typeof n.createElement)try{const e=n.createElement("iframe");e.hidden=!0,n.head.appendChild(e);const i=e.contentWindow;i&&i.fetch&&(t=i.fetch),n.head.removeChild(e)}catch(e){Ol&&ra.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return F0=t.bind(Ti)}()){let e=0,i=0;return h6(n,function r(s){const o=s.body.length;e+=o,i++;const a=Be({body:s.body,method:"POST",referrerPolicy:"origin",headers:n.headers,keepalive:e<=6e4&&i<15},n.fetchOptions);try{return t(n.url,a).then(l=>(e-=o,i--,{statusCode:l.status,headers:{"x-sentry-rate-limits":l.headers.get("X-Sentry-Rate-Limits"),"retry-after":l.headers.get("Retry-After")}}))}catch(l){return function kde(){F0=void 0}(),e-=o,i--,function cue(n){return new ou((t,e)=>{e(n)})}(l)}})}function Bde(n){return h6(n,function t(e){return new ou((i,r)=>{const s=new XMLHttpRequest;s.onerror=r,s.onreadystatechange=()=>{4===s.readyState&&i({statusCode:s.status,headers:{"x-sentry-rate-limits":s.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":s.getResponseHeader("Retry-After")}})},s.open("POST",n.url);for(const o in n.headers)Object.prototype.hasOwnProperty.call(n.headers,o)&&s.setRequestHeader(o,n.headers[o]);s.send(e.body)})})}const Ude=[qU(),QU(),c6(),z8(),Z8(),a6(),$8(),i6()];function p6(n){return[...Ude]}function Gde(n={}){void 0===n.defaultIntegrations&&(n.defaultIntegrations=p6()),void 0===n.release&&("string"==typeof __SENTRY_RELEASE__&&(n.release=__SENTRY_RELEASE__),Ti.SENTRY_RELEASE&&Ti.SENTRY_RELEASE.id&&(n.release=Ti.SENTRY_RELEASE.id)),void 0===n.autoSessionTracking&&(n.autoSessionTracking=!0),void 0===n.sendClientReports&&(n.sendClientReports=!0);const t=xn(Be({},n),{stackParser:sce(n.stackParser||Mde),integrations:Dle(n),transport:n.transport||(Nx()?Fde:Bde)});(function Yle(n,t){!0===t.debug&&(on?$t.enable():zS(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),Ml().update(t.initialScope);const i=new n(t);(function Xle(n){const e=qs().getStackTop();e.client=n,e.scope.setClient(n)})(i),function qle(n){n.init?n.init():n.setupIntegrations&&n.setupIntegrations()}(i)})(Sue,t),n.autoSessionTracking&&function jde(){void 0!==Ti.document?(jU({ignoreDuration:!0}),zU(),C8(({from:n,to:t})=>{void 0!==n&&n!==t&&(jU({ignoreDuration:!0}),zU())})):Ol&&ra.warn("Session tracking in non-browser environment with @sentry/browser is not supported.")}()}const g6=(n={},t=qs())=>{if(!Ti.document)return void(Ol&&ra.error("Global document not defined in showReportDialog call"));const{client:e,scope:i}=t.getStackTop(),r=n.dsn||e&&e.getDsn();if(!r)return void(Ol&&ra.error("DSN not configured for showReportDialog call"));i&&(n.user=Be(Be({},i.getUser()),n.user)),n.eventId||(n.eventId=t.lastEventId());const s=Ti.document.createElement("script");s.async=!0,s.crossOrigin="anonymous",s.src=function rce(n,t){const e=t8(n);if(!e)return"";const i=`${n8(e)}embed/error-page/`;let r=`dsn=${A0(e)}`;for(const s in t)if("dsn"!==s&&"onClose"!==s)if("user"===s){const o=t.user;if(!o)continue;o.name&&(r+=`&name=${encodeURIComponent(o.name)}`),o.email&&(r+=`&email=${encodeURIComponent(o.email)}`)}else r+=`&${encodeURIComponent(s)}=${encodeURIComponent(t[s])}`;return`${i}?${r}`}(r,n),n.onLoad&&(s.onload=n.onLoad);const{onClose:o}=n;if(o){const l=c=>{if("__sentry_reportdialog_closed__"===c.data)try{o()}finally{Ti.removeEventListener("message",l)}};Ti.addEventListener("message",l)}const a=Ti.document.head||Ti.document.body;a?a.appendChild(s):Ol&&ra.error("Not injecting report dialog. No injection point found in HTML")};const Zd="sentry.source",R_="sentry.sample_rate",mC="sentry.op",D_="sentry.origin";var v6;function eI(n,t){n.setTag("http.status_code",String(t)),n.setData("http.response.status_code",t);const e=function Vde(n){if(n<400&&n>=100)return"ok";if(n>=400&&n<500)switch(n){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(n>=500&&n<600)switch(n){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}(t);"unknown_error"!==e&&n.setStatus(e)}!function(n){n.Ok="ok",n.DeadlineExceeded="deadline_exceeded",n.Unauthenticated="unauthenticated",n.PermissionDenied="permission_denied",n.NotFound="not_found",n.ResourceExhausted="resource_exhausted",n.InvalidArgument="invalid_argument",n.Unimplemented="unimplemented",n.Unavailable="unavailable",n.InternalError="internal_error",n.UnknownError="unknown_error",n.Cancelled="cancelled",n.AlreadyExists="already_exists",n.FailedPrecondition="failed_precondition",n.Aborted="aborted",n.OutOfRange="out_of_range",n.DataLoss="data_loss"}(v6||(v6={}));class y6{constructor(t=1e3){this._maxlen=t,this.spans=[]}add(t){this.spans.length>this._maxlen?t.spanRecorder=void 0:this.spans.push(t)}}class vC{constructor(t={}){this._traceId=t.traceId||ia(),this._spanId=t.spanId||ia().substring(16),this._startTime=t.startTimestamp||P0(),this.tags=t.tags?Be({},t.tags):{},this.data=t.data?Be({},t.data):{},this.instrumenter=t.instrumenter||"sentry",this._attributes={},this.setAttributes(Be({[D_]:t.origin||"manual",[mC]:t.op},t.attributes)),this._name=t.name||t.description,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.status&&(this._status=t.status),t.endTimestamp&&(this._endTime=t.endTimestamp),void 0!==t.exclusiveTime&&(this._exclusiveTime=t.exclusiveTime),this._measurements=t.measurements?Be({},t.measurements):{}}get name(){return this._name||""}set name(t){this.updateName(t)}get description(){return this._name}set description(t){this._name=t}get traceId(){return this._traceId}set traceId(t){this._traceId=t}get spanId(){return this._spanId}set spanId(t){this._spanId=t}set parentSpanId(t){this._parentSpanId=t}get parentSpanId(){return this._parentSpanId}get sampled(){return this._sampled}set sampled(t){this._sampled=t}get attributes(){return this._attributes}set attributes(t){this._attributes=t}get startTimestamp(){return this._startTime}set startTimestamp(t){this._startTime=t}get endTimestamp(){return this._endTime}set endTimestamp(t){this._endTime=t}get status(){return this._status}set status(t){this._status=t}get op(){return this._attributes[mC]}set op(t){this.setAttribute(mC,t)}get origin(){return this._attributes[D_]}set origin(t){this.setAttribute(D_,t)}spanContext(){const{_spanId:t,_traceId:e,_sampled:i}=this;return{spanId:t,traceId:e,traceFlags:i?1:0}}startChild(t){const e=new vC(xn(Be({},t),{parentSpanId:this._spanId,sampled:this._sampled,traceId:this._traceId}));e.spanRecorder=this.spanRecorder,e.spanRecorder&&e.spanRecorder.add(e);const i=KS(this);if(e.transaction=i,on&&i){const a=`[Tracing] Starting '${t&&t.op||"< unknown op >"}' span on transaction '${Ls(e).description||"< unknown name >"}' (${i.spanContext().spanId}).`;$t.log(a),this._logMessage=a}return e}setTag(t,e){return this.tags=xn(Be({},this.tags),{[t]:e}),this}setData(t,e){return this.data=xn(Be({},this.data),{[t]:e}),this}setAttribute(t,e){void 0===e?delete this._attributes[t]:this._attributes[t]=e}setAttributes(t){Object.keys(t).forEach(e=>this.setAttribute(e,t[e]))}setStatus(t){return this._status=t,this}setHttpStatus(t){return eI(this,t),this}setName(t){this.updateName(t)}updateName(t){return this._name=t,this}isSuccess(){return"ok"===this._status}finish(t){return this.end(t)}end(t){if(this._endTime)return;const e=KS(this);if(on&&e&&e.spanContext().spanId!==this._spanId){const i=this._logMessage;i&&$t.log(i.replace("Starting","Finishing"))}this._endTime=ZS(t)}toTraceparent(){return JS(this)}toContext(){return Pa({data:this._getData(),description:this._name,endTimestamp:this._endTime,op:this.op,parentSpanId:this._parentSpanId,sampled:this._sampled,spanId:this._spanId,startTimestamp:this._startTime,status:this._status,tags:this.tags,traceId:this._traceId})}updateWithContext(t){return this.data=t.data||{},this._name=t.name||t.description,this._endTime=t.endTimestamp,this.op=t.op,this._parentSpanId=t.parentSpanId,this._sampled=t.sampled,this._spanId=t.spanId||this._spanId,this._startTime=t.startTimestamp||this._startTime,this._status=t.status,this.tags=t.tags||{},this._traceId=t.traceId||this._traceId,this}getTraceContext(){return bx(this)}getSpanJSON(){return Pa({data:this._getData(),description:this._name,op:this._attributes[mC],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:this._status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[D_],_metrics_summary:void 0,profile_id:this._attributes.profile_id,exclusive_time:this._exclusiveTime,measurements:Object.keys(this._measurements).length>0?this._measurements:void 0})}isRecording(){return!this._endTime&&!!this._sampled}toJSON(){return this.getSpanJSON()}_getData(){const{data:t,_attributes:e}=this,i=Object.keys(t).length>0,r=Object.keys(e).length>0;if(i||r)return i&&r?Be(Be({},t),e):i?t:e}}function N_(n){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const t=xr(),e=n||t&&t.getOptions();return!!e&&(e.enableTracing||"tracesSampleRate"in e||"tracesSampler"in e)}function b6(n){if(!N_())return;const t=function bC(n){if(n.startTime){const t=Be({},n);return t.startTimestamp=ZS(n.startTime),delete t.startTime,t}return n}(n),e=qs(),i=n.scope?n.scope.getSpan():tI();if(n.onlyIfParent&&!i)return;const o=(n.scope||Ml()).clone();return function yC(n,{parentSpan:t,spanContext:e,forceTransaction:i,scope:r}){if(!N_())return;const s=Cf();let o;if(t&&!i)o=t.startChild(e);else if(t){const a=w_(t),{traceId:l,spanId:c}=t.spanContext(),u=Sx(t);o=n.startTransaction(xn(Be({traceId:l,parentSpanId:c,parentSampled:u},e),{metadata:Be({dynamicSamplingContext:a},e.metadata)}))}else{const{traceId:a,dsc:l,parentSpanId:c,sampled:u}=Be(Be({},s.getPropagationContext()),r.getPropagationContext());o=n.startTransaction(xn(Be({traceId:a,parentSpanId:c,parentSampled:u},e),{metadata:Be({dynamicSamplingContext:l},e.metadata)}))}return r.setSpan(o),function zde(n,t,e){n&&(WS(n,C6,e),WS(n,S6,t))}(o,r,s),o}(e,{parentSpan:i,spanContext:t,forceTransaction:n.forceTransaction,scope:o})}function tI(){return Ml().getSpan()}const S6="_sentryScope",C6="_sentryIsolationScope";class E6 extends vC{constructor(t,e){super(t),this._contexts={},this._hub=e||qs(),this._name=t.name||"",this._metadata=Be({},t.metadata),this._trimEnd=t.trimEnd,this.transaction=this;const i=this._metadata.dynamicSamplingContext;i&&(this._frozenDynamicSamplingContext=Be({},i))}get name(){return this._name}set name(t){this.setName(t)}get metadata(){return Be(Be(Be({source:"custom",spanMetadata:{}},this._metadata),this._attributes[Zd]&&{source:this._attributes[Zd]}),this._attributes[R_]&&{sampleRate:this._attributes[R_]})}set metadata(t){this._metadata=t}setName(t,e="custom"){this._name=t,this.setAttribute(Zd,e)}updateName(t){return this._name=t,this}initSpanRecorder(t=1e3){this.spanRecorder||(this.spanRecorder=new y6(t)),this.spanRecorder.add(this)}setContext(t,e){null===e?delete this._contexts[t]:this._contexts[t]=e}setMeasurement(t,e,i=""){this._measurements[t]={value:e,unit:i}}setMetadata(t){this._metadata=Be(Be({},this._metadata),t)}end(t){const e=ZS(t),i=this._finishTransaction(e);if(i)return this._hub.captureEvent(i)}toContext(){const t=super.toContext();return Pa(xn(Be({},t),{name:this._name,trimEnd:this._trimEnd}))}updateWithContext(t){return super.updateWithContext(t),this._name=t.name||"",this._trimEnd=t.trimEnd,this}getDynamicSamplingContext(){return w_(this)}setHub(t){this._hub=t}getProfileId(){if(void 0!==this._contexts&&void 0!==this._contexts.profile)return this._contexts.profile.profile_id}_finishTransaction(t){if(void 0!==this._endTime)return;this._name||(on&&$t.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>"),super.end(t);const e=this._hub.getClient();if(e&&e.emit&&e.emit("finishTransaction",this),!0!==this._sampled)return on&&$t.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),void(e&&e.recordDroppedEvent("sample_rate","transaction"));const i=this.spanRecorder?this.spanRecorder.spans.filter(u=>u!==this&&Ls(u).timestamp):[];if(this._trimEnd&&i.length>0){const u=i.map(d=>Ls(d).timestamp).filter(Boolean);this._endTime=u.reduce((d,f)=>d>f?d:f)}const{scope:r,isolationScope:s}=function Wde(n){return{scope:n[S6],isolationScope:n[C6]}}(this),{metadata:o}=this,{source:a}=o,l=Be({contexts:xn(Be({},this._contexts),{trace:bx(this)}),spans:i,start_timestamp:this._startTime,tags:this.tags,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:Be(xn(Be({},o),{capturedSpanScope:r,capturedSpanIsolationScope:s}),Pa({dynamicSamplingContext:w_(this)})),_metrics_summary:void 0},a&&{transaction_info:{source:a}});return Object.keys(this._measurements).length>0&&(on&&$t.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),l.measurements=this._measurements),on&&$t.log(`[Tracing] Finishing ${this.op} transaction: ${this._name}.`),l}}const SC={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},k_=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"];class Yde extends y6{constructor(t,e,i,r){super(r),this._pushActivity=t,this._popActivity=e,this.transactionSpanId=i}add(t){if(t.spanContext().spanId!==this.transactionSpanId){const e=t.end;t.end=(...i)=>(this._popActivity(t.spanContext().spanId),e.apply(t,i)),void 0===Ls(t).timestamp&&this._pushActivity(t.spanContext().spanId)}super.add(t)}}class Xde extends E6{constructor(t,e,i=SC.idleTimeout,r=SC.finalTimeout,s=SC.heartbeatInterval,o=!1,a=!1){super(t,e),this._idleHub=e,this._idleTimeout=i,this._finalTimeout=r,this._heartbeatInterval=s,this._onScope=o,this.activities={},this._heartbeatCounter=0,this._finished=!1,this._idleTimeoutCanceledPermanently=!1,this._beforeFinishCallbacks=[],this._finishReason=k_[4],this._autoFinishAllowed=!a,o&&(on&&$t.log(`Setting idle transaction on scope. Span ID: ${this.spanContext().spanId}`),e.getScope().setSpan(this)),a||this._restartIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=k_[3],this.end())},this._finalTimeout)}end(t){const e=ZS(t);if(this._finished=!0,this.activities={},"ui.action.click"===this.op&&this.setAttribute("finishReason",this._finishReason),this.spanRecorder){on&&$t.log("[Tracing] finishing IdleTransaction",new Date(1e3*e).toISOString(),this.op);for(const i of this._beforeFinishCallbacks)i(this,e);this.spanRecorder.spans=this.spanRecorder.spans.filter(i=>{if(i.spanContext().spanId===this.spanContext().spanId)return!0;Ls(i).timestamp||(i.setStatus("cancelled"),i.end(e),on&&$t.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(i,void 0,2)));const{start_timestamp:r,timestamp:s}=Ls(i),o=r&&r<e,l=s&&r&&s-r<(this._finalTimeout+this._idleTimeout)/1e3;if(on){const c=JSON.stringify(i,void 0,2);o?l||$t.log("[Tracing] discarding Span since it finished after Transaction final timeout",c):$t.log("[Tracing] discarding Span since it happened after Transaction was finished",c)}return o&&l}),on&&$t.log("[Tracing] flushing IdleTransaction")}else on&&$t.log("[Tracing] No active IdleTransaction");if(this._onScope){const i=this._idleHub.getScope();i.getTransaction()===this&&i.setSpan(void 0)}return super.end(t)}registerBeforeFinishCallback(t){this._beforeFinishCallbacks.push(t)}initSpanRecorder(t){this.spanRecorder||(this.spanRecorder=new Yde(r=>{this._finished||this._pushActivity(r)},r=>{this._finished||this._popActivity(r)},this.spanContext().spanId,t),on&&$t.log("Starting heartbeat"),this._pingHeartbeat()),this.spanRecorder.add(this)}cancelIdleTimeout(t,{restartOnChildSpanChange:e}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=!1===e,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,0===Object.keys(this.activities).length&&this._idleTimeoutCanceledPermanently&&(this._finishReason=k_[5],this.end(t)))}setFinishReason(t){this._finishReason=t}sendAutoFinishSignal(){this._autoFinishAllowed||(on&&$t.log("[Tracing] Received finish signal for idle transaction."),this._restartIdleTimeout(),this._autoFinishAllowed=!0)}_restartIdleTimeout(t){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{!this._finished&&0===Object.keys(this.activities).length&&(this._finishReason=k_[1],this.end(t))},this._idleTimeout)}_pushActivity(t){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),on&&$t.log(`[Tracing] pushActivity: ${t}`),this.activities[t]=!0,on&&$t.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(t){if(this.activities[t]&&(on&&$t.log(`[Tracing] popActivity ${t}`),delete this.activities[t],on&&$t.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){const e=P0();this._idleTimeoutCanceledPermanently?this._autoFinishAllowed&&(this._finishReason=k_[5],this.end(e)):this._restartIdleTimeout(e+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;const t=Object.keys(this.activities).join("");t===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=t,this._heartbeatCounter>=3?this._autoFinishAllowed&&(on&&$t.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=k_[0],this.end()):this._pingHeartbeat()}_pingHeartbeat(){on&&$t.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},this._heartbeatInterval)}}const F_={},T6={};function w6(n,t){F_[n]=F_[n]||[],F_[n].push(t)}function M6(n,t){T6[n]||(t(),T6[n]=!0)}function O6(n,t){const e=n&&F_[n];if(e)for(const i of e)try{i(t)}catch(r){VS&&$t.error(`Error while triggering instrumentation handler.\nType: ${n}\nName: ${FU(i)}\nError:`,r)}}let CC=null;function Kde(){CC=bs.onerror,bs.onerror=function(n,t,e,i,r){return O6("error",{column:i,error:r,line:e,msg:n,url:t}),!(!CC||CC.__SENTRY_LOADER__)&&CC.apply(this,arguments)},bs.onerror.__SENTRY_INSTRUMENTED__=!0}let EC=null;function Zde(){EC=bs.onunhandledrejection,bs.onunhandledrejection=function(n){return O6("unhandledrejection",n),!(EC&&!EC.__SENTRY_LOADER__)||EC.apply(this,arguments)},bs.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function Of(n){return(n||qs()).getScope().getTransaction()}let P6=!1;function nI(){const n=Of();if(n){const t="internal_error";on&&$t.log(`[Tracing] Transaction: ${t} -> Global error occured`),n.setStatus(t)}}function x6(n,t,e){if(!N_(t))return n.sampled=!1,n;if(void 0!==n.sampled)return n.setAttribute(R_,Number(n.sampled)),n;let i;return"function"==typeof t.tracesSampler?(i=t.tracesSampler(e),n.setAttribute(R_,Number(i))):void 0!==e.parentSampled?i=e.parentSampled:void 0!==t.tracesSampleRate?(i=t.tracesSampleRate,n.setAttribute(R_,Number(i))):(i=1,n.setAttribute(R_,i)),I6(i)?i?(n.sampled=Math.random()<i,n.sampled?(on&&$t.log(`[Tracing] starting ${n.op} transaction - ${Ls(n).description}`),n):(on&&$t.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(i)})`),n)):(on&&$t.log("[Tracing] Discarding transaction because "+("function"==typeof t.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),n.sampled=!1,n):(on&&$t.warn("[Tracing] Discarding transaction because of invalid sample rate."),n.sampled=!1,n)}function I6(n){return dU(n)||"number"!=typeof n&&"boolean"!=typeof n?(on&&$t.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(n)} of type ${JSON.stringify(typeof n)}.`),!1):!(n<0||n>1)||(on&&$t.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${n}.`),!1)}function ehe(){const t=this.getScope().getSpan();return t?{"sentry-trace":JS(t)}:{}}function the(n,t){const e=this.getClient(),i=e&&e.getOptions()||{},r=i.instrumenter||"sentry",s=n.instrumenter||"sentry";r!==s&&(on&&$t.error(`A transaction was started with instrumenter=\`${s}\`, but the SDK is configured with the \`${r}\` instrumenter.\nThe transaction will not be sampled. Please use the ${r} instrumentation to start transactions.`),n.sampled=!1);let o=new E6(n,this);return o=x6(o,i,Be({name:n.name,parentSampled:n.parentSampled,transactionContext:n,attributes:Be(Be({},n.data),n.attributes)},t)),o.isRecording()&&o.initSpanRecorder(i._experiments&&i._experiments.maxSpans),e&&e.emit&&e.emit("startTransaction",o),o}function A6(n,t,e,i,r,s,o,a=!1){const l=n.getClient(),c=l&&l.getOptions()||{};let u=new Xde(t,n,e,i,o,r,a);return u=x6(u,c,Be({name:t.name,parentSampled:t.parentSampled,transactionContext:t,attributes:Be(Be({},t.data),t.attributes)},s)),u.isRecording()&&u.initSpanRecorder(c._experiments&&c._experiments.maxSpans),l&&l.emit&&l.emit("startTransaction",u),u}nI.tag="sentry_tracingErrorCallback";const B0="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,R6=Object.prototype.toString;function L_(n,t){return R6.call(n)===`[object ${t}]`}function Qd(n){return L_(n,"String")}function U0(n,t){try{return n instanceof t}catch(e){return!1}}function TC(n){return n&&n.Math==Math?n:void 0}const Za="object"==typeof globalThis&&TC(globalThis)||"object"==typeof window&&TC(window)||"object"==typeof self&&TC(self)||"object"==typeof global&&TC(global)||function(){return this}()||{};function iI(){return Za}const D6=["debug","info","warn","error","log","assert","trace"],N6={},nr=function lhe(){let n=!1;const t={enable:()=>{n=!0},disable:()=>{n=!1},isEnabled:()=>n};return D6.forEach(B0?e=>{t[e]=(...i)=>{n&&function ahe(n){if(!("console"in Za))return n();const t=Za.console,e={},i=Object.keys(N6);i.forEach(r=>{const s=N6[r];e[r]=t[r],t[r]=s});try{n()}finally{i.forEach(r=>{t[r]=e[r]})}}(()=>{Za.console[e](`Sentry Logger [${e}]:`,...i)})}}:e=>{t[e]=()=>{}}),t}(),rI="baggage",k6="sentry-",che=/^sentry-/;function F6(n){if(n)return function hhe(n){if(0!==Object.keys(n).length)return Object.entries(n).reduce((t,[e,i],r)=>{const s=`${encodeURIComponent(e)}=${encodeURIComponent(i)}`,o=0===r?s:`${t},${s}`;return o.length>8192?(B0&&nr.warn(`Not adding key: ${e} with val: ${i} to baggage header due to exceeding baggage size limits.`),t):o},"")}(Object.entries(n).reduce((e,[i,r])=>(r&&(e[`${k6}${i}`]=r),e),{}))}function L6(n){return n.split(",").map(t=>t.split("=").map(e=>decodeURIComponent(e.trim()))).reduce((t,[e,i])=>(t[e]=i,t),{})}function Pf(){const t=Za.crypto||Za.msCrypto;let e=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(e=()=>{const i=new Uint8Array(1);return t.getRandomValues(i),i[0]})}catch(i){}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,i=>(i^(15&e())>>i/4).toString(16))}const phe=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function ghe(n,t){const e=function U6(n){if(!n)return;const t=n.match(phe);if(!t)return;let e;return"1"===t[3]?e=!0:"0"===t[3]&&(e=!1),{traceId:t[1],parentSampled:e,parentSpanId:t[2]}}(n),i=function dhe(n){if(!Qd(n)&&!Array.isArray(n))return;let t={};if(Array.isArray(n))t=n.reduce((i,r)=>{const s=L6(r);for(const o of Object.keys(s))i[o]=s[o];return i},{});else{if(!n)return;t=L6(n)}const e=Object.entries(t).reduce((i,[r,s])=>(r.match(che)&&(i[r.slice(k6.length)]=s),i),{});return Object.keys(e).length>0?e:void 0}(t),{traceId:r,parentSpanId:s,parentSampled:o}=e||{};return e?{traceId:r||Pf(),parentSpanId:s||Pf().substring(16),spanId:Pf().substring(16),sampled:o,dsc:i||{}}:{traceId:r||Pf(),spanId:Pf().substring(16)}}function G6(n=Pf(),t=Pf().substring(16),e){let i="";return void 0!==e&&(i=e?"-1":"-0"),`${n}-${t}${i}`}function _he(){return Date.now()/1e3}let wC;!function mhe(){const{performance:n}=Za;if(!n||!n.now)return _he;const t=Date.now()-n.now(),e=null==n.timeOrigin?t:n.timeOrigin}();const Pl=(()=>{const{performance:n}=Za;if(!n||!n.now)return void(wC="none");const t=36e5,e=n.now(),i=Date.now(),r=n.timeOrigin?Math.abs(n.timeOrigin+e-i):t,s=r<t,o=n.timing&&n.timing.navigationStart,l="number"==typeof o?Math.abs(o+e-i):t;return s||l<t?r<=l?(wC="timeOrigin",n.timeOrigin):(wC="navigationStart",o):(wC="dateNow",i)})();function xf(n,t,e){if(!(t in n))return;const i=n[t],r=e(i);"function"==typeof r&&function yhe(n,t){try{n.prototype=t.prototype=t.prototype||{},function vhe(n,t,e){try{Object.defineProperty(n,t,{value:e,writable:!0,configurable:!0})}catch(i){B0&&nr.log(`Failed to add non-enumerable property "${t}" to object`,n)}}(n,"__sentry_original__",t)}catch(e){}}(r,i),n[t]=r}const MC=iI(),oI="<anonymous>";function Y6(n){try{return n&&"function"==typeof n&&n.name||oI}catch(t){return oI}}const B_={},X6={};function aI(n,t){B_[n]=B_[n]||[],B_[n].push(t)}function lI(n,t){X6[n]||(t(),X6[n]=!0)}function If(n,t){const e=n&&B_[n];if(e)for(const i of e)try{i(t)}catch(r){B0&&nr.error(`Error while triggering instrumentation handler.\nType: ${n}\nName: ${Y6(i)}\nError:`,r)}}const G0=Za;let OC;function Mhe(){if(!function Che(){const n=MC.chrome;return!(n&&n.app&&n.app.runtime||!("history"in MC)||!MC.history.pushState||!MC.history.replaceState)}())return;const n=G0.onpopstate;function t(e){return function(...i){const r=i.length>2?i[2]:void 0;if(r){const s=OC,o=String(r);OC=o,If("history",{from:s,to:o})}return e.apply(this,i)}}G0.onpopstate=function(...e){const i=G0.location.href,r=OC;if(OC=i,If("history",{from:r,to:i}),n)try{return n.apply(this,e)}catch(o){}},xf(G0.history,"pushState",t),xf(G0.history,"replaceState",t)}const U_=iI();function PC(n,t={}){if(!n)return"<unknown>";try{let e=n;const i=5,r=[];let s=0,o=0;const a=" > ",l=a.length;let c;const u=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||80;for(;e&&s++<i&&(c=Phe(e,u),!("html"===c||s>1&&o+r.length*l+c.length>=d));)r.push(c),o+=c.length,e=e.parentNode;return r.reverse().join(a)}catch(e){return"<unknown>"}}function Phe(n,t){const e=n,i=[];let r,s,o,a,l;if(!e||!e.tagName)return"";if(U_.HTMLElement&&e instanceof HTMLElement&&e.dataset&&e.dataset.sentryComponent)return e.dataset.sentryComponent;i.push(e.tagName.toLowerCase());const c=t&&t.length?t.filter(d=>e.getAttribute(d)).map(d=>[d,e.getAttribute(d)]):null;if(c&&c.length)c.forEach(d=>{i.push(`[${d[0]}="${d[1]}"]`)});else if(e.id&&i.push(`#${e.id}`),r=e.className,r&&Qd(r))for(s=r.split(/\s+/),l=0;l<s.length;l++)i.push(`.${s[l]}`);const u=["aria-label","type","name","title","alt"];for(l=0;l<u.length;l++)o=u[l],a=e.getAttribute(o),a&&i.push(`[${o}="${a}"]`);return i.join("")}function Ihe(n){if(!U_.HTMLElement)return null;let t=n;for(let i=0;i<5;i++){if(!t)return null;if(t instanceof HTMLElement&&t.dataset.sentryComponent)return t.dataset.sentryComponent;t=t.parentNode}return null}const Ar="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,Ln=Za,j0=(n,t,e)=>{let i,r;return s=>{t.value>=0&&(s||e)&&(r=t.value-(i||0),(r||void 0===i)&&(i=t.value,t.delta=r,n(t)))}},xC=()=>Ln.__WEB_VITALS_POLYFILL__?Ln.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||(()=>{const n=Ln.performance.timing,t=Ln.performance.navigation.type,e={entryType:"navigation",startTime:0,type:2==t?"back_forward":1===t?"reload":"navigate"};for(const i in n)"navigationStart"!==i&&"toJSON"!==i&&(e[i]=Math.max(n[i]-n.navigationStart,0));return e})()):Ln.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],cI=()=>{const n=xC();return n&&n.activationStart||0},H0=(n,t)=>{const e=xC();let i="navigate";return e&&(i=Ln.document&&Ln.document.prerendering||cI()>0?"prerender":e.type.replace(/_/g,"-")),{name:n,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:`v3-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:i}},G_=(n,t,e)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(n)){const i=new PerformanceObserver(r=>{t(r.getEntries())});return i.observe(Object.assign({type:n,buffered:!0},e||{})),i}}catch(i){}},V0=(n,t)=>{const e=i=>{("pagehide"===i.type||"hidden"===Ln.document.visibilityState)&&(n(i),t&&(removeEventListener("visibilitychange",e,!0),removeEventListener("pagehide",e,!0)))};Ln.document&&(addEventListener("visibilitychange",e,!0),addEventListener("pagehide",e,!0))};let IC=-1;const uI=()=>(IC<0&&(Ln.document&&Ln.document.visibilityState&&(IC="hidden"!==Ln.document.visibilityState||Ln.document.prerendering?1/0:0),V0(({timeStamp:n})=>{IC=n},!0)),{get firstHiddenTime(){return IC}});let q6=0,dI=1/0,AC=0;const Bhe=n=>{n.forEach(t=>{t.interactionId&&(dI=Math.min(dI,t.interactionId),AC=Math.max(AC,t.interactionId),q6=AC?(AC-dI)/7+1:0)})};let hI;const K6=()=>hI?q6:performance.interactionCount||0,Ku=[],fI={},Z6=n=>{const e=fI[n.interactionId];if(e||Ku.length<10||n.duration>Ku[Ku.length-1].latency){if(e)e.entries.push(n),e.latency=Math.max(e.latency,n.duration);else{const i={id:n.interactionId,latency:n.duration,entries:[n]};fI[i.id]=i,Ku.push(i)}Ku.sort((i,r)=>r.latency-i.latency),Ku.splice(10).forEach(i=>{delete fI[i.id]})}},Q6={},pI=n=>{!Ln.document||(Ln.document.prerendering?addEventListener("prerenderingchange",()=>pI(n),!0):"complete"!==Ln.document.readyState?addEventListener("load",()=>pI(n),!0):setTimeout(n,0))},z0={},RC={};let eG,tG,nG,iG,rG;function W0(n,t){return sG(n,t),RC[n]||(function tfe(n){const t={};"event"===n&&(t.durationThreshold=0),G_(n,e=>{j_(n,{entries:e})},t)}(n),RC[n]=!0),oG(n,t)}function j_(n,t){const e=z0[n];if(e&&e.length)for(const i of e)try{i(t)}catch(r){Ar&&nr.error(`Error while triggering instrumentation handler.\nType: ${n}\nName: ${Y6(i)}\nError:`,r)}}function Khe(){return((n,t={})=>{const e=H0("CLS",0);let i,r=0,s=[];const o=l=>{l.forEach(c=>{if(!c.hadRecentInput){const u=s[0],d=s[s.length-1];r&&0!==s.length&&c.startTime-d.startTime<1e3&&c.startTime-u.startTime<5e3?(r+=c.value,s.push(c)):(r=c.value,s=[c]),r>e.value&&(e.value=r,e.entries=s,i&&i())}})},a=G_("layout-shift",o);if(a){i=j0(n,e,t.reportAllChanges);const l=()=>{o(a.takeRecords()),i(!0)};return V0(l),l}})(n=>{j_("cls",{metric:n}),eG=n},{reportAllChanges:!0})}function Jhe(){return(n=>{const t=uI(),e=H0("FID");let i;const r=a=>{a.startTime<t.firstHiddenTime&&(e.value=a.processingStart-a.startTime,e.entries.push(a),i(!0))},s=a=>{a.forEach(r)},o=G_("first-input",s);i=j0(n=>{j_("fid",{metric:n}),tG=n},e),o&&V0(()=>{s(o.takeRecords()),o.disconnect()},!0)})()}function Zhe(){return(n=>{const t=uI(),e=H0("LCP");let i;const r=o=>{const a=o[o.length-1];if(a){const l=Math.max(a.startTime-cI(),0);l<t.firstHiddenTime&&(e.value=l,e.entries=[a],i())}},s=G_("largest-contentful-paint",r);if(s){i=j0(n=>{j_("lcp",{metric:n}),nG=n},e);const o=()=>{Q6[e.id]||(r(s.takeRecords()),s.disconnect(),Q6[e.id]=!0,i(!0))};return["keydown","click"].forEach(a=>{Ln.document&&addEventListener(a,o,{once:!0,capture:!0})}),V0(o,!0),o}})()}function Qhe(){return((n,t)=>{t=t||{};const e=H0("TTFB"),i=j0(n=>{j_("ttfb",{metric:n}),iG=n},e,t.reportAllChanges);pI(()=>{const r=xC();if(r){if(e.value=Math.max(r.responseStart-cI(),0),e.value<0||e.value>performance.now())return;e.entries=[r],i(!0)}})})()}function efe(){return((n,t)=>{t=t||{},"interactionCount"in performance||hI||(hI=G_("event",Bhe,{type:"event",buffered:!0,durationThreshold:0}));const e=H0("INP");let i;const r=o=>{o.forEach(l=>{l.interactionId&&Z6(l),"first-input"===l.entryType&&!Ku.some(u=>u.entries.some(d=>l.duration===d.duration&&l.startTime===d.startTime))&&Z6(l)});const a=(()=>{const n=Math.min(Ku.length-1,Math.floor(K6()/50));return Ku[n]})();a&&a.latency!==e.value&&(e.value=a.latency,e.entries=a.entries,i())},s=G_("event",r,{durationThreshold:t.durationThreshold||40});i=j0(n,e,t.reportAllChanges),s&&(s.observe({type:"first-input",buffered:!0}),V0(()=>{r(s.takeRecords()),e.value<0&&K6()>0&&(e.value=0,e.entries=[]),i(!0)}))})(n=>{j_("inp",{metric:n}),rG=n})}function $0(n,t,e,i,r=!1){let s;return sG(n,t),RC[n]||(s=e(),RC[n]=!0),i&&t({metric:i}),oG(n,t,r?s:void 0)}function sG(n,t){z0[n]=z0[n]||[],z0[n].push(t)}function oG(n,t,e){return()=>{e&&e();const i=z0[n];if(!i)return;const r=i.indexOf(t);-1!==r&&i.splice(r,1)}}function ife(n){return[{type:"span"},n]}function DC(n){if(!n)return{};const t=n.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const e=t[6]||"",i=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:e,hash:i,relative:t[5]+e+i}}function gI(n){return"number"==typeof n&&isFinite(n)}function H_(n,i){var r=i,{startTimestamp:t}=r,e=KK(r,["startTimestamp"]);return t&&n.startTimestamp>t&&(n.startTimestamp=t),n.startChild(Be({startTimestamp:t},e))}function Bs(n){return n/1e3}function _I(){return Ln&&Ln.addEventListener&&Ln.performance}let au,Y0,aG=0,ns={};const lG={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function NC(n,t,e,i,r,s){const o=s?t[s]:t[`${e}End`],a=t[`${e}Start`];!a||!o||H_(n,{op:"browser",origin:"auto.browser.browser.metrics",description:r||e,startTimestamp:i+Bs(a),endTimestamp:i+Bs(o)})}function mI(n,t,e,i){const r=t[e];null!=r&&r<2147483647&&(n[i]=r)}const kC=iI();function uG(n){return n&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(n.toString())}function Mfe(){!function Tfe(){if("string"==typeof EdgeRuntime)return!0;if(!function cG(){if(!("fetch"in kC))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(n){return!1}}())return!1;if(uG(kC.fetch))return!0;let n=!1;const t=kC.document;if(t&&"function"==typeof t.createElement)try{const e=t.createElement("iframe");e.hidden=!0,t.head.appendChild(e),e.contentWindow&&e.contentWindow.fetch&&(n=uG(e.contentWindow.fetch)),t.head.removeChild(e)}catch(e){B0&&nr.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return n}()||xf(Za,"fetch",function(n){return function(...t){const{method:e,url:i}=function Ofe(n){if(0===n.length)return{method:"GET",url:""};if(2===n.length){const[e,i]=n;return{url:dG(e),method:vI(i,"method")?String(i.method).toUpperCase():"GET"}}const t=n[0];return{url:dG(t),method:vI(t,"method")?String(t.method).toUpperCase():"GET"}}(t),r={args:t,fetchData:{method:e,url:i},startTimestamp:Date.now()};return If("fetch",Be({},r)),n.apply(Za,t).then(s=>(If("fetch",xn(Be({},r),{endTimestamp:Date.now(),response:s})),s),s=>{throw If("fetch",xn(Be({},r),{endTimestamp:Date.now(),error:s})),s})}})}function vI(n,t){return!!n&&"object"==typeof n&&!!n[t]}function dG(n){return"string"==typeof n?n:n?vI(n,"url")?n.url:n.toString?n.toString():"":""}const Pfe=Za,X0="__sentry_xhr_v3__";function Ife(){if(!Pfe.XMLHttpRequest)return;const n=XMLHttpRequest.prototype;xf(n,"open",function(t){return function(...e){const i=Date.now(),r=Qd(e[0])?e[0].toUpperCase():void 0,s=function Afe(n){if(Qd(n))return n;try{return n.toString()}catch(t){}}(e[1]);if(!r||!s)return t.apply(this,e);this[X0]={method:r,url:s,request_headers:{}},"POST"===r&&s.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const o=()=>{const a=this[X0];if(a&&4===this.readyState){try{a.status_code=this.status}catch(c){}If("xhr",{args:[r,s],endTimestamp:Date.now(),startTimestamp:i,xhr:this})}};return"onreadystatechange"in this&&"function"==typeof this.onreadystatechange?xf(this,"onreadystatechange",function(a){return function(...l){return o(),a.apply(this,l)}}):this.addEventListener("readystatechange",o),xf(this,"setRequestHeader",function(a){return function(...l){const[c,u]=l,d=this[X0];return d&&Qd(c)&&Qd(u)&&(d.request_headers[c.toLowerCase()]=u),a.apply(this,l)}}),t.apply(this,e)}}),xf(n,"send",function(t){return function(...e){const i=this[X0];return i?(void 0!==e[0]&&(i.body=e[0]),If("xhr",{args:[i.method,i.url],startTimestamp:Date.now(),xhr:this}),t.apply(this,e)):t.apply(this,e)}})}const yI=["localhost",/^\/(?!\/)/],bI={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,tracingOrigins:yI,tracePropagationTargets:yI};function Bfe(n){const{traceFetch:t,traceXHR:e,tracePropagationTargets:i,tracingOrigins:r,shouldCreateSpanForRequest:s,enableHTTPTimings:o}=Be({traceFetch:bI.traceFetch,traceXHR:bI.traceXHR},n),a="function"==typeof s?s:u=>!0,l=u=>function Hfe(n,t){return function Dfe(n,t=[],e=!1){return t.some(i=>function Rfe(n,t,e=!1){return!!Qd(n)&&(function she(n){return L_(n,"RegExp")}(t)?t.test(n):!!Qd(t)&&(e?n===t:n.includes(t)))}(n,i,e))}(n,t||yI)}(u,i||r),c={};t&&function wfe(n){const t="fetch";aI(t,n),lI(t,Mfe)}(u=>{const d=function Nfe(n,t,e,i,r="auto.http.browser"){if(!N_()||!n.fetchData)return;const s=t(n.fetchData.url);if(n.endTimestamp&&s){const y=n.fetchData.__span;if(!y)return;const O=i[y];return void(O&&(function Lfe(n,t){if(t.response){eI(n,t.response.status);const e=t.response&&t.response.headers&&t.response.headers.get("content-length");if(e){const i=parseInt(e);i>0&&n.setAttribute("http.response_content_length",i)}}else t.error&&n.setStatus("internal_error");n.end()}(O,n),delete i[y]))}const o=Ml(),a=xr(),{method:l,url:c}=n.fetchData,u=function Ffe(n){try{return new URL(n).href}catch(t){return}}(c),d=u?DC(u).host:void 0,f=s?b6({name:`${l} ${c}`,onlyIfParent:!0,attributes:{url:c,type:"fetch","http.method":l,"http.url":u,"server.address":d,[D_]:r},op:"http.client"}):void 0;if(f&&(n.fetchData.__span=f.spanContext().spanId,i[f.spanContext().spanId]=f),e(n.fetchData.url)&&a){const y=n.args[0];n.args[1]=n.args[1]||{};const O=n.args[1];O.headers=function kfe(n,t,e,i,r){const s=r||e.getSpan(),o=Cf(),{traceId:a,spanId:l,sampled:c,dsc:u}=Be(Be({},o.getPropagationContext()),e.getPropagationContext()),d=s?JS(s):G6(a,l,c),f=F6(u||(s?w_(s):QS(a,t,e))),y=i.headers||("undefined"!=typeof Request&&U0(n,Request)?n.headers:void 0);if(y){if("undefined"!=typeof Headers&&U0(y,Headers)){const O=new Headers(y);return O.append("sentry-trace",d),f&&O.append(rI,f),O}if(Array.isArray(y)){const O=[...y,["sentry-trace",d]];return f&&O.push([rI,f]),O}{const O="baggage"in y?y.baggage:void 0,I=[];return Array.isArray(O)?I.push(...O):O&&I.push(O),f&&I.push(f),xn(Be({},y),{"sentry-trace":d,baggage:I.length>0?I.join(","):void 0})}}return{"sentry-trace":d,baggage:f}}(y,a,o,O,f)}return f}(u,a,l,c);if(d){const f=fG(u.fetchData.url),y=f?DC(f).host:void 0;d.setAttributes({"http.url":f,"server.address":y})}o&&d&&hG(d)}),e&&function xfe(n){aI("xhr",n),lI("xhr",Ife)}(u=>{const d=function Vfe(n,t,e,i){const r=n.xhr,s=r&&r[X0];if(!N_()||!r||r.__sentry_own_request__||!s)return;const o=t(s.url);if(n.endTimestamp&&o){const y=r.__sentry_xhr_span_id__;if(!y)return;const O=i[y];return void(O&&void 0!==s.status_code&&(eI(O,s.status_code),O.end(),delete i[y]))}const a=Ml(),l=Cf(),c=fG(s.url),u=c?DC(c).host:void 0,d=o?b6({name:`${s.method} ${s.url}`,onlyIfParent:!0,attributes:{type:"xhr","http.method":s.method,"http.url":c,url:s.url,"server.address":u,[D_]:"auto.http.browser"},op:"http.client"}):void 0;d&&(r.__sentry_xhr_span_id__=d.spanContext().spanId,i[r.__sentry_xhr_span_id__]=d);const f=xr();if(r.setRequestHeader&&e(s.url)&&f){const{traceId:y,spanId:O,sampled:I,dsc:N}=Be(Be({},l.getPropagationContext()),a.getPropagationContext());!function zfe(n,t,e){try{n.setRequestHeader("sentry-trace",t),e&&n.setRequestHeader(rI,e)}catch(i){}}(r,d?JS(d):G6(y,O,I),F6(N||(d?w_(d):QS(y,f,a))))}return d}(u,a,l,c);o&&d&&hG(d)})}function hG(n){const{url:t}=Ls(n).data||{};if(!t||"string"!=typeof t)return;const e=W0("resource",({entries:i})=>{i.forEach(r=>{(function Ufe(n){return"resource"===n.entryType&&"initiatorType"in n&&"string"==typeof n.nextHopProtocol&&("fetch"===n.initiatorType||"xmlhttprequest"===n.initiatorType)})(r)&&r.name.endsWith(t)&&(function jfe(n){const{name:t,version:e}=function Gfe(n){let t="unknown",e="unknown",i="";for(const r of n){if("/"===r){[t,e]=n.split("/");break}if(!isNaN(Number(r))){t="h"===i?"http":i,e=n.split(i)[1];break}i+=r}return i===n&&(t=i),{name:t,version:e}}(n.nextHopProtocol),i=[];return i.push(["network.protocol.version",e],["network.protocol.name",t]),Pl?[...i,["http.request.redirect_start",lu(n.redirectStart)],["http.request.fetch_start",lu(n.fetchStart)],["http.request.domain_lookup_start",lu(n.domainLookupStart)],["http.request.domain_lookup_end",lu(n.domainLookupEnd)],["http.request.connect_start",lu(n.connectStart)],["http.request.secure_connection_start",lu(n.secureConnectionStart)],["http.request.connection_end",lu(n.connectEnd)],["http.request.request_start",lu(n.requestStart)],["http.request.response_start",lu(n.responseStart)],["http.request.response_end",lu(n.responseEnd)]]:i}(r).forEach(o=>n.setAttribute(...o)),setTimeout(e))})})}function lu(n=0){return((Pl||performance.timeOrigin)+n)/1e3}function fG(n){try{return new URL(n,Ln.location.origin).href}catch(t){return}}const $fe=Be(xn(Be({},SC),{instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableInp:!1,interactionsSampleRate:1,_experiments:{}}),bI),Yfe=(n={})=>{const t=!(!Ar||!n.tracePropagationTargets&&!n.tracingOrigins);(function nhe(){const n=Sf();!n.__SENTRY__||(n.__SENTRY__.extensions=n.__SENTRY__.extensions||{},n.__SENTRY__.extensions.startTransaction||(n.__SENTRY__.extensions.startTransaction=the),n.__SENTRY__.extensions.traceHeaders||(n.__SENTRY__.extensions.traceHeaders=ehe),function Qde(){P6||(P6=!0,function qde(n){const t="error";w6(t,n),M6(t,Kde)}(nI),function Jde(n){const t="unhandledrejection";w6(t,n),M6(t,Zde)}(nI))}())})(),!n.tracePropagationTargets&&n.tracingOrigins&&(n.tracePropagationTargets=n.tracingOrigins);const e=Be(Be({},$fe),n),i=function ofe(){const n=_I();if(n&&Pl){n.mark&&Ln.performance.mark("sentry-tracing-init");const t=function hfe(){return function Xhe(n){return $0("fid",n,Jhe,tG)}(({metric:n})=>{const t=n.entries[n.entries.length-1];if(!t)return;const e=Bs(Pl),i=Bs(t.startTime);Ar&&nr.log("[Measurements] Adding FID"),ns.fid={value:n.value,unit:"millisecond"},ns["mark.fid"]={value:e+i,unit:"second"}})}(),e=function ufe(){return function Whe(n,t=!1){return $0("cls",n,Khe,eG,t)}(({metric:n})=>{const t=n.entries[n.entries.length-1];!t||(Ar&&nr.log("[Measurements] Adding CLS"),ns.cls={value:n.value,unit:""},Y0=t)},!0)}(),i=function dfe(){return function $he(n,t=!1){return $0("lcp",n,Zhe,nG,t)}(({metric:n})=>{const t=n.entries[n.entries.length-1];!t||(Ar&&nr.log("[Measurements] Adding LCP"),ns.lcp={value:n.value,unit:"millisecond"},au=t)},!0)}(),r=function ffe(){return function Yhe(n){return $0("ttfb",n,Qhe,iG)}(({metric:n})=>{!n.entries[n.entries.length-1]||(Ar&&nr.log("[Measurements] Adding TTFB"),ns.ttfb={value:n.value,unit:"millisecond"})})}();return()=>{t(),e(),i(),r()}}return()=>{}}(),r={};e.enableInp&&function cfe(n,t){if(_I()&&Pl){const i=function pfe(n,t){return function qhe(n){return $0("inp",n,efe,rG)}(({metric:e})=>{if(void 0===e.value)return;const i=e.entries.find(G=>G.duration===e.value&&void 0!==lG[G.name]),r=xr();if(!i||!r)return;const s=lG[i.name],o=r.getOptions(),a=Bs(Pl+i.startTime),l=Bs(e.value),c=void 0!==i.interactionId?n[i.interactionId]:void 0;if(void 0===c)return;const{routeName:u,parentContext:d,activeTransaction:f,user:y,replayId:O}=c,I=void 0!==y?y.email||y.id||y.ip_address:void 0,N=void 0!==f?f.getProfileId():void 0,k=new vC({startTimestamp:a,endTimestamp:a+l,op:`ui.interaction.${s}`,name:PC(i.target),attributes:Be(Be(Be({release:o.release,environment:o.environment,transaction:u},void 0!==I&&""!==I?{user:I}:{}),void 0!==N?{profile_id:N}:{}),void 0!==O?{replay_id:O}:{}),exclusiveTime:e.value,measurements:{inp:{value:e.value,unit:"millisecond"}}}),B=function Efe(n,t,e){if(!N_(t))return!1;let i;return i=void 0!==n&&"function"==typeof t.tracesSampler?t.tracesSampler({transactionContext:n,name:n.name,parentSampled:n.parentSampled,attributes:Be(Be({},n.data),n.attributes),location:Ln.location}):void 0!==n&&void 0!==n.sampled?n.sampled:void 0!==t.tracesSampleRate?t.tracesSampleRate:1,I6(i)?!0===i?e:!1===i?0:i*e:(Ar&&nr.warn("[Tracing] Discarding interaction span because of invalid sample rate."),!1)}(d,o,t);if(B&&Math.random()<B){const G=k?function nfe(n,t){const e={sent_at:(new Date).toISOString()};return t&&(e.dsn=A0(t)),D0(e,n.map(ife))}([k],r.getDsn()):void 0,Y=r&&r.getTransport();Y&&G&&Y.send(G).then(null,J=>{Ar&&nr.error("Error while sending interaction:",J)})}})}(n,t);return()=>{i()}}return()=>{}}(r,e.interactionsSampleRate),e.enableLongTask&&function afe(){W0("longtask",({entries:n})=>{for(const t of n){const e=Of();if(!e)return;const i=Bs(Pl+t.startTime),r=Bs(t.duration);e.startChild({description:"Main UI thread blocked",op:"ui.long-task",origin:"auto.ui.browser.metrics",startTimestamp:i,endTimestamp:i+r})}})}(),e._experiments.enableInteractions&&function lfe(){W0("event",({entries:n})=>{for(const t of n){const e=Of();if(!e)return;if("click"===t.name){const i=Bs(Pl+t.startTime),r=Bs(t.duration),s={description:PC(t.target),op:`ui.interaction.${t.name}`,origin:"auto.ui.browser.metrics",startTimestamp:i,endTimestamp:i+r},o=Ihe(t.target);o&&(s.attributes={"ui.component_name":o}),e.startChild(s)}}})}();const s={name:void 0,context:void 0};function o(a){const l=qs(),{beforeStartSpan:c,idleTimeout:u,finalTimeout:d,heartbeatInterval:f}=e,y="pageload"===a.op;let O;if(y){const B=y?pG("sentry-trace"):"",G=y?pG("baggage"):void 0,{traceId:Y,dsc:J,parentSpanId:Z,sampled:ge}=ghe(B,G);O=xn(Be({traceId:Y,parentSpanId:Z,parentSampled:ge},a),{metadata:xn(Be({},a.metadata),{dynamicSamplingContext:J}),trimEnd:!0})}else O=Be({trimEnd:!0},a);const I=c?c(O):O;I.metadata=I.name!==O.name?xn(Be({},I.metadata),{source:"custom"}):I.metadata,s.name=I.name,s.context=I,!1===I.sampled&&Ar&&nr.log(`[Tracing] Will not send ${I.op} transaction because of beforeNavigate.`),Ar&&nr.log(`[Tracing] Starting ${I.op} transaction on scope`);const{location:N}=Ln,k=A6(l,I,u,d,!0,{location:N},f,y);return y&&Ln.document&&(Ln.document.addEventListener("readystatechange",()=>{["interactive","complete"].includes(Ln.document.readyState)&&k.sendAutoFinishSignal()}),["interactive","complete"].includes(Ln.document.readyState)&&k.sendAutoFinishSignal()),k.registerBeforeFinishCallback(B=>{i(),function gfe(n){const t=_I();if(!t||!Ln.performance.getEntries||!Pl)return;Ar&&nr.log("[Tracing] Adding & adjusting spans using Performance API");const e=Bs(Pl),i=t.getEntries(),{op:r,start_timestamp:s}=Ls(n);if(i.slice(aG).forEach(o=>{const a=Bs(o.startTime),l=Bs(o.duration);if(!("navigation"===n.op&&s&&e+a<s))switch(o.entryType){case"navigation":!function mfe(n,t,e){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(i=>{NC(n,t,i,e)}),NC(n,t,"secureConnection",e,"TLS/SSL","connectEnd"),NC(n,t,"fetch",e,"cache","domainLookupStart"),NC(n,t,"domainLookup",e,"DNS"),function vfe(n,t,e){t.responseEnd&&(H_(n,{op:"browser",origin:"auto.browser.browser.metrics",description:"request",startTimestamp:e+Bs(t.requestStart),endTimestamp:e+Bs(t.responseEnd)}),H_(n,{op:"browser",origin:"auto.browser.browser.metrics",description:"response",startTimestamp:e+Bs(t.responseStart),endTimestamp:e+Bs(t.responseEnd)}))}(n,t,e)}(n,o,e);break;case"mark":case"paint":case"measure":{!function _fe(n,t,e,i,r){const s=r+e;H_(n,{description:t.name,endTimestamp:s+i,op:t.entryType,origin:"auto.resource.browser.metrics",startTimestamp:s})}(n,o,a,l,e);const c=uI(),u=o.startTime<c.firstHiddenTime;"first-paint"===o.name&&u&&(Ar&&nr.log("[Measurements] Adding FP"),ns.fp={value:o.startTime,unit:"millisecond"}),"first-contentful-paint"===o.name&&u&&(Ar&&nr.log("[Measurements] Adding FCP"),ns.fcp={value:o.startTime,unit:"millisecond"});break}case"resource":!function yfe(n,t,e,i,r,s){if("xmlhttprequest"===t.initiatorType||"fetch"===t.initiatorType)return;const o=DC(e),a={};mI(a,t,"transferSize","http.response_transfer_size"),mI(a,t,"encodedBodySize","http.response_content_length"),mI(a,t,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in t&&(a["resource.render_blocking_status"]=t.renderBlockingStatus),o.protocol&&(a["url.scheme"]=o.protocol.split(":").pop()),o.host&&(a["server.address"]=o.host),a["url.same_origin"]=e.includes(Ln.location.origin);const l=s+i,c=l+r;H_(n,{description:e.replace(Ln.location.origin,""),endTimestamp:c,op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",origin:"auto.resource.browser.metrics",startTimestamp:l,data:a})}(n,o,o.name,a,l,e)}}),aG=Math.max(i.length-1,0),function bfe(n){const t=Ln.navigator;if(!t)return;const e=t.connection;e&&(e.effectiveType&&n.setTag("effectiveConnectionType",e.effectiveType),e.type&&n.setTag("connectionType",e.type),gI(e.rtt)&&(ns["connection.rtt"]={value:e.rtt,unit:"millisecond"})),gI(t.deviceMemory)&&n.setTag("deviceMemory",`${t.deviceMemory} GB`),gI(t.hardwareConcurrency)&&n.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}(n),"pageload"===r){(function Cfe(n){const t=xC();if(!t)return;const{responseStart:e,requestStart:i}=t;i<=e&&(Ar&&nr.log("[Measurements] Adding TTFB Request Time"),n["ttfb.requestTime"]={value:e-i,unit:"millisecond"})})(ns),["fcp","fp","lcp"].forEach(a=>{if(!ns[a]||!s||e>=s)return;const l=ns[a].value,c=e+Bs(l),u=Math.abs(1e3*(c-s));Ar&&nr.log(`[Measurements] Normalized ${a} from ${l} to ${u} (${u-l})`),ns[a].value=u});const o=ns["mark.fid"];o&&ns.fid&&(H_(n,{description:"first input delay",endTimestamp:o.value+Bs(ns.fid.value),op:"ui.action",origin:"auto.ui.browser.metrics",startTimestamp:o.value}),delete ns["mark.fid"]),"fcp"in ns||delete ns.cls,Object.keys(ns).forEach(a=>{!function rfe(n,t,e){const i=Of();i&&i.setMeasurement(n,t,e)}(a,ns[a].value,ns[a].unit)}),function Sfe(n){au&&(Ar&&nr.log("[Measurements] Adding LCP Data"),au.element&&n.setTag("lcp.element",PC(au.element)),au.id&&n.setTag("lcp.id",au.id),au.url&&n.setTag("lcp.url",au.url.trim().slice(0,200)),n.setTag("lcp.size",au.size)),Y0&&Y0.sources&&(Ar&&nr.log("[Measurements] Adding CLS Data"),Y0.sources.forEach((t,e)=>n.setTag(`cls.source.${e+1}`,PC(t.node))))}(n)}au=void 0,Y0=void 0,ns={}}(B)}),k}return{name:"BrowserTracing",setupOnce:()=>{},afterAllSetup(a){const l=a.getOptions(),{markBackgroundSpan:c,traceFetch:u,traceXHR:d,shouldCreateSpanForRequest:f,enableHTTPTimings:y,_experiments:O}=e,I=l&&l.tracePropagationTargets,N=I||e.tracePropagationTargets;Ar&&t&&I&&nr.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used.");let k,B=Ln.location&&Ln.location.href;a.on&&(a.on("startNavigationSpan",G=>{k&&(Ar&&nr.log(`[Tracing] Finishing current transaction with op: ${Ls(k).op}`),k.end()),k=o(Be({op:"navigation"},G))}),a.on("startPageLoadSpan",G=>{k&&(Ar&&nr.log(`[Tracing] Finishing current transaction with op: ${Ls(k).op}`),k.end()),k=o(Be({op:"pageload"},G))})),e.instrumentPageLoad&&a.emit&&Ln.location&&function Xfe(n,t){if(!n.emit)return;n.emit("startPageLoadSpan",t);const e=tI();e&&Ls(e)}(a,{name:Ln.location.pathname,startTimestamp:Pl?Pl/1e3:void 0,origin:"auto.pageload.browser",attributes:{[Zd]:"url"}}),e.instrumentNavigation&&a.emit&&Ln.location&&function whe(n){const t="history";aI(t,n),lI(t,Mhe)}(({to:G,from:Y})=>{void 0===Y&&B&&-1!==B.indexOf(G)?B=void 0:Y!==G&&(B=void 0,function qfe(n,t){if(!n.emit)return;n.emit("startNavigationSpan",t);const e=tI();e&&Ls(e)}(a,{name:Ln.location.pathname,origin:"auto.navigation.browser",attributes:{[Zd]:"url"}}))}),c&&function Ahe(){Ln.document?Ln.document.addEventListener("visibilitychange",()=>{const n=Of();if(Ln.document.hidden&&n){const t="cancelled",{op:e,status:i}=Ls(n);Ar&&nr.log(`[Tracing] Transaction: ${t} -> since tab moved to the background, op: ${e}`),i||n.setStatus(t),n.setTag("visibilitychange","document.hidden"),n.end()}}):Ar&&nr.warn("[Tracing] Could not set up background tab detection due to lack of global document")}(),O.enableInteractions&&function Kfe(n,t){let e;const i=()=>{const{idleTimeout:r,finalTimeout:s,heartbeatInterval:o}=n,a="ui.action.click",l=Of();if(l&&l.op&&["navigation","pageload"].includes(l.op))return void(Ar&&nr.warn(`[Tracing] Did not create ${a} transaction because a pageload or navigation transaction is in progress.`));if(e&&(e.setFinishReason("interactionInterrupted"),e.end(),e=void 0),!t.name)return void(Ar&&nr.warn(`[Tracing] Did not create ${a} transaction because _latestRouteName is missing.`));const{location:c}=Ln,u={name:t.name,op:a,trimEnd:!0,data:{[Zd]:t.context?Qfe(t.context):"url"}};e=A6(qs(),u,r,s,!0,{location:c},o)};["click"].forEach(r=>{Ln.document&&addEventListener(r,i,{once:!1,capture:!0})})}(e,s),e.enableInp&&function Zfe(n,t){const e=({entries:i})=>{const r=xr(),s=void 0!==r&&void 0!==r.getIntegrationByName?r.getIntegrationByName("Replay"):void 0,o=void 0!==s?s.getReplayId():void 0,a=Of(),l=Ml(),c=void 0!==l?l.getUser():void 0;i.forEach(u=>{if(function Jfe(n){return"duration"in n}(u)){const d=u.interactionId;if(void 0===d)return;const f=n[d],y=u.duration,O=u.startTime,I=Object.keys(n),N=I.length>0?I.reduce((k,B)=>n[k].duration<n[B].duration?k:B):void 0;if("first-input"===u.entryType&&I.map(B=>n[B]).some(B=>B.duration===y&&B.startTime===O)||!d)return;if(f)f.duration=Math.max(f.duration,y);else if(I.length<10||void 0===N||y>n[N].duration){const k=t.name,B=t.context;k&&B&&(N&&Object.keys(n).length>=10&&delete n[N],n[d]={routeName:k,duration:y,parentContext:B,user:c,activeTransaction:a,replayId:o,startTime:O})}}})};W0("event",e),W0("first-input",e)}(r,s),Bfe({traceFetch:u,traceXHR:d,tracePropagationTargets:N,shouldCreateSpanForRequest:f,enableHTTPTimings:y})},options:e}};function pG(n){const t=function xhe(n){return U_.document&&U_.document.querySelector?U_.document.querySelector(n):null}(`meta[name=${n}]`);return t?t.getAttribute("content"):void 0}function Qfe(n){return n.attributes&&n.attributes[Zd]||n.data&&n.data[Zd]||n.metadata&&n.metadata.source}const epe="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function FC(n){return n&&n.Math==Math?n:void 0}const q0="object"==typeof globalThis&&FC(globalThis)||"object"==typeof window&&FC(window)||"object"==typeof self&&FC(self)||"object"==typeof global&&FC(global)||function(){return this}()||{},_G=["debug","info","warn","error","log","assert","trace"],mG={},rpe=function ipe(){let n=!1;const t={enable:()=>{n=!0},disable:()=>{n=!1},isEnabled:()=>n};return _G.forEach(epe?e=>{t[e]=(...i)=>{n&&function npe(n){if(!("console"in q0))return n();const t=q0.console,e={},i=Object.keys(mG);i.forEach(r=>{const s=mG[r];e[r]=t[r],t[r]=s});try{n()}finally{i.forEach(r=>{t[r]=e[r]})}}(()=>{q0.console[e](`Sentry Logger [${e}]:`,...i)})}}:e=>{t[e]=()=>{}}),t}(),vG=Object.prototype.toString;function SI(n){return function V_(n,t){return vG.call(n)===`[object ${t}]`}(n,"String")}function hn(...n){return ri(n,ja(n))}function z_(n,t){return S(t)?Sr(n,t,1):Sr(n,1)}function Bt(n,t){return Je((e,i)=>{let r=0;e.subscribe(ue(i,s=>n.call(t,s,r++)&&i.next(s)))})}class yG{}class bG{}class Ju{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),o=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Ju?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Ju;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Ju?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let o=this.headers.get(e);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class ape{encodeKey(t){return SG(t)}encodeValue(t){return SG(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const cpe=/%(\d[a-f0-9])/gi,upe={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function SG(n){return encodeURIComponent(n).replace(cpe,(t,e)=>{var i;return null!==(i=upe[e])&&void 0!==i?i:t})}function CG(n){return`${n}`}class eh{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new ape,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function lpe(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[o,a]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],l=e.get(o)||[];l.push(a),e.set(o,l)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new eh({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(CG(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(CG(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class dpe{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function EG(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function TG(n){return"undefined"!=typeof Blob&&n instanceof Blob}function wG(n){return"undefined"!=typeof FormData&&n instanceof FormData}class K0{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function hpe(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Ju),this.context||(this.context=new dpe),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+o}}else this.params=new eh,this.urlWithParams=e}serializeBody(){return null===this.body?null:EG(this.body)||TG(this.body)||wG(this.body)||function fpe(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof eh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||wG(this.body)?null:TG(this.body)?this.body.type||null:EG(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof eh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,r=t.url||this.url,s=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,l=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let c=t.headers||this.headers,u=t.params||this.params;const d=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(c=Object.keys(t.setHeaders).reduce((f,y)=>f.set(y,t.setHeaders[y]),c)),t.setParams&&(u=Object.keys(t.setParams).reduce((f,y)=>f.set(y,t.setParams[y]),u)),new K0(i,r,o,{params:u,headers:c,context:d,reportProgress:l,responseType:s,withCredentials:a})}}var Ss=(()=>((Ss=Ss||{})[Ss.Sent=0]="Sent",Ss[Ss.UploadProgress=1]="UploadProgress",Ss[Ss.ResponseHeader=2]="ResponseHeader",Ss[Ss.DownloadProgress=3]="DownloadProgress",Ss[Ss.Response=4]="Response",Ss[Ss.User=5]="User",Ss))();class EI{constructor(t,e=200,i="OK"){this.headers=t.headers||new Ju,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class TI extends EI{constructor(t={}){super(t),this.type=Ss.ResponseHeader}clone(t={}){return new TI({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class LC extends EI{constructor(t={}){super(t),this.type=Ss.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new LC({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class BC extends EI{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function wI(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let MI=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof K0)s=e;else{let l,c;l=r.headers instanceof Ju?r.headers:new Ju(r.headers),r.params&&(c=r.params instanceof eh?r.params:new eh({fromObject:r.params})),s=new K0(e,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const o=hn(s).pipe(z_(l=>this.handler.handle(l)));if(e instanceof K0||"events"===r.observe)return o;const a=o.pipe(Bt(l=>l instanceof LC));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(Ie(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(Ie(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(Ie(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(Ie(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new eh).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,wI(r,i))}post(e,i,r={}){return this.request("POST",e,wI(r,i))}put(e,i,r={}){return this.request("PUT",e,wI(r,i))}}return n.\u0275fac=function(e){return new(e||n)(je(yG))},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})();class MG{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const OG=new Zt("HTTP_INTERCEPTORS");let ppe=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})();const gpe=/^\)\]\}',?\n/;let PG=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new _e(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((y,O)=>r.setRequestHeader(y,O.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const y=e.detectContentTypeHeader();null!==y&&r.setRequestHeader("Content-Type",y)}if(e.responseType){const y=e.responseType.toLowerCase();r.responseType="json"!==y?y:"text"}const s=e.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const y=r.statusText||"OK",O=new Ju(r.getAllResponseHeaders()),I=function _pe(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return o=new TI({headers:O,status:r.status,statusText:y,url:I}),o},l=()=>{let{headers:y,status:O,statusText:I,url:N}=a(),k=null;204!==O&&(k=void 0===r.response?r.responseText:r.response),0===O&&(O=k?200:0);let B=O>=200&&O<300;if("json"===e.responseType&&"string"==typeof k){const G=k;k=k.replace(gpe,"");try{k=""!==k?JSON.parse(k):null}catch(Y){k=G,B&&(B=!1,k={error:Y,text:k})}}B?(i.next(new LC({body:k,headers:y,status:O,statusText:I,url:N||void 0})),i.complete()):i.error(new BC({error:k,headers:y,status:O,statusText:I,url:N||void 0}))},c=y=>{const{url:O}=a(),I=new BC({error:y,status:r.status||0,statusText:r.statusText||"Unknown Error",url:O||void 0});i.error(I)};let u=!1;const d=y=>{u||(i.next(a()),u=!0);let O={type:Ss.DownloadProgress,loaded:y.loaded};y.lengthComputable&&(O.total=y.total),"text"===e.responseType&&!!r.responseText&&(O.partialText=r.responseText),i.next(O)},f=y=>{let O={type:Ss.UploadProgress,loaded:y.loaded};y.lengthComputable&&(O.total=y.total),i.next(O)};return r.addEventListener("load",l),r.addEventListener("error",c),r.addEventListener("timeout",c),r.addEventListener("abort",c),e.reportProgress&&(r.addEventListener("progress",d),null!==s&&r.upload&&r.upload.addEventListener("progress",f)),r.send(s),i.next({type:Ss.Sent}),()=>{r.removeEventListener("error",c),r.removeEventListener("abort",c),r.removeEventListener("load",l),r.removeEventListener("timeout",c),e.reportProgress&&(r.removeEventListener("progress",d),null!==s&&r.upload&&r.upload.removeEventListener("progress",f)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(je(Y5))},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})();const OI=new Zt("XSRF_COOKIE_NAME"),PI=new Zt("XSRF_HEADER_NAME");class xG{}let mpe=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=k5(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(je(Er),je(S_),je(OI))},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})(),xI=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const r=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(e);const s=this.tokenService.getToken();return null!==s&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,s)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(je(xG),je(PI))},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})(),vpe=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(OG,[]);this.chain=i.reduceRight((r,s)=>new MG(r,s),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(je(bG),je(Ds))},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})(),ype=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:xI,useClass:ppe}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:OI,useValue:e.cookieName}:[],e.headerName?{provide:PI,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({providers:[xI,{provide:OG,useExisting:xI,multi:!0},{provide:xG,useClass:mpe},{provide:OI,useValue:"XSRF-TOKEN"},{provide:PI,useValue:"X-XSRF-TOKEN"}]}),n})(),bpe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({providers:[MI,{provide:yG,useClass:vpe},PG,{provide:bG,useExisting:PG}],imports:[[ype.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();const Spe="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,Tpe="undefined"!=typeof Zone&&!!Zone.current;function IG(n){if(n instanceof Error)return!0;if(null===n||"object"!=typeof n)return!1;const t=n;return SI(t.name)&&SI(t.message)&&(void 0===t.stack||SI(t.stack))}let Ppe=(()=>{class n{constructor(e){this._registeredAfterSendEventHandler=!1,this._options=Object.assign({logErrors:!0},e)}handleError(e){const i=this._extractError(e)||"Handled unknown error",r=function wpe(n){return Tpe?Zone.root.run(n):n()}(()=>I0(i,{mechanism:{type:"angular",handled:!1}}));if(this._options.logErrors&&console.error(i),this._options.showDialog){const s=xr();s&&s.on&&!this._registeredAfterSendEventHandler?(s.on("afterSendEvent",o=>{o.type||g6(Object.assign(Object.assign({},this._options.dialogOptions),{eventId:o.event_id}))}),this._registeredAfterSendEventHandler=!0):(!s||!s.on)&&g6(Object.assign(Object.assign({},this._options.dialogOptions),{eventId:r}))}}_extractError(e){if(this._options.extractor){const i=this._defaultExtractor.bind(this);return this._options.extractor(e,i)}return this._defaultExtractor(e)}_defaultExtractor(e){const i=function Mpe(n){return n&&n.ngOriginalError?n.ngOriginalError:n}(e);return i instanceof BC?function Ope(n){return IG(n.error)?n.error:n.error instanceof ErrorEvent&&n.error.message?n.error.message:"string"==typeof n.error?`Server returned code ${n.status} with body "${n.error}"`:n.message}(i):"string"==typeof i||IG(i)?i:null}}return n.\u0275fac=function(e){return new(e||n)(je("errorHandlerOptions"))},n.\u0275prov=gt({factory:function(){return new n(je("errorHandlerOptions"))},token:n,providedIn:"root"}),n})();function xpe(n){return new Ppe(n)}let RG,Dpe=!1;var Hi=(()=>{return(n=Hi||(Hi={})).None="none",n.Connected="connected",n.Reconnecting="reconnecting",n.Disconnected="disconnected",n.SlowConnection="slowConnection",Hi;var n})(),sa=(()=>{return(n=sa||(sa={})).Ban="ban",n.Inactivity="inactivity",n.LoginError="loginError",n.Network="network",n.RealityCheck="realityCheck",n.Kick="kick",n.NotAllowedCurrency="notAllowedCurrency",sa;var n})();const{isArray:Fpe}=Array;function AI(n){return Ie(t=>function Lpe(n,t){return Fpe(t)?n(...t):n(t)}(n,t))}const Bpe=["addListener","removeListener"],Upe=["addEventListener","removeEventListener"],Gpe=["on","off"];function wi(n,t,e,i){if(S(e)&&(i=e,e=void 0),i)return wi(n,t,e).pipe(AI(i));const[r,s]=function Vpe(n){return S(n.addEventListener)&&S(n.removeEventListener)}(n)?Upe.map(o=>a=>n[o](t,a,e)):function jpe(n){return S(n.addListener)&&S(n.removeListener)}(n)?Bpe.map(DG(n,t)):function Hpe(n){return S(n.on)&&S(n.off)}(n)?Gpe.map(DG(n,t)):[];if(!r&&Xt(n))return Sr(o=>wi(o,t,e))(Pt(n));if(!r)throw new TypeError("Invalid event target");return new _e(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return r(a),()=>s(a)})}function DG(n,t){return e=>i=>n[e](t,i)}var NG,Zu,W_=9e15,th=1e9,RI="0123456789abcdef",UC="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",GC="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",DI={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-W_,maxE:W_,crypto:!1},wn=!0,jC="[DecimalError] ",nh=jC+"Invalid argument: ",kG=jC+"Precision limit exceeded",FG=jC+"crypto unavailable",LG="[object Decimal]",ko=Math.floor,Us=Math.pow,zpe=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Wpe=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,$pe=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,BG=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,bc=1e7,Xpe=UC.length-1,NI=GC.length-1,bt={toStringTag:LG};function ho(n){var t,e,i,r=n.length-1,s="",o=n[0];if(r>0){for(s+=o,t=1;t<r;t++)(e=7-(i=n[t]+"").length)&&(s+=ih(e)),s+=i;(e=7-(i=(o=n[t])+"").length)&&(s+=ih(e))}else if(0===o)return"0";for(;o%10==0;)o/=10;return s+o}function xa(n,t,e){if(n!==~~n||n<t||n>e)throw Error(nh+n)}function J0(n,t,e,i){var r,s,o,a;for(s=n[0];s>=10;s/=10)--t;return--t<0?(t+=7,r=0):(r=Math.ceil((t+1)/7),t%=7),s=Us(10,7-t),a=n[r]%s|0,null==i?t<3?(0==t?a=a/100|0:1==t&&(a=a/10|0),o=e<4&&99999==a||e>3&&49999==a||5e4==a||0==a):o=(e<4&&a+1==s||e>3&&a+1==s/2)&&(n[r+1]/s/100|0)==Us(10,t-2)-1||(a==s/2||0==a)&&0==(n[r+1]/s/100|0):t<4?(0==t?a=a/1e3|0:1==t?a=a/100|0:2==t&&(a=a/10|0),o=(i||e<4)&&9999==a||!i&&e>3&&4999==a):o=((i||e<4)&&a+1==s||!i&&e>3&&a+1==s/2)&&(n[r+1]/s/1e3|0)==Us(10,t-3)-1,o}function HC(n,t,e){for(var i,s,r=[0],o=0,a=n.length;o<a;){for(s=r.length;s--;)r[s]*=t;for(r[0]+=RI.indexOf(n.charAt(o++)),i=0;i<r.length;i++)r[i]>e-1&&(void 0===r[i+1]&&(r[i+1]=0),r[i+1]+=r[i]/e|0,r[i]%=e)}return r.reverse()}bt.absoluteValue=bt.abs=function(){var n=new this.constructor(this);return n.s<0&&(n.s=1),sn(n)},bt.ceil=function(){return sn(new this.constructor(this),this.e+1,2)},bt.clampedTo=bt.clamp=function(n,t){var i=this,r=i.constructor;if(n=new r(n),t=new r(t),!n.s||!t.s)return new r(NaN);if(n.gt(t))throw Error(nh+t);return i.cmp(n)<0?n:i.cmp(t)>0?t:new r(i)},bt.comparedTo=bt.cmp=function(n){var t,e,i,r,s=this,o=s.d,a=(n=new s.constructor(n)).d,l=s.s,c=n.s;if(!o||!a)return l&&c?l!==c?l:o===a?0:!o^l<0?1:-1:NaN;if(!o[0]||!a[0])return o[0]?l:a[0]?-c:0;if(l!==c)return l;if(s.e!==n.e)return s.e>n.e^l<0?1:-1;for(t=0,e=(i=o.length)<(r=a.length)?i:r;t<e;++t)if(o[t]!==a[t])return o[t]>a[t]^l<0?1:-1;return i===r?0:i>r^l<0?1:-1},bt.cosine=bt.cos=function(){var n,t,e=this,i=e.constructor;return e.d?e.d[0]?(t=i.rounding,i.precision=(n=i.precision)+Math.max(e.e,e.sd())+7,i.rounding=1,e=function qpe(n,t){var e,i,r;if(t.isZero())return t;(i=t.d.length)<32?r=(1/WC(4,e=Math.ceil(i/3))).toString():(e=16,r="2.3283064365386962890625e-10"),n.precision+=e,t=$_(n,1,t.times(r),new n(1));for(var s=e;s--;){var o=t.times(t);t=o.times(o).minus(o).times(8).plus(1)}return n.precision-=e,t}(i,zG(i,e)),i.precision=n,i.rounding=t,sn(2==Zu||3==Zu?e.neg():e,n,t,!0)):new i(1):new i(NaN)},bt.cubeRoot=bt.cbrt=function(){var n,t,e,i,r,s,o,a,l,c,u=this,d=u.constructor;if(!u.isFinite()||u.isZero())return new d(u);for(wn=!1,(s=u.s*Us(u.s*u,1/3))&&Math.abs(s)!=1/0?i=new d(s.toString()):(e=ho(u.d),(s=((n=u.e)-e.length+1)%3)&&(e+=1==s||-2==s?"0":"00"),s=Us(e,1/3),n=ko((n+1)/3)-(n%3==(n<0?-1:2)),(i=new d(e=s==1/0?"5e"+n:(e=s.toExponential()).slice(0,e.indexOf("e")+1)+n)).s=u.s),o=(n=d.precision)+3;;)if(c=(l=(a=i).times(a).times(a)).plus(u),i=ir(c.plus(u).times(a),c.plus(l),o+2,1),ho(a.d).slice(0,o)===(e=ho(i.d)).slice(0,o)){if("9999"!=(e=e.slice(o-3,o+1))&&(r||"4999"!=e)){(!+e||!+e.slice(1)&&"5"==e.charAt(0))&&(sn(i,n+1,1),t=!i.times(i).times(i).eq(u));break}if(!r&&(sn(a,n+1,0),a.times(a).times(a).eq(u))){i=a;break}o+=4,r=1}return wn=!0,sn(i,n,d.rounding,t)},bt.decimalPlaces=bt.dp=function(){var n,t=this.d,e=NaN;if(t){if(e=7*((n=t.length-1)-ko(this.e/7)),n=t[n])for(;n%10==0;n/=10)e--;e<0&&(e=0)}return e},bt.dividedBy=bt.div=function(n){return ir(this,new this.constructor(n))},bt.dividedToIntegerBy=bt.divToInt=function(n){var e=this.constructor;return sn(ir(this,new e(n),0,1,1),e.precision,e.rounding)},bt.equals=bt.eq=function(n){return 0===this.cmp(n)},bt.floor=function(){return sn(new this.constructor(this),this.e+1,3)},bt.greaterThan=bt.gt=function(n){return this.cmp(n)>0},bt.greaterThanOrEqualTo=bt.gte=function(n){var t=this.cmp(n);return 1==t||0===t},bt.hyperbolicCosine=bt.cosh=function(){var n,t,e,i,r,s=this,o=s.constructor,a=new o(1);if(!s.isFinite())return new o(s.s?1/0:NaN);if(s.isZero())return a;i=o.rounding,o.precision=(e=o.precision)+Math.max(s.e,s.sd())+4,o.rounding=1,(r=s.d.length)<32?t=(1/WC(4,n=Math.ceil(r/3))).toString():(n=16,t="2.3283064365386962890625e-10"),s=$_(o,1,s.times(t),new o(1),!0);for(var l,c=n,u=new o(8);c--;)l=s.times(s),s=a.minus(l.times(u.minus(l.times(u))));return sn(s,o.precision=e,o.rounding=i,!0)},bt.hyperbolicSine=bt.sinh=function(){var n,t,e,i,r=this,s=r.constructor;if(!r.isFinite()||r.isZero())return new s(r);if(e=s.rounding,s.precision=(t=s.precision)+Math.max(r.e,r.sd())+4,s.rounding=1,(i=r.d.length)<3)r=$_(s,2,r,r,!0);else{n=1.4*Math.sqrt(i),r=$_(s,2,r=r.times(1/WC(5,n=n>16?16:0|n)),r,!0);for(var o,a=new s(5),l=new s(16),c=new s(20);n--;)o=r.times(r),r=r.times(a.plus(o.times(l.times(o).plus(c))))}return s.precision=t,s.rounding=e,sn(r,t,e,!0)},bt.hyperbolicTangent=bt.tanh=function(){var n,t,e=this,i=e.constructor;return e.isFinite()?e.isZero()?new i(e):(t=i.rounding,i.precision=(n=i.precision)+7,i.rounding=1,ir(e.sinh(),e.cosh(),i.precision=n,i.rounding=t)):new i(e.s)},bt.inverseCosine=bt.acos=function(){var n,t=this,e=t.constructor,i=t.abs().cmp(1),r=e.precision,s=e.rounding;return-1!==i?0===i?t.isNeg()?Sc(e,r,s):new e(0):new e(NaN):t.isZero()?Sc(e,r+4,s).times(.5):(e.precision=r+6,e.rounding=1,t=t.asin(),n=Sc(e,r+4,s).times(.5),e.precision=r,e.rounding=s,n.minus(t))},bt.inverseHyperbolicCosine=bt.acosh=function(){var n,t,e=this,i=e.constructor;return e.lte(1)?new i(e.eq(1)?0:NaN):e.isFinite()?(t=i.rounding,i.precision=(n=i.precision)+Math.max(Math.abs(e.e),e.sd())+4,i.rounding=1,wn=!1,e=e.times(e).minus(1).sqrt().plus(e),wn=!0,i.precision=n,i.rounding=t,e.ln()):new i(e)},bt.inverseHyperbolicSine=bt.asinh=function(){var n,t,e=this,i=e.constructor;return!e.isFinite()||e.isZero()?new i(e):(t=i.rounding,i.precision=(n=i.precision)+2*Math.max(Math.abs(e.e),e.sd())+6,i.rounding=1,wn=!1,e=e.times(e).plus(1).sqrt().plus(e),wn=!0,i.precision=n,i.rounding=t,e.ln())},bt.inverseHyperbolicTangent=bt.atanh=function(){var n,t,e,i,r=this,s=r.constructor;return r.isFinite()?r.e>=0?new s(r.abs().eq(1)?r.s/0:r.isZero()?r:NaN):(n=s.precision,t=s.rounding,i=r.sd(),Math.max(i,n)<2*-r.e-1?sn(new s(r),n,t,!0):(s.precision=e=i-r.e,r=ir(r.plus(1),new s(1).minus(r),e+n,1),s.precision=n+4,s.rounding=1,r=r.ln(),s.precision=n,s.rounding=t,r.times(.5))):new s(NaN)},bt.inverseSine=bt.asin=function(){var n,t,e,i,r=this,s=r.constructor;return r.isZero()?new s(r):(t=r.abs().cmp(1),e=s.precision,i=s.rounding,-1!==t?0===t?((n=Sc(s,e+4,i).times(.5)).s=r.s,n):new s(NaN):(s.precision=e+6,s.rounding=1,r=r.div(new s(1).minus(r.times(r)).sqrt().plus(1)).atan(),s.precision=e,s.rounding=i,r.times(2)))},bt.inverseTangent=bt.atan=function(){var n,t,e,i,r,s,o,a,l,c=this,u=c.constructor,d=u.precision,f=u.rounding;if(c.isFinite()){if(c.isZero())return new u(c);if(c.abs().eq(1)&&d+4<=NI)return(o=Sc(u,d+4,f).times(.25)).s=c.s,o}else{if(!c.s)return new u(NaN);if(d+4<=NI)return(o=Sc(u,d+4,f).times(.5)).s=c.s,o}for(u.precision=a=d+10,u.rounding=1,n=e=Math.min(28,a/7+2|0);n;--n)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(wn=!1,t=Math.ceil(a/7),i=1,l=c.times(c),o=new u(c),r=c;-1!==n;)if(r=r.times(l),s=o.minus(r.div(i+=2)),r=r.times(l),void 0!==(o=s.plus(r.div(i+=2))).d[t])for(n=t;o.d[n]===s.d[n]&&n--;);return e&&(o=o.times(2<<e-1)),wn=!0,sn(o,u.precision=d,u.rounding=f,!0)},bt.isFinite=function(){return!!this.d},bt.isInteger=bt.isInt=function(){return!!this.d&&ko(this.e/7)>this.d.length-2},bt.isNaN=function(){return!this.s},bt.isNegative=bt.isNeg=function(){return this.s<0},bt.isPositive=bt.isPos=function(){return this.s>0},bt.isZero=function(){return!!this.d&&0===this.d[0]},bt.lessThan=bt.lt=function(n){return this.cmp(n)<0},bt.lessThanOrEqualTo=bt.lte=function(n){return this.cmp(n)<1},bt.logarithm=bt.log=function(n){var t,e,i,r,s,o,a,l,c=this,u=c.constructor,d=u.precision,f=u.rounding;if(null==n)n=new u(10),t=!0;else{if(e=(n=new u(n)).d,n.s<0||!e||!e[0]||n.eq(1))return new u(NaN);t=n.eq(10)}if(e=c.d,c.s<0||!e||!e[0]||c.eq(1))return new u(e&&!e[0]?-1/0:1!=c.s?NaN:e?0:1/0);if(t)if(e.length>1)s=!0;else{for(r=e[0];r%10==0;)r/=10;s=1!==r}if(wn=!1,o=rh(c,a=d+5),i=t?zC(u,a+10):rh(n,a),J0((l=ir(o,i,a,1)).d,r=d,f))do{if(o=rh(c,a+=10),i=t?zC(u,a+10):rh(n,a),l=ir(o,i,a,1),!s){+ho(l.d).slice(r+1,r+15)+1==1e14&&(l=sn(l,d+1,0));break}}while(J0(l.d,r+=10,f));return wn=!0,sn(l,d,f)},bt.minus=bt.sub=function(n){var t,e,i,r,s,o,a,l,c,u,d,f,y=this,O=y.constructor;if(n=new O(n),!y.d||!n.d)return y.s&&n.s?y.d?n.s=-n.s:n=new O(n.d||y.s!==n.s?y:NaN):n=new O(NaN),n;if(y.s!=n.s)return n.s=-n.s,y.plus(n);if(f=n.d,a=O.precision,l=O.rounding,!(c=y.d)[0]||!f[0]){if(f[0])n.s=-n.s;else{if(!c[0])return new O(3===l?-0:0);n=new O(y)}return wn?sn(n,a,l):n}if(e=ko(n.e/7),u=ko(y.e/7),c=c.slice(),s=u-e){for((d=s<0)?(t=c,s=-s,o=f.length):(t=f,e=u,o=c.length),s>(i=Math.max(Math.ceil(a/7),o)+2)&&(s=i,t.length=1),t.reverse(),i=s;i--;)t.push(0);t.reverse()}else{for((d=(i=c.length)<(o=f.length))&&(o=i),i=0;i<o;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}s=0}for(d&&(t=c,c=f,f=t,n.s=-n.s),i=f.length-(o=c.length);i>0;--i)c[o++]=0;for(i=f.length;i>s;){if(c[--i]<f[i]){for(r=i;r&&0===c[--r];)c[r]=bc-1;--c[r],c[i]+=bc}c[i]-=f[i]}for(;0===c[--o];)c.pop();for(;0===c[0];c.shift())--e;return c[0]?(n.d=c,n.e=VC(c,e),wn?sn(n,a,l):n):new O(3===l?-0:0)},bt.modulo=bt.mod=function(n){var t,e=this,i=e.constructor;return n=new i(n),!e.d||!n.s||n.d&&!n.d[0]?new i(NaN):!n.d||e.d&&!e.d[0]?sn(new i(e),i.precision,i.rounding):(wn=!1,9==i.modulo?(t=ir(e,n.abs(),0,3,1)).s*=n.s:t=ir(e,n,0,i.modulo,1),t=t.times(n),wn=!0,e.minus(t))},bt.naturalExponential=bt.exp=function(){return kI(this)},bt.naturalLogarithm=bt.ln=function(){return rh(this)},bt.negated=bt.neg=function(){var n=new this.constructor(this);return n.s=-n.s,sn(n)},bt.plus=bt.add=function(n){var t,e,i,r,s,o,a,l,c,u,d=this,f=d.constructor;if(n=new f(n),!d.d||!n.d)return d.s&&n.s?d.d||(n=new f(n.d||d.s===n.s?d:NaN)):n=new f(NaN),n;if(d.s!=n.s)return n.s=-n.s,d.minus(n);if(u=n.d,a=f.precision,l=f.rounding,!(c=d.d)[0]||!u[0])return u[0]||(n=new f(d)),wn?sn(n,a,l):n;if(s=ko(d.e/7),i=ko(n.e/7),c=c.slice(),r=s-i){for(r<0?(e=c,r=-r,o=u.length):(e=u,i=s,o=c.length),r>(o=(s=Math.ceil(a/7))>o?s+1:o+1)&&(r=o,e.length=1),e.reverse();r--;)e.push(0);e.reverse()}for((o=c.length)-(r=u.length)<0&&(r=o,e=u,u=c,c=e),t=0;r;)t=(c[--r]=c[r]+u[r]+t)/bc|0,c[r]%=bc;for(t&&(c.unshift(t),++i),o=c.length;0==c[--o];)c.pop();return n.d=c,n.e=VC(c,i),wn?sn(n,a,l):n},bt.precision=bt.sd=function(n){var t,e=this;if(void 0!==n&&n!==!!n&&1!==n&&0!==n)throw Error(nh+n);return e.d?(t=UG(e.d),n&&e.e+1>t&&(t=e.e+1)):t=NaN,t},bt.round=function(){var n=this,t=n.constructor;return sn(new t(n),n.e+1,t.rounding)},bt.sine=bt.sin=function(){var n,t,e=this,i=e.constructor;return e.isFinite()?e.isZero()?new i(e):(t=i.rounding,i.precision=(n=i.precision)+Math.max(e.e,e.sd())+7,i.rounding=1,e=function Jpe(n,t){var e,i=t.d.length;if(i<3)return t.isZero()?t:$_(n,2,t,t);e=1.4*Math.sqrt(i),t=$_(n,2,t=t.times(1/WC(5,e=e>16?16:0|e)),t);for(var r,s=new n(5),o=new n(16),a=new n(20);e--;)r=t.times(t),t=t.times(s.plus(r.times(o.times(r).minus(a))));return t}(i,zG(i,e)),i.precision=n,i.rounding=t,sn(Zu>2?e.neg():e,n,t,!0)):new i(NaN)},bt.squareRoot=bt.sqrt=function(){var n,t,e,i,r,s,o=this,a=o.d,l=o.e,c=o.s,u=o.constructor;if(1!==c||!a||!a[0])return new u(!c||c<0&&(!a||a[0])?NaN:a?o:1/0);for(wn=!1,0==(c=Math.sqrt(+o))||c==1/0?(((t=ho(a)).length+l)%2==0&&(t+="0"),c=Math.sqrt(t),l=ko((l+1)/2)-(l<0||l%2),i=new u(t=c==1/0?"5e"+l:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+l)):i=new u(c.toString()),e=(l=u.precision)+3;;)if(i=(s=i).plus(ir(o,s,e+2,1)).times(.5),ho(s.d).slice(0,e)===(t=ho(i.d)).slice(0,e)){if("9999"!=(t=t.slice(e-3,e+1))&&(r||"4999"!=t)){(!+t||!+t.slice(1)&&"5"==t.charAt(0))&&(sn(i,l+1,1),n=!i.times(i).eq(o));break}if(!r&&(sn(s,l+1,0),s.times(s).eq(o))){i=s;break}e+=4,r=1}return wn=!0,sn(i,l,u.rounding,n)},bt.tangent=bt.tan=function(){var n,t,e=this,i=e.constructor;return e.isFinite()?e.isZero()?new i(e):(t=i.rounding,i.precision=(n=i.precision)+10,i.rounding=1,(e=e.sin()).s=1,e=ir(e,new i(1).minus(e.times(e)).sqrt(),n+10,0),i.precision=n,i.rounding=t,sn(2==Zu||4==Zu?e.neg():e,n,t,!0)):new i(NaN)},bt.times=bt.mul=function(n){var t,e,i,r,s,o,a,l,c,u=this,d=u.constructor,f=u.d,y=(n=new d(n)).d;if(n.s*=u.s,!(f&&f[0]&&y&&y[0]))return new d(!n.s||f&&!f[0]&&!y||y&&!y[0]&&!f?NaN:f&&y?0*n.s:n.s/0);for(e=ko(u.e/7)+ko(n.e/7),(l=f.length)<(c=y.length)&&(s=f,f=y,y=s,o=l,l=c,c=o),s=[],i=o=l+c;i--;)s.push(0);for(i=c;--i>=0;){for(t=0,r=l+i;r>i;)a=s[r]+y[i]*f[r-i-1]+t,s[r--]=a%bc|0,t=a/bc|0;s[r]=(s[r]+t)%bc|0}for(;!s[--o];)s.pop();return t?++e:s.shift(),n.d=s,n.e=VC(s,e),wn?sn(n,d.precision,d.rounding):n},bt.toBinary=function(n,t){return LI(this,2,n,t)},bt.toDecimalPlaces=bt.toDP=function(n,t){var e=this,i=e.constructor;return e=new i(e),void 0===n?e:(xa(n,0,th),void 0===t?t=i.rounding:xa(t,0,8),sn(e,n+e.e+1,t))},bt.toExponential=function(n,t){var e,i=this,r=i.constructor;return void 0===n?e=cu(i,!0):(xa(n,0,th),void 0===t?t=r.rounding:xa(t,0,8),e=cu(i=sn(new r(i),n+1,t),!0,n+1)),i.isNeg()&&!i.isZero()?"-"+e:e},bt.toFixed=function(n,t){var e,i,r=this,s=r.constructor;return void 0===n?e=cu(r):(xa(n,0,th),void 0===t?t=s.rounding:xa(t,0,8),e=cu(i=sn(new s(r),n+r.e+1,t),!1,n+i.e+1)),r.isNeg()&&!r.isZero()?"-"+e:e},bt.toFraction=function(n){var t,e,i,r,s,o,a,l,c,u,d,f,y=this,O=y.d,I=y.constructor;if(!O)return new I(y);if(c=e=new I(1),i=l=new I(0),s=(t=new I(i)).e=UG(O)-y.e-1,t.d[0]=Us(10,(o=s%7)<0?7+o:o),null==n)n=s>0?t:c;else{if(!(a=new I(n)).isInt()||a.lt(c))throw Error(nh+a);n=a.gt(t)?s>0?t:c:a}for(wn=!1,a=new I(ho(O)),u=I.precision,I.precision=s=7*O.length*2;d=ir(a,t,0,1,1),1!=(r=e.plus(d.times(i))).cmp(n);)e=i,i=r,c=l.plus(d.times(r=c)),l=r,t=a.minus(d.times(r=t)),a=r;return r=ir(n.minus(e),i,0,1,1),l=l.plus(r.times(c)),e=e.plus(r.times(i)),l.s=c.s=y.s,f=ir(c,i,s,1).minus(y).abs().cmp(ir(l,e,s,1).minus(y).abs())<1?[c,i]:[l,e],I.precision=u,wn=!0,f},bt.toHexadecimal=bt.toHex=function(n,t){return LI(this,16,n,t)},bt.toNearest=function(n,t){var e=this,i=e.constructor;if(e=new i(e),null==n){if(!e.d)return e;n=new i(1),t=i.rounding}else{if(n=new i(n),void 0===t?t=i.rounding:xa(t,0,8),!e.d)return n.s?e:n;if(!n.d)return n.s&&(n.s=e.s),n}return n.d[0]?(wn=!1,e=ir(e,n,0,t,1).times(n),wn=!0,sn(e)):(n.s=e.s,e=n),e},bt.toNumber=function(){return+this},bt.toOctal=function(n,t){return LI(this,8,n,t)},bt.toPower=bt.pow=function(n){var t,e,i,r,s,o,a=this,l=a.constructor,c=+(n=new l(n));if(!(a.d&&n.d&&a.d[0]&&n.d[0]))return new l(Us(+a,c));if((a=new l(a)).eq(1))return a;if(i=l.precision,s=l.rounding,n.eq(1))return sn(a,i,s);if((t=ko(n.e/7))>=n.d.length-1&&(e=c<0?-c:c)<=9007199254740991)return r=GG(l,a,e,i),n.s<0?new l(1).div(r):sn(r,i,s);if((o=a.s)<0){if(t<n.d.length-1)return new l(NaN);if(0==(1&n.d[t])&&(o=1),0==a.e&&1==a.d[0]&&1==a.d.length)return a.s=o,a}return(t=0!=(e=Us(+a,c))&&isFinite(e)?new l(e+"").e:ko(c*(Math.log("0."+ho(a.d))/Math.LN10+a.e+1)))>l.maxE+1||t<l.minE-1?new l(t>0?o/0:0):(wn=!1,l.rounding=a.s=1,e=Math.min(12,(t+"").length),(r=kI(n.times(rh(a,i+e)),i)).d&&J0((r=sn(r,i+5,1)).d,i,s)&&+ho((r=sn(kI(n.times(rh(a,(t=i+10)+e)),t),t+5,1)).d).slice(i+1,i+15)+1==1e14&&(r=sn(r,i+1,0)),r.s=o,wn=!0,l.rounding=s,sn(r,i,s))},bt.toPrecision=function(n,t){var e,i=this,r=i.constructor;return void 0===n?e=cu(i,i.e<=r.toExpNeg||i.e>=r.toExpPos):(xa(n,1,th),void 0===t?t=r.rounding:xa(t,0,8),e=cu(i=sn(new r(i),n,t),n<=i.e||i.e<=r.toExpNeg,n)),i.isNeg()&&!i.isZero()?"-"+e:e},bt.toSignificantDigits=bt.toSD=function(n,t){var i=this.constructor;return void 0===n?(n=i.precision,t=i.rounding):(xa(n,1,th),void 0===t?t=i.rounding:xa(t,0,8)),sn(new i(this),n,t)},bt.toString=function(){var n=this,t=n.constructor,e=cu(n,n.e<=t.toExpNeg||n.e>=t.toExpPos);return n.isNeg()&&!n.isZero()?"-"+e:e},bt.truncated=bt.trunc=function(){return sn(new this.constructor(this),this.e+1,1)},bt.valueOf=bt.toJSON=function(){var n=this,t=n.constructor,e=cu(n,n.e<=t.toExpNeg||n.e>=t.toExpPos);return n.isNeg()?"-"+e:e};var ir=function(){function n(i,r,s){var o,a=0,l=i.length;for(i=i.slice();l--;)i[l]=(o=i[l]*r+a)%s|0,a=o/s|0;return a&&i.unshift(a),i}function t(i,r,s,o){var a,l;if(s!=o)l=s>o?1:-1;else for(a=l=0;a<s;a++)if(i[a]!=r[a]){l=i[a]>r[a]?1:-1;break}return l}function e(i,r,s,o){for(var a=0;s--;)i[s]-=a,i[s]=(a=i[s]<r[s]?1:0)*o+i[s]-r[s];for(;!i[0]&&i.length>1;)i.shift()}return function(i,r,s,o,a,l){var c,u,d,f,y,O,I,N,k,B,G,Y,J,Z,ge,pe,ae,de,xe,ve,ye=i.constructor,Re=i.s==r.s?1:-1,Oe=i.d,be=r.d;if(!(Oe&&Oe[0]&&be&&be[0]))return new ye(i.s&&r.s&&(Oe?!be||Oe[0]!=be[0]:be)?Oe&&0==Oe[0]||!be?0*Re:Re/0:NaN);for(l?(y=1,u=i.e-r.e):(l=bc,u=ko(i.e/(y=7))-ko(r.e/y)),xe=be.length,ae=Oe.length,B=(k=new ye(Re)).d=[],d=0;be[d]==(Oe[d]||0);d++);if(be[d]>(Oe[d]||0)&&u--,null==s?(Z=s=ye.precision,o=ye.rounding):Z=a?s+(i.e-r.e)+1:s,Z<0)B.push(1),O=!0;else{if(Z=Z/y+2|0,d=0,1==xe){for(f=0,be=be[0],Z++;(d<ae||f)&&Z--;d++)B[d]=(ge=f*l+(Oe[d]||0))/be|0,f=ge%be|0;O=f||d<ae}else{for((f=l/(be[0]+1)|0)>1&&(be=n(be,f,l),Oe=n(Oe,f,l),xe=be.length,ae=Oe.length),pe=xe,Y=(G=Oe.slice(0,xe)).length;Y<xe;)G[Y++]=0;(ve=be.slice()).unshift(0),de=be[0],be[1]>=l/2&&++de;do{f=0,(c=t(be,G,xe,Y))<0?(J=G[0],xe!=Y&&(J=J*l+(G[1]||0)),(f=J/de|0)>1?(f>=l&&(f=l-1),1==(c=t(I=n(be,f,l),G,N=I.length,Y=G.length))&&(f--,e(I,xe<N?ve:be,N,l))):(0==f&&(c=f=1),I=be.slice()),(N=I.length)<Y&&I.unshift(0),e(G,I,Y,l),-1==c&&(c=t(be,G,xe,Y=G.length))<1&&(f++,e(G,xe<Y?ve:be,Y,l)),Y=G.length):0===c&&(f++,G=[0]),B[d++]=f,c&&G[0]?G[Y++]=Oe[pe]||0:(G=[Oe[pe]],Y=1)}while((pe++<ae||void 0!==G[0])&&Z--);O=void 0!==G[0]}B[0]||B.shift()}if(1==y)k.e=u,NG=O;else{for(d=1,f=B[0];f>=10;f/=10)d++;k.e=d+u*y-1,sn(k,a?s+k.e+1:s,o,O)}return k}}();function sn(n,t,e,i){var r,s,o,a,l,c,u,d,f,y=n.constructor;e:if(null!=t){if(!(d=n.d))return n;for(r=1,a=d[0];a>=10;a/=10)r++;if((s=t-r)<0)s+=7,l=(u=d[f=0])/Us(10,r-(o=t)-1)%10|0;else if((f=Math.ceil((s+1)/7))>=(a=d.length)){if(!i)break e;for(;a++<=f;)d.push(0);u=l=0,r=1,o=(s%=7)-7+1}else{for(u=a=d[f],r=1;a>=10;a/=10)r++;l=(o=(s%=7)-7+r)<0?0:u/Us(10,r-o-1)%10|0}if(i=i||t<0||void 0!==d[f+1]||(o<0?u:u%Us(10,r-o-1)),c=e<4?(l||i)&&(0==e||e==(n.s<0?3:2)):l>5||5==l&&(4==e||i||6==e&&(s>0?o>0?u/Us(10,r-o):0:d[f-1])%10&1||e==(n.s<0?8:7)),t<1||!d[0])return d.length=0,c?(d[0]=Us(10,(7-(t-=n.e+1)%7)%7),n.e=-t||0):d[0]=n.e=0,n;if(0==s?(d.length=f,a=1,f--):(d.length=f+1,a=Us(10,7-s),d[f]=o>0?(u/Us(10,r-o)%Us(10,o)|0)*a:0),c)for(;;){if(0==f){for(s=1,o=d[0];o>=10;o/=10)s++;for(o=d[0]+=a,a=1;o>=10;o/=10)a++;s!=a&&(n.e++,d[0]==bc&&(d[0]=1));break}if(d[f]+=a,d[f]!=bc)break;d[f--]=0,a=1}for(s=d.length;0===d[--s];)d.pop()}return wn&&(n.e>y.maxE?(n.d=null,n.e=NaN):n.e<y.minE&&(n.e=0,n.d=[0])),n}function cu(n,t,e){if(!n.isFinite())return VG(n);var i,r=n.e,s=ho(n.d),o=s.length;return t?(e&&(i=e-o)>0?s=s.charAt(0)+"."+s.slice(1)+ih(i):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(n.e<0?"e":"e+")+n.e):r<0?(s="0."+ih(-r-1)+s,e&&(i=e-o)>0&&(s+=ih(i))):r>=o?(s+=ih(r+1-o),e&&(i=e-r-1)>0&&(s=s+"."+ih(i))):((i=r+1)<o&&(s=s.slice(0,i)+"."+s.slice(i)),e&&(i=e-o)>0&&(r+1===o&&(s+="."),s+=ih(i))),s}function VC(n,t){var e=n[0];for(t*=7;e>=10;e/=10)t++;return t}function zC(n,t,e){if(t>Xpe)throw wn=!0,e&&(n.precision=e),Error(kG);return sn(new n(UC),t,1,!0)}function Sc(n,t,e){if(t>NI)throw Error(kG);return sn(new n(GC),t,e,!0)}function UG(n){var t=n.length-1,e=7*t+1;if(t=n[t]){for(;t%10==0;t/=10)e--;for(t=n[0];t>=10;t/=10)e++}return e}function ih(n){for(var t="";n--;)t+="0";return t}function GG(n,t,e,i){var r,s=new n(1),o=Math.ceil(i/7+4);for(wn=!1;;){if(e%2&&WG((s=s.times(t)).d,o)&&(r=!0),0===(e=ko(e/2))){e=s.d.length-1,r&&0===s.d[e]&&++s.d[e];break}WG((t=t.times(t)).d,o)}return wn=!0,s}function jG(n){return 1&n.d[n.d.length-1]}function HG(n,t,e){for(var i,r=new n(t[0]),s=0;++s<t.length;){if(!(i=new n(t[s])).s){r=i;break}r[e](i)&&(r=i)}return r}function kI(n,t){var e,i,r,s,o,a,l,c=0,u=0,d=0,f=n.constructor,y=f.rounding,O=f.precision;if(!n.d||!n.d[0]||n.e>17)return new f(n.d?n.d[0]?n.s<0?0:1/0:1:n.s?n.s<0?0:n:NaN);for(null==t?(wn=!1,l=O):l=t,a=new f(.03125);n.e>-2;)n=n.times(a),d+=5;for(l+=i=Math.log(Us(2,d))/Math.LN10*2+5|0,e=s=o=new f(1),f.precision=l;;){if(s=sn(s.times(n),l,1),e=e.times(++u),ho((a=o.plus(ir(s,e,l,1))).d).slice(0,l)===ho(o.d).slice(0,l)){for(r=d;r--;)o=sn(o.times(o),l,1);if(null!=t)return f.precision=O,o;if(!(c<3&&J0(o.d,l-i,y,c)))return sn(o,f.precision=O,y,wn=!0);f.precision=l+=10,e=s=a=new f(1),u=0,c++}o=a}}function rh(n,t){var e,i,r,s,o,a,l,c,u,d,f,y=1,I=n,N=I.d,k=I.constructor,B=k.rounding,G=k.precision;if(I.s<0||!N||!N[0]||!I.e&&1==N[0]&&1==N.length)return new k(N&&!N[0]?-1/0:1!=I.s?NaN:N?0:I);if(null==t?(wn=!1,u=G):u=t,k.precision=u+=10,i=(e=ho(N)).charAt(0),!(Math.abs(s=I.e)<15e14))return c=zC(k,u+2,G).times(s+""),I=rh(new k(i+"."+e.slice(1)),u-10).plus(c),k.precision=G,null==t?sn(I,G,B,wn=!0):I;for(;i<7&&1!=i||1==i&&e.charAt(1)>3;)i=(e=ho((I=I.times(n)).d)).charAt(0),y++;for(s=I.e,i>1?(I=new k("0."+e),s++):I=new k(i+"."+e.slice(1)),d=I,l=o=I=ir(I.minus(1),I.plus(1),u,1),f=sn(I.times(I),u,1),r=3;;){if(o=sn(o.times(f),u,1),ho((c=l.plus(ir(o,new k(r),u,1))).d).slice(0,u)===ho(l.d).slice(0,u)){if(l=l.times(2),0!==s&&(l=l.plus(zC(k,u+2,G).times(s+""))),l=ir(l,new k(y),u,1),null!=t)return k.precision=G,l;if(!J0(l.d,u-10,B,a))return sn(l,k.precision=G,B,wn=!0);k.precision=u+=10,c=o=I=ir(d.minus(1),d.plus(1),u,1),f=sn(I.times(I),u,1),r=a=1}l=c,r+=2}}function VG(n){return String(n.s*n.s/0)}function FI(n,t){var e,i,r;for((e=t.indexOf("."))>-1&&(t=t.replace(".","")),(i=t.search(/e/i))>0?(e<0&&(e=i),e+=+t.slice(i+1),t=t.substring(0,i)):e<0&&(e=t.length),i=0;48===t.charCodeAt(i);i++);for(r=t.length;48===t.charCodeAt(r-1);--r);if(t=t.slice(i,r)){if(r-=i,n.e=e=e-i-1,n.d=[],i=(e+1)%7,e<0&&(i+=7),i<r){for(i&&n.d.push(+t.slice(0,i)),r-=7;i<r;)n.d.push(+t.slice(i,i+=7));i=7-(t=t.slice(i)).length}else i-=r;for(;i--;)t+="0";n.d.push(+t),wn&&(n.e>n.constructor.maxE?(n.d=null,n.e=NaN):n.e<n.constructor.minE&&(n.e=0,n.d=[0]))}else n.e=0,n.d=[0];return n}function $_(n,t,e,i,r){var s,o,a,l,u=n.precision,d=Math.ceil(u/7);for(wn=!1,l=e.times(e),a=new n(i);;){if(o=ir(a.times(l),new n(t++*t++),u,1),a=r?i.plus(o):i.minus(o),i=ir(o.times(l),new n(t++*t++),u,1),void 0!==(o=a.plus(i)).d[d]){for(s=d;o.d[s]===a.d[s]&&s--;);if(-1==s)break}s=a,a=i,i=o,o=s}return wn=!0,o.d.length=d+1,o}function WC(n,t){for(var e=n;--t;)e*=n;return e}function zG(n,t){var e,i=t.s<0,r=Sc(n,n.precision,1),s=r.times(.5);if((t=t.abs()).lte(s))return Zu=i?4:1,t;if((e=t.divToInt(r)).isZero())Zu=i?3:2;else{if((t=t.minus(e.times(r))).lte(s))return Zu=jG(e)?i?2:3:i?4:1,t;Zu=jG(e)?i?1:4:i?3:2}return t.minus(r).abs()}function LI(n,t,e,i){var r,s,o,a,l,c,u,d,f,y=n.constructor,O=void 0!==e;if(O?(xa(e,1,th),void 0===i?i=y.rounding:xa(i,0,8)):(e=y.precision,i=y.rounding),n.isFinite()){for(O?(r=2,16==t?e=4*e-3:8==t&&(e=3*e-2)):r=t,(o=(u=cu(n)).indexOf("."))>=0&&(u=u.replace(".",""),(f=new y(1)).e=u.length-o,f.d=HC(cu(f),10,r),f.e=f.d.length),s=l=(d=HC(u,10,r)).length;0==d[--l];)d.pop();if(d[0]){if(o<0?s--:((n=new y(n)).d=d,n.e=s,d=(n=ir(n,f,e,i,0,r)).d,s=n.e,c=NG),o=d[e],a=r/2,c=c||void 0!==d[e+1],c=i<4?(void 0!==o||c)&&(0===i||i===(n.s<0?3:2)):o>a||o===a&&(4===i||c||6===i&&1&d[e-1]||i===(n.s<0?8:7)),d.length=e,c)for(;++d[--e]>r-1;)d[e]=0,e||(++s,d.unshift(1));for(l=d.length;!d[l-1];--l);for(o=0,u="";o<l;o++)u+=RI.charAt(d[o]);if(O){if(l>1)if(16==t||8==t){for(o=16==t?4:3,--l;l%o;l++)u+="0";for(l=(d=HC(u,r,t)).length;!d[l-1];--l);for(o=1,u="1.";o<l;o++)u+=RI.charAt(d[o])}else u=u.charAt(0)+"."+u.slice(1);u=u+(s<0?"p":"p+")+s}else if(s<0){for(;++s;)u="0"+u;u="0."+u}else if(++s>l)for(s-=l;s--;)u+="0";else s<l&&(u=u.slice(0,s)+"."+u.slice(s))}else u=O?"0p+0":"0";u=(16==t?"0x":2==t?"0b":8==t?"0o":"")+u}else u=VG(n);return n.s<0?"-"+u:u}function WG(n,t){if(n.length>t)return n.length=t,!0}function Zpe(n){return new this(n).abs()}function Qpe(n){return new this(n).acos()}function ege(n){return new this(n).acosh()}function tge(n,t){return new this(n).plus(t)}function nge(n){return new this(n).asin()}function ige(n){return new this(n).asinh()}function rge(n){return new this(n).atan()}function sge(n){return new this(n).atanh()}function oge(n,t){n=new this(n),t=new this(t);var e,i=this.precision,r=this.rounding,s=i+4;return n.s&&t.s?n.d||t.d?!t.d||n.isZero()?(e=t.s<0?Sc(this,i,r):new this(0)).s=n.s:!n.d||t.isZero()?(e=Sc(this,s,1).times(.5)).s=n.s:t.s<0?(this.precision=s,this.rounding=1,e=this.atan(ir(n,t,s,1)),t=Sc(this,s,1),this.precision=i,this.rounding=r,e=n.s<0?e.minus(t):e.plus(t)):e=this.atan(ir(n,t,s,1)):(e=Sc(this,s,1).times(t.s>0?.25:.75)).s=n.s:e=new this(NaN),e}function age(n){return new this(n).cbrt()}function lge(n){return sn(n=new this(n),n.e+1,2)}function cge(n,t,e){return new this(n).clamp(t,e)}function uge(n){if(!n||"object"!=typeof n)throw Error(jC+"Object expected");var t,e,i,r=!0===n.defaults,s=["precision",1,th,"rounding",0,8,"toExpNeg",-W_,0,"toExpPos",0,W_,"maxE",0,W_,"minE",-W_,0,"modulo",0,9];for(t=0;t<s.length;t+=3)if(e=s[t],r&&(this[e]=DI[e]),void 0!==(i=n[e])){if(!(ko(i)===i&&i>=s[t+1]&&i<=s[t+2]))throw Error(nh+e+": "+i);this[e]=i}if(e="crypto",r&&(this[e]=DI[e]),void 0!==(i=n[e])){if(!0!==i&&!1!==i&&0!==i&&1!==i)throw Error(nh+e+": "+i);if(i){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(FG);this[e]=!0}else this[e]=!1}return this}function dge(n){return new this(n).cos()}function hge(n){return new this(n).cosh()}function fge(n,t){return new this(n).div(t)}function pge(n){return new this(n).exp()}function gge(n){return sn(n=new this(n),n.e+1,3)}function _ge(){var n,t,e=new this(0);for(wn=!1,n=0;n<arguments.length;)if((t=new this(arguments[n++])).d)e.d&&(e=e.plus(t.times(t)));else{if(t.s)return wn=!0,new this(1/0);e=t}return wn=!0,e.sqrt()}function YG(n){return n instanceof Li||n&&n.toStringTag===LG||!1}function mge(n){return new this(n).ln()}function vge(n,t){return new this(n).log(t)}function yge(n){return new this(n).log(2)}function bge(n){return new this(n).log(10)}function Sge(){return HG(this,arguments,"lt")}function Cge(){return HG(this,arguments,"gt")}function Ege(n,t){return new this(n).mod(t)}function Tge(n,t){return new this(n).mul(t)}function wge(n,t){return new this(n).pow(t)}function Mge(n){var t,e,i,r,s=0,o=new this(1),a=[];if(void 0===n?n=this.precision:xa(n,1,th),i=Math.ceil(n/7),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(i));s<i;)(r=t[s])>=429e7?t[s]=crypto.getRandomValues(new Uint32Array(1))[0]:a[s++]=r%1e7;else{if(!crypto.randomBytes)throw Error(FG);for(t=crypto.randomBytes(i*=4);s<i;)(r=t[s]+(t[s+1]<<8)+(t[s+2]<<16)+((127&t[s+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,s):(a.push(r%1e7),s+=4);s=i/4}else for(;s<i;)a[s++]=1e7*Math.random()|0;for(n%=7,(i=a[--s])&&n&&(r=Us(10,7-n),a[s]=(i/r|0)*r);0===a[s];s--)a.pop();if(s<0)e=0,a=[0];else{for(e=-1;0===a[0];e-=7)a.shift();for(i=1,r=a[0];r>=10;r/=10)i++;i<7&&(e-=7-i)}return o.e=e,o.d=a,o}function Oge(n){return sn(n=new this(n),n.e+1,this.rounding)}function Pge(n){return(n=new this(n)).d?n.d[0]?n.s:0*n.s:n.s||NaN}function xge(n){return new this(n).sin()}function Ige(n){return new this(n).sinh()}function Age(n){return new this(n).sqrt()}function Rge(n,t){return new this(n).sub(t)}function Dge(){var n=0,t=arguments,e=new this(t[n]);for(wn=!1;e.s&&++n<t.length;)e=e.plus(t[n]);return wn=!0,sn(e,this.precision,this.rounding)}function Nge(n){return new this(n).tan()}function kge(n){return new this(n).tanh()}function Fge(n){return sn(n=new this(n),n.e+1,1)}bt[Symbol.for("nodejs.util.inspect.custom")]=bt.toString,bt[Symbol.toStringTag]="Decimal";var Li=bt.constructor=function $G(n){var t,e,i;function r(s){var o,a,l,c=this;if(!(c instanceof r))return new r(s);if(c.constructor=r,YG(s))return c.s=s.s,void(wn?!s.d||s.e>r.maxE?(c.e=NaN,c.d=null):s.e<r.minE?(c.e=0,c.d=[0]):(c.e=s.e,c.d=s.d.slice()):(c.e=s.e,c.d=s.d?s.d.slice():s.d));if("number"==(l=typeof s)){if(0===s)return c.s=1/s<0?-1:1,c.e=0,void(c.d=[0]);if(s<0?(s=-s,c.s=-1):c.s=1,s===~~s&&s<1e7){for(o=0,a=s;a>=10;a/=10)o++;return void(wn?o>r.maxE?(c.e=NaN,c.d=null):o<r.minE?(c.e=0,c.d=[0]):(c.e=o,c.d=[s]):(c.e=o,c.d=[s]))}return 0*s!=0?(s||(c.s=NaN),c.e=NaN,void(c.d=null)):FI(c,s.toString())}if("string"!==l)throw Error(nh+s);return 45===(a=s.charCodeAt(0))?(s=s.slice(1),c.s=-1):(43===a&&(s=s.slice(1)),c.s=1),BG.test(s)?FI(c,s):function Kpe(n,t){var e,i,r,s,o,a,l,c,u;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),BG.test(t))return FI(n,t)}else if("Infinity"===t||"NaN"===t)return+t||(n.s=NaN),n.e=NaN,n.d=null,n;if(Wpe.test(t))e=16,t=t.toLowerCase();else if(zpe.test(t))e=2;else{if(!$pe.test(t))throw Error(nh+t);e=8}for((s=t.search(/p/i))>0?(l=+t.slice(s+1),t=t.substring(2,s)):t=t.slice(2),s=t.indexOf("."),i=n.constructor,(o=s>=0)&&(s=(a=(t=t.replace(".","")).length)-s,r=GG(i,new i(e),s,2*s)),s=u=(c=HC(t,e,bc)).length-1;0===c[s];--s)c.pop();return s<0?new i(0*n.s):(n.e=VC(c,u),n.d=c,wn=!1,o&&(n=ir(n,r,4*a)),l&&(n=n.times(Math.abs(l)<54?Us(2,l):Li.pow(2,l))),wn=!0,n)}(c,s)}if(r.prototype=bt,r.ROUND_UP=0,r.ROUND_DOWN=1,r.ROUND_CEIL=2,r.ROUND_FLOOR=3,r.ROUND_HALF_UP=4,r.ROUND_HALF_DOWN=5,r.ROUND_HALF_EVEN=6,r.ROUND_HALF_CEIL=7,r.ROUND_HALF_FLOOR=8,r.EUCLID=9,r.config=r.set=uge,r.clone=$G,r.isDecimal=YG,r.abs=Zpe,r.acos=Qpe,r.acosh=ege,r.add=tge,r.asin=nge,r.asinh=ige,r.atan=rge,r.atanh=sge,r.atan2=oge,r.cbrt=age,r.ceil=lge,r.clamp=cge,r.cos=dge,r.cosh=hge,r.div=fge,r.exp=pge,r.floor=gge,r.hypot=_ge,r.ln=mge,r.log=vge,r.log10=bge,r.log2=yge,r.max=Sge,r.min=Cge,r.mod=Ege,r.mul=Tge,r.pow=wge,r.random=Mge,r.round=Oge,r.sign=Pge,r.sin=xge,r.sinh=Ige,r.sqrt=Age,r.sub=Rge,r.sum=Dge,r.tan=Nge,r.tanh=kge,r.trunc=Fge,void 0===n&&(n={}),n&&!0!==n.defaults)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<i.length;)n.hasOwnProperty(e=i[t++])||(n[e]=this[e]);return r.config(n),r}(DI);UC=new Li(UC),GC=new Li(GC);var Z0=(()=>{return(n=Z0||(Z0={})).SessionStorage="sessionStorage",n.LocalStorage="localStorage",Z0;var n})();class Lge{constructor(){this.storage=new Map}get length(){return this.storage.size}clear(){this.storage.clear()}key(t){return Array.from(this.storage.keys())[t]||null}removeItem(t){this.storage.delete(t)}getItem(t){return this.storage.get(t)||null}setItem(t,e){this.storage.set(t,""+e)}}let XG=(()=>{class n{constructor(){this._session=this.setStorage(Z0.SessionStorage),this._local=this.setStorage(Z0.LocalStorage)}get session(){return this._session}get local(){return this._local}setStorage(e){try{const i="__storage_test__";return window[e].setItem(i,i),window[e].removeItem(i),window[e]}catch(i){return new Lge}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Bge=["adjarabet","spribegaming","spribe"];let Uge=(()=>{class n{constructor(){const e=location.hostname.split(".");this.secondLevel=e[e.length-2],this.topLevel=e[e.length-1]}mirrorURL(e,i){const r=new URL(e);return r.hostname=this.mirrorHostname(r.hostname,i),r.href}mirrorHostname(e,i){if(!i||!this.secondLevel||!this.topLevel||Bge.includes(this.secondLevel))return e;const r=e.split(".");return e.replace(`.${r[r.length-2]}.${r[r.length-1]}`,`.${this.secondLevel}.${this.topLevel}`)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var hi=(()=>{return(n=hi||(hi={})).Init="ifc.init",n.Close="ifc.close",n.BackToHome="ifc.back.to.home",n.Sound="ifc.sound",n.Music="ifc.music",n.Animation="ifc.animation",n.WinInfo="ifc.win.info",n.UpdateBalance="ifc.update.balance",n.UpdateStake="ifc.update.stake",n.StartBetTimer="ifc.start.bet.timer",n.StartRound="ifc.start.round",n.EndRound="ifc.end.round",n.MakeBet="ifc.make.bet",n.MakeBetComplete="ifc.make.bet.complete",n.CancelBet="ifc.cancel.bet",n.CancelBetComplete="ifc.cancel.bet.complete",n.Cashout="ifc.cashout",n.CashoutComplete="ifc.cashout.complete",n.Autoplay="ifc.autoplay",n.SwitchGame="ifc.switch.game",n.AccountHistory="ifc.account.history",n.InternalRealityCheck="ifc.internal.reality.check",n.AviaPortWaitingInit="ifc.ap.waiting.init",n.AviaPortUpdateFreeBet="ifc.ap.update.free.bet",n.AviaPortClaimFreeBet="ifc.ap.claim.free.bet",n.AviaPortShowFreeBetModal="ifc.ap.show.free.bet.modal",n.AviaPortChatInit="ifc.ap.chat.init",hi;var n})(),pr=(()=>{return(n=pr||(pr={})).SetBalance="ifc.set.balance",n.UpdateBalance="ifc.update.balance",n.SetSound="ifc.set.sound",n.SetMusic="ifc.set.music",n.SetAnimation="ifc.set.animation",n.StopAutoplay="ifc.stop.autoplay",n.OpenHelp="ifc.open.help",n.LockUI="ifc.lock.UI",n.ContinueInternalRealityCheck="ifc.continue.internal.reality.check",n.StopInternalRealityCheck="ifc.stop.internal.reality.check",n.AviaPortToggleGameMenu="ifc.ap.toggle.game.menu",n.AviaPortToggleChat="ifc.ap.toggle.chat",n.AviaPortInit="ifc.ap.init",n.AviaPortSelectFreeBet="ifc.ap.select.free.bet",pr;var n})();class qG{static send(t,...e){console.info(`\u{1f53a} [${t}]`,...e)}static receive(t,...e){console.info(`\u{1f53d} [${t}]`,...e)}static info(t,...e){console.info(`[${t}]`,...e)}}function BI(){try{return window.self!==window.top}catch(n){return!0}}let Fo=(()=>{class n{constructor(){this.isInited=!1,this.isGameInited=!1,this.isInFrame=BI(),this._receive=new Qe,this._receive$=this._receive.asObservable()}init(){!this.isInFrame||this.isInited||(this.isInited=!0,wi(window,"message").pipe(Bt(e=>Object.values(pr).includes(e.data.cmd))).subscribe(e=>this.onMessageReceive(e.data)))}onMessageReceive(e){(function Gge(n){Ks({type:"ifc",level:"info",category:"ifc.receive",data:{action:n.cmd,data:n.data}})})(e),qG.receive("IFC RECEIVE",e.cmd,e.data),this._receive.next(e)}receive$(e){return this._receive$.pipe(Bt(i=>i.cmd===e),Ie(i=>i.data))}send(e,i){if(this.isInFrame){qG.send("IFC SEND",e,i);try{parent.postMessage({type:e,data:i},"*")}catch(r){}}}sendInit(e){const i=Object.assign(Object.assign({},e),{isReInit:this.isGameInited});this.send(hi.Init,i),this.isGameInited=!0}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$C=(()=>{class n{constructor(){this.betPrecision=2,this.multiplierPrecision=2,this.isUseMaskedUsername=!0}init(e){Object.assign(this,e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Xn=(()=>{class n{constructor(e){this.configService=e,this.minIntegerDigits=1}transform(e,i){if("string"==typeof e)return I0(new Error("Incorrect format in the CurrencyPrecisionPipe"),{level:"error",extra:{problematicValue:e}}),"";if(!Number.isFinite(e))return"";const r=null!=i?i:this.configService.betPrecision;return AS(new Li(e).toDecimalPlaces(r,Li.ROUND_DOWN).toNumber(),"en-US",`${this.minIntegerDigits}.${r}-${r}`)}}return n.\u0275fac=function(e){return new(e||n)(z($C,16))},n.\u0275pipe=as({name:"currencyPrecision",type:n,pure:!0}),n})(),Rr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({}),n})(),KG=(()=>{class n{transform(e,i=", "){return e?e.join(i):""}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=as({name:"join",type:n,pure:!0}),n})(),jge=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({providers:[KG]}),n})(),oa=(()=>{class n{constructor(e){this.configService=e}transform(e){return this.configService.isUseMaskedUsername?e&&"string"==typeof e?`${e.charAt(0)}***${e.charAt(e.length-1)}`.toLowerCase():"*****":e}}return n.\u0275fac=function(e){return new(e||n)(z($C,16))},n.\u0275pipe=as({name:"maskedUsername",type:n,pure:!0}),n})(),Y_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({}),n})(),uu=(()=>{class n{constructor(e){this.configService=e,this.minIntegerDigits=1}transform(e,i){if(!Number.isFinite(e))return"";const r=null!=i?i:this.configService.multiplierPrecision;return AS(new Li(e).toDecimalPlaces(r,Li.ROUND_DOWN).toNumber(),"en-US",`${this.minIntegerDigits}.${r}-${r}`)}}return n.\u0275fac=function(e){return new(e||n)(z($C,16))},n.\u0275pipe=as({name:"multiplierPrecision",type:n,pure:!0}),n})(),X_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({}),n})();var Dr=A(8135);class On extends Qe{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const Mi={production:!0,loggerEnabled:!1,domainMirroringEnabled:!0,version:JSON.parse('{"i8":"v4.2.63-hotfix"}').i8,clientConfig:{path:"https://app-config.spribegaming.com/aviator/",ext:".json"},avatarPath:"assets/static/avatars/v2/",brandPath:"assets/static/images/brand/"};function gr(n,t,e){const i=S(n)||t||e?{next:n,error:t,complete:e}:n;return i?Je((r,s)=>{var o;null===(o=i.subscribe)||void 0===o||o.call(i);let a=!0;r.subscribe(ue(s,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),s.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),s.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),s.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):Se}class Vge extends g{constructor(t,e){super()}schedule(t,e=0){return this}}const YC={setInterval(n,t,...e){const{delegate:i}=YC;return(null==i?void 0:i.setInterval)?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=YC;return((null==t?void 0:t.clearInterval)||clearInterval)(n)},delegate:void 0};class UI extends Vge{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const i=this.id,r=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(r,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,i=0){return YC.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;YC.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,v(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const GI={now:()=>(GI.delegate||Date).now(),delegate:void 0};class Q0{constructor(t,e=Q0.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}Q0.now=GI.now;class jI extends Q0{constructor(t,e=Q0.now){super(t,e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const q_=new jI(UI),zge=q_;function JG(n){return n instanceof Date&&!isNaN(n)}const Wge=T(n=>function(e=null){n(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=e});function Yge(n){throw new Wge(n)}function Cc(n){return Je((t,e)=>{let s,i=null,r=!1;i=t.subscribe(ue(e,void 0,void 0,o=>{s=Pt(n(o,Cc(n)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}function ZG(n=40){let t="";const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let i=0;i<n;i++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}function QG(n){if(!n)return[];const t=[];return JSON.parse(n).forEach(e=>t.push({url:e.media[0].tinygif.url,dims:e.media[0].tinygif.dims,id:e.id})),t}class ej{static toSFSObject(t){let e=new Dr.SFSObject;return Object.keys(t).forEach(i=>{const r=t[i];"string"==typeof r?function Xge(n){return encodeURI(n).split(/%..|./).length-1}(r)>32e3?e.putText(i,r):e.putUtfString(i,r):"boolean"==typeof r?e.putBool(i,r):"number"==typeof r?e.putDouble(i,r):!0===Array.isArray(r)&&e.putUtfStringArray(i,r)}),e}static toObject(t){let e={};if(null===t||void 0===t.getKeysArray)return e;let i=t.getKeysArray();for(let r=0;r<i.length;r++)if(this.checkType(t,i[r],Dr.SFSDataType.SFS_OBJECT))e[i[r]]=this.toObject(t.get(i[r]));else if(this.checkType(t,i[r],Dr.SFSDataType.SFS_ARRAY)){let s=[],o=t.get(i[r]);for(let a=0;a<o.size();a++)this.isArrayContainsSfsObjects(o,a)?s.push(this.toObject(o.getSFSObject(a))):s.push(o.get(a));e[i[r]]=s}else e[i[r]]=t.get(i[r]);return e}static isArrayContainsSfsObjects(t,e){try{return!!t.get(e,Dr.SFSDataType.SFS_OBJECT)}catch(i){return!1}}static checkType(t,e,i){try{return!!t.get(e,i)}catch(r){return!1}}}function Qu(n=0,t,e=zge){let i=-1;return null!=t&&(Ai(t)?e=t:i=t),new _e(r=>{let s=JG(n)?+n-e.now():n;s<0&&(s=0);let o=0;return e.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}class e_e{constructor(){this.RECONNECT_DELAY=3e3,this.MAX_RECONNECT=3,this.reconnectCount=0}try(t,e){if(this.reconnectDelayTimer$&&this.reconnectDelayTimer$.unsubscribe(),this.reconnectCount<=this.MAX_RECONNECT){const i=Qu(this.RECONNECT_DELAY);this.reconnectDelayTimer$=i.subscribe(()=>{null==t||t.connect(),this.reconnectCount++})}else e&&e()}reset(){this.reconnectDelayTimer$&&this.reconnectDelayTimer$.unsubscribe(),this.reconnectDelayTimer$=void 0,this.reconnectCount=0}}var Af=(()=>{return(n=Af||(Af={})).Alert="alert",n.Toast="toast",n.Win="win",n.Challenge="challenge",Af;var n})(),Tr=(()=>{return(n=Tr||(Tr={})).primary="alert-primary",n.secondary="alert-secondary",n.success="alert-success",n.danger="alert-danger",n.warning="alert-warning",n.info="alert-info",n.light="alert-light",n.dark="alert-dark",Tr;var n})(),Ec=(()=>{return(n=Ec||(Ec={})).NotEnoughBalance="Not enough balance",n.YourFreeBetWasCancelledByAdministrator="Your freebet was canceled by the administrator",n.FirstInactivityMessage="You have not been active for a while. Place a bet to avoid a disconnection.",n.SecondInactivityMessage="Last chance to place a bet. Your session will be terminated due to inactivity.",n.YouHaveGotAFreeBet="You've got a Free Bet!",n.YouHaveCashedOut="You have cashed out!",n.BetBetIdHasBeenCashedOut="Bet {{betId}} has been cashed out!",n.SelectedRoomIsUnavailable="The selected room is unavailable. You have been connected to another room.",Ec;var n})(),ey=(()=>{return(n=ey||(ey={})).Aviator="AVIATOR",n.Challenges="CHALLENGES",ey;var n})(),ty=(()=>((ty||(ty={})).ShowWinAmountUntilNextRound="showWinAmountUntilNextRound",ty))(),K_=(()=>{return(n=K_||(K_={})).Mobile="mobile",n.Desktop="desktop",n.Tablet="tablet",K_;var n})(),Rf=(()=>{return(n=Rf||(Rf={}))[n.Success=200]="Success",n[n.RealityCheck=412]="RealityCheck",Rf;var n})();function Ur(n){return Je((t,e)=>{Pt(n).subscribe(ue(e,()=>e.complete(),x)),!e.closed&&t.subscribe(e)})}const n_e=m1,r_e=Symbol("__destroy"),tj=Symbol("__decoratorApplied");function nj(n){return"string"==typeof n?Symbol(`__destroy__${n}`):r_e}function ij(n,t){n[t]||(n[t]=new Qe)}function rj(n,t){n[t]&&(n[t].next(),n[t].complete(),n[t]=null)}function sj(n){n instanceof g&&n.unsubscribe()}function oj(n,t){return function(){var e;if(n&&n.call(this),rj(this,nj()),t.arrayName)return function o_e(n){Array.isArray(n)&&n.forEach(sj)}(this[t.arrayName]);if(t.checkProperties)for(const i in this)(null===(e=t.blackList)||void 0===e?void 0:e.includes(i))||sj(this[i])}}function Qn(n={}){return t=>{!function i_e(n){return!!n[n_e]}(t)?function a_e(n,t){n.prototype.ngOnDestroy=oj(n.prototype.ngOnDestroy,t)}(t,n):function l_e(n,t){const e=n.\u0275pipe;e.onDestroy=oj(e.onDestroy,t)}(t,n),function s_e(n){n.prototype[tj]=!0}(t)}}function Ct(n,t){return e=>{const i=nj(t);return"string"==typeof t?function c_e(n,t,e){const i=n[t];ij(n,e),n[t]=function(){i.apply(this,arguments),rj(this,e),n[t]=i}}(n,t,i):ij(n,i),e.pipe(Ur(n[i]))}}var J_=(()=>{return(n=J_||(J_={})).Request="PING_REQUEST",n.Response="PING_RESPONSE",J_;var n})();class u_e{constructor(t,e){this.smartFox=t,this.callbackFn=e,this.pingInterval=15e3}start(t){this.pingInterval=null!=t?t:15e3,this.reset(),wi(this.smartFox,Dr.SFSEvent.EXTENSION_RESPONSE).pipe(Bt(e=>e.cmd===J_.Response),Ct(this,"reset")).subscribe(()=>this.pingResponseHandler()),this.intervalRef=setInterval(()=>this.threadRunner(),this.pingInterval)}threadRunner(){this.smartFox.send(new Dr.ExtensionRequest(J_.Request)),this.waitResponse()}waitResponse(){void 0===this.timeoutRef&&(this.timeoutRef=setTimeout(()=>{this.callbackFn(Hi.SlowConnection)},this.pingInterval-1e3))}clearTimeout(){this.timeoutRef&&(clearTimeout(this.timeoutRef),this.timeoutRef=void 0)}pingResponseHandler(){this.callbackFn(Hi.Connected),this.clearTimeout()}reset(){this.clearTimeout(),this.intervalRef&&(clearInterval(this.intervalRef),this.intervalRef=void 0)}}var mn=(()=>{return(n=mn||(mn={})).Init="init",n.CashOut="cashOut",n.CancelBet="cancelBet",n.Bet="bet",n.CurrentMultiplier="currentMultiplier",n.X="x",n.AddChatMessage="AddChatMessage",n.AddChatMessages="AddChatMessages",n.DeleteChatMessage="deleteChatMessage",n.SearchGifs="searchGifs",n.Like="like",n.ClaimRainWin="claimRainWin",n.NewBalance="newBalance",n.RoundChartInfo="roundChartInfo",n.FreeBetsArchive="freeBetsArchive",n.FreeBetInfo="freeBetInfo",n.ChangeState="changeState",n.OnlinePlayers="onlinePlayers",n.CurrentBetsInfo="currentBetsInfo",n.UpdateCurrentBets="updateCurrentBets",n.UpdateCurrentCashOuts="updateCurrentCashOuts",n.InternalRealityCheck="internalRealityCheck",n.PreviousRoundInfo="previousRoundInfoResponse",n.BetHistory="betHistoryResponse",n.RoundFairness="roundFairnessResponse",n.ServerSeed="serverSeedResponse",n.FreeBetFinish="freeBetFinishResponse",n.GetTopRoundsInfo="getTopRoundsInfo",n.GetTopWinsInfo="getTopWinsInfo",n.GetHugeWinsInfo="getHugeWinsInfo",n.CreateFreeBet="createFreeBet",n.CancelFreeBet="cancelFreeBet",mn;var n})(),ed=(()=>{return(n=ed||(ed={})).RealityCheck="reality-check",n.InternalRealityCheck="internalRealityCheck",n.Alderney="Alderney",ed;var n})(),Wn=(()=>{return(n=Wn||(Wn={})).bugReport="bugReport",n.fairness="fairness",n.fairnessSettings="fairnessSettings",n.freeBets="freeBets",n.avatar="avatar",n.rules="rules",n.whatIsPf="whatIsPf",n.quickHelp="quickHelp",n.notification="notification",n.myBetsHistory="myBetsHistory",n.gameLimits="gameLimits",n.otherSettings="otherSettings",n.chatRules="chatRules",n.changeServer="changeServer",Wn;var n})(),ny=(()=>{return(n=ny||(ny={}))[n.LOGIN_BANNED_USER=4]="LOGIN_BANNED_USER",n[n.LOGIN_ZONE_FULL=5]="LOGIN_ZONE_FULL",ny;var n})(),iy=(()=>{return(n=iy||(iy={}))[n.ONLY_OPERATOR_DATA=10]="ONLY_OPERATOR_DATA",n[n.NOT_ALLOWED_CURRENCY=50]="NOT_ALLOWED_CURRENCY",iy;var n})();const Z_={UKNOWN:"Unknown"},HI={CHROME:"Chrome",FIREFOX:"Firefox",SAFARI:"Safari",OPERA:"Opera",IE:"IE",MS_EDGE:"MS-Edge",MS_EDGE_CHROMIUM:"MS-Edge-Chromium",FB_MESSANGER:"FB-Messanger",SAMSUNG:"Samsung",UCBROWSER:"UC-Browser",UNKNOWN:Z_.UKNOWN},XC={HTC:/HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\bEVO\b|T-Mobile G1|Z520m|Android [0-9.]+; Pixel/,NEXUS_PHONE:/Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 6/,DELL:/Dell[;]? (Streak|Aero|Venue|Venue Pro|Flash|Smoke|Mini 3iX)|XCD28|XCD35|\b001DL\b|\b101DL\b|\bGS01\b/,MOTOROLA:new RegExp("Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|\n      A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|\n      MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|\n      ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|\n      WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|\n      XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|\n      XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b|XT1068|XT1092|XT1052"),SAMSUNG:new RegExp("\\bSamsung\\b|SM-G950F|SM-G955F|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|\n      GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|\n      GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|\n      GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|\n      GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|\n      GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|\n      GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|\n      GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|\n      GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|\n      GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|\n      GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|\n      GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|\n      GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|\n      GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|\n      GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|\n      GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|\n      GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|\n      GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|\n      SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|\n      SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|\n      SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|\n      SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|\n      SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|\n      SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|\n      SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|\n      SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|\n      SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|\n      SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|\n      SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|\n      SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|\n      SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|\n      SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|\n      SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|\n      SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|\n      SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|\n      SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|\n      SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|\n      SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|\n      SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|\n      SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|\n      SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|\n      SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|\n      SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|\n      SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|\n      SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|\n      SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|\n      SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|\n      SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|\n      SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|\n      GT-N7105|SCH-I535|SM-N900A|SM-N900T|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|\n      GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|\n      GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|\n      SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|\n      SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350|SM-J120F|SM-G920F|SM-G920V|SM-G930F|\n      SM-N910C|SM-A310F|GT-I9190|SM-J500FN|SM-G903F|SM-J330F"),LG:new RegExp("\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|\n      LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|\n      C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|\n      LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|\n      VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|\n      MS323|M257)"),SONY:/SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533/,ASUS:/Asus.*Galaxy|PadFone.*Mobile/,NOKIA_LUMIA:/Lumia [0-9]{3,4}/,MICROMAX:/Micromax.*\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\b/,PALM:/PalmSource|Palm/,VERTU:/Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature/,PANTECH:new RegExp("PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|\n        IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|\n        IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|\n        CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|\n        P2000|P7040|P7000|C790"),FLY:/IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250/,WIKO:new RegExp("KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|\n        SUNSET|GOA(?!nna)|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|\n        CINK KING|CINK PEAX|CINK SLIM|SUBLIM"),I_MOBILE:/i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)/,SIMVALLEY:/\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\b/,WOLFGANG:/AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q/,ALCATEL:/Alcatel|Mobile; rv:49.0|Mobile; ALCATEL 4052R; rv:48.0/,NINTENDO:/Nintendo (3DS|Switch)/,AMOI:/Amoi/,INQ:/INQ/,VITA:/\bVita\b/,BLACKBERRY:/\bBlackBerry\b|\bBB10\b|rim[0-9]+/,FIREFOX_OS:/\bFirefox-OS\b/,IPHONE:/\biPhone\b/,iPod:/\biPod\b/,ANDROID:/\bAndroid\b/,WINDOWS_PHONE:/\bWindows-Phone\b/,GENERIC_PHONE:new RegExp("Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|\n        up.link|vodafone|\\bwap\\b|nokia|Nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser")},Q_={iPad:/iPad|iPad.*Mobile/,NexusTablet:/Android.*Nexus[\s]+(7|9|10)/,GoogleTablet:/Android.*Pixel C/,SamsungTablet:new RegExp("SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|\n        GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|\n        SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|\n        GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|\n        SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|\n        GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|\n        SHV-E230S|SHW-M180K|SHW-M180L|SM-T865|SM-T290|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|\n        SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|\n        GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T385M|SM-P585M|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|\n        SM-P601|SM-P605|SM-P615|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|\n        GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|\n        SM-T510|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|\n        SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T500|SM-T330|\n        SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|\n        SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-T116BU|SM-P550|\n        SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|\n        SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561|SM-T713|\n        SM-T719|SM-T725|SM-T813|SM-T819|SM-T580|SM-T590|SM-T355Y?|SM-T280|SM-T817A|SM-T820|SM-W700|SM-P580|SM-T587|SM-P350|\n        SM-P555M|SM-P355M|SM-T113NU|SM-T815Y|SM-T585|SM-T285|SM-T825|SM-W708|SM-T835|SM-P585Y"),Kindle:new RegExp("Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|\n        KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI|KFARWI|KFFOWI|KFGIWI|KFMEWI)\\b|Android.*Silk/[0-9.]+ like Chrome        /[0-9.]+ (?!Mobile)"),SurfaceTablet:/Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)/,HPTablet:/HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10/,AsusTablet:new RegExp("^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|\n        TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|\n        Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|\n        ME560CG|ME372CG|ME302KL| K010 | K011 | K017 | K01E |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|\n        ME581CL|ME8510C|ME181C|P01Y|PO1MA|P01Z|\\bP027\\b|\\bP024\\b|\\bP00C\\b"),BlackBerryTablet:/PlayBook|RIM Tablet/,HTCtablet:/HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410/,MotorolaTablet:/xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617/,NookTablet:/Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2/,AcerTablet:new RegExp("Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|\n        W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b|\n        \\bA3-A20\\b|\\bA3-A30"),ToshibaTablet:/Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO/,LGTablet:/\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\b/,FujitsuTablet:/Android.*\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\b/,PrestigioTablet:new RegExp("PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|\n        PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|\n        PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|\n        PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|\n        PMT5887|PMT5001|PMT5002"),LenovoTablet:new RegExp("Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|YT3-850M|YT3-X90L|YT3-X90F|\n        YT3-X90X|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|\n        B8000|B8080)(-|)(FL|F|HV|H|)|TB-X606F|TB-X103F|TB-X304F|TB-X304L|TB-X704F|TB-8703F|Tab2A7-10F|TB2-X30L|TB-8504F"),DellTablet:/Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7/,YarvikTablet:new RegExp("Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|\n        TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|\n        TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|\n        TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|\n        TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b"),MedionTablet:/Android.*\bOYO\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB/,ArnovaTablet:/97G4|AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2/,IntensoTablet:/INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004/,IRUTablet:/M702pro/,MegafonTablet:/MegaFon V9|\bZTE V9\b|Android.*\bMT7A\b/,EbodaTablet:/E-Boda (Supreme|Impresspeed|Izzycomm|Essential)/,AllViewTablet:/Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)/,ArchosTablet:new RegExp("\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|c|)(G10|\n         Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b"),AinolTablet:/NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark/,NokiaLumiaTablet:/Lumia 2520/,SonyTablet:new RegExp("Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|\n        SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|\n        EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP641|SGP612|SOT31|SGP771|SGP611|\n        SGP612|SGP712"),PhilipsTablet:/\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\b/,CubeTablet:/Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT/,CobyTablet:new RegExp("MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|\n        MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010"),MIDTablet:new RegExp("M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|\n        MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|\n        MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10"),MSITablet:new RegExp("MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|\n        Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b"),SMiTTablet:/Android.*(\bMID\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)/,RockChipTablet:/Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A/,FlyTablet:/IQ310|Fly Vision/,bqTablet:new RegExp("Android.*(bq)?.*(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|\n        Livingstone|Cervantes|Avant|Aquaris ([E|M]10|M8))|Maxwell.*Lite|Maxwell.*Plus"),HuaweiTablet:new RegExp("MediaPad|MediaPad 7 Youth|MediaPad T3 10|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|\n        S7-201|S7-Slim|M2-A01L|BAH-L09|BAH-W09|AGS-W09"),NecTablet:/\bN-06D|\bN-08D/,PantechTablet:/Pantech.*P4100/,BronchoTablet:/Broncho.*(N701|N708|N802|a710)/,VersusTablet:/TOUCHPAD.*[78910]|\bTOUCHTAB\b/,ZyncTablet:/z1000|Z99 2G|z99|z930|z999|z990|z909|Z919|z900/,PositivoTablet:/TB07STA|TB10STA|TB07FTA|TB10FTA/,NabiTablet:/Android.*\bNabi/,KoboTablet:/Kobo Touch|\bK080\b|\bVox\b Build|\bArc\b Build/,DanewTablet:/DSlide.*\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\b/,TexetTablet:new RegExp("NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|\n        TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|\n        TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|\n        TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|\n        TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|\n        TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|\n        TB-436|TB-416|TB-146SE|TB-126SE"),PlaystationTablet:/Playstation.*(Portable|Vita)/,TrekstorTablet:/ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab/,PyleAudioTablet:/\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\b/,AdvanTablet:new RegExp("Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|\n        T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b"),DanyTechTablet:"Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|\n        Genius TAB GII|Genius TAB GIII|Genius Tab S1",GalapadTablet:/Android.*\bG1\b(?!\))/,MicromaxTablet:/Funbook|Micromax.*\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\b/,KarbonnTablet:/Android.*\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\b/,AllFineTablet:/Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide/,PROSCANTablet:new RegExp("\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|\n        PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|\n        PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|\n        PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b"),YONESTablet:/BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026/,ChangJiaTablet:new RegExp("TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|\n        TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|\n        TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|\n        TPC10111|TPC10203|TPC10205|TPC10503"),GUTablet:/TX-A1301|TX-M9002|Q702|kf026/,PointOfViewTablet:new RegExp("TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|\n        TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|\n        TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|\n        TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10"),OvermaxTablet:new RegExp("OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|\n        MagicTab|Stream|TB-08|TB-09)|Qualcore 1027"),HCLTablet:/HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync/,DPSTablet:/DPS Dream 9|DPS Dual 7/,VistureTablet:/V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10/,CrestaTablet:/CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989/,MediatekTablet:/\bMT8125|MT8389|MT8135|MT8377\b/,ConcordeTablet:/Concorde([ ]+)?Tab|ConCorde ReadMan/,GoCleverTablet:new RegExp("GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|\n        TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|\n        GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|\n        TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|\n        TAB R104|TAB R83.3|TAB A1042"),ModecomTablet:new RegExp("FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|\n        FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|\n        FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003"),VoninoTablet:new RegExp("\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|\n        Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|\n        Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b"),ECSTablet:/V07OT2|TM105A|S10OT1|TR10CS1/,StorexTablet:/eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab/,VodafoneTablet:/SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7|VF-1497/,EssentielBTablet:/Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2/,RossMoorTablet:/RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711/,iMobileTablet:/i-mobile i-note/,TolinoTablet:/tolino tab [0-9.]+|tolino shine/,AudioSonicTablet:/\bC-22Q|T7-QC|T-17B|T-17P\b/,AMPETablet:/Android.* A78 /,SkkTablet:/Android.* (SKYPAD|PHOENIX|CYCLOPS)/,TecnoTablet:/TECNO P9|TECNO DP8D/,JXDTablet:new RegExp("Android.* \\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|\n        S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|\n        P1000|P300|S18|S6600|S9100)\\b"),iJoyTablet:new RegExp("Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|\n        Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|\n        Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|\n        Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|\n        Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)"),FX2Tablet:/FX2 PAD7|FX2 PAD10/,XoroTablet:new RegExp("KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|\n        PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|\n        PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|\n        TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151"),ViewsonicTablet:/ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a/,VerizonTablet:/QTAQZ3|QTAIR7|QTAQTZ3|QTASUN1|QTASUN2|QTAXIA1/,OdysTablet:/LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\bXELIO\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10/,CaptivaTablet:/CAPTIVA PAD/,IconbitTablet:new RegExp("NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|\n        NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S"),TeclastTablet:new RegExp("T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\n        \\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\n        \\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\n        \\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\n        \\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\n        \\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\n        \\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\n        \\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\n        \\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi"),OndaTablet:new RegExp("\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|\n        V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|\n        V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|\n        Vi40)\\b[s]+|V10 \\b4G\\b"),JaytechTablet:/TPC-PA762/,BlaupunktTablet:/Endeavour 800NG|Endeavour 1010/,DigmaTablet:/\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\b/,EvolioTablet:/ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\bEvotab\b|\bNeura\b/,LavaTablet:/QPAD E704|\bIvoryS\b|E-TAB IVORY|\bE-TAB\b/,AocTablet:/MW0811|MW0812|MW0922|MTK8382|MW1031|MW0831|MW0821|MW0931|MW0712/,MpmanTablet:new RegExp("MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|\n        \\bMPG7\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|\n        MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010"),CelkonTablet:/CT695|CT888|CT[\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\bCT-1\b/,WolderTablet:new RegExp("miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|\n        POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|\n        FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b"),MediacomTablet:"M-MPI10C3G|M-SP10EG|M-SP10EGP|M-SP10HXAH|M-SP7HXAH|M-SP10HXBH|M-SP8HXAH|M-SP8MXA",MiTablet:/\bMI PAD\b|\bHM NOTE 1W\b/,NibiruTablet:/Nibiru M1|Nibiru Jupiter One/,NexoTablet:/NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI/,LeaderTablet:new RegExp("TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|\n        TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100"),UbislateTablet:/UbiSlate[\s]?7C/,PocketBookTablet:/Pocketbook/,KocasoTablet:/\b(TB-1207)\b/,HisenseTablet:/\b(F5281|E2371)\b/,Hudl:/Hudl HT7S3|Hudl 2/,TelstraTablet:/T-Hub2/,Honeywell:/RT10A/,GenericTablet:new RegExp("Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|\n        A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|\n        Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bTP750\\b|\\bQTAQZ3\\b|WVT101|TM1088|KT107")},sh={BLACKBERRY:"Blackberry",FIREFOX_OS:"Firefox-OS",CHROME_BOOK:"Chrome-Book",WINDOWS_PHONE:"Windows-Phone",VITA:"Vita",PS4:"PS4",MAC:"Macintosh",CHROMECAST:"Chromecast",APPLE_TV:"Apple-TV",GOOGLE_TV:"Google-TV",ANDROID:"Android",Tesla:"Tesla",iPad:"iPad",IPHONE:"iPhone",iPod:"iPod",UNKNOWN:Z_.UKNOWN,HTC:"HTC",NEXUS_PHONE:"Nexus Phone",NexusTablet:"Nexus Tablet",DELL:"Dell",MOTOROLA:"Motorola",SAMSUNG:"Samsung",LG:"LG",SONY:"Sony",ASUS:"Asus",NOKIA_LUMIA:"Nokia Lumia",MICROMAX:"Micromax",PALM:"Palm",VERTU:"Vertu",PANTECH:"PANTECH",FLY:"Fly",WIKO:"WIKO",I_MOBILE:"i-mobile",SIMVALLEY:"Simvalley",WOLFGANG:"Wolfgang",ALCATEL:"Alcatel",HONEYWELL:"Honeywell",NINTENDO:"Nintendo",AMOI:"Amoi",INQ:"INQ",GENERIC_PHONE:"Generic Phone",MI_SE_9:"Mi SE 9"},lj=[sh.PS4,sh.CHROME_BOOK,sh.MAC,sh.DELL,sh.ASUS,sh.UNKNOWN],cj={WINDOWS:"Windows",MAC:"Mac",IOS:"iOS",ANDROID:"Android",LINUX:"Linux",UNIX:"Unix",FIREFOX_OS:"Firefox-OS",CHROME_OS:"Chrome-OS",WINDOWS_PHONE:"Windows-Phone",UNKNOWN:Z_.UKNOWN},C_e={WINDOWS_3_11:"windows-3-11",WINDOWS_95:"windows-95",WINDOWS_ME:"windows-me",WINDOWS_98:"windows-98",WINDOWS_CE:"windows-ce",WINDOWS_2000:"windows-2000",WINDOWS_XP:"windows-xp",WINDOWS_SERVER_2003:"windows-server-2003",WINDOWS_VISTA:"windows-vista",WINDOWS_7:"windows-7",WINDOWS_8_1:"windows-8-1",WINDOWS_8:"windows-8",WINDOWS_10:"windows-10",WINDOWS_PHONE_7_5:"windows-phone-7-5",WINDOWS_PHONE_8_1:"windows-phone-8-1",WINDOWS_PHONE_10:"windows-phone-10",WINDOWS_NT_4_0:"windows-nt-4-0",MACOSX_11_0:"mac-os-x-11-0",MACOSX_16:"mac-os-x-16",MACOSX_15:"mac-os-x-15",MACOSX_14:"mac-os-x-14",MACOSX_13:"mac-os-x-13",MACOSX_12:"mac-os-x-12",MACOSX_11:"mac-os-x-11",MACOSX_10:"mac-os-x-10",MACOSX_9:"mac-os-x-9",MACOSX_8:"mac-os-x-8",MACOSX_7:"mac-os-x-7",MACOSX_6:"mac-os-x-6",MACOSX_5:"mac-os-x-5",MACOSX_4:"mac-os-x-4",MACOSX_3:"mac-os-x-3",MACOSX_2:"mac-os-x-2",MACOSX:"mac-os-x",iOS:"iOS",ANDROID_9:"android-9",UNKNOWN:Z_.UKNOWN.toLowerCase()},uj={WINDOWS:{and:[{or:[/\bWindows|(Win\d\d)\b/,/\bWin 9x\b/]},{not:/\bWindows Phone\b/}]},MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\biPad\b/,/\biPod\b/,/\bWindows Phone\b/]}}]},IOS:{and:[{or:[/\biPad\b/,/\biPhone\b/,/\biPod\b/]},{not:/\bWindows Phone\b/}]},ANDROID:{and:[/\bAndroid\b/,{not:/\bWindows Phone\b/}]},LINUX:/\bLinux\b/,UNIX:/\bUNIX\b/,FIREFOX_OS:{and:[/\bFirefox\b/,/Mobile\b/]},CHROME_OS:/\bCrOS\b/,WINDOWS_PHONE:{or:[/\bIEMobile\b/,/\bWindows Phone\b/]},PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/},T_e=Object.assign(Object.assign(Object.assign(Object.assign({},XC),Q_),uj),{FIREFOX_OS:{and:[/\bFirefox\b/,/\bMobile\b/]},CHROME_BOOK:/\bCrOS\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,CHROMECAST:/\bCrKey\b/,APPLE_TV:/^iTunes-AppleTV\/4.1$/,GOOGLE_TV:/\bGoogleTV\b/,Tesla:/Tesla\/([0-9]{4}.[0-9]{1,2}.?[0-9]{0,2}.?[0-9]{0,2})-(.{7})/,MI_SE_9:/\bXiaomi\b/,MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\biPad\b/,/\biPod\b/,/\bWindows Phone\b/]}}]}}),VI={WINDOWS_3_11:/Win16/,WINDOWS_95:/(Windows 95|Win95|Windows_95)/,WINDOWS_ME:/(Win 9x 4.90|Windows ME)/,WINDOWS_98:/(Windows 98|Win98)/,WINDOWS_CE:/Windows CE/,WINDOWS_2000:/(Windows NT 5.0|Windows 2000)/,WINDOWS_XP:/(Windows NT 5.1|Windows XP)/,WINDOWS_SERVER_2003:/Windows NT 5.2/,WINDOWS_VISTA:/Windows NT 6.0/,WINDOWS_7:/(Windows 7|Windows NT 6.1)/,WINDOWS_8_1:/(Windows 8.1|Windows NT 6.3)/,WINDOWS_8:/(Windows 8|Windows NT 6.2)/,WINDOWS_10:/(Windows NT 10.0)/,WINDOWS_PHONE_7_5:/(Windows Phone OS 7.5)/,WINDOWS_PHONE_8_1:/(Windows Phone 8.1)/,WINDOWS_PHONE_10:/(Windows Phone 10)/,WINDOWS_NT_4_0:{and:[/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/,{not:/Windows NT 10.0/}]},MACOSX:/(MAC OS X\s*[^ 0-9])/,MACOSX_3:/(Darwin 10.3|Mac OS X 10.3)/,MACOSX_4:/(Darwin 10.4|Mac OS X 10.4)/,MACOSX_5:/(Mac OS X 10.5)/,MACOSX_6:/(Mac OS X 10.6)/,MACOSX_7:/(Mac OS X 10.7)/,MACOSX_8:/(Mac OS X 10.8)/,MACOSX_9:/(Mac OS X 10.9)/,MACOSX_10:/(Mac OS X 10.10)/,MACOSX_11:/(Mac OS X 10.11)/,MACOSX_12:/(Mac OS X 10.12)/,MACOSX_13:/(Mac OS X 10.13)/,MACOSX_14:/(Mac OS X 10.14)/,MACOSX_15:/(Mac OS X 10.15)/,MACOSX_16:/(Mac OS X 10.16)/,MACOSX_11_0:{or:[/11_0 like Mac OS X/,/Mac OS X 11/]},iOS:/(iPhone OS\s*[0-9_]+)/,ANDROID_9:/(Android 9)/},zI={CHROME:[/\bChrome\/([\d\.]+)\b/,/\bCriOS\/([\d\.]+)\b/,/\bHeadlessChrome\/([\d\.]+)\b/],FIREFOX:[/\bFirefox\/([\d\.]+)\b/,/\bFxiOS\/([\d\.]+)\b/],SAFARI:[/\bVersion\/([\d\.]+)\b/,/\bSafari\/([\d\.]+)\b/],OPERA:[/\bVersion\/([\d\.]+)\b/,/\bOPR\/([\d\.]+)\b/],IE:[/\bMSIE ([\d\.]+\w?)\b/,/\brv:([\d\.]+\w?)\b/],MS_EDGE:/\bEdg(?:e|A|iOS)\/([\d\.]+)\b/,MS_EDGE_CHROMIUM:/\bEdg\/([\d\.]+)\b/,SAMSUNG:/\bSamsungBrowser\/([\d\.]+)\b/,UCBROWSER:/\bUCBrowser\/([\d\.]+)\b/},w_e=Object.keys(VI).reduce((n,t)=>(n[t]=VI[t],n),{}),dj=Object.keys(zI).reduce((n,t)=>(n[HI[t]]=zI[t],n),{});var du=Object.freeze({__proto__:null,GENERAL:Z_,BROWSERS:HI,MOBILES_RE:XC,TABLETS_RE:Q_,DEVICES:sh,DESKTOP_DEVICES:lj,OS:cj,OS_VERSIONS:C_e,OS_RE:uj,BROWSERS_RE:{CHROME:{and:[{or:[/\bChrome\b/,/\bCriOS\b/,/\bHeadlessChrome\b/]},{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},FIREFOX:{or:[/\bFirefox\b/,/\bFxiOS\b/]},SAFARI:{and:[/^((?!CriOS).)*\Safari\b.*$/,{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bWindows Phone\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},OPERA:{or:[/Opera\b/,/\bOPR\b/]},IE:{or:[/\bMSIE\b/,/\bTrident\b/,/^Mozilla\/5\.0 \(Windows NT 10\.0; Win64; x64\)$/]},MS_EDGE:{or:[/\bEdg(e|A|iOS)\b/]},MS_EDGE_CHROMIUM:/\bEdg\/\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/,FB_MESSANGER:/\bFBAN\/MessengerForiOS\b/,SAMSUNG:/\bSamsungBrowser\b/,UCBROWSER:/\bUCBrowser\b/},DEVICES_RE:T_e,OS_VERSIONS_RE_MAP:VI,BROWSER_VERSIONS_RE_MAP:zI,OS_VERSIONS_RE:w_e,BROWSER_VERSIONS_RE:dj});class M_e{constructor(){}test(t,e){return"string"==typeof e&&(e=new RegExp(e)),e instanceof RegExp?e.test(t):e&&Array.isArray(e.and)?e.and.every(i=>this.test(t,i)):e&&Array.isArray(e.or)?e.or.some(i=>this.test(t,i)):!(!e||!e.not||this.test(t,e.not))}exec(t,e){return"string"==typeof e&&(e=new RegExp(e)),e instanceof RegExp?e.exec(t):e&&Array.isArray(e)?e.reduce((i,r)=>i||this.exec(t,r),null):null}}var Df=(()=>{return(n=Df||(Df={})).Mobile="mobile",n.Tablet="tablet",n.Desktop="desktop",n.Unknown="unknown",Df;var n})(),ry=(()=>{return(n=ry||(ry={})).Portrait="portrait",n.Landscape="landscape",ry;var n})();const WI="iPad";let O_e=(()=>{class n{constructor(e){this.platformId=e,this.ua="",this.userAgent="",this.os="",this.browser="",this.device="",this.os_version="",this.browser_version="",this.reTree=new M_e,this.deviceType="",this.orientation="",E0(this.platformId)&&"undefined"!=typeof window&&(this.userAgent=window.navigator.userAgent),this.setDeviceInfo(this.userAgent)}setDeviceInfo(e=this.userAgent){e!==this.userAgent&&(this.userAgent=e);const i=[{const:"OS",prop:"os"},{const:"BROWSERS",prop:"browser"},{const:"DEVICES",prop:"device"},{const:"OS_VERSIONS",prop:"os_version"}];if(i.forEach(r=>{this[r.prop]=Object.keys(du[r.const]).reduce((s,o)=>"device"===du[r.const][o]&&E0(this.platformId)&&(this.reTree.test(this.userAgent,Q_[WI])||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)?(s[du[r.const][o]]=WI,Object):(s[du[r.const][o]]=this.reTree.test(e,du[`${r.const}_RE`][o]),s),{})}),i.forEach(r=>{this[r.prop]=Object.keys(du[r.const]).map(s=>du[r.const][s]).reduce((s,o)=>"device"===r.prop&&s===du[r.const].ANDROID?this[r.prop][o]?o:s:s===du[r.const].UNKNOWN&&this[r.prop][o]?o:s,du[r.const].UNKNOWN)}),this.browser_version="0",this.browser!==HI.UNKNOWN){const s=this.reTree.exec(e,dj[this.browser]);s&&(this.browser_version=s[1])}this.orientation="undefined"!=typeof window&&window.matchMedia?window.matchMedia("(orientation: landscape)").matches?ry.Landscape:ry.Portrait:Z_.UKNOWN,this.deviceType=this.isTablet()?Df.Tablet:this.isMobile(this.userAgent)?Df.Mobile:this.isDesktop(this.userAgent)?Df.Desktop:Df.Unknown}getDeviceInfo(){return{userAgent:this.userAgent,os:this.os,browser:this.browser,device:this.device,os_version:this.os_version,browser_version:this.browser_version,deviceType:this.deviceType,orientation:this.orientation}}isMobile(e=this.userAgent){return!this.isTablet(e)&&!!Object.keys(XC).find(r=>this.reTree.test(e,XC[r]))}isTablet(e=this.userAgent){return!(!E0(this.platformId)||!(this.reTree.test(this.userAgent,Q_[WI])||"undefined"!=typeof navigator&&"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1))||!!Object.keys(Q_).find(r=>!!this.reTree.test(e,Q_[r]))}isDesktop(e=this.userAgent){return(this.device!==sh.UNKNOWN||!this.isMobile(e)&&!this.isTablet(e))&&lj.indexOf(this.device)>-1}}return n.\u0275fac=function(e){return new(e||n)(je(S_))},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function em(...n){return function P_e(){return xs(1)}()(ri(n,ja(n)))}function sy(n,t){const e=S(n)?n:()=>n,i=r=>r.error(e());return new _e(t?r=>t.schedule(i,0,r):i)}function hj(n,t){return t?e=>em(t.pipe(Ri(1),function I_e(){return Je((n,t)=>{n.subscribe(ue(t,x))})}()),e.pipe(hj(n))):Sr((e,i)=>n(e,i).pipe(Ri(1),function A_e(n){return Ie(()=>n)}(e)))}function fj(n,t=q_){const e=Qu(n,t);return hj(()=>e)}var fi=(()=>{return(n=fi||(fi={})).sm="sm",n.md="md",n.lg="lg",fi;var n})();class pn{static updateSize(t,e){this._appWidth=t,this._appHeight=e,this.setBreakpoint()}static get appWidth(){return this._appWidth}static get appHeight(){return this._appHeight}static get breakpoint(){return this._breakpoint}static setBreakpoint(){this._breakpoint=this.appWidth>=600&&this.appHeight>=320?fi.lg:this.appWidth>=476&&this.appHeight>=200?fi.md:fi.sm}}var L_e=setTimeout;function pj(n){return Boolean(n&&void 0!==n.length)}function B_e(){}function is(n){if(!(this instanceof is))throw new TypeError("Promises must be constructed via new");if("function"!=typeof n)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],_j(n,this)}function gj(n,t){for(;3===n._state;)n=n._value;0!==n._state?(n._handled=!0,is._immediateFn(function(){var e=1===n._state?t.onFulfilled:t.onRejected;if(null!==e){var i;try{i=e(n._value)}catch(r){return void oy(t.promise,r)}$I(t.promise,i)}else(1===n._state?$I:oy)(t.promise,n._value)})):n._deferreds.push(t)}function $I(n,t){try{if(t===n)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var e=t.then;if(t instanceof is)return n._state=3,n._value=t,void YI(n);if("function"==typeof e)return void _j(function U_e(n,t){return function(){n.apply(t,arguments)}}(e,t),n)}n._state=1,n._value=t,YI(n)}catch(i){oy(n,i)}}function oy(n,t){n._state=2,n._value=t,YI(n)}function YI(n){2===n._state&&0===n._deferreds.length&&is._immediateFn(function(){n._handled||is._unhandledRejectionFn(n._value)});for(var t=0,e=n._deferreds.length;t<e;t++)gj(n,n._deferreds[t]);n._deferreds=null}function G_e(n,t,e){this.onFulfilled="function"==typeof n?n:null,this.onRejected="function"==typeof t?t:null,this.promise=e}function _j(n,t){var e=!1;try{n(function(i){e||(e=!0,$I(t,i))},function(i){e||(e=!0,oy(t,i))})}catch(i){if(e)return;e=!0,oy(t,i)}}is.prototype.catch=function(n){return this.then(null,n)},is.prototype.then=function(n,t){var e=new this.constructor(B_e);return gj(this,new G_e(n,t,e)),e},is.prototype.finally=function D_e(n){var t=this.constructor;return this.then(function(e){return t.resolve(n()).then(function(){return e})},function(e){return t.resolve(n()).then(function(){return t.reject(e)})})},is.all=function(n){return new is(function(t,e){if(!pj(n))return e(new TypeError("Promise.all accepts an array"));var i=Array.prototype.slice.call(n);if(0===i.length)return t([]);var r=i.length;function s(a,l){try{if(l&&("object"==typeof l||"function"==typeof l)){var c=l.then;if("function"==typeof c)return void c.call(l,function(u){s(a,u)},e)}i[a]=l,0==--r&&t(i)}catch(u){e(u)}}for(var o=0;o<i.length;o++)s(o,i[o])})},is.allSettled=function k_e(n){return new this(function(e,i){if(!n||void 0===n.length)return i(new TypeError(typeof n+" "+n+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(n);if(0===r.length)return e([]);var s=r.length;function o(l,c){if(c&&("object"==typeof c||"function"==typeof c)){var u=c.then;if("function"==typeof u)return void u.call(c,function(d){o(l,d)},function(d){r[l]={status:"rejected",reason:d},0==--s&&e(r)})}r[l]={status:"fulfilled",value:c},0==--s&&e(r)}for(var a=0;a<r.length;a++)o(a,r[a])})},is.resolve=function(n){return n&&"object"==typeof n&&n.constructor===is?n:new is(function(t){t(n)})},is.reject=function(n){return new is(function(t,e){e(n)})},is.race=function(n){return new is(function(t,e){if(!pj(n))return e(new TypeError("Promise.race accepts an array"));for(var i=0,r=n.length;i<r;i++)is.resolve(n[i]).then(t,e)})},is._immediateFn="function"==typeof setImmediate&&function(n){setImmediate(n)}||function(n){L_e(n,0)},is._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};const j_e=is;var H_e=A(5943),V_e=A.n(H_e);if(self.Promise||(self.Promise=j_e),Object.assign||(Object.assign=V_e()),Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!self.performance||!self.performance.now){var W_e=Date.now();self.performance||(self.performance={}),self.performance.now=function(){return Date.now()-W_e}}for(var XI=Date.now(),mj=["ms","moz","webkit","o"],qI=0;qI<mj.length&&!self.requestAnimationFrame;++qI){var KI=mj[qI];self.requestAnimationFrame=self[KI+"RequestAnimationFrame"],self.cancelAnimationFrame=self[KI+"CancelAnimationFrame"]||self[KI+"CancelRequestAnimationFrame"]}self.requestAnimationFrame||(self.requestAnimationFrame=function(n){if("function"!=typeof n)throw new TypeError(n+"is not a function");var t=Date.now(),e=16+XI-t;return e<0&&(e=0),XI=t,self.setTimeout(function(){XI=Date.now(),n(performance.now())},e)}),self.cancelAnimationFrame||(self.cancelAnimationFrame=function(n){return clearTimeout(n)}),Math.sign||(Math.sign=function(t){return 0===(t=Number(t))||isNaN(t)?t:t>0?1:-1}),Number.isInteger||(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}),self.ArrayBuffer||(self.ArrayBuffer=Array),self.Float32Array||(self.Float32Array=Array),self.Uint32Array||(self.Uint32Array=Array),self.Uint16Array||(self.Uint16Array=Array),self.Uint8Array||(self.Uint8Array=Array),self.Int32Array||(self.Int32Array=Array);var JI=/iPhone/i,vj=/iPod/i,yj=/iPad/i,bj=/\biOS-universal(?:.+)Mac\b/i,ZI=/\bAndroid(?:.+)Mobile\b/i,Sj=/Android/i,tm=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,qC=/Silk/i,td=/Windows Phone/i,Cj=/\bWindows(?:.+)ARM\b/i,Ej=/BlackBerry/i,Tj=/BB10/i,wj=/Opera Mini/i,Mj=/\b(CriOS|Chrome)(?:.+)Mobile/i,Oj=/Mobile(?:.+)Firefox\b/i,Pj=function(n){return void 0!==n&&"MacIntel"===n.platform&&"number"==typeof n.maxTouchPoints&&n.maxTouchPoints>1&&"undefined"==typeof MSStream},Qa=function Y_e(n){var t={userAgent:"",platform:"",maxTouchPoints:0};n||"undefined"==typeof navigator?"string"==typeof n?t.userAgent=n:n&&n.userAgent&&(t={userAgent:n.userAgent,platform:n.platform,maxTouchPoints:n.maxTouchPoints||0}):t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var e=t.userAgent,i=e.split("[FBAN");void 0!==i[1]&&(e=i[0]),void 0!==(i=e.split("Twitter"))[1]&&(e=i[0]);var r=function $_e(n){return function(t){return t.test(n)}}(e),s={apple:{phone:r(JI)&&!r(td),ipod:r(vj),tablet:!r(JI)&&(r(yj)||Pj(t))&&!r(td),universal:r(bj),device:(r(JI)||r(vj)||r(yj)||r(bj)||Pj(t))&&!r(td)},amazon:{phone:r(tm),tablet:!r(tm)&&r(qC),device:r(tm)||r(qC)},android:{phone:!r(td)&&r(tm)||!r(td)&&r(ZI),tablet:!r(td)&&!r(tm)&&!r(ZI)&&(r(qC)||r(Sj)),device:!r(td)&&(r(tm)||r(qC)||r(ZI)||r(Sj))||r(/\bokhttp\b/i)},windows:{phone:r(td),tablet:r(Cj),device:r(td)||r(Cj)},other:{blackberry:r(Ej),blackberry10:r(Tj),opera:r(wj),firefox:r(Oj),chrome:r(Mj),device:r(Ej)||r(Tj)||r(wj)||r(Oj)||r(Mj)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}(self.navigator),KC=(()=>{return(n=KC||(KC={}))[n.NEAREST=0]="NEAREST",n[n.LINEAR=1]="LINEAR",KC;var n})(),JC=(()=>{return(n=JC||(JC={}))[n.CLAMP=33071]="CLAMP",n[n.REPEAT=10497]="REPEAT",n[n.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",JC;var n})(),ZC=(()=>{return(n=ZC||(ZC={}))[n.OFF=0]="OFF",n[n.POW2=1]="POW2",n[n.ON=2]="ON",n[n.ON_MANUAL=3]="ON_MANUAL",ZC;var n})(),QC=(()=>{return(n=QC||(QC={}))[n.AUTO=0]="AUTO",n[n.MANUAL=1]="MANUAL",QC;var n})(),nm=(()=>{return(n=nm||(nm={})).LOW="lowp",n.MEDIUM="mediump",n.HIGH="highp",nm;var n})(),eE=(()=>{return(n=eE||(eE={}))[n.NONE=0]="NONE",n[n.LOW=2]="LOW",n[n.MEDIUM=4]="MEDIUM",n[n.HIGH=8]="HIGH",eE;var n})(),Mt={MIPMAP_TEXTURES:ZC.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:eE.NONE,SPRITE_MAX_TEXTURES:function X_e(n){var e,t=!0;(Qa.tablet||Qa.phone)&&(Qa.apple.device&&(e=navigator.userAgent.match(/OS (\d+)_(\d+)?/))&&parseInt(e[1],10)<11&&(t=!1),Qa.android.device&&(e=navigator.userAgent.match(/Android\s([0-9.]*)/))&&parseInt(e[1],10)<7&&(t=!1));return t?n:4}(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:QC.AUTO,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:JC.CLAMP,SCALE_MODE:KC.LINEAR,PRECISION_VERTEX:nm.HIGH,PRECISION_FRAGMENT:Qa.apple.device?nm.HIGH:nm.MEDIUM,CAN_UPLOAD_SAME_BUFFER:function q_e(){return!Qa.apple.device}(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},K_e=A(9170),im=A.n(K_e),J_e=A(5469),QI=A.n(J_e),eA=A(8762),Js=(()=>{return(n=Js||(Js={}))[n.WEBGL_LEGACY=0]="WEBGL_LEGACY",n[n.WEBGL=1]="WEBGL",n[n.WEBGL2=2]="WEBGL2",Js;var n})(),Tc=(()=>{return(n=Tc||(Tc={}))[n.UNKNOWN=0]="UNKNOWN",n[n.WEBGL=1]="WEBGL",n[n.CANVAS=2]="CANVAS",Tc;var n})(),oh=(()=>{return(n=oh||(oh={}))[n.COLOR=16384]="COLOR",n[n.DEPTH=256]="DEPTH",n[n.STENCIL=1024]="STENCIL",oh;var n})(),qe=(()=>{return(n=qe||(qe={}))[n.NORMAL=0]="NORMAL",n[n.ADD=1]="ADD",n[n.MULTIPLY=2]="MULTIPLY",n[n.SCREEN=3]="SCREEN",n[n.OVERLAY=4]="OVERLAY",n[n.DARKEN=5]="DARKEN",n[n.LIGHTEN=6]="LIGHTEN",n[n.COLOR_DODGE=7]="COLOR_DODGE",n[n.COLOR_BURN=8]="COLOR_BURN",n[n.HARD_LIGHT=9]="HARD_LIGHT",n[n.SOFT_LIGHT=10]="SOFT_LIGHT",n[n.DIFFERENCE=11]="DIFFERENCE",n[n.EXCLUSION=12]="EXCLUSION",n[n.HUE=13]="HUE",n[n.SATURATION=14]="SATURATION",n[n.COLOR=15]="COLOR",n[n.LUMINOSITY=16]="LUMINOSITY",n[n.NORMAL_NPM=17]="NORMAL_NPM",n[n.ADD_NPM=18]="ADD_NPM",n[n.SCREEN_NPM=19]="SCREEN_NPM",n[n.NONE=20]="NONE",n[n.SRC_OVER=0]="SRC_OVER",n[n.SRC_IN=21]="SRC_IN",n[n.SRC_OUT=22]="SRC_OUT",n[n.SRC_ATOP=23]="SRC_ATOP",n[n.DST_OVER=24]="DST_OVER",n[n.DST_IN=25]="DST_IN",n[n.DST_OUT=26]="DST_OUT",n[n.DST_ATOP=27]="DST_ATOP",n[n.ERASE=26]="ERASE",n[n.SUBTRACT=28]="SUBTRACT",n[n.XOR=29]="XOR",qe;var n})(),fo=(()=>{return(n=fo||(fo={}))[n.POINTS=0]="POINTS",n[n.LINES=1]="LINES",n[n.LINE_LOOP=2]="LINE_LOOP",n[n.LINE_STRIP=3]="LINE_STRIP",n[n.TRIANGLES=4]="TRIANGLES",n[n.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",n[n.TRIANGLE_FAN=6]="TRIANGLE_FAN",fo;var n})(),it=(()=>{return(n=it||(it={}))[n.RGBA=6408]="RGBA",n[n.RGB=6407]="RGB",n[n.RG=33319]="RG",n[n.RED=6403]="RED",n[n.RGBA_INTEGER=36249]="RGBA_INTEGER",n[n.RGB_INTEGER=36248]="RGB_INTEGER",n[n.RG_INTEGER=33320]="RG_INTEGER",n[n.RED_INTEGER=36244]="RED_INTEGER",n[n.ALPHA=6406]="ALPHA",n[n.LUMINANCE=6409]="LUMINANCE",n[n.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",n[n.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",n[n.DEPTH_STENCIL=34041]="DEPTH_STENCIL",it;var n})(),Ia=(()=>{return(n=Ia||(Ia={}))[n.TEXTURE_2D=3553]="TEXTURE_2D",n[n.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",n[n.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",n[n.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",n[n.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",n[n.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",n[n.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",n[n.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",n[n.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",Ia;var n})(),Dt=(()=>{return(n=Dt||(Dt={}))[n.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",n[n.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",n[n.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",n[n.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",n[n.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",n[n.UNSIGNED_INT=5125]="UNSIGNED_INT",n[n.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",n[n.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",n[n.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",n[n.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",n[n.BYTE=5120]="BYTE",n[n.SHORT=5122]="SHORT",n[n.INT=5124]="INT",n[n.FLOAT=5126]="FLOAT",n[n.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",n[n.HALF_FLOAT=36193]="HALF_FLOAT",Dt;var n})(),ah=(()=>{return(n=ah||(ah={}))[n.FLOAT=0]="FLOAT",n[n.INT=1]="INT",n[n.UINT=2]="UINT",ah;var n})(),Cs=(()=>{return(n=Cs||(Cs={}))[n.NEAREST=0]="NEAREST",n[n.LINEAR=1]="LINEAR",Cs;var n})(),xl=(()=>{return(n=xl||(xl={}))[n.CLAMP=33071]="CLAMP",n[n.REPEAT=10497]="REPEAT",n[n.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",xl;var n})(),aa=(()=>{return(n=aa||(aa={}))[n.OFF=0]="OFF",n[n.POW2=1]="POW2",n[n.ON=2]="ON",n[n.ON_MANUAL=3]="ON_MANUAL",aa;var n})(),Zs=(()=>{return(n=Zs||(Zs={}))[n.NPM=0]="NPM",n[n.UNPACK=1]="UNPACK",n[n.PMA=2]="PMA",n[n.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",n[n.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",n[n.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",n[n.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",Zs;var n})(),Lo=(()=>{return(n=Lo||(Lo={}))[n.NO=0]="NO",n[n.YES=1]="YES",n[n.AUTO=2]="AUTO",n[n.BLEND=0]="BLEND",n[n.CLEAR=1]="CLEAR",n[n.BLIT=2]="BLIT",Lo;var n})(),rm=(()=>{return(n=rm||(rm={}))[n.AUTO=0]="AUTO",n[n.MANUAL=1]="MANUAL",rm;var n})(),Es=(()=>{return(n=Es||(Es={})).LOW="lowp",n.MEDIUM="mediump",n.HIGH="highp",Es;var n})(),Ii=(()=>{return(n=Ii||(Ii={}))[n.NONE=0]="NONE",n[n.SCISSOR=1]="SCISSOR",n[n.STENCIL=2]="STENCIL",n[n.SPRITE=3]="SPRITE",Ii;var n})(),qn=(()=>{return(n=qn||(qn={}))[n.NONE=0]="NONE",n[n.LOW=2]="LOW",n[n.MEDIUM=4]="MEDIUM",n[n.HIGH=8]="HIGH",qn;var n})(),Ts=(()=>{return(n=Ts||(Ts={}))[n.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",n[n.ARRAY_BUFFER=34962]="ARRAY_BUFFER",n[n.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",Ts;var n})(),Nf={parse:eA.Qc,format:eA.WU,resolve:eA.DB};Mt.RETINA_PREFIX=/@([0-9\.]+)x/,Mt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var iA,tA=!1;function Ij(){tA=!0}function nA(n){var t;tA||(navigator.userAgent.toLowerCase().indexOf("chrome")>-1?(t=self.console).log.apply(t,["\n %c %c %c PixiJS 6.2.2 - \u2730 "+n+" \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"]):self.console&&self.console.log("PixiJS 6.2.2 - "+n+" - http://www.pixijs.com/"),tA=!0)}function Aj(){return void 0===iA&&(iA=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:Mt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!self.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),i=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),r=!(!i||!i.getContextAttributes().stencil);if(i){var s=i.getExtension("WEBGL_lose_context");s&&s.loseContext()}return i=null,r}catch(o){return!1}}()),iA}var B0e={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function nd(n,t){return void 0===t&&(t=[]),t[0]=(n>>16&255)/255,t[1]=(n>>8&255)/255,t[2]=(255&n)/255,t}function tE(n){var t=n.toString(16);return"#"+("000000".substr(0,6-t.length)+t)}function po(n){return"string"==typeof n&&"#"===(n=B0e[n.toLowerCase()]||n)[0]&&(n=n.substr(1)),parseInt(n,16)}function rA(n){return(255*n[0]<<16)+(255*n[1]<<8)+(255*n[2]|0)}var sA=function U0e(){for(var n=[],t=[],e=0;e<32;e++)n[e]=e,t[e]=e;n[qe.NORMAL_NPM]=qe.NORMAL,n[qe.ADD_NPM]=qe.ADD,n[qe.SCREEN_NPM]=qe.SCREEN,t[qe.NORMAL]=qe.NORMAL_NPM,t[qe.ADD]=qe.ADD_NPM,t[qe.SCREEN]=qe.SCREEN_NPM;var i=[];return i.push(t),i.push(n),i}();function oA(n,t){return sA[t?1:0][n]}function Rj(n,t,e,i){return e=e||new Float32Array(4),i||void 0===i?(e[0]=n[0]*t,e[1]=n[1]*t,e[2]=n[2]*t):(e[0]=n[0],e[1]=n[1],e[2]=n[2]),e[3]=t,e}function nE(n,t){if(1===t)return(255*t<<24)+n;if(0===t)return 0;var e=n>>16&255,i=n>>8&255,r=255&n;return(255*t<<24)+((e=e*t+.5|0)<<16)+((i=i*t+.5|0)<<8)+(r*t+.5|0)}function aA(n,t,e,i){return(e=e||new Float32Array(4))[0]=(n>>16&255)/255,e[1]=(n>>8&255)/255,e[2]=(255&n)/255,(i||void 0===i)&&(e[0]*=t,e[1]*=t,e[2]*=t),e[3]=t,e}function Dj(n,t){void 0===t&&(t=null);var e=6*n;if((t=t||new Uint16Array(e)).length!==e)throw new Error("Out buffer length is incorrect, got "+t.length+" and expected "+e);for(var i=0,r=0;i<e;i+=6,r+=4)t[i+0]=r+0,t[i+1]=r+1,t[i+2]=r+2,t[i+3]=r+0,t[i+4]=r+2,t[i+5]=r+3;return t}function iE(n){if(4===n.BYTES_PER_ELEMENT)return n instanceof Float32Array?"Float32Array":n instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===n.BYTES_PER_ELEMENT){if(n instanceof Uint16Array)return"Uint16Array"}else if(1===n.BYTES_PER_ELEMENT&&n instanceof Uint8Array)return"Uint8Array";return null}var G0e={Float32Array,Uint32Array,Int32Array,Uint8Array};function j0e(n,t){for(var e=0,i=0,r={},s=0;s<n.length;s++)i+=t[s],e+=n[s].length;var o=new ArrayBuffer(4*e),a=null,l=0;for(s=0;s<n.length;s++){var c=t[s],u=n[s],d=iE(u);r[d]||(r[d]=new G0e[d](o)),a=r[d];for(var f=0;f<u.length;f++)a[(f/c|0)*i+l+f%c]=u[f];l+=c}return new Float32Array(o)}function ay(n){return n+=0===n?1:0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,1+(n|=n>>>16)}function lA(n){return!(n&n-1||!n)}function cA(n){var t=(n>65535?1:0)<<4,e=((n>>>=t)>255?1:0)<<3;return t|=e,t|=e=((n>>>=e)>15?1:0)<<2,(t|=e=((n>>>=e)>3?1:0)<<1)|(n>>>=e)>>1}function kf(n,t,e){var r,i=n.length;if(!(t>=i||0===e)){var s=i-(e=t+e>i?i-t:e);for(r=t;r<s;++r)n[r]=n[r+e];n.length=s}}function Ff(n){return 0===n?0:n<0?-1:1}var H0e=0;function lh(){return++H0e}var Nj={};function hu(n,t,e){if(void 0===e&&(e=3),!Nj[t]){var i=(new Error).stack;void 0===i?console.warn("PixiJS Deprecation Warning: ",t+"\nDeprecated since v"+n):(i=i.split("\n").splice(e).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",t+"\nDeprecated since v"+n),console.warn(i),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",t+"\nDeprecated since v"+n),console.warn(i))),Nj[t]=!0}}var uA={},Aa=Object.create(null),Il=Object.create(null);function V0e(){var n;for(n in Aa)Aa[n].destroy();for(n in Il)Il[n].destroy()}function z0e(){var n;for(n in Aa)delete Aa[n];for(n in Il)delete Il[n]}var sm=function(){function n(t,e,i){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=i||Mt.RESOLUTION,this.resize(t,e)}return n.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},n.prototype.resize=function(t,e){this.canvas.width=Math.round(t*this.resolution),this.canvas.height=Math.round(e*this.resolution)},n.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(n.prototype,"width",{get:function(){return this.canvas.width},set:function(t){this.canvas.width=Math.round(t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.canvas.height},set:function(t){this.canvas.height=Math.round(t)},enumerable:!1,configurable:!0}),n}();function kj(n){var c,u,d,t=n.width,e=n.height,i=n.getContext("2d"),s=i.getImageData(0,0,t,e).data,o=s.length,a={top:null,left:null,right:null,bottom:null},l=null;for(c=0;c<o;c+=4)0!==s[c+3]&&(u=c/4%t,d=~~(c/4/t),null===a.top&&(a.top=d),(null===a.left||u<a.left)&&(a.left=u),(null===a.right||a.right<u)&&(a.right=u+1),(null===a.bottom||a.bottom<d)&&(a.bottom=d));return null!==a.top&&(l=i.getImageData(a.left,a.top,t=a.right-a.left,e=a.bottom-a.top+1)),{height:e,width:t,data:l}}var rE,Fj=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function W0e(n){var t=Fj.exec(n);if(t)return{mediaType:t[1]?t[1].toLowerCase():void 0,subType:t[2]?t[2].toLowerCase():void 0,charset:t[3]?t[3].toLowerCase():void 0,encoding:t[4]?t[4].toLowerCase():void 0,data:t[5]}}function Lj(n,t){if(void 0===t&&(t=self.location),0===n.indexOf("data:"))return"";t=t||self.location,rE||(rE=document.createElement("a")),rE.href=n;var e=Nf.parse(rE.href);return e.hostname!==t.hostname||(e.port||""!==t.port)&&e.port!==t.port||e.protocol!==t.protocol?"anonymous":""}function ly(n,t){var e=Mt.RETINA_PREFIX.exec(n);return e?parseFloat(e[1]):void 0!==t?t:1}var cy=2*Math.PI,Bj=180/Math.PI,Uj=Math.PI/180,Oi=(()=>{return(n=Oi||(Oi={}))[n.POLY=0]="POLY",n[n.RECT=1]="RECT",n[n.CIRC=2]="CIRC",n[n.ELIP=3]="ELIP",n[n.RREC=4]="RREC",Oi;var n})(),mi=function(){function n(t,e,i,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),this.x=Number(t),this.y=Number(e),this.width=Number(i),this.height=Number(r),this.type=Oi.RECT}return Object.defineProperty(n.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(n,"EMPTY",{get:function(){return new n(0,0,0,0)},enumerable:!1,configurable:!0}),n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},n.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},n.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height},n.prototype.pad=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this},n.prototype.fit=function(t){var e=Math.max(this.x,t.x),i=Math.min(this.x+this.width,t.x+t.width),r=Math.max(this.y,t.y),s=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.width=Math.max(i-e,0),this.y=r,this.height=Math.max(s-r,0),this},n.prototype.ceil=function(t,e){void 0===t&&(t=1),void 0===e&&(e=.001);var i=Math.ceil((this.x+this.width-e)*t)/t,r=Math.ceil((this.y+this.height-e)*t)/t;return this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=i-this.x,this.height=r-this.y,this},n.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),i=Math.max(this.x+this.width,t.x+t.width),r=Math.min(this.y,t.y),s=Math.max(this.y+this.height,t.y+t.height);return this.x=e,this.width=i-e,this.y=r,this.height=s-r,this},n.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},n}(),Gj=function(){function n(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),this.x=t,this.y=e,this.radius=i,this.type=Oi.CIRC}return n.prototype.clone=function(){return new n(this.x,this.y,this.radius)},n.prototype.contains=function(t,e){if(this.radius<=0)return!1;var r=this.x-t,s=this.y-e;return(r*=r)+(s*=s)<=this.radius*this.radius},n.prototype.getBounds=function(){return new mi(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},n.prototype.toString=function(){return"[@pixi/math:Circle x="+this.x+" y="+this.y+" radius="+this.radius+"]"},n}(),jj=function(){function n(t,e,i,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),this.x=t,this.y=e,this.width=i,this.height=r,this.type=Oi.ELIP}return n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var i=(t-this.x)/this.width,r=(e-this.y)/this.height;return(i*=i)+(r*=r)<=1},n.prototype.getBounds=function(){return new mi(this.x-this.width,this.y-this.height,this.width,this.height)},n.prototype.toString=function(){return"[@pixi/math:Ellipse x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},n}(),uy=function(){function n(){for(var t=arguments,e=[],i=0;i<arguments.length;i++)e[i]=t[i];var r=Array.isArray(e[0])?e[0]:e;if("number"!=typeof r[0]){for(var s=[],o=0,a=r.length;o<a;o++)s.push(r[o].x,r[o].y);r=s}this.points=r,this.type=Oi.POLY,this.closeStroke=!0}return n.prototype.clone=function(){var e=new n(this.points.slice());return e.closeStroke=this.closeStroke,e},n.prototype.contains=function(t,e){for(var i=!1,r=this.points.length/2,s=0,o=r-1;s<r;o=s++){var a=this.points[2*s],l=this.points[2*s+1],u=this.points[2*o+1];l>e!=u>e&&t<(e-l)/(u-l)*(this.points[2*o]-a)+a&&(i=!i)}return i},n.prototype.toString=function(){return"[@pixi/math:PolygoncloseStroke="+this.closeStroke+"points="+this.points.reduce(function(t,e){return t+", "+e},"")+"]"},n}(),Hj=function(){function n(t,e,i,r,s){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),void 0===s&&(s=20),this.x=t,this.y=e,this.width=i,this.height=r,this.radius=s,this.type=Oi.RREC}return n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height,this.radius)},n.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){var i=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(e>=this.y+i&&e<=this.y+this.height-i||t>=this.x+i&&t<=this.x+this.width-i)return!0;var r=t-(this.x+i),s=e-(this.y+i),o=i*i;if(r*r+s*s<=o||(r=t-(this.x+this.width-i))*r+s*s<=o||r*r+(s=e-(this.y+this.height-i))*s<=o||(r=t-(this.x+i))*r+s*s<=o)return!0}return!1},n.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x="+this.x+" y="+this.y+"width="+this.width+" height="+this.height+" radius="+this.radius+"]"},n}(),_r=function(){function n(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=0,this.y=0,this.x=t,this.y=e}return n.prototype.clone=function(){return new n(this.x,this.y)},n.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},n.prototype.copyTo=function(t){return t.set(this.x,this.y),t},n.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},n.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e,this},n.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},n}(),Lf=function(){function n(t,e,i,r){void 0===i&&(i=0),void 0===r&&(r=0),this._x=i,this._y=r,this.cb=t,this.scope=e}return n.prototype.clone=function(t,e){return void 0===t&&(t=this.cb),void 0===e&&(e=this.scope),new n(t,e,this._x,this._y)},n.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),(this._x!==t||this._y!==e)&&(this._x=t,this._y=e,this.cb.call(this.scope)),this},n.prototype.copyFrom=function(t){return(this._x!==t.x||this._y!==t.y)&&(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},n.prototype.copyTo=function(t){return t.set(this._x,this._y),t},n.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},n.prototype.toString=function(){return"[@pixi/math:ObservablePoint x=0 y=0 scope="+this.scope+"]"},Object.defineProperty(n.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),n}(),zi=function(){function n(t,e,i,r,s,o){void 0===t&&(t=1),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=1),void 0===s&&(s=0),void 0===o&&(o=0),this.array=null,this.a=t,this.b=e,this.c=i,this.d=r,this.tx=s,this.ty=o}return n.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},n.prototype.set=function(t,e,i,r,s,o){return this.a=t,this.b=e,this.c=i,this.d=r,this.tx=s,this.ty=o,this},n.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var i=e||this.array;return t?(i[0]=this.a,i[1]=this.b,i[2]=0,i[3]=this.c,i[4]=this.d,i[5]=0,i[6]=this.tx,i[7]=this.ty,i[8]=1):(i[0]=this.a,i[1]=this.c,i[2]=this.tx,i[3]=this.b,i[4]=this.d,i[5]=this.ty,i[6]=0,i[7]=0,i[8]=1),i},n.prototype.apply=function(t,e){e=e||new _r;var i=t.x,r=t.y;return e.x=this.a*i+this.c*r+this.tx,e.y=this.b*i+this.d*r+this.ty,e},n.prototype.applyInverse=function(t,e){e=e||new _r;var i=1/(this.a*this.d+this.c*-this.b),r=t.x,s=t.y;return e.x=this.d*i*r+-this.c*i*s+(this.ty*this.c-this.tx*this.d)*i,e.y=this.a*i*s+-this.b*i*r+(-this.ty*this.a+this.tx*this.b)*i,e},n.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},n.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},n.prototype.rotate=function(t){var e=Math.cos(t),i=Math.sin(t),r=this.a,s=this.c,o=this.tx;return this.a=r*e-this.b*i,this.b=r*i+this.b*e,this.c=s*e-this.d*i,this.d=s*i+this.d*e,this.tx=o*e-this.ty*i,this.ty=o*i+this.ty*e,this},n.prototype.append=function(t){var e=this.a,i=this.b,r=this.c,s=this.d;return this.a=t.a*e+t.b*r,this.b=t.a*i+t.b*s,this.c=t.c*e+t.d*r,this.d=t.c*i+t.d*s,this.tx=t.tx*e+t.ty*r+this.tx,this.ty=t.tx*i+t.ty*s+this.ty,this},n.prototype.setTransform=function(t,e,i,r,s,o,a,l,c){return this.a=Math.cos(a+c)*s,this.b=Math.sin(a+c)*s,this.c=-Math.sin(a-l)*o,this.d=Math.cos(a-l)*o,this.tx=t-(i*this.a+r*this.c),this.ty=e-(i*this.b+r*this.d),this},n.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var i=this.a,r=this.c;this.a=i*t.a+this.b*t.c,this.b=i*t.b+this.b*t.d,this.c=r*t.a+this.d*t.c,this.d=r*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},n.prototype.decompose=function(t){var e=this.a,i=this.b,r=this.c,s=this.d,o=t.pivot,a=-Math.atan2(-r,s),l=Math.atan2(i,e),c=Math.abs(a+l);return c<1e-5||Math.abs(cy-c)<1e-5?(t.rotation=l,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=a,t.skew.y=l),t.scale.x=Math.sqrt(e*e+i*i),t.scale.y=Math.sqrt(r*r+s*s),t.position.x=this.tx+(o.x*e+o.y*r),t.position.y=this.ty+(o.x*i+o.y*s),t},n.prototype.invert=function(){var t=this.a,e=this.b,i=this.c,r=this.d,s=this.tx,o=t*r-e*i;return this.a=r/o,this.b=-e/o,this.c=-i/o,this.d=t/o,this.tx=(i*this.ty-r*s)/o,this.ty=-(t*this.ty-e*s)/o,this},n.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},n.prototype.clone=function(){var t=new n;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},n.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},n.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},n.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(n,"IDENTITY",{get:function(){return new n},enumerable:!1,configurable:!0}),Object.defineProperty(n,"TEMP_MATRIX",{get:function(){return new n},enumerable:!1,configurable:!0}),n}(),Bf=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Uf=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Gf=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],jf=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],dA=[],Vj=[],sE=Math.sign;!function $0e(){for(var n=0;n<16;n++){var t=[];dA.push(t);for(var e=0;e<16;e++)for(var i=sE(Bf[n]*Bf[e]+Gf[n]*Uf[e]),r=sE(Uf[n]*Bf[e]+jf[n]*Uf[e]),s=sE(Bf[n]*Gf[e]+Gf[n]*jf[e]),o=sE(Uf[n]*Gf[e]+jf[n]*jf[e]),a=0;a<16;a++)if(Bf[a]===i&&Uf[a]===r&&Gf[a]===s&&jf[a]===o){t.push(a);break}}for(n=0;n<16;n++){var l=new zi;l.set(Bf[n],Uf[n],Gf[n],jf[n],0,0),Vj.push(l)}}();var wr={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(n){return Bf[n]},uY:function(n){return Uf[n]},vX:function(n){return Gf[n]},vY:function(n){return jf[n]},inv:function(n){return 8&n?15&n:7&-n},add:function(n,t){return dA[n][t]},sub:function(n,t){return dA[n][wr.inv(t)]},rotate180:function(n){return 4^n},isVertical:function(n){return 2==(3&n)},byDirection:function(n,t){return 2*Math.abs(n)<=Math.abs(t)?t>=0?wr.S:wr.N:2*Math.abs(t)<=Math.abs(n)?n>0?wr.E:wr.W:t>0?n>0?wr.SE:wr.SW:n>0?wr.NE:wr.NW},matrixAppendRotationInv:function(n,t,e,i){void 0===e&&(e=0),void 0===i&&(i=0);var r=Vj[wr.inv(t)];r.tx=e,r.ty=i,n.append(r)}},hA=function(){function n(){this.worldTransform=new zi,this.localTransform=new zi,this.position=new Lf(this.onChange,this,0,0),this.scale=new Lf(this.onChange,this,1,1),this.pivot=new Lf(this.onChange,this,0,0),this.skew=new Lf(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return n.prototype.onChange=function(){this._localID++},n.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},n.prototype.toString=function(){return"[@pixi/math:Transform position=("+this.position.x+", "+this.position.y+") rotation="+this.rotation+" scale=("+this.scale.x+", "+this.scale.y+") skew=("+this.skew.x+", "+this.skew.y+") ]"},n.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},n.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var i=t.worldTransform,r=this.worldTransform;r.a=e.a*i.a+e.b*i.c,r.b=e.a*i.b+e.b*i.d,r.c=e.c*i.a+e.d*i.c,r.d=e.c*i.b+e.d*i.d,r.tx=e.tx*i.a+e.ty*i.c+i.tx,r.ty=e.tx*i.b+e.ty*i.d+i.ty,this._parentID=t._worldID,this._worldID++}},n.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},Object.defineProperty(n.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())},enumerable:!1,configurable:!0}),n.IDENTITY=new n,n}();Mt.SORTABLE_CHILDREN=!1;var om=function(){function n(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return n.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},n.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},n.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?mi.EMPTY:((t=t||new mi(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},n.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},n.prototype.addPointMatrix=function(t,e){var c=t.a*e.x+t.c*e.y+t.tx,u=t.b*e.x+t.d*e.y+t.ty;this.minX=Math.min(this.minX,c),this.maxX=Math.max(this.maxX,c),this.minY=Math.min(this.minY,u),this.maxY=Math.max(this.maxY,u)},n.prototype.addQuad=function(t){var e=this.minX,i=this.minY,r=this.maxX,s=this.maxY,o=t[0],a=t[1];e=o<e?o:e,i=a<i?a:i,r=o>r?o:r,s=a>s?a:s,e=(o=t[2])<e?o:e,i=(a=t[3])<i?a:i,r=o>r?o:r,s=a>s?a:s,e=(o=t[4])<e?o:e,i=(a=t[5])<i?a:i,r=o>r?o:r,s=a>s?a:s,i=(a=t[7])<i?a:i,r=(o=t[6])>r?o:r,s=a>s?a:s,this.minX=e=o<e?o:e,this.minY=i,this.maxX=r,this.maxY=s},n.prototype.addFrame=function(t,e,i,r,s){this.addFrameMatrix(t.worldTransform,e,i,r,s)},n.prototype.addFrameMatrix=function(t,e,i,r,s){var o=t.a,a=t.b,l=t.c,c=t.d,u=t.tx,d=t.ty,f=this.minX,y=this.minY,O=this.maxX,I=this.maxY,N=o*e+l*i+u,k=a*e+c*i+d;f=N<f?N:f,y=k<y?k:y,O=N>O?N:O,I=k>I?k:I,f=(N=o*r+l*i+u)<f?N:f,y=(k=a*r+c*i+d)<y?k:y,O=N>O?N:O,I=k>I?k:I,f=(N=o*e+l*s+u)<f?N:f,y=(k=a*e+c*s+d)<y?k:y,O=N>O?N:O,I=k>I?k:I,y=(k=a*r+c*s+d)<y?k:y,O=(N=o*r+l*s+u)>O?N:O,I=k>I?k:I,this.minX=f=N<f?N:f,this.minY=y,this.maxX=O,this.maxY=I},n.prototype.addVertexData=function(t,e,i){for(var r=this.minX,s=this.minY,o=this.maxX,a=this.maxY,l=e;l<i;l+=2){var c=t[l],u=t[l+1];r=c<r?c:r,s=u<s?u:s,o=c>o?c:o,a=u>a?u:a}this.minX=r,this.minY=s,this.maxX=o,this.maxY=a},n.prototype.addVertices=function(t,e,i,r){this.addVerticesMatrix(t.worldTransform,e,i,r)},n.prototype.addVerticesMatrix=function(t,e,i,r,s,o){void 0===s&&(s=0),void 0===o&&(o=s);for(var a=t.a,l=t.b,c=t.c,u=t.d,d=t.tx,f=t.ty,y=this.minX,O=this.minY,I=this.maxX,N=this.maxY,k=i;k<r;k+=2){var B=e[k],G=e[k+1],Y=a*B+c*G+d,J=u*G+l*B+f;y=Math.min(y,Y-s),I=Math.max(I,Y+s),O=Math.min(O,J-o),N=Math.max(N,J+o)}this.minX=y,this.minY=O,this.maxX=I,this.maxY=N},n.prototype.addBounds=function(t){var e=this.minX,i=this.minY,r=this.maxX,s=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<i?t.minY:i,this.maxX=t.maxX>r?t.maxX:r,this.maxY=t.maxY>s?t.maxY:s},n.prototype.addBoundsMask=function(t,e){var i=t.minX>e.minX?t.minX:e.minX,r=t.minY>e.minY?t.minY:e.minY,s=t.maxX<e.maxX?t.maxX:e.maxX,o=t.maxY<e.maxY?t.maxY:e.maxY;if(i<=s&&r<=o){var a=this.minX,l=this.minY,c=this.maxX,u=this.maxY;this.minX=i<a?i:a,this.minY=r<l?r:l,this.maxX=s>c?s:c,this.maxY=o>u?o:u}},n.prototype.addBoundsMatrix=function(t,e){this.addFrameMatrix(e,t.minX,t.minY,t.maxX,t.maxY)},n.prototype.addBoundsArea=function(t,e){var i=t.minX>e.x?t.minX:e.x,r=t.minY>e.y?t.minY:e.y,s=t.maxX<e.x+e.width?t.maxX:e.x+e.width,o=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(i<=s&&r<=o){var a=this.minX,l=this.minY,c=this.maxX,u=this.maxY;this.minX=i<a?i:a,this.minY=r<l?r:l,this.maxX=s>c?s:c,this.maxY=o>u?o:u}},n.prototype.pad=function(t,e){void 0===t&&(t=0),void 0===e&&(e=t),this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=e,this.maxY+=e)},n.prototype.addFramePad=function(t,e,i,r,s,o){e-=o,i+=s,r+=o,this.minX=this.minX<(t-=s)?this.minX:t,this.maxX=this.maxX>i?this.maxX:i,this.minY=this.minY<e?this.minY:e,this.maxY=this.maxY>r?this.maxY:r},n}(),fA=function(n,t){return(fA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)};function pA(n,t){function e(){this.constructor=n}fA(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var Gr=function(n){function t(){var e=n.call(this)||this;return e.tempDisplayObjectParent=null,e.transform=new hA,e.alpha=1,e.visible=!0,e.renderable=!0,e.parent=null,e.worldAlpha=1,e._lastSortedIndex=0,e._zIndex=0,e.filterArea=null,e.filters=null,e._enabledFilters=null,e._bounds=new om,e._localBounds=null,e._boundsID=0,e._boundsRect=null,e._localBoundsRect=null,e._mask=null,e._maskRefCount=0,e._destroyed=!1,e.isSprite=!1,e.isMask=!1,e}return pA(t,n),t.mixin=function(e){for(var i=Object.keys(e),r=0;r<i.length;++r){var s=i[r];Object.defineProperty(t.prototype,s,Object.getOwnPropertyDescriptor(e,s))}},Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),t.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},t.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},t.prototype.getBounds=function(e,i){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),i||(this._boundsRect||(this._boundsRect=new mi),i=this._boundsRect),this._bounds.getRectangle(i)},t.prototype.getLocalBounds=function(e){e||(this._localBoundsRect||(this._localBoundsRect=new mi),e=this._localBoundsRect),this._localBounds||(this._localBounds=new om);var i=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var s=this._bounds,o=this._boundsID;this._bounds=this._localBounds;var a=this.getBounds(!1,e);return this.parent=r,this.transform=i,this._bounds=s,this._bounds.updateID+=this._boundsID-o,a},t.prototype.toGlobal=function(e,i,r){return void 0===r&&(r=!1),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,i)},t.prototype.toLocal=function(e,i,r,s){return i&&(e=i.toGlobal(e,r,s)),s||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,r)},t.prototype.setParent=function(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e},t.prototype.setTransform=function(e,i,r,s,o,a,l,c,u){return void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=1),void 0===s&&(s=1),void 0===o&&(o=0),void 0===a&&(a=0),void 0===l&&(l=0),void 0===c&&(c=0),void 0===u&&(u=0),this.position.x=e,this.position.y=i,this.scale.x=r||1,this.scale.y=s||1,this.rotation=o,this.skew.x=a,this.skew.y=l,this.pivot.x=c,this.pivot.y=u,this},t.prototype.destroy=function(e){this.parent&&this.parent.removeChild(this),this.emit("destroyed"),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},Object.defineProperty(t.prototype,"_tempDisplayObjectParent",{get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new gA),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),t.prototype.enableTempParent=function(){var e=this.parent;return this.parent=this._tempDisplayObjectParent,e},t.prototype.disableTempParent=function(e){this.parent=e},Object.defineProperty(t.prototype,"x",{get:function(){return this.position.x},set:function(e){this.transform.position.x=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.position.y},set:function(e){this.transform.position.y=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this.transform.position},set:function(e){this.transform.position.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scale",{get:function(){return this.transform.scale},set:function(e){this.transform.scale.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(e){this.transform.pivot.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skew",{get:function(){return this.transform.skew},set:function(e){this.transform.skew.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(e){this.transform.rotation=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.transform.rotation*Bj},set:function(e){this.transform.rotation=e*Uj},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"zIndex",{get:function(){return this._zIndex},set:function(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldVisible",{get:function(){var e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._mask},set:function(e){var i;this._mask!==e&&(this._mask&&((i=this._mask.maskObject||this._mask)._maskRefCount--,0===i._maskRefCount&&(i.renderable=!0,i.isMask=!1)),this._mask=e,this._mask&&(0===(i=this._mask.maskObject||this._mask)._maskRefCount&&(i.renderable=!1,i.isMask=!0),i._maskRefCount++))},enumerable:!1,configurable:!0}),t}(im()),gA=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.sortDirty=null,e}return pA(t,n),t}(Gr);Gr.prototype.displayObjectUpdateTransform=Gr.prototype.updateTransform;var oE=(()=>{return(n=oE||(oE={}))[n.NONE=0]="NONE",n[n.SCISSOR=1]="SCISSOR",n[n.STENCIL=2]="STENCIL",n[n.SPRITE=3]="SPRITE",oE;var n})();function Y0e(n,t){return n.zIndex===t.zIndex?n._lastSortedIndex-t._lastSortedIndex:n.zIndex-t.zIndex}var rr=function(n){function t(){var e=n.call(this)||this;return e.children=[],e.sortableChildren=Mt.SORTABLE_CHILDREN,e.sortDirty=!1,e}return pA(t,n),t.prototype.onChildrenChange=function(e){},t.prototype.addChild=function(){for(var e=arguments,i=[],r=0;r<arguments.length;r++)i[r]=e[r];if(i.length>1)for(var s=0;s<i.length;s++)this.addChild(i[s]);else{var o=i[0];o.parent&&o.parent.removeChild(o),o.parent=this,this.sortDirty=!0,o.transform._parentID=-1,this.children.push(o),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",o,this,this.children.length-1),o.emit("added",this)}return i[0]},t.prototype.addChildAt=function(e,i){if(i<0||i>this.children.length)throw new Error(e+"addChildAt: The index "+i+" supplied is out of bounds "+this.children.length);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(i,0,e),this._boundsID++,this.onChildrenChange(i),e.emit("added",this),this.emit("childAdded",e,this,i),e},t.prototype.swapChildren=function(e,i){if(e!==i){var r=this.getChildIndex(e),s=this.getChildIndex(i);this.children[r]=i,this.children[s]=e,this.onChildrenChange(r<s?r:s)}},t.prototype.getChildIndex=function(e){var i=this.children.indexOf(e);if(-1===i)throw new Error("The supplied DisplayObject must be a child of the caller");return i},t.prototype.setChildIndex=function(e,i){if(i<0||i>=this.children.length)throw new Error("The index "+i+" supplied is out of bounds "+this.children.length);var r=this.getChildIndex(e);kf(this.children,r,1),this.children.splice(i,0,e),this.onChildrenChange(i)},t.prototype.getChildAt=function(e){if(e<0||e>=this.children.length)throw new Error("getChildAt: Index ("+e+") does not exist.");return this.children[e]},t.prototype.removeChild=function(){for(var e=arguments,i=[],r=0;r<arguments.length;r++)i[r]=e[r];if(i.length>1)for(var s=0;s<i.length;s++)this.removeChild(i[s]);else{var o=i[0],a=this.children.indexOf(o);if(-1===a)return null;o.parent=null,o.transform._parentID=-1,kf(this.children,a,1),this._boundsID++,this.onChildrenChange(a),o.emit("removed",this),this.emit("childRemoved",o,this,a)}return i[0]},t.prototype.removeChildAt=function(e){var i=this.getChildAt(e);return i.parent=null,i.transform._parentID=-1,kf(this.children,e,1),this._boundsID++,this.onChildrenChange(e),i.emit("removed",this),this.emit("childRemoved",i,this,e),i},t.prototype.removeChildren=function(e,i){void 0===e&&(e=0),void 0===i&&(i=this.children.length);var a,o=i-e;if(o>0&&o<=i){a=this.children.splice(e,o);for(var l=0;l<a.length;++l)a[l].parent=null,a[l].transform&&(a[l].transform._parentID=-1);for(this._boundsID++,this.onChildrenChange(e),l=0;l<a.length;++l)a[l].emit("removed",this),this.emit("childRemoved",a[l],this,l);return a}if(0===o&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},t.prototype.sortChildren=function(){for(var e=!1,i=0,r=this.children.length;i<r;++i){var s=this.children[i];s._lastSortedIndex=i,!e&&0!==s.zIndex&&(e=!0)}e&&this.children.length>1&&this.children.sort(Y0e),this.sortDirty=!1},t.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var e=0,i=this.children.length;e<i;++e){var r=this.children[e];r.visible&&r.updateTransform()}},t.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var e=0;e<this.children.length;e++){var i=this.children[e];if(i.visible&&i.renderable)if(i.calculateBounds(),i._mask){var r=i._mask.maskObject||i._mask;r.calculateBounds(),this._bounds.addBoundsMask(i._bounds,r._bounds)}else i.filterArea?this._bounds.addBoundsArea(i._bounds,i.filterArea):this._bounds.addBounds(i._bounds)}this._bounds.updateID=this._boundsID},t.prototype.getLocalBounds=function(e,i){void 0===i&&(i=!1);var r=n.prototype.getLocalBounds.call(this,e);if(!i)for(var s=0,o=this.children.length;s<o;++s){var a=this.children[s];a.visible&&a.updateTransform()}return r},t.prototype._calculateBounds=function(){},t.prototype.render=function(e){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(e);else{this._render(e);for(var i=0,r=this.children.length;i<r;++i)this.children[i].render(e)}},t.prototype.renderAdvanced=function(e){var i=this.filters,r=this._mask;if(i){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var s=0;s<i.length;s++)i[s].enabled&&this._enabledFilters.push(i[s])}var o=i&&this._enabledFilters&&this._enabledFilters.length||r&&(!r.isMaskData||r.enabled&&(r.autoDetect||r.type!==oE.NONE));o&&e.batch.flush(),i&&this._enabledFilters&&this._enabledFilters.length&&e.filter.push(this,this._enabledFilters),r&&e.mask.push(this,this._mask),this._render(e),s=0;for(var a=this.children.length;s<a;s++)this.children[s].render(e);o&&e.batch.flush(),r&&e.mask.pop(this),i&&this._enabledFilters&&this._enabledFilters.length&&e.filter.pop()},t.prototype._render=function(e){},t.prototype.destroy=function(e){n.prototype.destroy.call(this),this.sortDirty=!1;var i="boolean"==typeof e?e:e&&e.children,r=this.removeChildren(0,this.children.length);if(i)for(var s=0;s<r.length;++s)r[s].destroy(e)},Object.defineProperty(t.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(e){var i=this.getLocalBounds().width;this.scale.x=0!==i?e/i:1,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(e){var i=this.getLocalBounds().height;this.scale.y=0!==i?e/i:1,this._height=e},enumerable:!1,configurable:!0}),t}(Gr);rr.prototype.containerUpdateTransform=rr.prototype.updateTransform;var zj={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Gr.mixin(zj);var _A=function(){function n(t){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(Qa.tablet||Qa.phone)&&this.createTouchHook();var e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.zIndex=2..toString(),this.div=e,this.renderer=t,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),self.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(n.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),n.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2..toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",function(){t._isMobileAccessibility=!0,t.activate(),t.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e},n.prototype.destroyTouchHook=function(){!this._hookDiv||(document.body.removeChild(this._hookDiv),this._hookDiv=null)},n.prototype.activate=function(){var t;this._isActive||(this._isActive=!0,self.document.addEventListener("mousemove",this._onMouseMove,!0),self.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),null===(t=this.renderer.view.parentNode)||void 0===t||t.appendChild(this.div))},n.prototype.deactivate=function(){var t;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,self.document.removeEventListener("mousemove",this._onMouseMove,!0),self.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),null===(t=this.div.parentNode)||void 0===t||t.removeChild(this.div))},n.prototype.updateAccessibleObjects=function(t){if(t.visible&&t.accessibleChildren){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);var e=t.children;if(e)for(var i=0;i<e.length;i++)this.updateAccessibleObjects(e[i])}},n.prototype.update=function(){var t=performance.now();if(!(Qa.android.device&&t<this.androidUpdateCount)&&(this.androidUpdateCount=t+this.androidUpdateFrequency,this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var e=this.renderer.view.getBoundingClientRect(),r=e.top,a=this.renderer,l=a.width,c=a.height,u=a.resolution,d=e.width/l*u,f=e.height/c*u,y=this.div;y.style.left=e.left+"px",y.style.top=r+"px",y.style.width=l+"px",y.style.height=c+"px";for(var O=0;O<this.children.length;O++){var I=this.children[O];if(I.renderId!==this.renderId)I._accessibleActive=!1,kf(this.children,O,1),this.div.removeChild(I._accessibleDiv),this.pool.push(I._accessibleDiv),I._accessibleDiv=null,O--;else{y=I._accessibleDiv;var N=I.hitArea,k=I.worldTransform;I.hitArea?(y.style.left=(k.tx+N.x*k.a)*d+"px",y.style.top=(k.ty+N.y*k.d)*f+"px",y.style.width=N.width*k.a*d+"px",y.style.height=N.height*k.d*f+"px"):(N=I.getBounds(),this.capHitArea(N),y.style.left=N.x*d+"px",y.style.top=N.y*f+"px",y.style.width=N.width*d+"px",y.style.height=N.height*f+"px",y.title!==I.accessibleTitle&&null!==I.accessibleTitle&&(y.title=I.accessibleTitle),y.getAttribute("aria-label")!==I.accessibleHint&&null!==I.accessibleHint&&y.setAttribute("aria-label",I.accessibleHint)),(I.accessibleTitle!==y.title||I.tabIndex!==y.tabIndex)&&(y.title=I.accessibleTitle,y.tabIndex=I.tabIndex,this.debug&&this.updateDebugHTML(y))}}this.renderId++}},n.prototype.updateDebugHTML=function(t){t.innerHTML="type: "+t.type+"</br> title : "+t.title+"</br> tabIndex: "+t.tabIndex},n.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0);var e=this.renderer,i=e.width,r=e.height;t.x+t.width>i&&(t.width=i-t.x),t.y+t.height>r&&(t.height=r-t.y)},n.prototype.addChild=function(t){var e=this.pool.pop();e||((e=document.createElement("button")).style.width="100px",e.style.height="100px",e.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=2..toString(),e.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),e.style.pointerEvents=t.accessiblePointerEvents,e.type=t.accessibleType,t.accessibleTitle&&null!==t.accessibleTitle?e.title=t.accessibleTitle:(!t.accessibleHint||null===t.accessibleHint)&&(e.title="displayObject "+t.tabIndex),t.accessibleHint&&null!==t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),this.debug&&this.updateDebugHTML(e),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},n.prototype._onClick=function(t){var e=this.renderer.plugins.interaction,i=t.target.displayObject,r=e.eventData;e.dispatchEvent(i,"click",r),e.dispatchEvent(i,"pointertap",r),e.dispatchEvent(i,"tap",r)},n.prototype._onFocus=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseover",e.eventData)},n.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseout",e.eventData)},n.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},n.prototype._onMouseMove=function(t){0===t.movementX&&0===t.movementY||this.deactivate()},n.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,self.document.removeEventListener("mousemove",this._onMouseMove,!0),self.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},n}();Mt.TARGET_FPMS=.06;var wc=(()=>{return(n=wc||(wc={}))[n.INTERACTION=50]="INTERACTION",n[n.HIGH=25]="HIGH",n[n.NORMAL=0]="NORMAL",n[n.LOW=-25]="LOW",n[n.UTILITY=-50]="UTILITY",wc;var n})(),mA=function(){function n(t,e,i,r){void 0===e&&(e=null),void 0===i&&(i=0),void 0===r&&(r=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=t,this.context=e,this.priority=i,this.once=r}return n.prototype.match=function(t,e){return void 0===e&&(e=null),this.fn===t&&this.context===e},n.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},n.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},n.prototype.destroy=function(t){void 0===t&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e},n}(),Qs=function(){function n(){var t=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new mA(null,null,1/0),this.deltaMS=1/Mt.TARGET_FPMS,this.elapsedMS=1/Mt.TARGET_FPMS,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}return n.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},n.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},n.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},n.prototype.add=function(t,e,i){return void 0===i&&(i=wc.NORMAL),this._addListener(new mA(t,e,i))},n.prototype.addOnce=function(t,e,i){return void 0===i&&(i=wc.NORMAL),this._addListener(new mA(t,e,i,!0))},n.prototype._addListener=function(t){var e=this._head.next,i=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(i);break}i=e,e=e.next}t.previous||t.connect(i)}else t.connect(i);return this._startIfPossible(),this},n.prototype.remove=function(t,e){for(var i=this._head.next;i;)i=i.match(t,e)?i.destroy():i.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(n.prototype,"count",{get:function(){if(!this._head)return 0;for(var t=0,e=this._head;e=e.next;)t++;return t},enumerable:!1,configurable:!0}),n.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},n.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},n.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}},n.prototype.update=function(t){var e;if(void 0===t&&(t=performance.now()),t>this.lastTime){if((e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){var i=t-this._lastFrame|0;if(i<this._minElapsedMS)return;this._lastFrame=t-i%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*Mt.TARGET_FPMS;for(var r=this._head,s=r.next;s;)s=s.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t},Object.defineProperty(n.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(this.maxFPS,t),i=Math.min(Math.max(0,e)/1e3,Mt.TARGET_FPMS);this._maxElapsedMS=1/i},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(t){if(0===t)this._minElapsedMS=0;else{var e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(n,"shared",{get:function(){if(!n._shared){var t=n._shared=new n;t.autoStart=!0,t._protected=!0}return n._shared},enumerable:!1,configurable:!0}),Object.defineProperty(n,"system",{get:function(){if(!n._system){var t=n._system=new n;t.autoStart=!0,t._protected=!0}return n._system},enumerable:!1,configurable:!0}),n}(),Yj=function(){function n(){}return n.init=function(t){var e=this;t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set:function(i){this._ticker&&this._ticker.remove(this.render,this),this._ticker=i,i&&i.add(this.render,this,wc.LOW)},get:function(){return this._ticker}}),this.stop=function(){e._ticker.stop()},this.start=function(){e._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?Qs.shared:new Qs,t.autoStart&&this.start()},n.destroy=function(){if(this._ticker){var t=this._ticker;this.ticker=null,t.destroy()}},n}(),vA=function(){function n(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new _r,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(n.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),n.prototype.getLocalPosition=function(t,e,i){return t.worldTransform.applyInverse(i||this.global,e)},n.prototype.copyEvent=function(t){"isPrimary"in t&&t.isPrimary&&(this.isPrimary=!0),this.button="button"in t&&t.button;var e="buttons"in t&&t.buttons;this.buttons=Number.isInteger(e)?e:"which"in t&&t.which,this.width="width"in t&&t.width,this.height="height"in t&&t.height,this.tiltX="tiltX"in t&&t.tiltX,this.tiltY="tiltY"in t&&t.tiltY,this.pointerType="pointerType"in t&&t.pointerType,this.pressure="pressure"in t&&t.pressure,this.rotationAngle="rotationAngle"in t&&t.rotationAngle,this.twist="twist"in t&&t.twist||0,this.tangentialPressure="tangentialPressure"in t&&t.tangentialPressure||0},n.prototype.reset=function(){this.isPrimary=!1},n}(),yA=function(n,t){return(yA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},Xj=function(){function n(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return n.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},n.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},n}(),lE=function(){function n(t){this._pointerId=t,this._flags=n.FLAGS.NONE}return n.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},Object.defineProperty(n.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"flags",{get:function(){return this._flags},set:function(t){this._flags=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"none",{get:function(){return this._flags===n.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"over",{get:function(){return 0!=(this._flags&n.FLAGS.OVER)},set:function(t){this._doSet(n.FLAGS.OVER,t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"rightDown",{get:function(){return 0!=(this._flags&n.FLAGS.RIGHT_DOWN)},set:function(t){this._doSet(n.FLAGS.RIGHT_DOWN,t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"leftDown",{get:function(){return 0!=(this._flags&n.FLAGS.LEFT_DOWN)},set:function(t){this._doSet(n.FLAGS.LEFT_DOWN,t)},enumerable:!1,configurable:!0}),n.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),n}(),tye=function(){function n(){this._tempPoint=new _r}return n.prototype.recursiveFindHit=function(t,e,i,r,s){if(!e||!e.visible)return!1;var o=t.data.global,a=!1,l=s=e.interactive||s,c=!0;if(e.hitArea?(r&&(e.worldTransform.applyInverse(o,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?a=!0:(r=!1,c=!1)),l=!1):e._mask&&r&&(e._mask.containsPoint&&e._mask.containsPoint(o)||(r=!1)),c&&e.interactiveChildren&&e.children)for(var u=e.children,d=u.length-1;d>=0;d--){var f=u[d],y=this.recursiveFindHit(t,f,i,r,l);if(y){if(!f.parent)continue;l=!1,y&&(t.target&&(r=!1),a=!0)}}return s&&(r&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(o)&&(a=!0),e.interactive&&(a&&!t.target&&(t.target=e),i&&i(t,e,!!a))),a},n.prototype.findHit=function(t,e,i,r){this.recursiveFindHit(t,e,i,r,!1)},n}(),qj={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(n){n?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};Gr.mixin(qj);var uE={target:null,data:{global:null}},bA=function(n){function t(e,i){var r=n.call(this)||this;return i=i||{},r.renderer=e,r.autoPreventDefault=void 0===i.autoPreventDefault||i.autoPreventDefault,r.interactionFrequency=i.interactionFrequency||10,r.mouse=new vA,r.mouse.identifier=1,r.mouse.global.set(-999999),r.activeInteractionData={},r.activeInteractionData[1]=r.mouse,r.interactionDataPool=[],r.eventData=new Xj,r.interactionDOMElement=null,r.moveWhenInside=!1,r.eventsAdded=!1,r.tickerAdded=!1,r.mouseOverRenderer=!("PointerEvent"in self),r.supportsTouchEvents="ontouchstart"in self,r.supportsPointerEvents=!!self.PointerEvent,r.onPointerUp=r.onPointerUp.bind(r),r.processPointerUp=r.processPointerUp.bind(r),r.onPointerCancel=r.onPointerCancel.bind(r),r.processPointerCancel=r.processPointerCancel.bind(r),r.onPointerDown=r.onPointerDown.bind(r),r.processPointerDown=r.processPointerDown.bind(r),r.onPointerMove=r.onPointerMove.bind(r),r.processPointerMove=r.processPointerMove.bind(r),r.onPointerOut=r.onPointerOut.bind(r),r.processPointerOverOut=r.processPointerOverOut.bind(r),r.onPointerOver=r.onPointerOver.bind(r),r.cursorStyles={default:"inherit",pointer:"pointer"},r.currentCursorMode=null,r.cursor=null,r.resolution=1,r.delayedEvents=[],r.search=new tye,r._tempDisplayObject=new gA,r._eventListenerOptions={capture:!0,passive:!1},r._useSystemTicker=void 0===i.useSystemTicker||i.useSystemTicker,r.setTargetElement(r.renderer.view,r.renderer.resolution),r}return function eye(n,t){function e(){this.constructor=n}yA(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),Object.defineProperty(t.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(e){this._useSystemTicker=e,e?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),t.prototype.hitTest=function(e,i){return uE.target=null,uE.data.global=e,i||(i=this.lastObjectRendered),this.processInteractive(uE,i,null,!0),uE.target},t.prototype.setTargetElement=function(e,i){void 0===i&&(i=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=e,this.resolution=i,this.addEvents(),this.addTickerListener()},t.prototype.addTickerListener=function(){this.tickerAdded||!this.interactionDOMElement||!this._useSystemTicker||(Qs.system.add(this.tickerUpdate,this,wc.INTERACTION),this.tickerAdded=!0)},t.prototype.removeTickerListener=function(){!this.tickerAdded||(Qs.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},t.prototype.addEvents=function(){if(!this.eventsAdded&&this.interactionDOMElement){var e=this.interactionDOMElement.style;self.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none"),this.supportsPointerEvents?(self.document.addEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),self.addEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),self.addEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(self.document.addEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),self.addEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.eventsAdded=!0}},t.prototype.removeEvents=function(){if(this.eventsAdded&&this.interactionDOMElement){var e=this.interactionDOMElement.style;self.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(self.document.removeEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),self.removeEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),self.removeEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(self.document.removeEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),self.removeEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.interactionDOMElement=null,this.eventsAdded=!1}},t.prototype.tickerUpdate=function(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())},t.prototype.update=function(){if(this.interactionDOMElement){if(this._didMove)return void(this._didMove=!1);for(var e in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var i=this.activeInteractionData[e];if(i.originalEvent&&"touch"!==i.pointerType){var r=this.configureInteractionEventForDOMEvent(this.eventData,i.originalEvent,i);this.processInteractive(r,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},t.prototype.setCursorMode=function(e){e=e||"default";var i=!0;if(self.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(i=!1),this.currentCursorMode!==e){this.currentCursorMode=e;var r=this.cursorStyles[e];if(r)switch(typeof r){case"string":i&&(this.interactionDOMElement.style.cursor=r);break;case"function":r(e);break;case"object":i&&Object.assign(this.interactionDOMElement.style,r)}else i&&"string"==typeof e&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.interactionDOMElement.style.cursor=e)}},t.prototype.dispatchEvent=function(e,i,r){(!r.stopPropagationHint||e===r.stopsPropagatingAt)&&(r.currentTarget=e,r.type=i,e.emit(i,r),e[i]&&e[i](r))},t.prototype.delayDispatchEvent=function(e,i,r){this.delayedEvents.push({displayObject:e,eventString:i,eventData:r})},t.prototype.mapPositionToPoint=function(e,i,r){var s;s=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0};var o=1/this.resolution;e.x=this.interactionDOMElement.width/s.width*(i-s.left)*o,e.y=this.interactionDOMElement.height/s.height*(r-s.top)*o},t.prototype.processInteractive=function(e,i,r,s){var o=this.search.findHit(e,i,r,s),a=this.delayedEvents;if(!a.length)return o;e.stopPropagationHint=!1;var l=a.length;this.delayedEvents=[];for(var c=0;c<l;c++){var u=a[c],d=u.displayObject,f=u.eventString,y=u.eventData;y.stopsPropagatingAt===d&&(y.stopPropagationHint=!0),this.dispatchEvent(d,f,y)}return o},t.prototype.onPointerDown=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var i=this.normalizeToPointerData(e);this.autoPreventDefault&&i[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(var s=i.length,o=0;o<s;o++){var a=i[o],l=this.getInteractionDataForPointerId(a),c=this.configureInteractionEventForDOMEvent(this.eventData,a,l);c.data.originalEvent=e,this.processInteractive(c,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",c),"touch"===a.pointerType?this.emit("touchstart",c):"mouse"!==a.pointerType&&"pen"!==a.pointerType||this.emit(2===a.button?"rightdown":"mousedown",this.eventData)}}},t.prototype.processPointerDown=function(e,i,r){var s=e.data,o=e.data.identifier;if(r)if(i.trackedPointers[o]||(i.trackedPointers[o]=new lE(o)),this.dispatchEvent(i,"pointerdown",e),"touch"===s.pointerType)this.dispatchEvent(i,"touchstart",e);else if("mouse"===s.pointerType||"pen"===s.pointerType){var a=2===s.button;a?i.trackedPointers[o].rightDown=!0:i.trackedPointers[o].leftDown=!0,this.dispatchEvent(i,a?"rightdown":"mousedown",e)}},t.prototype.onPointerComplete=function(e,i,r){for(var s=this.normalizeToPointerData(e),o=s.length,a=e.target!==this.interactionDOMElement?"outside":"",l=0;l<o;l++){var c=s[l],u=this.getInteractionDataForPointerId(c),d=this.configureInteractionEventForDOMEvent(this.eventData,c,u);d.data.originalEvent=e,this.processInteractive(d,this.lastObjectRendered,r,i||!a),this.emit(i?"pointercancel":"pointerup"+a,d),"mouse"===c.pointerType||"pen"===c.pointerType?this.emit(2===c.button?"rightup"+a:"mouseup"+a,d):"touch"===c.pointerType&&(this.emit(i?"touchcancel":"touchend"+a,d),this.releaseInteractionDataForPointerId(c.pointerId))}},t.prototype.onPointerCancel=function(e){this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!0,this.processPointerCancel)},t.prototype.processPointerCancel=function(e,i){var r=e.data,s=e.data.identifier;void 0!==i.trackedPointers[s]&&(delete i.trackedPointers[s],this.dispatchEvent(i,"pointercancel",e),"touch"===r.pointerType&&this.dispatchEvent(i,"touchcancel",e))},t.prototype.onPointerUp=function(e){this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!1,this.processPointerUp)},t.prototype.processPointerUp=function(e,i,r){var s=e.data,o=e.data.identifier,a=i.trackedPointers[o],l="touch"===s.pointerType,c="mouse"===s.pointerType||"pen"===s.pointerType,u=!1;if(c){var d=2===s.button,f=lE.FLAGS,O=void 0!==a&&a.flags&(d?f.RIGHT_DOWN:f.LEFT_DOWN);r?(this.dispatchEvent(i,d?"rightup":"mouseup",e),O&&(this.dispatchEvent(i,d?"rightclick":"click",e),u=!0)):O&&this.dispatchEvent(i,d?"rightupoutside":"mouseupoutside",e),a&&(d?a.rightDown=!1:a.leftDown=!1)}r?(this.dispatchEvent(i,"pointerup",e),l&&this.dispatchEvent(i,"touchend",e),a&&((!c||u)&&this.dispatchEvent(i,"pointertap",e),l&&(this.dispatchEvent(i,"tap",e),a.over=!1))):a&&(this.dispatchEvent(i,"pointerupoutside",e),l&&this.dispatchEvent(i,"touchendoutside",e)),a&&a.none&&delete i.trackedPointers[o]},t.prototype.onPointerMove=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var i=this.normalizeToPointerData(e);("mouse"===i[0].pointerType||"pen"===i[0].pointerType)&&(this._didMove=!0,this.cursor=null);for(var r=i.length,s=0;s<r;s++){var o=i[s],a=this.getInteractionDataForPointerId(o),l=this.configureInteractionEventForDOMEvent(this.eventData,o,a);l.data.originalEvent=e,this.processInteractive(l,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",l),"touch"===o.pointerType&&this.emit("touchmove",l),("mouse"===o.pointerType||"pen"===o.pointerType)&&this.emit("mousemove",l)}"mouse"===i[0].pointerType&&this.setCursorMode(this.cursor)}},t.prototype.processPointerMove=function(e,i,r){var s=e.data,o="touch"===s.pointerType,a="mouse"===s.pointerType||"pen"===s.pointerType;a&&this.processPointerOverOut(e,i,r),(!this.moveWhenInside||r)&&(this.dispatchEvent(i,"pointermove",e),o&&this.dispatchEvent(i,"touchmove",e),a&&this.dispatchEvent(i,"mousemove",e))},t.prototype.onPointerOut=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var r=this.normalizeToPointerData(e)[0];"mouse"===r.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var s=this.getInteractionDataForPointerId(r),o=this.configureInteractionEventForDOMEvent(this.eventData,r,s);o.data.originalEvent=r,this.processInteractive(o,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",o),"mouse"===r.pointerType||"pen"===r.pointerType?this.emit("mouseout",o):this.releaseInteractionDataForPointerId(s.identifier)}},t.prototype.processPointerOverOut=function(e,i,r){var s=e.data,o=e.data.identifier,a="mouse"===s.pointerType||"pen"===s.pointerType,l=i.trackedPointers[o];r&&!l&&(l=i.trackedPointers[o]=new lE(o)),void 0!==l&&(r&&this.mouseOverRenderer?(l.over||(l.over=!0,this.delayDispatchEvent(i,"pointerover",e),a&&this.delayDispatchEvent(i,"mouseover",e)),a&&null===this.cursor&&(this.cursor=i.cursor)):l.over&&(l.over=!1,this.dispatchEvent(i,"pointerout",this.eventData),a&&this.dispatchEvent(i,"mouseout",e),l.none&&delete i.trackedPointers[o]))},t.prototype.onPointerOver=function(e){var r=this.normalizeToPointerData(e)[0],s=this.getInteractionDataForPointerId(r),o=this.configureInteractionEventForDOMEvent(this.eventData,r,s);o.data.originalEvent=r,"mouse"===r.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",o),("mouse"===r.pointerType||"pen"===r.pointerType)&&this.emit("mouseover",o)},t.prototype.getInteractionDataForPointerId=function(e){var r,i=e.pointerId;return 1===i||"mouse"===e.pointerType?r=this.mouse:this.activeInteractionData[i]?r=this.activeInteractionData[i]:((r=this.interactionDataPool.pop()||new vA).identifier=i,this.activeInteractionData[i]=r),r.copyEvent(e),r},t.prototype.releaseInteractionDataForPointerId=function(e){var i=this.activeInteractionData[e];i&&(delete this.activeInteractionData[e],i.reset(),this.interactionDataPool.push(i))},t.prototype.configureInteractionEventForDOMEvent=function(e,i,r){return e.data=r,this.mapPositionToPoint(r.global,i.clientX,i.clientY),"touch"===i.pointerType&&(i.globalX=r.global.x,i.globalY=r.global.y),r.originalEvent=i,e.reset(),e},t.prototype.normalizeToPointerData=function(e){var i=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(var r=0,s=e.changedTouches.length;r<s;r++){var o=e.changedTouches[r];void 0===o.button&&(o.button=e.touches.length?1:0),void 0===o.buttons&&(o.buttons=e.touches.length?1:0),void 0===o.isPrimary&&(o.isPrimary=1===e.touches.length&&"touchstart"===e.type),void 0===o.width&&(o.width=o.radiusX||1),void 0===o.height&&(o.height=o.radiusY||1),void 0===o.tiltX&&(o.tiltX=0),void 0===o.tiltY&&(o.tiltY=0),void 0===o.pointerType&&(o.pointerType="touch"),void 0===o.pointerId&&(o.pointerId=o.identifier||0),void 0===o.pressure&&(o.pressure=o.force||.5),void 0===o.twist&&(o.twist=0),void 0===o.tangentialPressure&&(o.tangentialPressure=0),void 0===o.layerX&&(o.layerX=o.offsetX=o.clientX),void 0===o.layerY&&(o.layerY=o.offsetY=o.clientY),o.isNormalized=!0,i.push(o)}else if(!self.MouseEvent||e instanceof MouseEvent&&!(this.supportsPointerEvents&&e instanceof self.PointerEvent)){var a=e;void 0===a.isPrimary&&(a.isPrimary=!0),void 0===a.width&&(a.width=1),void 0===a.height&&(a.height=1),void 0===a.tiltX&&(a.tiltX=0),void 0===a.tiltY&&(a.tiltY=0),void 0===a.pointerType&&(a.pointerType="mouse"),void 0===a.pointerId&&(a.pointerId=1),void 0===a.pressure&&(a.pressure=.5),void 0===a.twist&&(a.twist=0),void 0===a.tangentialPressure&&(a.tangentialPressure=0),a.isNormalized=!0,i.push(a)}else i.push(e);return i},t.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},t}(im()),go=function(){function n(t){this.items=[],this._name=t,this._aliasCount=0}return n.prototype.emit=function(t,e,i,r,s,o,a,l){if(arguments.length>8)throw new Error("max arguments reached");var c=this,u=c.name,d=c.items;this._aliasCount++;for(var f=0,y=d.length;f<y;f++)d[f][u](t,e,i,r,s,o,a,l);return d===this.items&&this._aliasCount--,this},n.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},n.prototype.add=function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this},n.prototype.remove=function(t){var e=this.items.indexOf(t);return-1!==e&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this},n.prototype.contains=function(t){return-1!==this.items.indexOf(t)},n.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},n.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(n.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),n}();Object.defineProperties(go.prototype,{dispatch:{value:go.prototype.emit},run:{value:go.prototype.emit}}),Mt.PREFER_ENV=Qa.any?Js.WEBGL:Js.WEBGL2,Mt.STRICT_TEXTURE_CACHE=!1;var dy=[];function dE(n,t){if(!n)return null;var e="";if("string"==typeof n){var i=/\.(\w{3,4})(?:$|\?|#)/i.exec(n);i&&(e=i[1].toLowerCase())}for(var r=dy.length-1;r>=0;--r){var s=dy[r];if(s.test&&s.test(n,e))return new s(n,t)}throw new Error("Unrecognized source type to auto-detect Resource")}var SA=function(n,t){return(SA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)};function mr(n,t){function e(){this.constructor=n}SA(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var CA=function(){return CA=Object.assign||function(t){for(var i,e=arguments,r=1,s=arguments.length;r<s;r++)for(var o in i=e[r])Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o]);return t},CA.apply(this,arguments)},Hf=function(){function n(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._width=t,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new go("setRealSize"),this.onUpdate=new go("update"),this.onError=new go("onError")}return n.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},n.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)},n.prototype.resize=function(t,e){(t!==this._width||e!==this._height)&&(this._width=t,this._height=e,this.onResize.emit(t,e))},Object.defineProperty(n.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),n.prototype.update=function(){this.destroyed||this.onUpdate.emit()},n.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(n.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),n.prototype.style=function(t,e,i){return!1},n.prototype.dispose=function(){},n.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},n.test=function(t,e){return!1},n}(),am=function(n){function t(e,i){var r=this,s=i||{},o=s.width,a=s.height;if(!o||!a)throw new Error("BufferResource width or height invalid");return(r=n.call(this,o,a)||this).data=e,r}return mr(t,n),t.prototype.upload=function(e,i,r){var s=e.gl;s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.alphaMode===Zs.UNPACK);var o=i.realWidth,a=i.realHeight;return r.width===o&&r.height===a?s.texSubImage2D(i.target,0,0,0,o,a,i.format,r.type,this.data):(r.width=o,r.height=a,s.texImage2D(i.target,0,r.internalFormat,o,a,0,i.format,r.type,this.data)),!0},t.prototype.dispose=function(){this.data=null},t.test=function(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array},t}(Hf),iye={scaleMode:Cs.NEAREST,format:it.RGBA,alphaMode:Zs.NPM},Ci=function(n){function t(e,i){void 0===e&&(e=null),void 0===i&&(i=null);var r=n.call(this)||this,s=(i=i||{}).alphaMode,o=i.mipmap,a=i.anisotropicLevel,l=i.scaleMode,c=i.width,u=i.height,d=i.wrapMode,f=i.format,y=i.type,O=i.target,I=i.resolution;return e&&!(e instanceof Hf)&&((e=dE(e,i.resourceOptions)).internal=!0),r.resolution=I||Mt.RESOLUTION,r.width=Math.round((c||0)*r.resolution)/r.resolution,r.height=Math.round((u||0)*r.resolution)/r.resolution,r._mipmap=void 0!==o?o:Mt.MIPMAP_TEXTURES,r.anisotropicLevel=void 0!==a?a:Mt.ANISOTROPIC_LEVEL,r._wrapMode=d||Mt.WRAP_MODE,r._scaleMode=void 0!==l?l:Mt.SCALE_MODE,r.format=f||it.RGBA,r.type=y||Dt.UNSIGNED_BYTE,r.target=O||Ia.TEXTURE_2D,r.alphaMode=void 0!==s?s:Zs.UNPACK,r.uid=lh(),r.touched=0,r.isPowerOfTwo=!1,r._refreshPOT(),r._glTextures={},r.dirtyId=0,r.dirtyStyleId=0,r.cacheId=null,r.valid=c>0&&u>0,r.textureCacheIds=[],r.destroyed=!1,r.resource=null,r._batchEnabled=0,r._batchLocation=0,r.parentTextureArray=null,r.setResource(e),r}return mr(t,n),Object.defineProperty(t.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mipmap",{get:function(){return this._mipmap},set:function(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),t.prototype.setStyle=function(e,i){var r;return void 0!==e&&e!==this.scaleMode&&(this.scaleMode=e,r=!0),void 0!==i&&i!==this.mipmap&&(this.mipmap=i,r=!0),r&&this.dirtyStyleId++,this},t.prototype.setSize=function(e,i,r){return this.setRealSize(e*(r=r||this.resolution),i*r,r)},t.prototype.setRealSize=function(e,i,r){return this.resolution=r||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(i)/this.resolution,this._refreshPOT(),this.update(),this},t.prototype._refreshPOT=function(){this.isPowerOfTwo=lA(this.realWidth)&&lA(this.realHeight)},t.prototype.setResolution=function(e){var i=this.resolution;return i===e||(this.resolution=e,this.valid&&(this.width=Math.round(this.width*i)/e,this.height=Math.round(this.height*i)/e,this.emit("update",this)),this._refreshPOT()),this},t.prototype.setResource=function(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this},t.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},t.prototype.onError=function(e){this.emit("error",this,e)},t.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Il[this.cacheId],delete Aa[this.cacheId],this.cacheId=null),this.dispose(),t.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},t.prototype.dispose=function(){this.emit("dispose",this)},t.prototype.castToBaseTexture=function(){return this},t.from=function(e,i,r){void 0===r&&(r=Mt.STRICT_TEXTURE_CACHE);var s="string"==typeof e,o=null;s?o=e:(e._pixiId||(e._pixiId=(i&&i.pixiIdPrefix||"pixiid")+"_"+lh()),o=e._pixiId);var l=Il[o];if(s&&r&&!l)throw new Error('The cacheId "'+o+'" does not exist in BaseTextureCache.');return l||((l=new t(e,i)).cacheId=o,t.addToCache(l,o)),l},t.fromBuffer=function(e,i,r,s){e=e||new Float32Array(i*r*4);var o=new am(e,{width:i,height:r}),a=e instanceof Float32Array?Dt.FLOAT:Dt.UNSIGNED_BYTE;return new t(o,Object.assign(iye,s||{width:i,height:r,type:a}))},t.addToCache=function(e,i){i&&(-1===e.textureCacheIds.indexOf(i)&&e.textureCacheIds.push(i),Il[i]&&console.warn("BaseTexture added to the cache with an id ["+i+"] that already had an entry"),Il[i]=e)},t.removeFromCache=function(e){if("string"==typeof e){var i=Il[e];if(i){var r=i.textureCacheIds.indexOf(e);return r>-1&&i.textureCacheIds.splice(r,1),delete Il[e],i}}else if(e&&e.textureCacheIds){for(var s=0;s<e.textureCacheIds.length;++s)delete Il[e.textureCacheIds[s]];return e.textureCacheIds.length=0,e}return null},t._globalBatch=0,t}(im()),hE=function(n){function t(e,i){var r=this,s=i||{};(r=n.call(this,s.width,s.height)||this).items=[],r.itemDirtyIds=[];for(var l=0;l<e;l++){var c=new Ci;r.items.push(c),r.itemDirtyIds.push(-2)}return r.length=e,r._load=null,r.baseTexture=null,r}return mr(t,n),t.prototype.initFromArray=function(e,i){for(var r=0;r<this.length;r++)!e[r]||(e[r].castToBaseTexture?this.addBaseTextureAt(e[r].castToBaseTexture(),r):this.addResourceAt(e[r]instanceof Hf?e[r]:dE(e[r],i),r))},t.prototype.dispose=function(){for(var e=0,i=this.length;e<i;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},t.prototype.addResourceAt=function(e,i){if(!this.items[i])throw new Error("Index "+i+" is out of bounds");return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[i].setResource(e),this},t.prototype.bind=function(e){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");n.prototype.bind.call(this,e);for(var i=0;i<this.length;i++)this.items[i].parentTextureArray=e,this.items[i].on("update",e.update,e)},t.prototype.unbind=function(e){n.prototype.unbind.call(this,e);for(var i=0;i<this.length;i++)this.items[i].parentTextureArray=null,this.items[i].off("update",e.update,e)},t.prototype.load=function(){var e=this;if(this._load)return this._load;var r=this.items.map(function(s){return s.resource}).filter(function(s){return s}).map(function(s){return s.load()});return this._load=Promise.all(r).then(function(){var s=e.items[0];return e.resize(s.realWidth,s.realHeight),Promise.resolve(e)}),this._load},t}(Hf),EA=function(n){function t(e,i){var l,c,r=this,s=i||{},o=s.width,a=s.height;return Array.isArray(e)?(l=e,c=e.length):c=e,r=n.call(this,c,{width:o,height:a})||this,l&&r.initFromArray(l,i),r}return mr(t,n),t.prototype.addBaseTextureAt=function(e,i){if(!e.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(e.resource,i),this},t.prototype.bind=function(e){n.prototype.bind.call(this,e),e.target=Ia.TEXTURE_2D_ARRAY},t.prototype.upload=function(e,i,r){var s=this,o=s.length,a=s.itemDirtyIds,l=s.items,c=e.gl;r.dirtyId<0&&c.texImage3D(c.TEXTURE_2D_ARRAY,0,r.internalFormat,this._width,this._height,o,0,i.format,r.type,null);for(var u=0;u<o;u++){var d=l[u];a[u]<d.dirtyId&&(a[u]=d.dirtyId,d.valid&&c.texSubImage3D(c.TEXTURE_2D_ARRAY,0,0,0,u,d.resource.width,d.resource.height,1,i.format,r.type,d.resource.source))}return!0},t}(hE),fu=function(n){function t(e){var i=this;return(i=n.call(this,e.naturalWidth||e.videoWidth||e.width,e.naturalHeight||e.videoHeight||e.height)||this).source=e,i.noSubImage=!1,i}return mr(t,n),t.crossOrigin=function(e,i,r){void 0===r&&0!==i.indexOf("data:")?e.crossOrigin=Lj(i):!1!==r&&(e.crossOrigin="string"==typeof r?r:"anonymous")},t.prototype.upload=function(e,i,r,s){var o=e.gl,a=i.realWidth,l=i.realHeight;return s=s||this.source,o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.alphaMode===Zs.UNPACK),this.noSubImage||i.target!==o.TEXTURE_2D||r.width!==a||r.height!==l?(r.width=a,r.height=l,o.texImage2D(i.target,0,r.internalFormat,i.format,r.type,s)):o.texSubImage2D(o.TEXTURE_2D,0,0,0,i.format,r.type,s),!0},t.prototype.update=function(){if(!this.destroyed){var e=this.source;this.resize(e.naturalWidth||e.videoWidth||e.width,e.naturalHeight||e.videoHeight||e.height),n.prototype.update.call(this)}},t.prototype.dispose=function(){this.source=null},t}(Hf),hy=function(n){function t(e){return n.call(this,e)||this}return mr(t,n),t.test=function(e){var i=self.OffscreenCanvas;return!!(i&&e instanceof i)||self.HTMLCanvasElement&&e instanceof HTMLCanvasElement},t}(fu),TA=function(n){function t(e,i){var r=this,s=i||{},o=s.width,a=s.height,l=s.autoLoad,c=s.linkBaseTexture;if(e&&e.length!==t.SIDES)throw new Error("Invalid length. Got "+e.length+", expected 6");r=n.call(this,6,{width:o,height:a})||this;for(var u=0;u<t.SIDES;u++)r.items[u].target=Ia.TEXTURE_CUBE_MAP_POSITIVE_X+u;return r.linkBaseTexture=!1!==c,e&&r.initFromArray(e,i),!1!==l&&r.load(),r}return mr(t,n),t.prototype.bind=function(e){n.prototype.bind.call(this,e),e.target=Ia.TEXTURE_CUBE_MAP},t.prototype.addBaseTextureAt=function(e,i,r){if(void 0===r&&(r=this.linkBaseTexture),!this.items[i])throw new Error("Index "+i+" is out of bounds");if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0){if(!e.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(e.resource,i)}else e.target=Ia.TEXTURE_CUBE_MAP_POSITIVE_X+i,e.parentTextureArray=this.baseTexture,this.items[i]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[i]=e,this},t.prototype.upload=function(e,i,r){for(var s=this.itemDirtyIds,o=0;o<t.SIDES;o++){var a=this.items[o];s[o]<a.dirtyId&&(a.valid&&a.resource?(a.resource.upload(e,a,r),s[o]=a.dirtyId):s[o]<-1&&(e.gl.texImage2D(a.target,0,r.internalFormat,i.realWidth,i.realHeight,0,i.format,r.type,null),s[o]=-1))}return!0},t.test=function(e){return Array.isArray(e)&&e.length===t.SIDES},t.SIDES=6,t}(hE),fE=function(n){function t(e,i){var r=this;if(i=i||{},!(e instanceof HTMLImageElement)){var s=new Image;fu.crossOrigin(s,e,i.crossorigin),s.src=e,e=s}return r=n.call(this,e)||this,!e.complete&&!!r._width&&!!r._height&&(r._width=0,r._height=0),r.url=e.src,r._process=null,r.preserveBitmap=!1,r.createBitmap=(void 0!==i.createBitmap?i.createBitmap:Mt.CREATE_IMAGE_BITMAP)&&!!self.createImageBitmap,r.alphaMode="number"==typeof i.alphaMode?i.alphaMode:null,r.bitmap=null,r._load=null,!1!==i.autoLoad&&r.load(),r}return mr(t,n),t.prototype.load=function(e){var i=this;return this._load||(void 0!==e&&(this.createBitmap=e),this._load=new Promise(function(r,s){var o=i.source;i.url=o.src;var a=function(){i.destroyed||(o.onload=null,o.onerror=null,i.resize(o.width,o.height),i._load=null,r(i.createBitmap?i.process():i))};o.complete&&o.src?a():(o.onload=a,o.onerror=function(l){s(l),i.onError.emit(l)})})),this._load},t.prototype.process=function(){var e=this,i=this.source;if(null!==this._process)return this._process;if(null!==this.bitmap||!self.createImageBitmap)return Promise.resolve(this);var r=self.createImageBitmap;return this._process=fetch(i.src,{mode:i.crossOrigin&&"anonymous"!==i.crossOrigin?"no-cors":"cors"}).then(function(o){return o.blob()}).then(function(o){return r(o,0,0,i.width,i.height,{premultiplyAlpha:e.alphaMode===Zs.UNPACK?"premultiply":"none"})}).then(function(o){return e.destroyed?Promise.reject():(e.bitmap=o,e.update(),e._process=null,Promise.resolve(e))}),this._process},t.prototype.upload=function(e,i,r){if("number"==typeof this.alphaMode&&(i.alphaMode=this.alphaMode),!this.createBitmap)return n.prototype.upload.call(this,e,i,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(n.prototype.upload.call(this,e,i,r,this.bitmap),!this.preserveBitmap){var s=!0,o=i._glTextures;for(var a in o){var l=o[a];if(l!==r&&l.dirtyId!==i.dirtyId){s=!1;break}}s&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},t.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,n.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},t.test=function(e){return"string"==typeof e||e instanceof HTMLImageElement},t}(fu),wA=function(n){function t(e,i){var r=this;return i=i||{},(r=n.call(this,document.createElement("canvas"))||this)._width=0,r._height=0,r.svg=e,r.scale=i.scale||1,r._overrideWidth=i.width,r._overrideHeight=i.height,r._resolve=null,r._crossorigin=i.crossorigin,r._load=null,!1!==i.autoLoad&&r.load(),r}return mr(t,n),t.prototype.load=function(){var e=this;return this._load||(this._load=new Promise(function(i){if(e._resolve=function(){e.resize(e.source.width,e.source.height),i(e)},t.SVG_XML.test(e.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");e.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(e.svg)))}e._loadSvg()})),this._load},t.prototype._loadSvg=function(){var e=this,i=new Image;fu.crossOrigin(i,this.svg,this._crossorigin),i.src=this.svg,i.onerror=function(r){!e._resolve||(i.onerror=null,e.onError.emit(r))},i.onload=function(){if(e._resolve){var r=i.width,s=i.height;if(!r||!s)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var o=r*e.scale,a=s*e.scale;(e._overrideWidth||e._overrideHeight)&&(o=e._overrideWidth||e._overrideHeight/s*r,a=e._overrideHeight||e._overrideWidth/r*s),o=Math.round(o),a=Math.round(a);var l=e.source;l.width=o,l.height=a,l._pixiId="canvas_"+lh(),l.getContext("2d").drawImage(i,0,0,r,s,0,0,o,a),e._resolve(),e._resolve=null}}},t.getSize=function(e){var i=t.SVG_SIZE.exec(e),r={};return i&&(r[i[1]]=Math.round(parseFloat(i[3])),r[i[5]]=Math.round(parseFloat(i[7]))),r},t.prototype.dispose=function(){n.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},t.test=function(e,i){return"svg"===i||"string"==typeof e&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(e)||"string"==typeof e&&t.SVG_XML.test(e)},t.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,t.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,t}(fu),MA=function(n){function t(e,i){var r=this;if(i=i||{},!(e instanceof HTMLVideoElement)){var s=document.createElement("video");s.setAttribute("preload","auto"),s.setAttribute("webkit-playsinline",""),s.setAttribute("playsinline",""),"string"==typeof e&&(e=[e]),fu.crossOrigin(s,e[0].src||e[0],i.crossorigin);for(var a=0;a<e.length;++a){var l=document.createElement("source"),c=e[a],u=c.src,d=c.mime,f=(u=u||e[a]).split("?").shift().toLowerCase(),y=f.substr(f.lastIndexOf(".")+1);d=d||t.MIME_TYPES[y]||"video/"+y,l.src=u,l.type=d,s.appendChild(l)}e=s}return(r=n.call(this,e)||this).noSubImage=!0,r._autoUpdate=!0,r._isConnectedToTicker=!1,r._updateFPS=i.updateFPS||0,r._msToNextUpdate=0,r.autoPlay=!1!==i.autoPlay,r._load=null,r._resolve=null,r._onCanPlay=r._onCanPlay.bind(r),r._onError=r._onError.bind(r),!1!==i.autoLoad&&r.load(),r}return mr(t,n),t.prototype.update=function(e){this.destroyed||(this._msToNextUpdate=Math.floor(this._msToNextUpdate-Qs.shared.elapsedMS*this.source.playbackRate),(!this._updateFPS||this._msToNextUpdate<=0)&&(n.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0))},t.prototype.load=function(){var e=this;if(this._load)return this._load;var i=this.source;return(i.readyState===i.HAVE_ENOUGH_DATA||i.readyState===i.HAVE_FUTURE_DATA)&&i.width&&i.height&&(i.complete=!0),i.addEventListener("play",this._onPlayStart.bind(this)),i.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(i.addEventListener("canplay",this._onCanPlay),i.addEventListener("canplaythrough",this._onCanPlay),i.addEventListener("error",this._onError,!0)),this._load=new Promise(function(r){e.valid?r(e):(e._resolve=r,i.load())}),this._load},t.prototype._onError=function(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e)},t.prototype._isSourcePlaying=function(){var e=this.source;return e.currentTime>0&&!1===e.paused&&!1===e.ended&&e.readyState>2},t.prototype._isSourceReady=function(){var e=this.source;return 3===e.readyState||4===e.readyState},t.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(Qs.shared.add(this.update,this),this._isConnectedToTicker=!0)},t.prototype._onPlayStop=function(){this._isConnectedToTicker&&(Qs.shared.remove(this.update,this),this._isConnectedToTicker=!1)},t.prototype._onCanPlay=function(){var e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);var i=this.valid;this.resize(e.videoWidth,e.videoHeight),!i&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()},t.prototype.dispose=function(){this._isConnectedToTicker&&(Qs.shared.remove(this.update,this),this._isConnectedToTicker=!1);var e=this.source;e&&(e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),n.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(Qs.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Qs.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(e){e!==this._updateFPS&&(this._updateFPS=e)},enumerable:!1,configurable:!0}),t.test=function(e,i){return self.HTMLVideoElement&&e instanceof HTMLVideoElement||t.TYPES.indexOf(i)>-1},t.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],t.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},t}(fu),OA=function(n){function t(e){return n.call(this,e)||this}return mr(t,n),t.test=function(e){return!!self.createImageBitmap&&e instanceof ImageBitmap},t}(fu);dy.push(fE,OA,hy,MA,wA,am,TA,EA);var Kj={__proto__:null,Resource:Hf,BaseImageResource:fu,INSTALLED:dy,autoDetectResource:dE,AbstractMultiResource:hE,ArrayResource:EA,BufferResource:am,CanvasResource:hy,CubeResource:TA,ImageResource:fE,SVGResource:wA,VideoResource:MA,ImageBitmapResource:OA},rye=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return mr(t,n),t.prototype.upload=function(e,i,r){var s=e.gl;s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.alphaMode===Zs.UNPACK);var o=i.realWidth,a=i.realHeight;return r.width===o&&r.height===a?s.texSubImage2D(i.target,0,0,0,o,a,i.format,r.type,this.data):(r.width=o,r.height=a,s.texImage2D(i.target,0,r.internalFormat,o,a,0,i.format,r.type,this.data)),!0},t}(am),pE=function(){function n(t,e){this.width=Math.round(t||100),this.height=Math.round(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new go("disposeFramebuffer"),this.multisample=qn.NONE}return Object.defineProperty(n.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),n.prototype.addColorTexture=function(t,e){return void 0===t&&(t=0),this.colorTextures[t]=e||new Ci(null,{scaleMode:Cs.NEAREST,resolution:1,mipmap:aa.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},n.prototype.addDepthTexture=function(t){return this.depthTexture=t||new Ci(new rye(null,{width:this.width,height:this.height}),{scaleMode:Cs.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:aa.OFF,format:it.DEPTH_COMPONENT,type:Dt.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},n.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},n.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},n.prototype.resize=function(t,e){if(t=Math.round(t),e=Math.round(e),t!==this.width||e!==this.height){this.width=t,this.height=e,this.dirtyId++,this.dirtySize++;for(var i=0;i<this.colorTextures.length;i++){var r=this.colorTextures[i];r.setSize(t/(s=r.resolution),e/s)}var s;this.depthTexture&&this.depthTexture.setSize(t/(s=this.depthTexture.resolution),e/s)}},n.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},n.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},n}(),fy=function(n){function t(e){var i=this;if("number"==typeof e){var r=arguments[0],s=arguments[1],o=arguments[2],a=arguments[3];e={width:r,height:s,scaleMode:o,resolution:a}}return e.width=e.width||100,e.height=e.height||100,e.multisample=void 0!==e.multisample?e.multisample:qn.NONE,(i=n.call(this,null,e)||this).mipmap=aa.OFF,i.valid=!0,i.clearColor=[0,0,0,0],i.framebuffer=new pE(i.realWidth,i.realHeight).addColorTexture(0,i),i.framebuffer.multisample=e.multisample,i.maskStack=[],i.filterStack=[{}],i}return mr(t,n),t.prototype.resize=function(e,i){this.framebuffer.resize(e*this.resolution,i*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},t.prototype.dispose=function(){this.framebuffer.dispose(),n.prototype.dispose.call(this)},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},t}(Ci),PA=function(){function n(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return n.prototype.set=function(t,e,i){var r=e.width,s=e.height;if(i){var o=t.width/2/r,a=t.height/2/s,l=t.x/r+o,c=t.y/s+a;i=wr.add(i,wr.NW),this.x0=l+o*wr.uX(i),this.y0=c+a*wr.uY(i),i=wr.add(i,2),this.x1=l+o*wr.uX(i),this.y1=c+a*wr.uY(i),i=wr.add(i,2),this.x2=l+o*wr.uX(i),this.y2=c+a*wr.uY(i),i=wr.add(i,2),this.x3=l+o*wr.uX(i),this.y3=c+a*wr.uY(i)}else this.x0=t.x/r,this.y0=t.y/s,this.x1=(t.x+t.width)/r,this.y1=t.y/s,this.x2=(t.x+t.width)/r,this.y2=(t.y+t.height)/s,this.x3=t.x/r,this.y3=(t.y+t.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},n.prototype.toString=function(){return"[@pixi/core:TextureUvs x0="+this.x0+" y0="+this.y0+" x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" y2="+this.y2+" x3="+this.x3+" y3="+this.y3+"]"},n}(),Jj=new PA,Jt=function(n){function t(e,i,r,s,o,a){var l=n.call(this)||this;if(l.noFrame=!1,i||(l.noFrame=!0,i=new mi(0,0,1,1)),e instanceof t&&(e=e.baseTexture),l.baseTexture=e,l._frame=i,l.trim=s,l.valid=!1,l._uvs=Jj,l.uvMatrix=null,l.orig=r||i,l._rotate=Number(o||0),!0===o)l._rotate=2;else if(l._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return l.defaultAnchor=a?new _r(a.x,a.y):new _r(0,0),l._updateID=0,l.textureCacheIds=[],e.valid?l.noFrame?e.valid&&l.onBaseTextureUpdated(e):l.frame=i:e.once("loaded",l.onBaseTextureUpdated,l),l.noFrame&&e.on("update",l.onBaseTextureUpdated,l),l}return mr(t,n),t.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},t.prototype.onBaseTextureUpdated=function(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},t.prototype.destroy=function(e){if(this.baseTexture){if(e){var i=this.baseTexture.resource;i&&i.url&&Aa[i.url]&&t.removeFromCache(i.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,t.removeFromCache(this),this.textureCacheIds=null},t.prototype.clone=function(){var e=this._frame.clone(),i=this._frame===this.orig?e:this.orig.clone(),r=new t(this.baseTexture,!this.noFrame&&e,i,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(r._frame=e),r},t.prototype.updateUvs=function(){this._uvs===Jj&&(this._uvs=new PA),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},t.from=function(e,i,r){void 0===i&&(i={}),void 0===r&&(r=Mt.STRICT_TEXTURE_CACHE);var s="string"==typeof e,o=null;s?o=e:e instanceof Ci?(e.cacheId||(e.cacheId=(i&&i.pixiIdPrefix||"pixiid")+"-"+lh(),Ci.addToCache(e,e.cacheId)),o=e.cacheId):(e._pixiId||(e._pixiId=(i&&i.pixiIdPrefix||"pixiid")+"_"+lh()),o=e._pixiId);var l=Aa[o];if(s&&r&&!l)throw new Error('The cacheId "'+o+'" does not exist in TextureCache.');return l||e instanceof Ci?!l&&e instanceof Ci&&(l=new t(e),t.addToCache(l,o)):(i.resolution||(i.resolution=ly(e)),(l=new t(new Ci(e,i))).baseTexture.cacheId=o,Ci.addToCache(l.baseTexture,o),t.addToCache(l,o)),l},t.fromURL=function(e,i){var r=Object.assign({autoLoad:!1},null==i?void 0:i.resourceOptions),s=t.from(e,Object.assign({resourceOptions:r},i),!1),o=s.baseTexture.resource;return s.baseTexture.valid?Promise.resolve(s):o.load().then(function(){return Promise.resolve(s)})},t.fromBuffer=function(e,i,r,s){return new t(Ci.fromBuffer(e,i,r,s))},t.fromLoader=function(e,i,r,s){var o=new Ci(e,Object.assign({scaleMode:Mt.SCALE_MODE,resolution:ly(i)},s)),a=o.resource;a instanceof fE&&(a.url=i);var l=new t(o);return r||(r=i),Ci.addToCache(l.baseTexture,r),t.addToCache(l,r),r!==i&&(Ci.addToCache(l.baseTexture,i),t.addToCache(l,i)),l.baseTexture.valid?Promise.resolve(l):new Promise(function(c){l.baseTexture.once("loaded",function(){return c(l)})})},t.addToCache=function(e,i){i&&(-1===e.textureCacheIds.indexOf(i)&&e.textureCacheIds.push(i),Aa[i]&&console.warn("Texture added to the cache with an id ["+i+"] that already had an entry"),Aa[i]=e)},t.removeFromCache=function(e){if("string"==typeof e){var i=Aa[e];if(i){var r=i.textureCacheIds.indexOf(e);return r>-1&&i.textureCacheIds.splice(r,1),delete Aa[e],i}}else if(e&&e.textureCacheIds){for(var s=0;s<e.textureCacheIds.length;++s)Aa[e.textureCacheIds[s]]===e&&delete Aa[e.textureCacheIds[s]];return e.textureCacheIds.length=0,e}return null},Object.defineProperty(t.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"frame",{get:function(){return this._frame},set:function(e){this._frame=e,this.noFrame=!1;var i=e.x,r=e.y,s=e.width,o=e.height,a=i+s>this.baseTexture.width,l=r+o>this.baseTexture.height;if(a||l)throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: X: "+i+" + "+s+" = "+(i+s)+" > "+this.baseTexture.width+" "+(a&&l?"and":"or")+" Y: "+r+" + "+o+" = "+(r+o)+" > "+this.baseTexture.height);this.valid=s&&o&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotate",{get:function(){return this._rotate},set:function(e){this._rotate=e,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),t.prototype.castToBaseTexture=function(){return this.baseTexture},t}(im());function gE(n){n.destroy=function(){},n.on=function(){},n.once=function(){},n.emit=function(){}}Jt.EMPTY=new Jt(new Ci),gE(Jt.EMPTY),gE(Jt.EMPTY.baseTexture),Jt.WHITE=function sye(){var n=document.createElement("canvas");n.width=16,n.height=16;var t=n.getContext("2d");return t.fillStyle="white",t.fillRect(0,0,16,16),new Jt(new Ci(new hy(n)))}(),gE(Jt.WHITE),gE(Jt.WHITE.baseTexture);var Al=function(n){function t(e,i){var r=n.call(this,e,i)||this;return r.valid=!0,r.filterFrame=null,r.filterPoolKey=null,r.updateUvs(),r}return mr(t,n),Object.defineProperty(t.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(e){this.framebuffer.multisample=e},enumerable:!1,configurable:!0}),t.prototype.resize=function(e,i,r){void 0===r&&(r=!0);var s=this.baseTexture.resolution,o=Math.round(e*s)/s,a=Math.round(i*s)/s;this.valid=o>0&&a>0,this._frame.width=this.orig.width=o,this._frame.height=this.orig.height=a,r&&this.baseTexture.resize(o,a),this.updateUvs()},t.prototype.setResolution=function(e){var i=this.baseTexture;i.resolution!==e&&(i.setResolution(e),this.resize(i.width,i.height,!1))},t.create=function(e){for(var i=arguments,r=[],s=1;s<arguments.length;s++)r[s-1]=i[s];return"number"==typeof e&&(hu("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),e={width:e,height:r[0],scaleMode:r[1],resolution:r[2]}),new t(new fy(e))},t}(Jt),Zj=function(){function n(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return n.prototype.createTexture=function(t,e,i){void 0===i&&(i=qn.NONE);var r=new fy(Object.assign({width:t,height:e,resolution:1,multisample:i},this.textureOptions));return new Al(r)},n.prototype.getOptimalTexture=function(t,e,i,r){var s;void 0===i&&(i=1),void 0===r&&(r=qn.NONE),t=Math.ceil(t*i),e=Math.ceil(e*i),this.enableFullScreen&&t===this._pixelsWidth&&e===this._pixelsHeight?s=r>1?-r:-1:(s=((65535&(t=ay(t)))<<16|65535&(e=ay(e)))>>>0,r>1&&(s+=4294967296*r)),this.texturePool[s]||(this.texturePool[s]=[]);var o=this.texturePool[s].pop();return o||(o=this.createTexture(t,e,r)),o.filterPoolKey=s,o.setResolution(i),o},n.prototype.getFilterTexture=function(t,e,i){var r=this.getOptimalTexture(t.width,t.height,e||t.resolution,i||qn.NONE);return r.filterFrame=t.filterFrame,r},n.prototype.returnTexture=function(t){var e=t.filterPoolKey;t.filterFrame=null,this.texturePool[e].push(t)},n.prototype.returnFilterTexture=function(t){this.returnTexture(t)},n.prototype.clear=function(t){if(t=!1!==t)for(var e in this.texturePool){var i=this.texturePool[e];if(i)for(var r=0;r<i.length;r++)i[r].destroy(!0)}this.texturePool={}},n.prototype.setScreenSize=function(t){if(t.width!==this._pixelsWidth||t.height!==this._pixelsHeight){for(var e in this.enableFullScreen=t.width>0&&t.height>0,this.texturePool)if(Number(e)<0){var i=this.texturePool[e];if(i)for(var r=0;r<i.length;r++)i[r].destroy(!0);this.texturePool[e]=[]}this._pixelsWidth=t.width,this._pixelsHeight=t.height}},n.SCREEN_KEY=-1,n}(),xA=function(){function n(t,e,i,r,s,o,a){void 0===e&&(e=0),void 0===i&&(i=!1),void 0===r&&(r=Dt.FLOAT),this.buffer=t,this.size=e,this.normalized=i,this.type=r,this.stride=s,this.start=o,this.instance=a}return n.prototype.destroy=function(){this.buffer=null},n.from=function(t,e,i,r,s){return new n(t,e,i,r,s)},n}(),oye=0,ws=function(){function n(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=i,this.static=e,this.id=oye++,this.disposeRunner=new go("disposeBuffer")}return n.prototype.update=function(t){t instanceof Array&&(t=new Float32Array(t)),this.data=t||this.data,this._updateID++},n.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},n.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(n.prototype,"index",{get:function(){return this.type===Ts.ELEMENT_ARRAY_BUFFER},set:function(t){this.type=t?Ts.ELEMENT_ARRAY_BUFFER:Ts.ARRAY_BUFFER},enumerable:!1,configurable:!0}),n.from=function(t){return t instanceof Array&&(t=new Float32Array(t)),new n(t)},n}(),aye={Float32Array,Uint32Array,Int32Array,Uint8Array},Qj={5126:4,5123:2,5121:1},cye=0,uye={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},lm=function(){function n(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this.buffers=t,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=cye++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new go("disposeGeometry"),this.refCount=0}return n.prototype.addAttribute=function(t,e,i,r,s,o,a,l){if(void 0===i&&(i=0),void 0===r&&(r=!1),void 0===l&&(l=!1),!e)throw new Error("You must pass a buffer when creating an attribute");e instanceof ws||(e instanceof Array&&(e=new Float32Array(e)),e=new ws(e));var c=t.split("|");if(c.length>1){for(var u=0;u<c.length;u++)this.addAttribute(c[u],e,i,r,s);return this}var d=this.buffers.indexOf(e);return-1===d&&(this.buffers.push(e),d=this.buffers.length-1),this.attributes[t]=new xA(d,i,r,s,o,a,l),this.instanced=this.instanced||l,this},n.prototype.getAttribute=function(t){return this.attributes[t]},n.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]},n.prototype.addIndex=function(t){return t instanceof ws||(t instanceof Array&&(t=new Uint16Array(t)),t=new ws(t)),t.type=Ts.ELEMENT_ARRAY_BUFFER,this.indexBuffer=t,-1===this.buffers.indexOf(t)&&this.buffers.push(t),this},n.prototype.getIndex=function(){return this.indexBuffer},n.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var r,t=[],e=[],i=new ws;for(r in this.attributes){var s=this.attributes[r];t.push(this.buffers[s.buffer].data),e.push(s.size*Qj[s.type]/4),s.buffer=0}for(i.data=function lye(n,t){for(var e=0,i=0,r={},s=0;s<n.length;s++)i+=t[s],e+=n[s].length;var o=new ArrayBuffer(4*e),a=null,l=0;for(s=0;s<n.length;s++){var c=t[s],u=n[s],d=iE(u);r[d]||(r[d]=new aye[d](o)),a=r[d];for(var f=0;f<u.length;f++)a[(f/c|0)*i+l+f%c]=u[f];l+=c}return new Float32Array(o)}(t,e),r=0;r<this.buffers.length;r++)this.buffers[r]!==this.indexBuffer&&this.buffers[r].destroy();return this.buffers=[i],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},n.prototype.getSize=function(){for(var t in this.attributes){var e=this.attributes[t];return this.buffers[e.buffer].data.length/(e.stride/4||e.size)}return 0},n.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},n.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},n.prototype.clone=function(){for(var t=new n,e=0;e<this.buffers.length;e++)t.buffers[e]=new ws(this.buffers[e].data.slice(0));for(var e in this.attributes){var i=this.attributes[e];t.attributes[e]=new xA(i.buffer,i.size,i.normalized,i.type,i.stride,i.start,i.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.type=Ts.ELEMENT_ARRAY_BUFFER),t},n.merge=function(t){for(var o,e=new n,i=[],r=[],s=[],a=0;a<t.length;a++){o=t[a];for(var l=0;l<o.buffers.length;l++)r[l]=r[l]||0,r[l]+=o.buffers[l].data.length,s[l]=0}for(a=0;a<o.buffers.length;a++)i[a]=new(uye[iE(o.buffers[a].data)])(r[a]),e.buffers[a]=new ws(i[a]);for(a=0;a<t.length;a++)for(o=t[a],l=0;l<o.buffers.length;l++)i[l].set(o.buffers[l].data,s[l]),s[l]+=o.buffers[l].data.length;if(e.attributes=o.attributes,o.indexBuffer){e.indexBuffer=e.buffers[o.buffers.indexOf(o.indexBuffer)],e.indexBuffer.type=Ts.ELEMENT_ARRAY_BUFFER;var c=0,u=0,d=0,f=0;for(a=0;a<o.buffers.length;a++)if(o.buffers[a]!==o.indexBuffer){f=a;break}for(var a in o.attributes){var y=o.attributes[a];(0|y.buffer)===f&&(u+=y.size*Qj[y.type]/4)}for(a=0;a<t.length;a++){var O=t[a].indexBuffer.data;for(l=0;l<O.length;l++)e.indexBuffer.data[l+d]+=c;c+=t[a].buffers[f].data.length/u,d+=O.length}}return e},n}(),eH=function(n){function t(){var e=n.call(this)||this;return e.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),e}return mr(t,n),t}(lm),IA=function(n){function t(){var e=n.call(this)||this;return e.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),e.uvs=new Float32Array([0,0,1,0,1,1,0,1]),e.vertexBuffer=new ws(e.vertices),e.uvBuffer=new ws(e.uvs),e.addAttribute("aVertexPosition",e.vertexBuffer).addAttribute("aTextureCoord",e.uvBuffer).addIndex([0,1,2,0,2,3]),e}return mr(t,n),t.prototype.map=function(e,i){var r=0,s=0;return this.uvs[0]=r,this.uvs[1]=s,this.uvs[2]=r+i.width/e.width,this.uvs[3]=s,this.uvs[4]=r+i.width/e.width,this.uvs[5]=s+i.height/e.height,this.uvs[6]=r,this.uvs[7]=s+i.height/e.height,s=i.y,this.vertices[0]=r=i.x,this.vertices[1]=s,this.vertices[2]=r+i.width,this.vertices[3]=s,this.vertices[4]=r+i.width,this.vertices[5]=s+i.height,this.vertices[6]=r,this.vertices[7]=s+i.height,this.invalidate(),this},t.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},t}(lm),dye=0,ch=function(){function n(t,e,i){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=dye++,this.static=!!e,this.ubo=!!i,t instanceof ws?(this.buffer=t,this.buffer.type=Ts.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=t,this.ubo&&(this.buffer=new ws(new Float32Array(1)),this.buffer.type=Ts.UNIFORM_BUFFER,this.autoManage=!0))}return n.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},n.prototype.add=function(t,e,i){if(this.ubo)throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them");this.uniforms[t]=new n(e,i)},n.from=function(t,e,i){return new n(t,e,i)},n.uboFrom=function(t,e){return new n(t,null==e||e,!0)},n}(),tH=function(){function n(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=qn.NONE,this.sourceFrame=new mi,this.destinationFrame=new mi,this.bindingSourceFrame=new mi,this.bindingDestinationFrame=new mi,this.filters=[],this.transform=null}return n.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},n}(),_E=[new _r,new _r,new _r,new _r],AA=new zi,RA=function(){function n(t){this.renderer=t,this.defaultFilterStack=[{}],this.texturePool=new Zj,this.texturePool.setScreenSize(t.view),this.statePool=[],this.quad=new eH,this.quadUv=new IA,this.tempRect=new mi,this.activeState={},this.globalUniforms=new ch({outputFrame:new mi,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return n.prototype.push=function(t,e){for(var i,r,s=this.renderer,o=this.defaultFilterStack,a=this.statePool.pop()||new tH,l=this.renderer.renderTexture,c=e[0].resolution,u=e[0].multisample,d=e[0].padding,f=e[0].autoFit,y=null===(i=e[0].legacy)||void 0===i||i,O=1;O<e.length;O++){var I=e[O];c=Math.min(c,I.resolution),u=Math.min(u,I.multisample),d=this.useMaxPadding?Math.max(d,I.padding):d+I.padding,f=f&&I.autoFit,y=y||null===(r=I.legacy)||void 0===r||r}if(1===o.length&&(this.defaultFilterStack[0].renderTexture=l.current),o.push(a),a.resolution=c,a.multisample=u,a.legacy=y,a.target=t,a.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),a.sourceFrame.pad(d),f){var N=this.tempRect.copyFrom(l.sourceFrame);s.projection.transform&&this.transformAABB(AA.copyFrom(s.projection.transform).invert(),N),a.sourceFrame.fit(N)}this.roundFrame(a.sourceFrame,l.current?l.current.resolution:s.resolution,l.sourceFrame,l.destinationFrame,s.projection.transform),a.renderTexture=this.getOptimalFilterTexture(a.sourceFrame.width,a.sourceFrame.height,c,u),a.filters=e,a.destinationFrame.width=a.renderTexture.width,a.destinationFrame.height=a.renderTexture.height;var k=this.tempRect;k.x=0,k.y=0,k.width=a.sourceFrame.width,k.height=a.sourceFrame.height,a.renderTexture.filterFrame=a.sourceFrame,a.bindingSourceFrame.copyFrom(l.sourceFrame),a.bindingDestinationFrame.copyFrom(l.destinationFrame),a.transform=s.projection.transform,s.projection.transform=null,l.bind(a.renderTexture,a.sourceFrame,k),s.framebuffer.clear(0,0,0,0)},n.prototype.pop=function(){var t=this.defaultFilterStack,e=t.pop(),i=e.filters;this.activeState=e;var r=this.globalUniforms.uniforms;r.outputFrame=e.sourceFrame,r.resolution=e.resolution;var s=r.inputSize,o=r.inputPixel,a=r.inputClamp;if(s[0]=e.destinationFrame.width,s[1]=e.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*e.resolution),o[1]=Math.round(s[1]*e.resolution),o[2]=1/o[0],o[3]=1/o[1],a[0]=.5*o[2],a[1]=.5*o[3],a[2]=e.sourceFrame.width*s[2]-.5*o[2],a[3]=e.sourceFrame.height*s[3]-.5*o[3],e.legacy){var l=r.filterArea;l[0]=e.destinationFrame.width,l[1]=e.destinationFrame.height,l[2]=e.sourceFrame.x,l[3]=e.sourceFrame.y,r.filterClamp=r.inputClamp}this.globalUniforms.update();var c=t[t.length-1];if(this.renderer.framebuffer.blit(),1===i.length)i[0].apply(this,e.renderTexture,c.renderTexture,Lo.BLEND,e),this.returnFilterTexture(e.renderTexture);else{var u=e.renderTexture,d=this.getOptimalFilterTexture(u.width,u.height,e.resolution);d.filterFrame=u.filterFrame;var f=0;for(f=0;f<i.length-1;++f){1===f&&e.multisample>1&&((d=this.getOptimalFilterTexture(u.width,u.height,e.resolution)).filterFrame=u.filterFrame),i[f].apply(this,u,d,Lo.CLEAR,e);var y=u;u=d,d=y}i[f].apply(this,u,c.renderTexture,Lo.BLEND,e),f>1&&e.multisample>1&&this.returnFilterTexture(e.renderTexture),this.returnFilterTexture(u),this.returnFilterTexture(d)}e.clear(),this.statePool.push(e)},n.prototype.bindAndClear=function(t,e){void 0===e&&(e=Lo.CLEAR);var i=this.renderer,r=i.renderTexture,s=i.state;if(this.renderer.projection.transform=t===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.activeState.transform:null,t&&t.filterFrame){var o=this.tempRect;o.x=0,o.y=0,o.width=t.filterFrame.width,o.height=t.filterFrame.height,r.bind(t,t.filterFrame,o)}else t!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?r.bind(t):this.renderer.renderTexture.bind(t,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);(e===Lo.CLEAR||e===Lo.BLIT&&(1&s.stateId||this.forceClear))&&this.renderer.framebuffer.clear(0,0,0,0)},n.prototype.applyFilter=function(t,e,i,r){var s=this.renderer;s.state.set(t.state),this.bindAndClear(i,r),t.uniforms.uSampler=e,t.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(t),t.legacy=!!t.program.attributeData.aTextureCoord,t.legacy?(this.quadUv.map(e._frame,e.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(fo.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(fo.TRIANGLE_STRIP))},n.prototype.calculateSpriteMatrix=function(t,e){var i=this.activeState,r=i.sourceFrame,s=i.destinationFrame,o=e._texture.orig,a=t.set(s.width,0,0,s.height,r.x,r.y),l=e.worldTransform.copyTo(zi.TEMP_MATRIX);return l.invert(),a.prepend(l),a.scale(1/o.width,1/o.height),a.translate(e.anchor.x,e.anchor.y),a},n.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},n.prototype.getOptimalFilterTexture=function(t,e,i,r){return void 0===i&&(i=1),void 0===r&&(r=qn.NONE),this.texturePool.getOptimalTexture(t,e,i,r)},n.prototype.getFilterTexture=function(t,e,i){if("number"==typeof t){var r=t;t=e,e=r}var s=this.texturePool.getOptimalTexture((t=t||this.activeState.renderTexture).width,t.height,e||t.resolution,i||qn.NONE);return s.filterFrame=t.filterFrame,s},n.prototype.returnFilterTexture=function(t){this.texturePool.returnTexture(t)},n.prototype.emptyPool=function(){this.texturePool.clear(!0)},n.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},n.prototype.transformAABB=function(t,e){var i=_E[0],r=_E[1],s=_E[2],o=_E[3];i.set(e.left,e.top),r.set(e.left,e.bottom),s.set(e.right,e.top),o.set(e.right,e.bottom),t.apply(i,i),t.apply(r,r),t.apply(s,s),t.apply(o,o);var a=Math.min(i.x,r.x,s.x,o.x),l=Math.min(i.y,r.y,s.y,o.y),c=Math.max(i.x,r.x,s.x,o.x),u=Math.max(i.y,r.y,s.y,o.y);e.x=a,e.y=l,e.width=c-a,e.height=u-l},n.prototype.roundFrame=function(t,e,i,r,s){if(!(t.width<=0||t.height<=0||i.width<=0||i.height<=0)){if(s){var o=s.a,l=s.c,c=s.d;if((Math.abs(s.b)>1e-4||Math.abs(l)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(c)>1e-4))return}(s=s?AA.copyFrom(s):AA.identity()).translate(-i.x,-i.y).scale(r.width/i.width,r.height/i.height).translate(r.x,r.y),this.transformAABB(s,t),t.ceil(e),this.transformAABB(s.invert(),t)}},n}(),py=function(){function n(t){this.renderer=t}return n.prototype.flush=function(){},n.prototype.destroy=function(){this.renderer=null},n.prototype.start=function(){},n.prototype.stop=function(){this.flush()},n.prototype.render=function(t){},n}(),DA=function(){function n(t){this.renderer=t,this.emptyRenderer=new py(t),this.currentRenderer=this.emptyRenderer}return n.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},n.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},n.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},n.prototype.copyBoundTextures=function(t,e){for(var i=this.renderer.texture.boundTextures,r=e-1;r>=0;--r)t[r]=i[r]||null,t[r]&&(t[r]._batchLocation=r)},n.prototype.boundArray=function(t,e,i,r){for(var s=t.elements,o=t.ids,a=t.count,l=0,c=0;c<a;c++){var u=s[c],d=u._batchLocation;if(d>=0&&d<r&&e[d]===u)o[c]=d;else for(;l<r;){var f=e[l];if(!f||f._batchEnabled!==i||f._batchLocation!==l){o[c]=l,u._batchLocation=l,e[l]=u;break}l++}}},n.prototype.destroy=function(){this.renderer=null},n}(),nH=0,NA=function(){function n(t){this.renderer=t,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),t.view.addEventListener("webglcontextlost",this.handleContextLost,!1),t.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}return Object.defineProperty(n.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),n.prototype.contextChange=function(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=nH++,t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext()},n.prototype.initFromContext=function(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=nH++,this.renderer.runners.contextChange.emit(t)},n.prototype.initFromOptions=function(t){var e=this.createContext(this.renderer.view,t);this.initFromContext(e)},n.prototype.createContext=function(t,e){var i;if(Mt.PREFER_ENV>=Js.WEBGL2&&(i=t.getContext("webgl2",e)),i)this.webGLVersion=2;else if(this.webGLVersion=1,!(i=t.getContext("webgl",e)||t.getContext("experimental-webgl",e)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=i,this.getExtensions(),this.gl},n.prototype.getExtensions=function(){var t=this.gl,e={anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),s3tc:t.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:t.getExtension("WEBGL_compressed_texture_etc"),etc1:t.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:t.getExtension("WEBGL_compressed_texture_atc"),astc:t.getExtension("WEBGL_compressed_texture_astc")};1===this.webGLVersion?Object.assign(this.extensions,e,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),loseContext:t.getExtension("WEBGL_lose_context"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,e,{colorBufferFloat:t.getExtension("EXT_color_buffer_float")})},n.prototype.handleContextLost=function(t){t.preventDefault()},n.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},n.prototype.destroy=function(){var t=this.renderer.view;this.renderer=null,t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},n.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},n.prototype.validateContext=function(t){var e=t.getContextAttributes(),i="WebGL2RenderingContext"in self&&t instanceof self.WebGL2RenderingContext;i&&(this.webGLVersion=2),e.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var r=i||!!t.getExtension("OES_element_index_uint");this.supports.uint32Indices=r,r||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},n}(),iH=function n(t){this.framebuffer=t,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=qn.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0},hye=new mi,kA=function(){function n(t){this.renderer=t,this.managedFramebuffers=[],this.unknownFramebuffer=new pE(10,10),this.msaaSamples=null}return n.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new mi,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion){var e=this.renderer.context.extensions.drawBuffers,i=this.renderer.context.extensions.depthTexture;Mt.PREFER_ENV===Js.WEBGL_LEGACY&&(e=null,i=null),e?t.drawBuffers=function(r){return e.drawBuffersWEBGL(r)}:(this.hasMRT=!1,t.drawBuffers=function(){}),i||(this.writeDepthTexture=!1)}else this.msaaSamples=t.getInternalformatParameter(t.RENDERBUFFER,t.RGBA8,t.SAMPLES)},n.prototype.bind=function(t,e,i){void 0===i&&(i=0);var r=this.gl;if(t){var s=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,r.bindFramebuffer(r.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==i&&(t.dirtyId++,t.dirtyFormat++,s.mipLevel=i),s.dirtyId!==t.dirtyId&&(s.dirtyId=t.dirtyId,s.dirtyFormat!==t.dirtyFormat?(s.dirtyFormat=t.dirtyFormat,s.dirtySize=t.dirtySize,this.updateFramebuffer(t,i)):s.dirtySize!==t.dirtySize&&(s.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(var o=0;o<t.colorTextures.length;o++){var a=t.colorTextures[o];this.renderer.texture.unbind(a.parentTextureArray||a)}if(t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),e){var u=(l=e.width>>i)/e.width;this.setViewport(e.x*u,e.y*u,l,e.height>>i)}else{var l;this.setViewport(0,0,l=t.width>>i,t.height>>i)}}else this.current&&(this.current=null,r.bindFramebuffer(r.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},n.prototype.setViewport=function(t,e,i,r){var s=this.viewport;t=Math.round(t),e=Math.round(e),i=Math.round(i),r=Math.round(r),(s.width!==i||s.height!==r||s.x!==t||s.y!==e)&&(s.x=t,s.y=e,s.width=i,s.height=r,this.gl.viewport(t,e,i,r))},Object.defineProperty(n.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),n.prototype.clear=function(t,e,i,r,s){void 0===s&&(s=oh.COLOR|oh.DEPTH);var o=this.gl;o.clearColor(t,e,i,r),o.clear(s)},n.prototype.initFramebuffer=function(t){var i=new iH(this.gl.createFramebuffer());return i.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=i,this.managedFramebuffers.push(t),t.disposeRunner.add(this),i},n.prototype.resizeFramebuffer=function(t){var e=this.gl,i=t.glFramebuffers[this.CONTEXT_UID];i.msaaBuffer&&(e.bindRenderbuffer(e.RENDERBUFFER,i.msaaBuffer),e.renderbufferStorageMultisample(e.RENDERBUFFER,i.multisample,e.RGBA8,t.width,t.height)),i.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,i.stencil),i.msaaBuffer?e.renderbufferStorageMultisample(e.RENDERBUFFER,i.multisample,e.DEPTH24_STENCIL8,t.width,t.height):e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height));var r=t.colorTextures,s=r.length;e.drawBuffers||(s=Math.min(s,1));for(var o=0;o<s;o++){var a=r[o];this.renderer.texture.bind(a.parentTextureArray||a,0)}t.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(t.depthTexture,0)},n.prototype.updateFramebuffer=function(t,e){var i=this.gl,r=t.glFramebuffers[this.CONTEXT_UID],s=t.colorTextures,o=s.length;i.drawBuffers||(o=Math.min(o,1)),r.multisample>1&&this.canMultisampleFramebuffer(t)?(r.msaaBuffer=r.msaaBuffer||i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,r.msaaBuffer),i.renderbufferStorageMultisample(i.RENDERBUFFER,r.multisample,i.RGBA8,t.width,t.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,r.msaaBuffer)):r.msaaBuffer&&(i.deleteRenderbuffer(r.msaaBuffer),r.msaaBuffer=null,r.blitFramebuffer&&(r.blitFramebuffer.dispose(),r.blitFramebuffer=null));for(var a=[],l=0;l<o;l++){var c=s[l],u=c.parentTextureArray||c;this.renderer.texture.bind(u,0),(0!==l||!r.msaaBuffer)&&(i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+l,c.target,u._glTextures[this.CONTEXT_UID].texture,e),a.push(i.COLOR_ATTACHMENT0+l))}if(a.length>1&&i.drawBuffers(a),t.depthTexture&&this.writeDepthTexture){var f=t.depthTexture;this.renderer.texture.bind(f,0),i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,f._glTextures[this.CONTEXT_UID].texture,e)}!t.stencil&&!t.depth||t.depthTexture&&this.writeDepthTexture?r.stencil&&(i.deleteRenderbuffer(r.stencil),r.stencil=null):(r.stencil=r.stencil||i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,r.stencil),r.msaaBuffer?i.renderbufferStorageMultisample(i.RENDERBUFFER,r.multisample,i.DEPTH24_STENCIL8,t.width,t.height):i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,t.width,t.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,r.stencil))},n.prototype.canMultisampleFramebuffer=function(t){return 1!==this.renderer.context.webGLVersion&&t.colorTextures.length<=1&&!t.depthTexture},n.prototype.detectSamples=function(t){var e=this.msaaSamples,i=qn.NONE;if(t<=1||null===e)return i;for(var r=0;r<e.length;r++)if(e[r]<=t){i=e[r];break}return 1===i&&(i=qn.NONE),i},n.prototype.blit=function(t,e,i){var r=this,s=r.current,a=r.gl;if(2===r.renderer.context.webGLVersion&&s){var c=s.glFramebuffers[r.CONTEXT_UID];if(c){if(!t){if(!c.msaaBuffer)return;var u=s.colorTextures[0];if(!u)return;c.blitFramebuffer||(c.blitFramebuffer=new pE(s.width,s.height),c.blitFramebuffer.addColorTexture(0,u)),(t=c.blitFramebuffer).colorTextures[0]!==u&&(t.colorTextures[0]=u,t.dirtyId++,t.dirtyFormat++),(t.width!==s.width||t.height!==s.height)&&(t.width=s.width,t.height=s.height,t.dirtyId++,t.dirtySize++)}e||((e=hye).width=s.width,e.height=s.height),i||(i=e);var d=e.width===i.width&&e.height===i.height;this.bind(t),a.bindFramebuffer(a.READ_FRAMEBUFFER,c.framebuffer),a.blitFramebuffer(e.x,e.y,e.width,e.height,i.x,i.y,i.width,i.height,a.COLOR_BUFFER_BIT,d?a.NEAREST:a.LINEAR)}}},n.prototype.disposeFramebuffer=function(t,e){var i=t.glFramebuffers[this.CONTEXT_UID],r=this.gl;if(i){delete t.glFramebuffers[this.CONTEXT_UID];var s=this.managedFramebuffers.indexOf(t);s>=0&&this.managedFramebuffers.splice(s,1),t.disposeRunner.remove(this),e||(r.deleteFramebuffer(i.framebuffer),i.msaaBuffer&&r.deleteRenderbuffer(i.msaaBuffer),i.stencil&&r.deleteRenderbuffer(i.stencil)),i.blitFramebuffer&&i.blitFramebuffer.dispose()}},n.prototype.disposeAll=function(t){var e=this.managedFramebuffers;this.managedFramebuffers=[];for(var i=0;i<e.length;i++)this.disposeFramebuffer(e[i],t)},n.prototype.forceStencil=function(){var t=this.current;if(t){var e=t.glFramebuffers[this.CONTEXT_UID];if(e&&!e.stencil){t.stencil=!0;var i=t.width,r=t.height,s=this.gl,o=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o),e.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,e.multisample,s.DEPTH24_STENCIL8,i,r):s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,i,r),e.stencil=o,s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,o)}}},n.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new mi},n.prototype.destroy=function(){this.renderer=null},n}(),FA={5126:4,5123:2,5121:1},LA=function(){function n(t){this.renderer=t,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return n.prototype.contextChange=function(){this.disposeAll(!0);var t=this.gl=this.renderer.gl,e=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==e.webGLVersion){var i=this.renderer.context.extensions.vertexArrayObject;Mt.PREFER_ENV===Js.WEBGL_LEGACY&&(i=null),i?(t.createVertexArray=function(){return i.createVertexArrayOES()},t.bindVertexArray=function(s){return i.bindVertexArrayOES(s)},t.deleteVertexArray=function(s){return i.deleteVertexArrayOES(s)}):(this.hasVao=!1,t.createVertexArray=function(){return null},t.bindVertexArray=function(){return null},t.deleteVertexArray=function(){return null})}if(2!==e.webGLVersion){var r=t.getExtension("ANGLE_instanced_arrays");r?(t.vertexAttribDivisor=function(s,o){return r.vertexAttribDivisorANGLE(s,o)},t.drawElementsInstanced=function(s,o,a,l,c){return r.drawElementsInstancedANGLE(s,o,a,l,c)},t.drawArraysInstanced=function(s,o,a,l){return r.drawArraysInstancedANGLE(s,o,a,l)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===e.webGLVersion||!!e.extensions.uint32ElementIndex},n.prototype.bind=function(t,e){e=e||this.renderer.shader.shader;var i=this.gl,r=t.glVertexArrayObjects[this.CONTEXT_UID],s=!1;r||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=r={},s=!0);var o=r[e.program.id]||this.initGeometryVao(t,e,s);this._activeGeometry=t,this._activeVao!==o&&(this._activeVao=o,this.hasVao?i.bindVertexArray(o):this.activateVao(t,e.program)),this.updateBuffers()},n.prototype.reset=function(){this.unbind()},n.prototype.updateBuffers=function(){for(var t=this._activeGeometry,e=this.renderer.buffer,i=0;i<t.buffers.length;i++)e.update(t.buffers[i])},n.prototype.checkCompatibility=function(t,e){var i=t.attributes,r=e.attributeData;for(var s in r)if(!i[s])throw new Error('shader and geometry incompatible, geometry missing the "'+s+'" attribute')},n.prototype.getSignature=function(t,e){var i=t.attributes,r=e.attributeData,s=["g",t.id];for(var o in i)r[o]&&s.push(o,r[o].location);return s.join("-")},n.prototype.initGeometryVao=function(t,e,i){void 0===i&&(i=!0);var r=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,a=e.program;a.glPrograms[s]||this.renderer.shader.generateProgram(e),this.checkCompatibility(t,a);var l=this.getSignature(t,a),c=t.glVertexArrayObjects[this.CONTEXT_UID],u=c[l];if(u)return c[a.id]=u,u;var d=t.buffers,f=t.attributes,y={},O={};for(var I in d)y[I]=0,O[I]=0;for(var I in f)!f[I].size&&a.attributeData[I]?f[I].size=a.attributeData[I].size:f[I].size||console.warn("PIXI Geometry attribute '"+I+"' size cannot be determined (likely the bound shader does not have the attribute)"),y[f[I].buffer]+=f[I].size*FA[f[I].type];for(var I in f){var N=f[I],k=N.size;void 0===N.stride&&(N.stride=y[N.buffer]===k*FA[N.type]?0:y[N.buffer]),void 0===N.start&&(N.start=O[N.buffer],O[N.buffer]+=k*FA[N.type])}u=r.createVertexArray(),r.bindVertexArray(u);for(var B=0;B<d.length;B++){var G=d[B];o.bind(G),i&&G._glBuffers[s].refCount++}return this.activateVao(t,a),this._activeVao=u,c[a.id]=u,c[l]=u,u},n.prototype.disposeGeometry=function(t,e){var i;if(this.managedGeometries[t.id]){delete this.managedGeometries[t.id];var r=t.glVertexArrayObjects[this.CONTEXT_UID],s=this.gl,o=t.buffers,a=null===(i=this.renderer)||void 0===i?void 0:i.buffer;if(t.disposeRunner.remove(this),r){if(a)for(var l=0;l<o.length;l++){var c=o[l]._glBuffers[this.CONTEXT_UID];c&&(c.refCount--,0===c.refCount&&!e&&a.dispose(o[l],e))}if(!e)for(var u in r)if("g"===u[0]){var d=r[u];this._activeVao===d&&this.unbind(),s.deleteVertexArray(d)}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}},n.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedGeometries),i=0;i<e.length;i++)this.disposeGeometry(this.managedGeometries[e[i]],t)},n.prototype.activateVao=function(t,e){var i=this.gl,r=this.CONTEXT_UID,s=this.renderer.buffer,o=t.buffers,a=t.attributes;t.indexBuffer&&s.bind(t.indexBuffer);var l=null;for(var c in a){var u=a[c],d=o[u.buffer],f=d._glBuffers[r];if(e.attributeData[c]){l!==f&&(s.bind(d),l=f);var y=e.attributeData[c].location;if(i.enableVertexAttribArray(y),i.vertexAttribPointer(y,u.size,u.type||i.FLOAT,u.normalized,u.stride,u.start),u.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");i.vertexAttribDivisor(y,1)}}}},n.prototype.draw=function(t,e,i,r){var s=this.gl,o=this._activeGeometry;if(o.indexBuffer){var a=o.indexBuffer.data.BYTES_PER_ELEMENT,l=2===a?s.UNSIGNED_SHORT:s.UNSIGNED_INT;2===a||4===a&&this.canUseUInt32ElementIndex?o.instanced?s.drawElementsInstanced(t,e||o.indexBuffer.data.length,l,(i||0)*a,r||1):s.drawElements(t,e||o.indexBuffer.data.length,l,(i||0)*a):console.warn("unsupported index buffer type: uint32")}else o.instanced?s.drawArraysInstanced(t,i,e||o.getSize(),r||1):s.drawArrays(t,i,e||o.getSize());return this},n.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},n.prototype.destroy=function(){this.renderer=null},n}(),rH=function(){function n(t){void 0===t&&(t=null),this.type=Ii.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=Mt.FILTER_MULTISAMPLE,this.enabled=!0,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._target=null}return Object.defineProperty(n.prototype,"filter",{get:function(){return this._filters?this._filters[0]:null},set:function(t){t?this._filters?this._filters[0]=t:this._filters=[t]:this._filters=null},enumerable:!1,configurable:!0}),n.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=Ii.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null},n.prototype.copyCountersOrReset=function(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},n}();function sH(n,t,e){var i=n.createShader(t);return n.shaderSource(i,e),n.compileShader(i),i}function oH(n,t){var e=n.getShaderSource(t).split("\n").map(function(c,u){return u+": "+c}),i=n.getShaderInfoLog(t),r=i.split("\n"),s={},o=r.map(function(c){return parseFloat(c.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))}).filter(function(c){return!(!c||s[c]||(s[c]=!0,0))}),a=[""];o.forEach(function(c){e[c-1]="%c"+e[c-1]+"%c",a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});var l=e.join("\n");a[0]=l,console.error(i),console.groupCollapsed("click to view full shader code"),console.warn.apply(console,a),console.groupEnd()}function BA(n){for(var t=new Array(n),e=0;e<t.length;e++)t[e]=!1;return t}function aH(n,t){switch(n){case"float":case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"uvec2":return new Uint32Array(2*t);case"uvec3":return new Uint32Array(3*t);case"uvec4":return new Uint32Array(4*t);case"bool":return!1;case"bvec2":return BA(2*t);case"bvec3":return BA(3*t);case"bvec4":return BA(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var mE,lH={},gy=lH;function cH(){if(gy===lH||gy&&gy.isContextLost()){var n=document.createElement("canvas"),t=void 0;Mt.PREFER_ENV>=Js.WEBGL2&&(t=n.getContext("webgl2",{})),t||((t=n.getContext("webgl",{})||n.getContext("experimental-webgl",{}))?t.getExtension("WEBGL_draw_buffers"):t=null),gy=t}return gy}function uH(n,t,e){if("precision"!==n.substring(0,9)){var i=t;return t===Es.HIGH&&e!==Es.HIGH&&(i=Es.MEDIUM),"precision "+i+" float;\n"+n}return e!==Es.HIGH&&"precision highp"===n.substring(0,15)?n.replace("precision highp","precision mediump"):n}var gye={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function dH(n){return gye[n]}var vE=null,hH={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function fH(n,t){if(!vE){var e=Object.keys(hH);vE={};for(var i=0;i<e.length;++i){var r=e[i];vE[n[r]]=hH[r]}}return vE[t]}var _y,Vf=[{test:function(n){return"float"===n.type&&1===n.size},code:function(n){return'\n            if(uv["'+n+'"] !== ud["'+n+'"].value)\n            {\n                ud["'+n+'"].value = uv["'+n+'"]\n                gl.uniform1f(ud["'+n+'"].location, uv["'+n+'"])\n            }\n            '}},{test:function(n){return("sampler2D"===n.type||"samplerCube"===n.type||"sampler2DArray"===n.type)&&1===n.size&&!n.isArray},code:function(n){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'+n+'"], t);\n\n            if(ud["'+n+'"].value !== t)\n            {\n                ud["'+n+'"].value = t;\n                gl.uniform1i(ud["'+n+'"].location, t);\n; // eslint-disable-line max-len\n            }'}},{test:function(n,t){return"mat3"===n.type&&1===n.size&&void 0!==t.a},code:function(n){return'\n            gl.uniformMatrix3fv(ud["'+n+'"].location, false, uv["'+n+'"].toArray(true));\n            '},codeUbo:function(n){return"\n                var "+n+"_matrix = uv."+n+".toArray(true);\n\n                data[offset] = "+n+"_matrix[0];\n                data[offset+1] = "+n+"_matrix[1];\n                data[offset+2] = "+n+"_matrix[2];\n        \n                data[offset + 4] = "+n+"_matrix[3];\n                data[offset + 5] = "+n+"_matrix[4];\n                data[offset + 6] = "+n+"_matrix[5];\n        \n                data[offset + 8] = "+n+"_matrix[6];\n                data[offset + 9] = "+n+"_matrix[7];\n                data[offset + 10] = "+n+"_matrix[8];\n            "}},{test:function(n,t){return"vec2"===n.type&&1===n.size&&void 0!==t.x},code:function(n){return'\n                cv = ud["'+n+'"].value;\n                v = uv["'+n+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["'+n+'"].location, v.x, v.y);\n                }'},codeUbo:function(n){return"\n                v = uv."+n+";\n\n                data[offset] = v.x;\n                data[offset+1] = v.y;\n            "}},{test:function(n){return"vec2"===n.type&&1===n.size},code:function(n){return'\n                cv = ud["'+n+'"].value;\n                v = uv["'+n+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["'+n+'"].location, v[0], v[1]);\n                }\n            '}},{test:function(n,t){return"vec4"===n.type&&1===n.size&&void 0!==t.width},code:function(n){return'\n                cv = ud["'+n+'"].value;\n                v = uv["'+n+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["'+n+'"].location, v.x, v.y, v.width, v.height)\n                }'},codeUbo:function(n){return"\n                    v = uv."+n+";\n\n                    data[offset] = v.x;\n                    data[offset+1] = v.y;\n                    data[offset+2] = v.width;\n                    data[offset+3] = v.height;\n                "}},{test:function(n){return"vec4"===n.type&&1===n.size},code:function(n){return'\n                cv = ud["'+n+'"].value;\n                v = uv["'+n+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["'+n+'"].location, v[0], v[1], v[2], v[3])\n                }'}}],_ye={float:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1f(location, v);\n    }",vec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4f(location, v[0], v[1], v[2], v[3]);\n    }",int:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",ivec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",ivec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",ivec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",uint:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1ui(location, v);\n    }",uvec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2ui(location, v[0], v[1]);\n    }",uvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3ui(location, v[0], v[1], v[2]);\n    }",uvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);\n    }",bool:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1i(location, v);\n    }",bvec2:"\n    if (cv[0] != v[0] || cv[1] != v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",bvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",bvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},mye={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"},yye=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function bye(n){for(var t="",e=0;e<n;++e)e>0&&(t+="\nelse "),e<n-1&&(t+="if(test == "+e+".0){}");return t}function pH(n,t){if(0===n)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var e=t.createShader(t.FRAGMENT_SHADER);;){var i=yye.replace(/%forloop%/gi,bye(n));if(t.shaderSource(e,i),t.compileShader(e),t.getShaderParameter(e,t.COMPILE_STATUS))break;n=n/2|0}return n}var Tye=0,yE={},cm=function(){function n(t,e,i){void 0===i&&(i="pixi-shader"),this.id=Tye++,this.vertexSrc=t||n.defaultVertexSrc,this.fragmentSrc=e||n.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(i=i.replace(/\s+/g,"-"),yE[i]?(yE[i]++,i+="-"+yE[i]):yE[i]=1,this.vertexSrc="#define SHADER_NAME "+i+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+i+"\n"+this.fragmentSrc,this.vertexSrc=uH(this.vertexSrc,Mt.PRECISION_VERTEX,Es.HIGH),this.fragmentSrc=uH(this.fragmentSrc,Mt.PRECISION_FRAGMENT,function pye(){if(!mE){mE=Es.MEDIUM;var n=cH();if(n&&n.getShaderPrecisionFormat){var t=n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT);mE=t.precision?Es.HIGH:Es.MEDIUM}}return mE}())),this.glPrograms={},this.syncUniforms=null}return Object.defineProperty(n,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(n,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},enumerable:!1,configurable:!0}),n.from=function(t,e,i){var r=t+e,s=uA[r];return s||(uA[r]=s=new n(t,e,i)),s},n}(),id=function(){function n(t,e){this.uniformBindCount=0,this.program=t,this.uniformGroup=e?e instanceof ch?e:new ch(e):new ch({})}return n.prototype.checkUniformExists=function(t,e){if(e.uniforms[t])return!0;for(var i in e.uniforms){var r=e.uniforms[i];if(r.group&&this.checkUniformExists(t,r))return!0}return!1},n.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(n.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),n.from=function(t,e,i){return new n(cm.from(t,e),i)},n}(),uh=function(){function n(){this.data=0,this.blendMode=qe.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(n.prototype,"blend",{get:function(){return!!(1&this.data)},set:function(t){!!(1&this.data)!==t&&(this.data^=1)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"offsets",{get:function(){return!!(2&this.data)},set:function(t){!!(2&this.data)!==t&&(this.data^=2)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"culling",{get:function(){return!!(4&this.data)},set:function(t){!!(4&this.data)!==t&&(this.data^=4)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"depthTest",{get:function(){return!!(8&this.data)},set:function(t){!!(8&this.data)!==t&&(this.data^=8)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"depthMask",{get:function(){return!!(32&this.data)},set:function(t){!!(32&this.data)!==t&&(this.data^=32)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"clockwiseFrontFace",{get:function(){return!!(16&this.data)},set:function(t){!!(16&this.data)!==t&&(this.data^=16)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this.blend=t!==qe.NONE,this._blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(t){this.offsets=!!t,this._polygonOffset=t},enumerable:!1,configurable:!0}),n.prototype.toString=function(){return"[@pixi/core:State blendMode="+this.blendMode+" clockwiseFrontFace="+this.clockwiseFrontFace+" culling="+this.culling+" depthMask="+this.depthMask+" polygonOffset="+this.polygonOffset+"]"},n.for2d=function(){var t=new n;return t.depthTest=!1,t.blend=!0,t},n}(),rd=function(n){function t(e,i,r){var s=this,o=cm.from(e||t.defaultVertexSrc,i||t.defaultFragmentSrc);return(s=n.call(this,o,r)||this).padding=0,s.resolution=Mt.FILTER_RESOLUTION,s.multisample=Mt.FILTER_MULTISAMPLE,s.enabled=!0,s.autoFit=!0,s.state=new uh,s}return mr(t,n),t.prototype.apply=function(e,i,r,s,o){e.applyFilter(this,i,r,s)},Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(e){this._resolution=e},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},enumerable:!1,configurable:!0}),t}(id),gH=new zi,bE=function(){function n(t,e){this._texture=t,this.mapCoord=new zi,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=void 0===e?.5:e,this.isSimple=!1}return Object.defineProperty(n.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture=t,this._textureID=-1},enumerable:!1,configurable:!0}),n.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var i=this.mapCoord,r=0;r<t.length;r+=2){var s=t[r],o=t[r+1];e[r]=s*i.a+o*i.c+i.tx,e[r+1]=s*i.b+o*i.d+i.ty}return e},n.prototype.update=function(t){var e=this._texture;if(!e||!e.valid||!t&&this._textureID===e._updateID)return!1;this._textureID=e._updateID,this._updateID++;var i=e._uvs;this.mapCoord.set(i.x1-i.x0,i.y1-i.y0,i.x3-i.x0,i.y3-i.y0,i.x0,i.y0);var r=e.orig,s=e.trim;s&&(gH.set(r.width/s.width,0,0,r.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(gH));var o=e.baseTexture,a=this.uClampFrame,l=this.clampMargin/o.resolution,c=this.clampOffset;return a[0]=(e._frame.x+l+c)/o.width,a[1]=(e._frame.y+l+c)/o.height,a[2]=(e._frame.x+e._frame.width-l+c)/o.width,a[3]=(e._frame.y+e._frame.height-l+c)/o.height,this.uClampOffset[0]=c/o.realWidth,this.uClampOffset[1]=c/o.realHeight,this.isSimple=e._frame.width===o.width&&e._frame.height===o.height&&0===e.rotate,!0},n}(),_H=function(n){function t(e,i,r){var s=this,o=null;return"string"!=typeof e&&void 0===i&&void 0===r&&(o=e,e=void 0,i=void 0,r=void 0),(s=n.call(this,e||"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n",i||"varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n",r)||this).maskSprite=o,s.maskMatrix=new zi,s}return mr(t,n),Object.defineProperty(t.prototype,"maskSprite",{get:function(){return this._maskSprite},set:function(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)},enumerable:!1,configurable:!0}),t.prototype.apply=function(e,i,r,s){var o=this._maskSprite,a=o._texture;!a.valid||(a.uvMatrix||(a.uvMatrix=new bE(a,0)),a.uvMatrix.update(),this.uniforms.npmAlpha=a.baseTexture.alphaMode?0:1,this.uniforms.mask=a,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,o).prepend(a.uvMatrix.mapCoord),this.uniforms.alpha=o.worldAlpha,this.uniforms.maskClamp=a.uvMatrix.uClampFrame,e.applyFilter(this,i,r,s))},t}(rd),WA=function(){function n(t){this.renderer=t,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return n.prototype.setMaskStack=function(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)},n.prototype.push=function(t,e){var i=e;if(!i.isMaskData){var r=this.maskDataPool.pop()||new rH;r.pooled=!0,r.maskObject=e,i=r}if(i.copyCountersOrReset(0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null),i.autoDetect&&this.detect(i),i._target=t,i.type!==Ii.SPRITE&&this.maskStack.push(i),i.enabled)switch(i.type){case Ii.SCISSOR:this.renderer.scissor.push(i);break;case Ii.STENCIL:this.renderer.stencil.push(i);break;case Ii.SPRITE:i.copyCountersOrReset(null),this.pushSpriteMask(i)}i.type===Ii.SPRITE&&this.maskStack.push(i)},n.prototype.pop=function(t){var e=this.maskStack.pop();if(e&&e._target===t){if(e.enabled)switch(e.type){case Ii.SCISSOR:this.renderer.scissor.pop();break;case Ii.STENCIL:this.renderer.stencil.pop(e.maskObject);break;case Ii.SPRITE:this.popSpriteMask(e)}if(e.reset(),e.pooled&&this.maskDataPool.push(e),0!==this.maskStack.length){var i=this.maskStack[this.maskStack.length-1];i.type===Ii.SPRITE&&i._filters&&(i._filters[0].maskSprite=i.maskObject)}}},n.prototype.detect=function(t){t.type=t.maskObject.isSprite?Ii.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(t)?Ii.SCISSOR:Ii.STENCIL},n.prototype.pushSpriteMask=function(t){var e,i,r=t.maskObject,s=t._target,o=t._filters;o||(o=this.alphaMaskPool[this.alphaMaskIndex])||(o=this.alphaMaskPool[this.alphaMaskIndex]=[new _H]);var c,u,a=this.renderer,l=a.renderTexture;if(l.current){var d=l.current;c=t.resolution||d.resolution,u=null!==(e=t.multisample)&&void 0!==e?e:d.multisample}else c=t.resolution||a.resolution,u=null!==(i=t.multisample)&&void 0!==i?i:a.multisample;o[0].resolution=c,o[0].multisample=u,o[0].maskSprite=r;var f=s.filterArea;s.filterArea=r.getBounds(!0),a.filter.push(s,o),s.filterArea=f,t._filters||this.alphaMaskIndex++},n.prototype.popSpriteMask=function(t){this.renderer.filter.pop(),t._filters?t._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)},n.prototype.destroy=function(){this.renderer=null},n}(),mH=function(){function n(t){this.renderer=t,this.maskStack=[],this.glConst=0}return n.prototype.getStackLength=function(){return this.maskStack.length},n.prototype.setMaskStack=function(t){var e=this.renderer.gl,i=this.getStackLength();this.maskStack=t;var r=this.getStackLength();r!==i&&(0===r?e.disable(this.glConst):(e.enable(this.glConst),this._useCurrent()))},n.prototype._useCurrent=function(){},n.prototype.destroy=function(){this.renderer=null,this.maskStack=null},n}(),vH=new zi,$A=function(n){function t(e){var i=n.call(this,e)||this;return i.glConst=WebGLRenderingContext.SCISSOR_TEST,i}return mr(t,n),t.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0},t.prototype.calcScissorRect=function(e){if(!e._scissorRectLocal){var i=e._scissorRect,r=e.maskObject,s=this.renderer,o=s.renderTexture;r.renderable=!0;var a=r.getBounds();this.roundFrameToPixels(a,o.current?o.current.resolution:s.resolution,o.sourceFrame,o.destinationFrame,s.projection.transform),r.renderable=!1,i&&a.fit(i),e._scissorRectLocal=a}},t.isMatrixRotated=function(e){if(!e)return!1;var i=e.a,s=e.c,o=e.d;return(Math.abs(e.b)>1e-4||Math.abs(s)>1e-4)&&(Math.abs(i)>1e-4||Math.abs(o)>1e-4)},t.prototype.testScissor=function(e){var i=e.maskObject;if(!i.isFastRect||!i.isFastRect()||t.isMatrixRotated(i.worldTransform)||t.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);var r=e._scissorRectLocal;return r.width>0&&r.height>0},t.prototype.roundFrameToPixels=function(e,i,r,s,o){t.isMatrixRotated(o)||((o=o?vH.copyFrom(o):vH.identity()).translate(-r.x,-r.y).scale(s.width/r.width,s.height/r.height).translate(s.x,s.y),this.renderer.filter.transformAABB(o,e),e.fit(s),e.x=Math.round(e.x*i),e.y=Math.round(e.y*i),e.width=Math.round(e.width*i),e.height=Math.round(e.height*i))},t.prototype.push=function(e){e._scissorRectLocal||this.calcScissorRect(e);var i=this.renderer.gl;e._scissorRect||i.enable(i.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()},t.prototype.pop=function(){var e=this.renderer.gl;this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)},t.prototype._useCurrent=function(){var e=this.maskStack[this.maskStack.length-1]._scissorRect;this.renderer.gl.scissor(e.x,this.renderer.renderTexture.current?e.y:this.renderer.height-e.height-e.y,e.width,e.height)},t}(mH),YA=function(n){function t(e){var i=n.call(this,e)||this;return i.glConst=WebGLRenderingContext.STENCIL_TEST,i}return mr(t,n),t.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0},t.prototype.push=function(e){var i=e.maskObject,r=this.renderer.gl,s=e._stencilCounter;0===s&&(this.renderer.framebuffer.forceStencil(),r.clearStencil(0),r.clear(r.STENCIL_BUFFER_BIT),r.enable(r.STENCIL_TEST)),e._stencilCounter++,r.colorMask(!1,!1,!1,!1),r.stencilFunc(r.EQUAL,s,4294967295),r.stencilOp(r.KEEP,r.KEEP,r.INCR),i.renderable=!0,i.render(this.renderer),this.renderer.batch.flush(),i.renderable=!1,this._useCurrent()},t.prototype.pop=function(e){var i=this.renderer.gl;0===this.getStackLength()?i.disable(i.STENCIL_TEST):(i.colorMask(!1,!1,!1,!1),i.stencilOp(i.KEEP,i.KEEP,i.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent())},t.prototype._useCurrent=function(){var e=this.renderer.gl;e.colorMask(!0,!0,!0,!0),e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)},t}(mH),XA=function(){function n(t){this.renderer=t,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new zi,this.transform=null}return n.prototype.update=function(t,e,i,r){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,i,r),this.transform&&this.projectionMatrix.append(this.transform);var s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)},n.prototype.calculateProjection=function(t,e,i,r){var s=this.projectionMatrix,o=r?-1:1;s.identity(),s.a=1/e.width*2,s.d=o*(1/e.height*2),s.tx=-1-e.x*s.a,s.ty=-o-e.y*s.d},n.prototype.setTransform=function(t){},n.prototype.destroy=function(){this.renderer=null},n}(),zf=new mi,my=new mi,qA=function(){function n(t){this.renderer=t,this.clearColor=t._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new mi,this.destinationFrame=new mi,this.viewportFrame=new mi}return n.prototype.bind=function(t,e,i){void 0===t&&(t=null);var s,o,a,r=this.renderer;this.current=t,t?(a=(s=t.baseTexture).resolution,e||(zf.width=t.frame.width,zf.height=t.frame.height,e=zf),i||(my.x=t.frame.x,my.y=t.frame.y,my.width=e.width,my.height=e.height,i=my),o=s.framebuffer):(a=r.resolution,e||(zf.width=r.screen.width,zf.height=r.screen.height,e=zf),i||((i=zf).width=e.width,i.height=e.height));var l=this.viewportFrame;l.x=i.x*a,l.y=i.y*a,l.width=i.width*a,l.height=i.height*a,t||(l.y=r.view.height-(l.y+l.height)),l.ceil(),this.renderer.framebuffer.bind(o,l),this.renderer.projection.update(i,e,a,!o),this.renderer.mask.setMaskStack(t?s.maskStack:this.defaultMaskStack),this.sourceFrame.copyFrom(e),this.destinationFrame.copyFrom(i)},n.prototype.clear=function(t,e){t=this.current?t||this.current.baseTexture.clearColor:t||this.clearColor;var i=this.destinationFrame,r=this.current?this.current.baseTexture:this.renderer.screen,s=i.width!==r.width||i.height!==r.height;if(s){var o=this.viewportFrame,a=o.x,l=o.y,c=o.width,u=o.height;a=Math.round(a),l=Math.round(l),c=Math.round(c),u=Math.round(u),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(a,l,c,u)}this.renderer.framebuffer.clear(t[0],t[1],t[2],t[3],e),s&&this.renderer.scissor.pop()},n.prototype.resize=function(){this.bind(null)},n.prototype.reset=function(){this.bind(null)},n.prototype.destroy=function(){this.renderer=null},n}();function xye(n,t,e,i,r){e.buffer.update(r)}var Iye={float:"\n        data[offset] = v;\n    ",vec2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n    ",vec3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n    ",vec4:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n        data[offset+3] = v[3];\n    ",mat2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n\n        data[offset+4] = v[2];\n        data[offset+5] = v[3];\n    ",mat3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];\n    ",mat4:"\n        for(var i = 0; i < 16; i++)\n        {\n            data[offset + i] = v[i];\n        }\n    "},yH={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:32,mat3:48,mat4:64};function bH(n){for(var t=n.map(function(l){return{data:l,offset:0,dataLen:0,dirty:0}}),e=0,i=0,r=0,s=0;s<t.length;s++){var o=t[s];if(e=yH[o.data.type],o.data.size>1&&(e=Math.max(e,16)*o.data.size),o.dataLen=e,i%e!=0&&i<16){var a=i%e%16;i+=a,r+=a}i+e>16?(r=16*Math.ceil(r/16),o.offset=r,r+=e,i=e):(o.offset=r,i+=e,r+=e)}return{uboElements:t,size:r=16*Math.ceil(r/16)}}function SH(n,t){var e=[];for(var i in n)t[i]&&e.push(t[i]);return e.sort(function(r,s){return r.index-s.index}),e}function CH(n,t){if(!n.autoManage)return{size:0,syncFunc:xye};for(var i=bH(SH(n.uniforms,t)),r=i.uboElements,s=i.size,o=["\n    var v = null;\n    var v2 = null;\n    var cv = null;\n    var t = 0;\n    var gl = renderer.gl\n    var index = 0;\n    var data = buffer.data;\n    "],a=0;a<r.length;a++){for(var l=r[a],c=n.uniforms[l.data.name],u=l.data.name,d=!1,f=0;f<Vf.length;f++){var y=Vf[f];if(y.codeUbo&&y.test(l.data,c)){o.push("offset = "+l.offset/4+";",Vf[f].codeUbo(l.data.name,c)),d=!0;break}}if(!d)if(l.data.size>1){var O=dH(l.data.type),I=Math.max(yH[l.data.type]/16,1),N=O/I;o.push("\n                cv = ud."+u+".value;\n                v = uv."+u+";\n                offset = "+l.offset/4+";\n\n                t = 0;\n\n                for(var i=0; i < "+l.data.size*I+"; i++)\n                {\n                    for(var j = 0; j < "+N+"; j++)\n                    {\n                        data[offset++] = v[t++];\n                    }\n                    offset += "+(4-N%4)%4+";\n                }\n\n                ")}else o.push("\n                cv = ud."+u+".value;\n                v = uv."+u+";\n                offset = "+l.offset/4+";\n                "+Iye[l.data.type]+";\n                ")}return o.push("\n       renderer.buffer.update(buffer);\n    "),{size:s,syncFunc:new Function("ud","uv","renderer","syncData","buffer",o.join("\n"))}}var Aye=function n(){},EH=function(){function n(t,e){this.program=t,this.uniformData=e,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return n.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},n}();function TH(n,t){var e=sH(n,n.VERTEX_SHADER,t.vertexSrc),i=sH(n,n.FRAGMENT_SHADER,t.fragmentSrc),r=n.createProgram();if(n.attachShader(r,e),n.attachShader(r,i),n.linkProgram(r),n.getProgramParameter(r,n.LINK_STATUS)||function fye(n,t,e,i){n.getProgramParameter(t,n.LINK_STATUS)||(n.getShaderParameter(e,n.COMPILE_STATUS)||oH(n,e),n.getShaderParameter(i,n.COMPILE_STATUS)||oH(n,i),console.error("PixiJS Error: Could not initialize shader."),""!==n.getProgramInfoLog(t)&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",n.getProgramInfoLog(t)))}(n,r,e,i),t.attributeData=function Rye(n,t){for(var e={},i=t.getProgramParameter(n,t.ACTIVE_ATTRIBUTES),r=0;r<i;r++){var s=t.getActiveAttrib(n,r);if(0!==s.name.indexOf("gl_")){var o=fH(t,s.type),a={type:o,name:s.name,size:dH(o),location:t.getAttribLocation(n,s.name)};e[s.name]=a}}return e}(r,n),t.uniformData=function Dye(n,t){for(var e={},i=t.getProgramParameter(n,t.ACTIVE_UNIFORMS),r=0;r<i;r++){var s=t.getActiveUniform(n,r),o=s.name.replace(/\[.*?\]$/,""),a=!!s.name.match(/\[.*?\]$/),l=fH(t,s.type);e[o]={name:o,index:r,type:l,size:s.size,isArray:a,value:aH(l,s.size)}}return e}(r,n),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(t.vertexSrc)){var s=Object.keys(t.attributeData);s.sort(function(u,d){return u>d?1:-1});for(var o=0;o<s.length;o++)t.attributeData[s[o]].location=o,n.bindAttribLocation(r,o,s[o]);n.linkProgram(r)}n.deleteShader(e),n.deleteShader(i);var a={};for(var o in t.uniformData){var l=t.uniformData[o];a[o]={location:n.getUniformLocation(r,o),value:aH(l.type,l.size)}}return new EH(r,a)}var Nye=0,SE={textureCount:0,uboCount:0},KA=function(){function n(t){this.destroyed=!1,this.renderer=t,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=Nye++}return n.prototype.systemCheck=function(){if(!function Sye(){if("boolean"==typeof _y)return _y;try{var n=new Function("param1","param2","param3","return param1[param2] === param3;");_y=!0===n({a:"b"},"a","b")}catch(t){_y=!1}return _y}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},n.prototype.contextChange=function(t){this.gl=t,this.reset()},n.prototype.bind=function(t,e){t.uniforms.globals=this.renderer.globalUniforms;var i=t.program,r=i.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(t);return this.shader=t,this.program!==i&&(this.program=i,this.gl.useProgram(r.program)),e||(SE.textureCount=0,SE.uboCount=0,this.syncUniformGroup(t.uniformGroup,SE)),r},n.prototype.setUniforms=function(t){var e=this.shader.program;e.syncUniforms(e.glPrograms[this.renderer.CONTEXT_UID].uniformData,t,this.renderer)},n.prototype.syncUniformGroup=function(t,e){var i=this.getGlProgram();(!t.static||t.dirtyId!==i.uniformDirtyGroups[t.id])&&(i.uniformDirtyGroups[t.id]=t.dirtyId,this.syncUniforms(t,i,e))},n.prototype.syncUniforms=function(t,e,i){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(e.uniformData,t.uniforms,this.renderer,i)},n.prototype.createSyncGroups=function(t){var e=this.getSignature(t,this.shader.program.uniformData,"u");return this.cache[e]||(this.cache[e]=function vye(n,t){var e,i=["\n        var v = null;\n        var cv = null;\n        var cu = null;\n        var t = 0;\n        var gl = renderer.gl;\n    "];for(var r in n.uniforms){var s=t[r];if(s){for(var o=n.uniforms[r],a=!1,l=0;l<Vf.length;l++)if(Vf[l].test(s,o)){i.push(Vf[l].code(r,o)),a=!0;break}if(!a){var u=(1===s.size?_ye:mye)[s.type].replace("location",'ud["'+r+'"].location');i.push('\n            cu = ud["'+r+'"];\n            cv = cu.value;\n            v = uv["'+r+'"];\n            '+u+";")}}else(null===(e=n.uniforms[r])||void 0===e?void 0:e.group)&&i.push(n.uniforms[r].ubo?"\n                        renderer.shader.syncUniformBufferGroup(uv."+r+", '"+r+"');\n                    ":"\n                        renderer.shader.syncUniformGroup(uv."+r+", syncData);\n                    ")}return new Function("ud","uv","renderer","syncData",i.join("\n"))}(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[e],t.syncUniforms[this.shader.program.id]},n.prototype.syncUniformBufferGroup=function(t,e){var i=this.getGlProgram();if(!t.static||0!==t.dirtyId||!i.uniformGroups[t.id]){t.dirtyId=0;var r=i.uniformGroups[t.id]||this.createSyncBufferGroup(t,i,e);t.buffer.update(),r(i.uniformData,t.uniforms,this.renderer,SE,t.buffer)}this.renderer.buffer.bindBufferBase(t.buffer,i.uniformBufferBindings[e])},n.prototype.createSyncBufferGroup=function(t,e,i){var r=this.renderer.gl;this.renderer.buffer.bind(t.buffer);var s=this.gl.getUniformBlockIndex(e.program,i);e.uniformBufferBindings[i]=this.shader.uniformBindCount,r.uniformBlockBinding(e.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;var o=this.getSignature(t,this.shader.program.uniformData,"ubo"),a=this._uboCache[o];if(a||(a=this._uboCache[o]=CH(t,this.shader.program.uniformData)),t.autoManage){var l=new Float32Array(a.size/4);t.buffer.update(l)}return e.uniformGroups[t.id]=a.syncFunc,e.uniformGroups[t.id]},n.prototype.getSignature=function(t,e,i){var r=t.uniforms,s=[i+"-"];for(var o in r)s.push(o),e[o]&&s.push(e[o].type);return s.join("-")},n.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},n.prototype.generateProgram=function(t){var i=t.program,r=TH(this.gl,i);return i.glPrograms[this.renderer.CONTEXT_UID]=r,r},n.prototype.reset=function(){this.program=null,this.shader=null},n.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},n}(),JA=function(){function n(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=qe.NONE,this._blendEq=!1,this.map=[],this.map[0]=this.setBlend,this.map[1]=this.setOffset,this.map[2]=this.setCullFace,this.map[3]=this.setDepthTest,this.map[4]=this.setFrontFace,this.map[5]=this.setDepthMask,this.checks=[],this.defaultState=new uh,this.defaultState.blend=!0}return n.prototype.contextChange=function(t){this.gl=t,this.blendModes=function kye(n,t){return void 0===t&&(t=[]),t[qe.NORMAL]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[qe.ADD]=[n.ONE,n.ONE],t[qe.MULTIPLY]=[n.DST_COLOR,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA],t[qe.SCREEN]=[n.ONE,n.ONE_MINUS_SRC_COLOR,n.ONE,n.ONE_MINUS_SRC_ALPHA],t[qe.OVERLAY]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[qe.DARKEN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[qe.LIGHTEN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[qe.COLOR_DODGE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[qe.COLOR_BURN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[qe.HARD_LIGHT]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[qe.SOFT_LIGHT]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[qe.DIFFERENCE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[qe.EXCLUSION]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[qe.HUE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[qe.SATURATION]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[qe.COLOR]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[qe.LUMINOSITY]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[qe.NONE]=[0,0],t[qe.NORMAL_NPM]=[n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA],t[qe.ADD_NPM]=[n.SRC_ALPHA,n.ONE,n.ONE,n.ONE],t[qe.SCREEN_NPM]=[n.SRC_ALPHA,n.ONE_MINUS_SRC_COLOR,n.ONE,n.ONE_MINUS_SRC_ALPHA],t[qe.SRC_IN]=[n.DST_ALPHA,n.ZERO],t[qe.SRC_OUT]=[n.ONE_MINUS_DST_ALPHA,n.ZERO],t[qe.SRC_ATOP]=[n.DST_ALPHA,n.ONE_MINUS_SRC_ALPHA],t[qe.DST_OVER]=[n.ONE_MINUS_DST_ALPHA,n.ONE],t[qe.DST_IN]=[n.ZERO,n.SRC_ALPHA],t[qe.DST_OUT]=[n.ZERO,n.ONE_MINUS_SRC_ALPHA],t[qe.DST_ATOP]=[n.ONE_MINUS_DST_ALPHA,n.SRC_ALPHA],t[qe.XOR]=[n.ONE_MINUS_DST_ALPHA,n.ONE_MINUS_SRC_ALPHA],t[qe.SUBTRACT]=[n.ONE,n.ONE,n.ONE,n.ONE,n.FUNC_REVERSE_SUBTRACT,n.FUNC_ADD],t}(t),this.set(this.defaultState),this.reset()},n.prototype.set=function(t){if(this.stateId!==(t=t||this.defaultState).data){for(var e=this.stateId^t.data,i=0;e;)1&e&&this.map[i].call(this,!!(t.data&1<<i)),e>>=1,i++;this.stateId=t.data}for(i=0;i<this.checks.length;i++)this.checks[i](this,t)},n.prototype.forceState=function(t){t=t||this.defaultState;for(var e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data},n.prototype.setBlend=function(t){this.updateCheck(n.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)},n.prototype.setOffset=function(t){this.updateCheck(n.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},n.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)},n.prototype.setDepthMask=function(t){this.gl.depthMask(t)},n.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)},n.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])},n.prototype.setBlendMode=function(t){if(t!==this.blendMode){this.blendMode=t;var e=this.blendModes[t],i=this.gl;2===e.length?i.blendFunc(e[0],e[1]):i.blendFuncSeparate(e[0],e[1],e[2],e[3]),6===e.length?(this._blendEq=!0,i.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,i.blendEquationSeparate(i.FUNC_ADD,i.FUNC_ADD))}},n.prototype.setPolygonOffset=function(t,e){this.gl.polygonOffset(t,e)},n.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},n.prototype.updateCheck=function(t,e){var i=this.checks.indexOf(t);e&&-1===i?this.checks.push(t):!e&&-1!==i&&this.checks.splice(i,1)},n.checkBlendMode=function(t,e){t.setBlendMode(e.blendMode)},n.checkPolygonOffset=function(t,e){t.setPolygonOffset(1,e.polygonOffset)},n.prototype.destroy=function(){this.gl=null},n}(),ZA=function(){function n(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=Mt.GC_MAX_IDLE,this.checkCountMax=Mt.GC_MAX_CHECK_COUNT,this.mode=Mt.GC_MODE}return n.prototype.postrender=function(){!this.renderer.renderingToScreen||(this.count++,this.mode!==rm.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},n.prototype.run=function(){for(var t=this.renderer.texture,e=t.managedTextures,i=!1,r=0;r<e.length;r++){var s=e[r];!s.framebuffer&&this.count-s.touched>this.maxIdle&&(t.destroyTexture(s,!0),e[r]=null,i=!0)}if(i){var o=0;for(r=0;r<e.length;r++)null!==e[r]&&(e[o++]=e[r]);e.length=o}},n.prototype.unload=function(t){var i=t._texture;i&&!i.framebuffer&&this.renderer.texture.destroyTexture(i);for(var r=t.children.length-1;r>=0;r--)this.unload(t.children[r])},n.prototype.destroy=function(){this.renderer=null},n}(),CE=function n(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=Dt.UNSIGNED_BYTE,this.internalFormat=it.RGBA,this.samplerType=0},QA=function(){function n(t){this.renderer=t,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Ci,this.hasIntegerTextures=!1}return n.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=function Hye(n){var t,e,i,r,s,o,a,l,c,u,d,f,y,O,I,N,k,B,G,Y,J,Z,ge;return"WebGL2RenderingContext"in self&&n instanceof self.WebGL2RenderingContext?((t={})[Dt.UNSIGNED_BYTE]=((e={})[it.RGBA]=n.RGBA8,e[it.RGB]=n.RGB8,e[it.RG]=n.RG8,e[it.RED]=n.R8,e[it.RGBA_INTEGER]=n.RGBA8UI,e[it.RGB_INTEGER]=n.RGB8UI,e[it.RG_INTEGER]=n.RG8UI,e[it.RED_INTEGER]=n.R8UI,e[it.ALPHA]=n.ALPHA,e[it.LUMINANCE]=n.LUMINANCE,e[it.LUMINANCE_ALPHA]=n.LUMINANCE_ALPHA,e),t[Dt.BYTE]=((i={})[it.RGBA]=n.RGBA8_SNORM,i[it.RGB]=n.RGB8_SNORM,i[it.RG]=n.RG8_SNORM,i[it.RED]=n.R8_SNORM,i[it.RGBA_INTEGER]=n.RGBA8I,i[it.RGB_INTEGER]=n.RGB8I,i[it.RG_INTEGER]=n.RG8I,i[it.RED_INTEGER]=n.R8I,i),t[Dt.UNSIGNED_SHORT]=((r={})[it.RGBA_INTEGER]=n.RGBA16UI,r[it.RGB_INTEGER]=n.RGB16UI,r[it.RG_INTEGER]=n.RG16UI,r[it.RED_INTEGER]=n.R16UI,r[it.DEPTH_COMPONENT]=n.DEPTH_COMPONENT16,r),t[Dt.SHORT]=((s={})[it.RGBA_INTEGER]=n.RGBA16I,s[it.RGB_INTEGER]=n.RGB16I,s[it.RG_INTEGER]=n.RG16I,s[it.RED_INTEGER]=n.R16I,s),t[Dt.UNSIGNED_INT]=((o={})[it.RGBA_INTEGER]=n.RGBA32UI,o[it.RGB_INTEGER]=n.RGB32UI,o[it.RG_INTEGER]=n.RG32UI,o[it.RED_INTEGER]=n.R32UI,o[it.DEPTH_COMPONENT]=n.DEPTH_COMPONENT24,o),t[Dt.INT]=((a={})[it.RGBA_INTEGER]=n.RGBA32I,a[it.RGB_INTEGER]=n.RGB32I,a[it.RG_INTEGER]=n.RG32I,a[it.RED_INTEGER]=n.R32I,a),t[Dt.FLOAT]=((l={})[it.RGBA]=n.RGBA32F,l[it.RGB]=n.RGB32F,l[it.RG]=n.RG32F,l[it.RED]=n.R32F,l[it.DEPTH_COMPONENT]=n.DEPTH_COMPONENT32F,l),t[Dt.HALF_FLOAT]=((c={})[it.RGBA]=n.RGBA16F,c[it.RGB]=n.RGB16F,c[it.RG]=n.RG16F,c[it.RED]=n.R16F,c),t[Dt.UNSIGNED_SHORT_5_6_5]=((u={})[it.RGB]=n.RGB565,u),t[Dt.UNSIGNED_SHORT_4_4_4_4]=((d={})[it.RGBA]=n.RGBA4,d),t[Dt.UNSIGNED_SHORT_5_5_5_1]=((f={})[it.RGBA]=n.RGB5_A1,f),t[Dt.UNSIGNED_INT_2_10_10_10_REV]=((y={})[it.RGBA]=n.RGB10_A2,y[it.RGBA_INTEGER]=n.RGB10_A2UI,y),t[Dt.UNSIGNED_INT_10F_11F_11F_REV]=((O={})[it.RGB]=n.R11F_G11F_B10F,O),t[Dt.UNSIGNED_INT_5_9_9_9_REV]=((I={})[it.RGB]=n.RGB9_E5,I),t[Dt.UNSIGNED_INT_24_8]=((N={})[it.DEPTH_STENCIL]=n.DEPTH24_STENCIL8,N),t[Dt.FLOAT_32_UNSIGNED_INT_24_8_REV]=((k={})[it.DEPTH_STENCIL]=n.DEPTH32F_STENCIL8,k),ge=t):((B={})[Dt.UNSIGNED_BYTE]=((G={})[it.RGBA]=n.RGBA,G[it.RGB]=n.RGB,G[it.ALPHA]=n.ALPHA,G[it.LUMINANCE]=n.LUMINANCE,G[it.LUMINANCE_ALPHA]=n.LUMINANCE_ALPHA,G),B[Dt.UNSIGNED_SHORT_5_6_5]=((Y={})[it.RGB]=n.RGB,Y),B[Dt.UNSIGNED_SHORT_4_4_4_4]=((J={})[it.RGBA]=n.RGBA,J),B[Dt.UNSIGNED_SHORT_5_5_5_1]=((Z={})[it.RGBA]=n.RGBA,Z),ge=B),ge}(t);var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(var i=0;i<e;i++)this.boundTextures[i]=null;this.emptyTextures={};var r=new CE(t.createTexture());for(t.bindTexture(t.TEXTURE_2D,r.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=r,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new CE(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture),i=0;i<6;i++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);for(t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR),i=0;i<this.boundTextures.length;i++)this.bind(null,i)},n.prototype.bind=function(t,e){void 0===e&&(e=0);var i=this.gl;if((t=null==t?void 0:t.castToBaseTexture())&&t.valid&&!t.parentTextureArray){t.touched=this.renderer.textureGC.count;var r=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[e]!==t&&(this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),i.bindTexture(t.target,r.texture)),r.dirtyId!==t.dirtyId&&(this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),this.updateTexture(t)),this.boundTextures[e]=t}else this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),i.bindTexture(i.TEXTURE_2D,this.emptyTextures[i.TEXTURE_2D].texture),this.boundTextures[e]=null},n.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture},n.prototype.unbind=function(t){var i=this.gl,r=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var s=0;s<r.length;s++)r[s]===this.unknownTexture&&this.bind(null,s)}for(s=0;s<r.length;s++)r[s]===t&&(this.currentLocation!==s&&(i.activeTexture(i.TEXTURE0+s),this.currentLocation=s),i.bindTexture(t.target,this.emptyTextures[t.target].texture),r[s]=null)},n.prototype.ensureSamplerType=function(t){var e=this,i=e.boundTextures,s=e.CONTEXT_UID;if(e.hasIntegerTextures)for(var o=t-1;o>=0;--o){var a=i[o];a&&a._glTextures[s].samplerType!==ah.FLOAT&&this.renderer.texture.unbind(a)}},n.prototype.initTexture=function(t){var e=new CE(this.gl.createTexture());return e.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),e},n.prototype.initTextureType=function(t,e){var i,r;e.internalFormat=null!==(r=null===(i=this.internalFormats[t.type])||void 0===i?void 0:i[t.format])&&void 0!==r?r:t.format,e.type=2===this.webGLVersion&&t.type===Dt.HALF_FLOAT?this.gl.HALF_FLOAT:t.type},n.prototype.updateTexture=function(t){var e=t._glTextures[this.CONTEXT_UID];if(e){var i=this.renderer;if(this.initTextureType(t,e),t.resource&&t.resource.upload(i,t,e))e.samplerType!==ah.FLOAT&&(this.hasIntegerTextures=!0);else{var r=t.realWidth,s=t.realHeight,o=i.gl;(e.width!==r||e.height!==s||e.dirtyId<0)&&(e.width=r,e.height=s,o.texImage2D(t.target,0,e.internalFormat,r,s,0,t.format,e.type,null))}t.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(t),e.dirtyId=t.dirtyId}},n.prototype.destroyTexture=function(t,e){var i=this.gl;if((t=t.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(t),i.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!e)){var r=this.managedTextures.indexOf(t);-1!==r&&kf(this.managedTextures,r,1)}},n.prototype.updateTextureStyle=function(t){var e=t._glTextures[this.CONTEXT_UID];!e||(e.mipmap=!!(t.mipmap!==aa.POW2&&2===this.webGLVersion||t.isPowerOfTwo)&&t.mipmap>=1,e.wrapMode=2===this.webGLVersion||t.isPowerOfTwo?t.wrapMode:xl.CLAMP,t.resource&&t.resource.style(this.renderer,t,e)||this.setStyle(t,e),e.dirtyStyleId=t.dirtyStyleId)},n.prototype.setStyle=function(t,e){var i=this.gl;if(e.mipmap&&t.mipmap!==aa.ON_MANUAL&&i.generateMipmap(t.target),i.texParameteri(t.target,i.TEXTURE_WRAP_S,e.wrapMode),i.texParameteri(t.target,i.TEXTURE_WRAP_T,e.wrapMode),e.mipmap){i.texParameteri(t.target,i.TEXTURE_MIN_FILTER,t.scaleMode===Cs.LINEAR?i.LINEAR_MIPMAP_LINEAR:i.NEAREST_MIPMAP_NEAREST);var r=this.renderer.context.extensions.anisotropicFiltering;if(r&&t.anisotropicLevel>0&&t.scaleMode===Cs.LINEAR){var s=Math.min(t.anisotropicLevel,i.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT));i.texParameterf(t.target,r.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else i.texParameteri(t.target,i.TEXTURE_MIN_FILTER,t.scaleMode===Cs.LINEAR?i.LINEAR:i.NEAREST);i.texParameteri(t.target,i.TEXTURE_MAG_FILTER,t.scaleMode===Cs.LINEAR?i.LINEAR:i.NEAREST)},n.prototype.destroy=function(){this.renderer=null},n}(),wH={__proto__:null,FilterSystem:RA,BatchSystem:DA,ContextSystem:NA,FramebufferSystem:kA,GeometrySystem:LA,MaskSystem:WA,ScissorSystem:$A,StencilSystem:YA,ProjectionSystem:XA,RenderTextureSystem:qA,ShaderSystem:KA,StateSystem:JA,TextureGCSystem:ZA,TextureSystem:QA},e2=new zi,t2=function(n){function t(e,i){void 0===e&&(e=Tc.UNKNOWN);var r=n.call(this)||this;return i=Object.assign({},Mt.RENDER_OPTIONS,i),r.options=i,r.type=e,r.screen=new mi(0,0,i.width,i.height),r.view=i.view||document.createElement("canvas"),r.resolution=i.resolution||Mt.RESOLUTION,r.useContextAlpha=i.useContextAlpha,r.autoDensity=!!i.autoDensity,r.preserveDrawingBuffer=i.preserveDrawingBuffer,r.clearBeforeRender=i.clearBeforeRender,r._backgroundColor=0,r._backgroundColorRgba=[0,0,0,1],r._backgroundColorString="#000000",r.backgroundColor=i.backgroundColor||r._backgroundColor,r.backgroundAlpha=i.backgroundAlpha,void 0!==i.transparent&&(hu("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),r.useContextAlpha=i.transparent,r.backgroundAlpha=i.transparent?0:1),r._lastObjectRendered=null,r.plugins={},r}return mr(t,n),t.prototype.initPlugins=function(e){for(var i in e)this.plugins[i]=new e[i](this)},Object.defineProperty(t.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),t.prototype.resize=function(e,i){this.view.width=Math.round(e*this.resolution),this.view.height=Math.round(i*this.resolution);var r=this.view.width/this.resolution,s=this.view.height/this.resolution;this.screen.width=r,this.screen.height=s,this.autoDensity&&(this.view.style.width=r+"px",this.view.style.height=s+"px"),this.emit("resize",r,s)},t.prototype.generateTexture=function(e,i,r,s){void 0===i&&(i={}),"number"==typeof i&&(hu("6.1.0","generateTexture options (scaleMode, resolution, region) are now object options."),i={scaleMode:i,resolution:r,region:s});var o=i.region,a=function nye(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&(e[i[r]]=n[i[r]])}return e}(i,["region"]);0===(s=o||e.getLocalBounds(null,!0)).width&&(s.width=1),0===s.height&&(s.height=1);var l=Al.create(CA({width:s.width,height:s.height},a));return e2.tx=-s.x,e2.ty=-s.y,this.render(e,{renderTexture:l,clear:!1,transform:e2,skipUpdateTransform:!!e.parent}),l},t.prototype.destroy=function(e){for(var i in this.plugins)this.plugins[i].destroy(),this.plugins[i]=null;e&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var r=this;r.plugins=null,r.type=Tc.UNKNOWN,r.view=null,r.screen=null,r._tempDisplayObjectParent=null,r.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(t.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e,this._backgroundColorString=tE(e),nd(e,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(e){this._backgroundColorRgba[3]=e},enumerable:!1,configurable:!0}),t}(im()),Vye=function n(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0},zye=function(){function n(t){this.renderer=t,this.managedBuffers={},this.boundBufferBases={}}return n.prototype.destroy=function(){this.renderer=null},n.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},n.prototype.bind=function(t){var i=this.gl,s=t._glBuffers[this.CONTEXT_UID]||this.createGLBuffer(t);i.bindBuffer(t.type,s.buffer)},n.prototype.bindBufferBase=function(t,e){var r=this.gl;if(this.boundBufferBases[e]!==t){var o=t._glBuffers[this.CONTEXT_UID]||this.createGLBuffer(t);this.boundBufferBases[e]=t,r.bindBufferBase(r.UNIFORM_BUFFER,e,o.buffer)}},n.prototype.bindBufferRange=function(t,e,i){var s=this.gl;i=i||0;var a=t._glBuffers[this.CONTEXT_UID]||this.createGLBuffer(t);s.bindBufferRange(s.UNIFORM_BUFFER,e||0,a.buffer,256*i,256)},n.prototype.update=function(t){var i=this.gl,s=t._glBuffers[this.CONTEXT_UID];if(t._updateID!==s.updateID)if(s.updateID=t._updateID,i.bindBuffer(t.type,s.buffer),s.byteLength>=t.data.byteLength)i.bufferSubData(t.type,0,t.data);else{var o=t.static?i.STATIC_DRAW:i.DYNAMIC_DRAW;s.byteLength=t.data.byteLength,i.bufferData(t.type,t.data,o)}},n.prototype.dispose=function(t,e){if(this.managedBuffers[t.id]){delete this.managedBuffers[t.id];var i=t._glBuffers[this.CONTEXT_UID],r=this.gl;t.disposeRunner.remove(this),i&&(e||r.deleteBuffer(i.buffer),delete t._glBuffers[this.CONTEXT_UID])}},n.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedBuffers),i=0;i<e.length;i++)this.dispose(this.managedBuffers[e[i]],t)},n.prototype.createGLBuffer=function(t){var i=this.CONTEXT_UID;return t._glBuffers[i]=new Vye(this.gl.createBuffer()),this.managedBuffers[t.id]=t,t.disposeRunner.add(this),t._glBuffers[i]},n}(),Mc=function(n){function t(e){var i=n.call(this,Tc.WEBGL,e)||this;return e=i.options,i.gl=null,i.CONTEXT_UID=0,i.runners={destroy:new go("destroy"),contextChange:new go("contextChange"),reset:new go("reset"),update:new go("update"),postrender:new go("postrender"),prerender:new go("prerender"),resize:new go("resize")},i.runners.contextChange.add(i),i.globalUniforms=new ch({projectionMatrix:new zi},!0),i.addSystem(WA,"mask").addSystem(NA,"context").addSystem(JA,"state").addSystem(KA,"shader").addSystem(QA,"texture").addSystem(zye,"buffer").addSystem(LA,"geometry").addSystem(kA,"framebuffer").addSystem($A,"scissor").addSystem(YA,"stencil").addSystem(XA,"projection").addSystem(ZA,"textureGC").addSystem(RA,"filter").addSystem(qA,"renderTexture").addSystem(DA,"batch"),i.initPlugins(t.__plugins),i.multisample=void 0,e.context?i.context.initFromContext(e.context):i.context.initFromOptions({alpha:!!i.useContextAlpha,antialias:e.antialias,premultipliedAlpha:i.useContextAlpha&&"notMultiplied"!==i.useContextAlpha,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:i.options.powerPreference}),i.renderingToScreen=!0,nA(2===i.context.webGLVersion?"WebGL 2":"WebGL 1"),i.resize(i.options.width,i.options.height),i}return mr(t,n),t.create=function(e){if(Aj())return new t(e);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},t.prototype.contextChange=function(){var i,e=this.gl;if(1===this.context.webGLVersion){var r=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),i=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,r)}else r=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),i=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,r);this.multisample=i>=qn.HIGH?qn.HIGH:i>=qn.MEDIUM?qn.MEDIUM:i>=qn.LOW?qn.LOW:qn.NONE},t.prototype.addSystem=function(e,i){var r=new e(this);if(this[i])throw new Error('Whoops! The name "'+i+'" is already in use');for(var s in this[i]=r,this.runners)this.runners[s].add(r);return this},t.prototype.render=function(e,i){var r,s,o,a;if(i&&(i instanceof Al?(hu("6.0.0","Renderer#render arguments changed, use options instead."),r=i,s=arguments[2],o=arguments[3],a=arguments[4]):(r=i.renderTexture,s=i.clear,o=i.transform,a=i.skipUpdateTransform)),this.renderingToScreen=!r,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=o,!this.context.isLost){if(r||(this._lastObjectRendered=e),!a){var l=e.enableTempParent();e.updateTransform(),e.disableTempParent(l)}this.renderTexture.bind(r),this.batch.currentRenderer.start(),(void 0!==s?s:this.clearBeforeRender)&&this.renderTexture.clear(),e.render(this),this.batch.currentRenderer.flush(),r&&r.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},t.prototype.generateTexture=function(e,i,r,s){void 0===i&&(i={});var o=n.prototype.generateTexture.call(this,e,i,r,s);return this.framebuffer.blit(),o},t.prototype.resize=function(e,i){n.prototype.resize.call(this,e,i),this.runners.resize.emit(this.screen.height,this.screen.width)},t.prototype.reset=function(){return this.runners.reset.emit(),this},t.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},t.prototype.destroy=function(e){for(var i in this.runners.destroy.emit(),this.runners)this.runners[i].destroy();n.prototype.destroy.call(this,e),this.gl=null},Object.defineProperty(t.prototype,"extract",{get:function(){return hu("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),t.registerPlugin=function(e,i){(t.__plugins=t.__plugins||{})[e]=i},t}(t2);function MH(n){return Mc.create(n)}var OH="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",n2="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",Yye=function(){function n(t){hu("6.1.0","System class is deprecated, implemement ISystem interface instead."),this.renderer=t}return n.prototype.destroy=function(){this.renderer=null},n}(),EE=function n(){this.texArray=null,this.blend=0,this.type=fo.TRIANGLES,this.start=0,this.size=0,this.data=null},TE=function(){function n(){this.elements=[],this.ids=[],this.count=0}return n.prototype.clear=function(){for(var t=0;t<this.count;t++)this.elements[t]=null;this.count=0},n}(),wE=function(){function n(t){this.rawBinaryData="number"==typeof t?new ArrayBuffer(t):t instanceof Uint8Array?t.buffer:t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(n.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),n.prototype.view=function(t){return this[t+"View"]},n.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},n.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}},n}(),PH=function(n){function t(e){var i=n.call(this,e)||this;return i.shaderGenerator=null,i.geometryClass=null,i.vertexSize=null,i.state=uh.for2d(),i.size=4*Mt.SPRITE_BATCH_SIZE,i._vertexCount=0,i._indexCount=0,i._bufferedElements=[],i._bufferedTextures=[],i._bufferSize=0,i._shader=null,i._packedGeometries=[],i._packedGeometryPoolSize=2,i._flushId=0,i._aBuffers={},i._iBuffers={},i.MAX_TEXTURES=1,i.renderer.on("prerender",i.onPrerender,i),e.runners.contextChange.add(i),i._dcIndex=0,i._aIndex=0,i._iIndex=0,i._attributeBuffer=null,i._indexBuffer=null,i._tempBoundTextures=[],i}return mr(t,n),t.prototype.contextChange=function(){var e=this.renderer.gl;Mt.PREFER_ENV===Js.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),Mt.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=pH(this.MAX_TEXTURES,e)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var i=0;i<this._packedGeometryPoolSize;i++)this._packedGeometries[i]=new this.geometryClass;this.initFlushBuffers()},t.prototype.initFlushBuffers=function(){for(var e=t._drawCallPool,i=t._textureArrayPool,r=this.size/4,s=Math.floor(r/this.MAX_TEXTURES)+1;e.length<r;)e.push(new EE);for(;i.length<s;)i.push(new TE);for(var o=0;o<this.MAX_TEXTURES;o++)this._tempBoundTextures[o]=null},t.prototype.onPrerender=function(){this._flushId=0},t.prototype.render=function(e){!e._texture.valid||(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)},t.prototype.buildTexturesAndDrawCalls=function(){var i=this._bufferedTextures,r=this.MAX_TEXTURES,s=t._textureArrayPool,o=this.renderer.batch,a=this._tempBoundTextures,l=this.renderer.textureGC.count,c=++Ci._globalBatch,u=0,d=s[0],f=0;o.copyBoundTextures(a,r);for(var y=0;y<this._bufferSize;++y){var O=i[y];i[y]=null,O._batchEnabled!==c&&(d.count>=r&&(o.boundArray(d,a,c,r),this.buildDrawCalls(d,f,y),f=y,d=s[++u],++c),O._batchEnabled=c,O.touched=l,d.elements[d.count++]=O)}for(d.count>0&&(o.boundArray(d,a,c,r),this.buildDrawCalls(d,f,this._bufferSize),++u,++c),y=0;y<a.length;y++)a[y]=null;Ci._globalBatch=c},t.prototype.buildDrawCalls=function(e,i,r){var s=this,o=s._bufferedElements,a=s._attributeBuffer,l=s._indexBuffer,c=s.vertexSize,u=t._drawCallPool,d=this._dcIndex,f=this._aIndex,y=this._iIndex,O=u[d];O.start=this._iIndex,O.texArray=e;for(var I=i;I<r;++I){var N=o[I],B=sA[N._texture.baseTexture.alphaMode?1:0][N.blendMode];o[I]=null,i<I&&O.blend!==B&&(O.size=y-O.start,i=I,(O=u[++d]).texArray=e,O.start=y),this.packInterleavedGeometry(N,a,l,f,y),f+=N.vertexData.length/2*c,y+=N.indices.length,O.blend=B}i<r&&(O.size=y-O.start,++d),this._dcIndex=d,this._aIndex=f,this._iIndex=y},t.prototype.bindAndClearTexArray=function(e){for(var i=this.renderer.texture,r=0;r<e.count;r++)i.bind(e.elements[r],e.ids[r]),e.elements[r]=null;e.count=0},t.prototype.updateGeometry=function(){var e=this,i=e._packedGeometries,r=e._attributeBuffer,s=e._indexBuffer;Mt.CAN_UPLOAD_SAME_BUFFER?(i[this._flushId]._buffer.update(r.rawBinaryData),i[this._flushId]._indexBuffer.update(s),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,i[this._flushId]=new this.geometryClass),i[this._flushId]._buffer.update(r.rawBinaryData),i[this._flushId]._indexBuffer.update(s),this.renderer.geometry.bind(i[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},t.prototype.drawBatches=function(){for(var e=this._dcIndex,i=this.renderer,r=i.gl,s=i.state,o=t._drawCallPool,a=null,l=0;l<e;l++){var c=o[l],u=c.texArray,d=c.type,f=c.size,y=c.start,O=c.blend;a!==u&&(a=u,this.bindAndClearTexArray(u)),this.state.blendMode=O,s.set(this.state),r.drawElements(d,f,r.UNSIGNED_SHORT,2*y)}},t.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},t.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),Mt.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},t.prototype.stop=function(){this.flush()},t.prototype.destroy=function(){for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),n.prototype.destroy.call(this)},t.prototype.getAttributeBuffer=function(e){var i=ay(Math.ceil(e/8)),r=cA(i),s=8*i;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);var o=this._aBuffers[s];return o||(this._aBuffers[s]=o=new wE(s*this.vertexSize*4)),o},t.prototype.getIndexBuffer=function(e){var i=ay(Math.ceil(e/12)),r=cA(i),s=12*i;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);var o=this._iBuffers[r];return o||(this._iBuffers[r]=o=new Uint16Array(s)),o},t.prototype.packInterleavedGeometry=function(e,i,r,s,o){for(var a=i.uint32View,l=i.float32View,c=s/this.vertexSize,u=e.uvs,d=e.indices,f=e.vertexData,y=e._texture.baseTexture._batchLocation,O=Math.min(e.worldAlpha,1),I=O<1&&e._texture.baseTexture.alphaMode?nE(e._tintRGB,O):e._tintRGB+(255*O<<24),N=0;N<f.length;N+=2)l[s++]=f[N],l[s++]=f[N+1],l[s++]=u[N],l[s++]=u[N+1],a[s++]=I,l[s++]=y;for(N=0;N<d.length;N++)r[o++]=c+d[N]},t._drawCallPool=[],t._textureArrayPool=[],t}(py),xH=function(){function n(t,e){if(this.vertexSrc=t,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},e.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(e.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return n.prototype.generateShader=function(t){if(!this.programCache[t]){for(var e=new Int32Array(t),i=0;i<t;i++)e[i]=i;this.defaultGroupCache[t]=ch.from({uSamplers:e},!0);var r=this.fragTemplate;r=(r=r.replace(/%count%/gi,""+t)).replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new cm(this.vertexSrc,r)}var s={tint:new Float32Array([1,1,1,1]),translationMatrix:new zi,default:this.defaultGroupCache[t]};return new id(this.programCache[t],s)},n.prototype.generateSampleSrc=function(t){var e="";e+="\n",e+="\n";for(var i=0;i<t;i++)i>0&&(e+="\nelse "),i<t-1&&(e+="if(vTextureId < "+i+".5)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+i+"], vTextureCoord);",e+="\n}";return(e+="\n")+"\n"},n}(),r2=function(n){function t(e){void 0===e&&(e=!1);var i=n.call(this)||this;return i._buffer=new ws(null,e,!1),i._indexBuffer=new ws(null,e,!0),i.addAttribute("aVertexPosition",i._buffer,2,!1,Dt.FLOAT).addAttribute("aTextureCoord",i._buffer,2,!1,Dt.FLOAT).addAttribute("aColor",i._buffer,4,!0,Dt.UNSIGNED_BYTE).addAttribute("aTextureId",i._buffer,1,!0,Dt.FLOAT).addIndex(i._indexBuffer),i}return mr(t,n),t}(lm),IH="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",AH="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",RH=function(){function n(){}return n.create=function(t){var e=Object.assign({vertex:IH,fragment:AH,geometryClass:r2,vertexSize:6},t),i=e.vertex,r=e.fragment,s=e.vertexSize,o=e.geometryClass;return function(a){function l(c){var u=a.call(this,c)||this;return u.shaderGenerator=new xH(i,r),u.geometryClass=o,u.vertexSize=s,u}return mr(l,a),l}(PH)},Object.defineProperty(n,"defaultVertexSrc",{get:function(){return IH},enumerable:!1,configurable:!0}),Object.defineProperty(n,"defaultFragmentTemplate",{get:function(){return AH},enumerable:!1,configurable:!0}),n}(),DH=RH.create(),NH={},Xye=function(n){Object.defineProperty(NH,n,{get:function(){return hu("6.0.0","PIXI.systems."+n+" has moved to PIXI."+n),Kj[n]}})};for(var s2 in Kj)Xye(s2);var kH={},qye=function(n){Object.defineProperty(kH,n,{get:function(){return hu("6.0.0","PIXI.resources."+n+" has moved to PIXI."+n),wH[n]}})};for(var s2 in wH)qye(s2);var vy=function(){function n(t){var e=this;this.stage=new rr,t=Object.assign({forceCanvas:!1},t),this.renderer=MH(t),n._plugins.forEach(function(i){i.init.call(e,t)})}return n.registerPlugin=function(t){n._plugins.push(t)},n.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(n.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),n.prototype.destroy=function(t,e){var i=this,r=n._plugins.slice(0);r.reverse(),r.forEach(function(s){s.destroy.call(i)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null},n._plugins=[],n}(),Kye=function(){function n(){}return n.init=function(t){var e=this;Object.defineProperty(this,"resizeTo",{set:function(i){self.removeEventListener("resize",this.queueResize),this._resizeTo=i,i&&(self.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){!e._resizeTo||(e.cancelResize(),e._resizeId=requestAnimationFrame(function(){return e.resize()}))},this.cancelResize=function(){e._resizeId&&(cancelAnimationFrame(e._resizeId),e._resizeId=null)},this.resize=function(){if(e._resizeTo){var i,r;if(e.cancelResize(),e._resizeTo===self)i=self.innerWidth,r=self.innerHeight;else{var s=e._resizeTo;i=s.clientWidth,r=s.clientHeight}e.renderer.resize(i,r)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=t.resizeTo||null},n.destroy=function(){self.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},n}();vy.registerPlugin(Kye);var FH=new mi,BH=function(){function n(t){this.renderer=t}return n.prototype.image=function(t,e,i){var r=new Image;return r.src=this.base64(t,e,i),r},n.prototype.base64=function(t,e,i){return this.canvas(t).toDataURL(e,i)},n.prototype.canvas=function(t){var i,r,o,e=this.renderer,s=!1,a=!1;t&&(t instanceof Al?o=t:(o=this.renderer.generateTexture(t),a=!0)),o?(i=o.baseTexture.resolution,r=o.frame,s=!1,e.renderTexture.bind(o)):(i=this.renderer.resolution,s=!0,(r=FH).width=this.renderer.width,r.height=this.renderer.height,e.renderTexture.bind(null));var l=Math.floor(r.width*i+1e-4),c=Math.floor(r.height*i+1e-4),u=new sm(l,c,1),d=new Uint8Array(4*l*c),f=e.gl;f.readPixels(r.x*i,r.y*i,l,c,f.RGBA,f.UNSIGNED_BYTE,d);var y=u.context.getImageData(0,0,l,c);if(n.arrayPostDivide(d,y.data),u.context.putImageData(y,0,0),s){var O=new sm(u.width,u.height,1);O.context.scale(1,-1),O.context.drawImage(u.canvas,0,-c),u.destroy(),u=O}return a&&o.destroy(!0),u.canvas},n.prototype.pixels=function(t){var i,r,s,e=this.renderer,o=!1;t&&(t instanceof Al?s=t:(s=this.renderer.generateTexture(t),o=!0)),s?(i=s.baseTexture.resolution,r=s.frame,e.renderTexture.bind(s)):(i=e.resolution,(r=FH).width=e.width,r.height=e.height,e.renderTexture.bind(null));var a=r.width*i,l=r.height*i,c=new Uint8Array(4*a*l),u=e.gl;return u.readPixels(r.x*i,r.y*i,a,l,u.RGBA,u.UNSIGNED_BYTE,c),o&&s.destroy(!0),n.arrayPostDivide(c,c),c},n.prototype.destroy=function(){this.renderer=null},n.arrayPostDivide=function(t,e){for(var i=0;i<t.length;i+=4){var r=e[i+3]=t[i+3];0!==r?(e[i]=Math.round(Math.min(255*t[i]/r,255)),e[i+1]=Math.round(Math.min(255*t[i+1]/r,255)),e[i+2]=Math.round(Math.min(255*t[i+2]/r,255))):(e[i]=t[i],e[i+1]=t[i+1],e[i+2]=t[i+2])}},n}(),ME=function(){function n(t,e,i){void 0===e&&(e=!1),this._fn=t,this._once=e,this._thisArg=i,this._next=this._prev=this._owner=null}return n.prototype.detach=function(){return null!==this._owner&&(this._owner.detach(this),!0)},n}();function UH(n,t){return n._head?(n._tail._next=t,t._prev=n._tail,n._tail=t):(n._head=t,n._tail=t),t._owner=n,t}var sd=function(){function n(){this._head=this._tail=void 0}return n.prototype.handlers=function(t){void 0===t&&(t=!1);var e=this._head;if(t)return!!e;for(var i=[];e;)i.push(e),e=e._next;return i},n.prototype.has=function(t){if(!(t instanceof ME))throw new Error("MiniSignal#has(): First arg must be a SignalBinding object.");return t._owner===this},n.prototype.dispatch=function(){for(var t=arguments,e=[],i=0;i<arguments.length;i++)e[i]=t[i];var r=this._head;if(!r)return!1;for(;r;)r._once&&this.detach(r),r._fn.apply(r._thisArg,e),r=r._next;return!0},n.prototype.add=function(t,e){if(void 0===e&&(e=null),"function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return UH(this,new ME(t,!1,e))},n.prototype.once=function(t,e){if(void 0===e&&(e=null),"function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return UH(this,new ME(t,!0,e))},n.prototype.detach=function(t){if(!(t instanceof ME))throw new Error("MiniSignal#detach(): First arg must be a SignalBinding object.");return t._owner!==this||(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null),this},n.prototype.detachAll=function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this},n}();function GH(n,t){for(var e={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},i=e.parser[(t=t||{}).strictMode?"strict":"loose"].exec(n),r={},s=14;s--;)r[e.key[s]]=i[s]||"";return r[e.q.name]={},r[e.key[12]].replace(e.q.parser,function(o,a,l){a&&(r[e.q.name][a]=l)}),r}var Jye=!(!self.XDomainRequest||"withCredentials"in new XMLHttpRequest),OE=null;function HH(){}function VH(n,t,e){t&&0===t.indexOf(".")&&(t=t.substring(1)),t&&(n[t]=e)}function o2(n){return n.toString().replace("object ","")}var n,s,jr=function(){function n(t,e,i){if(this._dequeue=HH,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=null,this._boundOnError=null,this._boundOnProgress=null,this._boundOnTimeout=null,this._boundXhrOnError=null,this._boundXhrOnTimeout=null,this._boundXhrOnAbort=null,this._boundXhrOnLoad=null,"string"!=typeof t||"string"!=typeof e)throw new Error("Both name and url are required for constructing a resource.");i=i||{},this._flags=0,this._setFlag(n.STATUS_FLAGS.DATA_URL,0===e.indexOf("data:")),this.name=t,this.url=e,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===i.crossOrigin?"anonymous":i.crossOrigin,this.timeout=i.timeout||0,this.loadType=i.loadType||this._determineLoadType(),this.xhrType=i.xhrType,this.metadata=i.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=n.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=HH,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new sd,this.onProgress=new sd,this.onComplete=new sd,this.onAfterMiddleware=new sd}return n.setExtensionLoadType=function(t,e){VH(n._loadTypeMap,t,e)},n.setExtensionXhrType=function(t,e){VH(n._xhrTypeMap,t,e)},Object.defineProperty(n.prototype,"isDataUrl",{get:function(){return this._hasFlag(n.STATUS_FLAGS.DATA_URL)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isComplete",{get:function(){return this._hasFlag(n.STATUS_FLAGS.COMPLETE)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isLoading",{get:function(){return this._hasFlag(n.STATUS_FLAGS.LOADING)},enumerable:!1,configurable:!0}),n.prototype.complete=function(){this._clearEvents(),this._finish()},n.prototype.abort=function(t){if(!this.error){if(this.error=new Error(t),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=n.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},n.prototype.load=function(t){var e=this;if(!this.isLoading){if(this.isComplete)return void(t&&setTimeout(function(){return t(e)},1));switch(t&&this.onComplete.once(t),this._setFlag(n.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(!1===this.crossOrigin||"string"!=typeof this.crossOrigin)&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case n.LOAD_TYPE.IMAGE:this.type=n.TYPE.IMAGE,this._loadElement("image");break;case n.LOAD_TYPE.AUDIO:this.type=n.TYPE.AUDIO,this._loadSourceElement("audio");break;case n.LOAD_TYPE.VIDEO:this.type=n.TYPE.VIDEO,this._loadSourceElement("video");break;default:Jye&&this.crossOrigin?this._loadXdr():this._loadXhr()}}},n.prototype._hasFlag=function(t){return 0!=(this._flags&t)},n.prototype._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},n.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},n.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(n.STATUS_FLAGS.COMPLETE,!0),this._setFlag(n.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},n.prototype._loadElement=function(t){this.data=this.metadata.loadElement?this.metadata.loadElement:"image"===t&&void 0!==self.Image?new Image:document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},n.prototype._loadSourceElement=function(t){if(this.data=this.metadata.loadElement?this.metadata.loadElement:"audio"===t&&void 0!==self.Audio?new Audio:document.createElement(t),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,i=0;i<this.url.length;++i)this.data.appendChild(this._createSource(t,this.url[i],Array.isArray(e)?e[i]:e));else e=this.metadata.mimeType,this.data.appendChild(this._createSource(t,this.url,Array.isArray(e)?e[0]:e));this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+t)},n.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XMLHttpRequest;t.open("GET",this.url,!0),t.timeout=this.timeout,t.responseType=this.xhrType===n.XHR_RESPONSE_TYPE.JSON||this.xhrType===n.XHR_RESPONSE_TYPE.DOCUMENT?n.XHR_RESPONSE_TYPE.TEXT:this.xhrType,t.addEventListener("error",this._boundXhrOnError,!1),t.addEventListener("timeout",this._boundXhrOnTimeout,!1),t.addEventListener("abort",this._boundXhrOnAbort,!1),t.addEventListener("progress",this._boundOnProgress,!1),t.addEventListener("load",this._boundXhrOnLoad,!1),t.send()},n.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new self.XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){return t.send()},1)},n.prototype._createSource=function(t,e,i){i||(i=t+"/"+this._getExtension(e));var r=document.createElement("source");return r.src=e,r.type=i,r},n.prototype._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},n.prototype._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},n.prototype._onTimeout=function(){this.abort("Load timed out.")},n.prototype._xhrOnError=function(){var t=this.xhr;this.abort(o2(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},n.prototype._xhrOnTimeout=function(){this.abort(o2(this.xhr)+" Request timed out.")},n.prototype._xhrOnAbort=function(){this.abort(o2(this.xhr)+" Request was aborted by the user.")},n.prototype._xhrOnLoad=function(){var t=this.xhr,e="",i=void 0===t.status?200:t.status;if((""===t.responseType||"text"===t.responseType||void 0===t.responseType)&&(e=t.responseText),0===i&&(e.length>0||t.responseType===n.XHR_RESPONSE_TYPE.BUFFER)?i=200:1223===i&&(i=204),2==(i/100|0)){if(this.xhrType===n.XHR_RESPONSE_TYPE.TEXT)this.data=e,this.type=n.TYPE.TEXT;else if(this.xhrType===n.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(e),this.type=n.TYPE.JSON}catch(a){return void this.abort("Error trying to parse loaded json: "+a)}else if(this.xhrType===n.XHR_RESPONSE_TYPE.DOCUMENT)try{if(self.DOMParser){var s=new DOMParser;this.data=s.parseFromString(e,"text/xml")}else{var o=document.createElement("div");o.innerHTML=e,this.data=o}this.type=n.TYPE.XML}catch(a){return void this.abort("Error trying to parse loaded xml: "+a)}else this.data=t.response||e;this.complete()}else this.abort("["+t.status+"] "+t.statusText+": "+t.responseURL)},n.prototype._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";if(self.origin!==self.location.origin)return"anonymous";e=e||self.location,OE||(OE=document.createElement("a")),OE.href=t;var i=GH(OE.href,{strictMode:!0});return i.host!==e.hostname||(i.port||""!==e.port)&&i.port!==e.port||(i.protocol?i.protocol+":":"")!==e.protocol?"anonymous":""},n.prototype._determineXhrType=function(){return n._xhrTypeMap[this.extension]||n.XHR_RESPONSE_TYPE.TEXT},n.prototype._determineLoadType=function(){return n._loadTypeMap[this.extension]||n.LOAD_TYPE.XHR},n.prototype._getExtension=function(t){void 0===t&&(t=this.url);var e="";if(this.isDataUrl){var i=t.indexOf("/");e=t.substring(i+1,t.indexOf(";",i))}else{var r=t.indexOf("?"),s=t.indexOf("#"),o=Math.min(r>-1?r:t.length,s>-1?s:t.length);e=(t=t.substring(0,o)).substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},n.prototype._getMimeFromXhrType=function(t){switch(t){case n.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case n.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case n.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case n.XHR_RESPONSE_TYPE.JSON:return"application/json";default:return"text/plain"}},n}();function Wf(){}function nbe(n){return function(){for(var e=arguments,i=[],r=0;r<arguments.length;r++)i[r]=e[r];if(null===n)throw new Error("Callback was already called.");var s=n;n=null,s.apply(this,i)}}(s=(n=jr||(jr={})).STATUS_FLAGS||(n.STATUS_FLAGS={}))[s.NONE=0]="NONE",s[s.DATA_URL=1]="DATA_URL",s[s.COMPLETE=2]="COMPLETE",s[s.LOADING=4]="LOADING",function(s){s[s.UNKNOWN=0]="UNKNOWN",s[s.JSON=1]="JSON",s[s.XML=2]="XML",s[s.IMAGE=3]="IMAGE",s[s.AUDIO=4]="AUDIO",s[s.VIDEO=5]="VIDEO",s[s.TEXT=6]="TEXT"}(n.TYPE||(n.TYPE={})),function(s){s[s.XHR=1]="XHR",s[s.IMAGE=2]="IMAGE",s[s.AUDIO=3]="AUDIO",s[s.VIDEO=4]="VIDEO"}(n.LOAD_TYPE||(n.LOAD_TYPE={})),function(s){s.DEFAULT="text",s.BUFFER="arraybuffer",s.BLOB="blob",s.DOCUMENT="document",s.JSON="json",s.TEXT="text"}(n.XHR_RESPONSE_TYPE||(n.XHR_RESPONSE_TYPE={})),n._loadTypeMap={gif:n.LOAD_TYPE.IMAGE,png:n.LOAD_TYPE.IMAGE,bmp:n.LOAD_TYPE.IMAGE,jpg:n.LOAD_TYPE.IMAGE,jpeg:n.LOAD_TYPE.IMAGE,tif:n.LOAD_TYPE.IMAGE,tiff:n.LOAD_TYPE.IMAGE,webp:n.LOAD_TYPE.IMAGE,tga:n.LOAD_TYPE.IMAGE,svg:n.LOAD_TYPE.IMAGE,"svg+xml":n.LOAD_TYPE.IMAGE,mp3:n.LOAD_TYPE.AUDIO,ogg:n.LOAD_TYPE.AUDIO,wav:n.LOAD_TYPE.AUDIO,mp4:n.LOAD_TYPE.VIDEO,webm:n.LOAD_TYPE.VIDEO},n._xhrTypeMap={xhtml:n.XHR_RESPONSE_TYPE.DOCUMENT,html:n.XHR_RESPONSE_TYPE.DOCUMENT,htm:n.XHR_RESPONSE_TYPE.DOCUMENT,xml:n.XHR_RESPONSE_TYPE.DOCUMENT,tmx:n.XHR_RESPONSE_TYPE.DOCUMENT,svg:n.XHR_RESPONSE_TYPE.DOCUMENT,tsx:n.XHR_RESPONSE_TYPE.DOCUMENT,gif:n.XHR_RESPONSE_TYPE.BLOB,png:n.XHR_RESPONSE_TYPE.BLOB,bmp:n.XHR_RESPONSE_TYPE.BLOB,jpg:n.XHR_RESPONSE_TYPE.BLOB,jpeg:n.XHR_RESPONSE_TYPE.BLOB,tif:n.XHR_RESPONSE_TYPE.BLOB,tiff:n.XHR_RESPONSE_TYPE.BLOB,webp:n.XHR_RESPONSE_TYPE.BLOB,tga:n.XHR_RESPONSE_TYPE.BLOB,json:n.XHR_RESPONSE_TYPE.JSON,text:n.XHR_RESPONSE_TYPE.TEXT,txt:n.XHR_RESPONSE_TYPE.TEXT,ttf:n.XHR_RESPONSE_TYPE.BUFFER,otf:n.XHR_RESPONSE_TYPE.BUFFER},n.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";var ibe=function n(t,e){this.data=t,this.callback=e},a2=function(){function n(t,e){var i=this;if(void 0===e&&(e=1),this.workers=0,this.saturated=Wf,this.unsaturated=Wf,this.empty=Wf,this.drain=Wf,this.error=Wf,this.started=!1,this.paused=!1,this._tasks=[],this._insert=function(r,s,o){if(o&&"function"!=typeof o)throw new Error("task callback must be a function");if(i.started=!0,null==r&&i.idle())setTimeout(function(){return i.drain()},1);else{var a=new ibe(r,"function"==typeof o?o:Wf);s?i._tasks.unshift(a):i._tasks.push(a),setTimeout(i.process,1)}},this.process=function(){for(;!i.paused&&i.workers<i.concurrency&&i._tasks.length;){var r=i._tasks.shift();0===i._tasks.length&&i.empty(),i.workers+=1,i.workers===i.concurrency&&i.saturated(),i._worker(r.data,nbe(i._next(r)))}},this._worker=t,0===e)throw new Error("Concurrency must not be zero");this.concurrency=e,this.buffer=e/4}return n.prototype._next=function(t){var e=this;return function(){for(var i=arguments,r=[],s=0;s<arguments.length;s++)r[s]=i[s];e.workers-=1,t.callback.apply(t,r),null!=r[0]&&e.error(r[0],t.data),e.workers<=e.concurrency-e.buffer&&e.unsaturated(),e.idle()&&e.drain(),e.process()}},n.prototype.push=function(t,e){this._insert(t,!1,e)},n.prototype.kill=function(){this.workers=0,this.drain=Wf,this.started=!1,this._tasks=[]},n.prototype.unshift=function(t,e){this._insert(t,!0,e)},n.prototype.length=function(){return this._tasks.length},n.prototype.running=function(){return this.workers},n.prototype.idle=function(){return this._tasks.length+this.workers===0},n.prototype.pause=function(){!0!==this.paused&&(this.paused=!0)},n.prototype.resume=function(){if(!1!==this.paused){this.paused=!1;for(var t=1;t<=this.concurrency;t++)this.process()}},n.eachSeries=function(t,e,i,r){var s=0,o=t.length;!function a(l){l||s===o?i&&i(l):r?setTimeout(function(){e(t[s++],a)},1):e(t[s++],a)}()},n.queue=function(t,e){return new n(t,e)},n}(),rbe=/(#[\w-]+)?$/,Bo=function(){function n(t,e){var i=this;void 0===t&&(t=""),void 0===e&&(e=10),this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(l,c){return i._loadResource(l,c)},this.resources={},this.baseUrl=t,this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(l,c){return i._loadResource(l,c)},this._queue=a2.queue(this._boundLoadResource,e),this._queue.pause(),this.resources={},this.onProgress=new sd,this.onError=new sd,this.onLoad=new sd,this.onStart=new sd,this.onComplete=new sd;for(var r=0;r<n._plugins.length;++r){var s=n._plugins[r],o=s.pre,a=s.use;o&&this.pre(o),a&&this.use(a)}this._protected=!1}return n.prototype._add=function(t,e,i,r){if(this.loading&&(!i||!i.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new jr(t,e,i),"function"==typeof r&&this.resources[t].onAfterMiddleware.once(r),this.loading){for(var s=i.parentResource,o=[],a=0;a<s.children.length;++a)s.children[a].isComplete||o.push(s.children[a]);var c=s.progressChunk*(o.length+1)/(o.length+2);for(s.children.push(this.resources[t]),s.progressChunk=c,a=0;a<o.length;++a)o[a].progressChunk=c;this.resources[t].progressChunk=c}return this._queue.push(this.resources[t]),this},n.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},n.prototype.use=function(t){return this._afterMiddleware.push(t),this},n.prototype.reset=function(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort("loader reset")}return this.resources={},this},n.prototype.load=function(t){if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var i=100/this._queue._tasks.length,r=0;r<this._queue._tasks.length;++r)this._queue._tasks[r].data.progressChunk=i;this._onStart(),this._queue.resume()}return this},Object.defineProperty(n.prototype,"concurrency",{get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t},enumerable:!1,configurable:!0}),n.prototype._prepareUrl=function(t){var i,e=GH(t,{strictMode:!0});if(i=e.protocol||!e.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString){var r=rbe.exec(i)[0];-1!==(i=i.substr(0,i.length-r.length)).indexOf("?")?i+="&"+this.defaultQueryString:i+="?"+this.defaultQueryString,i+=r}return i},n.prototype._loadResource=function(t,e){var i=this;t._dequeue=e,a2.eachSeries(this._beforeMiddleware,function(r,s){r.call(i,t,function(){s(t.isComplete?{}:null)})},function(){t.isComplete?i._onLoad(t):(t._onLoadBinding=t.onComplete.once(i._onLoad,i),t.load())},!0)},n.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},n.prototype._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},n.prototype._onLoad=function(t){var e=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),a2.eachSeries(this._afterMiddleware,function(i,r){i.call(e,t,r)},function(){t.onAfterMiddleware.dispatch(t),e.progress=Math.min(100,e.progress+t.progressChunk),e.onProgress.dispatch(e,t),t.error?e.onError.dispatch(t.error,e,t):e.onLoad.dispatch(e,t),e._resourcesParsing.splice(e._resourcesParsing.indexOf(t),1),e._queue.idle()&&0===e._resourcesParsing.length&&e._onComplete()},!0)},n.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(n,"shared",{get:function(){var t=n._shared;return t||((t=new n)._protected=!0,n._shared=t),t},enumerable:!1,configurable:!0}),n.registerPlugin=function(t){return n._plugins.push(t),t.add&&t.add(),n},n._plugins=[],n}();Bo.prototype.add=function(t,e,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;++s)this.add(t[s]);return this}if("object"==typeof t&&(i=t,r=e||i.callback||i.onComplete,e=i.url,t=i.name||i.key||i.url),"string"!=typeof e&&(r=i,i=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");return"function"==typeof i&&(r=i,i=null),this._add(t,e,i,r)};var zH=function(){function n(){}return n.init=function(t){t=Object.assign({sharedLoader:!1},t),this.loader=t.sharedLoader?Bo.shared:new Bo},n.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},n}(),WH=function(){function n(){}return n.add=function(){jr.setExtensionLoadType("svg",jr.LOAD_TYPE.XHR),jr.setExtensionXhrType("svg",jr.XHR_RESPONSE_TYPE.TEXT)},n.use=function(t,e){!t.data||t.type!==jr.TYPE.IMAGE&&"svg"!==t.extension?e():Jt.fromLoader(t.data,t.url,t.name,t.metadata).then(function(a){t.texture=a,e()}).catch(e)},n}(),$H=self.URL||self.webkitURL;Bo.registerPlugin({use:function abe(n,t){if(n.data){if(n.xhr&&n.xhrType===jr.XHR_RESPONSE_TYPE.BLOB)if(self.Blob&&"string"!=typeof n.data){if(0===n.data.type.indexOf("image")){var i=$H.createObjectURL(n.data);return n.blob=n.data,n.data=new Image,n.data.src=i,n.type=jr.TYPE.IMAGE,void(n.data.onload=function(){$H.revokeObjectURL(i),n.data.onload=null,t()})}}else{var e=n.xhr.getResponseHeader("content-type");if(e&&0===e.indexOf("image"))return n.data=new Image,n.data.src="data:"+e+";base64,"+function obe(n){for(var t="",e=0;e<n.length;){for(var i=[0,0,0],r=[0,0,0,0],s=0;s<i.length;++s)i[s]=e<n.length?255&n.charCodeAt(e++):0;switch(r[0]=i[0]>>2,r[1]=(3&i[0])<<4|i[1]>>4,r[2]=(15&i[1])<<2|i[2]>>6,r[3]=63&i[2],e-(n.length-1)){case 2:r[3]=64,r[2]=64;break;case 1:r[3]=64}for(s=0;s<r.length;++s)t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(r[s])}return t}(n.xhr.responseText),n.type=jr.TYPE.IMAGE,void(n.data.onload=function(){n.data.onload=null,t()})}t()}else t()}}),Bo.registerPlugin(WH);var Ki,Gn=(()=>(function(n){n[n.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",n[n.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",n[n.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",n[n.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",n[n.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",n[n.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",n[n.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",n[n.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",n[n.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",n[n.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",n[n.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",n[n.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",n[n.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",n[n.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",n[n.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",n[n.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",n[n.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",n[n.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",n[n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",n[n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",n[n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",n[n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",n[n.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",n[n.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",n[n.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",n[n.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL"}(Gn||(Gn={})),Gn))(),yy=((Ki={})[Gn.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,Ki[Gn.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,Ki[Gn.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,Ki[Gn.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,Ki[Gn.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,Ki[Gn.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,Ki[Gn.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,Ki[Gn.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,Ki[Gn.COMPRESSED_R11_EAC]=.5,Ki[Gn.COMPRESSED_SIGNED_R11_EAC]=.5,Ki[Gn.COMPRESSED_RG11_EAC]=1,Ki[Gn.COMPRESSED_SIGNED_RG11_EAC]=1,Ki[Gn.COMPRESSED_RGB8_ETC2]=.5,Ki[Gn.COMPRESSED_RGBA8_ETC2_EAC]=1,Ki[Gn.COMPRESSED_SRGB8_ETC2]=.5,Ki[Gn.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=1,Ki[Gn.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,Ki[Gn.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,Ki[Gn.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,Ki[Gn.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,Ki[Gn.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,Ki[Gn.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,Ki[Gn.COMPRESSED_RGB_ETC1_WEBGL]=.5,Ki[Gn.COMPRESSED_RGB_ATC_WEBGL]=.5,Ki[Gn.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=1,Ki[Gn.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,Ki),c2=function(n,t){return(c2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)};function YH(n,t){function e(){this.constructor=n}c2(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var by,Oc,XH=function(n){function t(e,i){void 0===i&&(i={width:1,height:1,autoLoad:!0});var s,o,r=this;return"string"==typeof e?(s=e,o=new Uint8Array):(s=null,o=e),(r=n.call(this,o,i)||this).origin=s,r.buffer=o?new wE(o):null,r.origin&&!1!==i.autoLoad&&r.load(),o&&o.length&&(r.loaded=!0,r.onBlobLoaded(r.buffer.rawBinaryData)),r}return YH(t,n),t.prototype.onBlobLoaded=function(e){},t.prototype.load=function(){return function lbe(n,t,e,i){return new(e||(e=Promise))(function(r,s){function o(c){try{l(i.next(c))}catch(u){s(u)}}function a(c){try{l(i.throw(c))}catch(u){s(u)}}function l(c){c.done?r(c.value):new e(function(u){u(c.value)}).then(o,a)}l((i=i.apply(n,t||[])).next())})}(this,void 0,Promise,function(){var r;return function cbe(n,t){var i,r,s,o,e={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return function l(c){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,r&&(s=2&c[0]?r.return:c[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,c[1])).done)return s;switch(r=0,s&&(c=[2&c[0],s.value]),c[0]){case 0:case 1:s=c;break;case 4:return e.label++,{value:c[1],done:!1};case 5:e.label++,r=c[1],c=[0];continue;case 7:c=e.ops.pop(),e.trys.pop();continue;default:if(!(s=(s=e.trys).length>0&&s[s.length-1])&&(6===c[0]||2===c[0])){e=0;continue}if(3===c[0]&&(!s||c[1]>s[0]&&c[1]<s[3])){e.label=c[1];break}if(6===c[0]&&e.label<s[1]){e.label=s[1],s=c;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(c);break}s[2]&&e.ops.pop(),e.trys.pop();continue}c=t.call(n,e)}catch(u){c=[6,u],r=0}finally{i=s=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}}(this,function(s){switch(s.label){case 0:return[4,fetch(this.origin)];case 1:return[4,s.sent().blob()];case 2:return[4,s.sent().arrayBuffer()];case 3:return r=s.sent(),this.data=new Uint32Array(r),this.buffer=new wE(r),this.loaded=!0,this.onBlobLoaded(r),this.update(),[2,this]}})})},t}(am),PE=function(n){function t(e,i){var r=n.call(this,e,i)||this;return r.format=i.format,r.levels=i.levels||1,r._width=i.width,r._height=i.height,r._extension=t._formatToExtension(r.format),(i.levelBuffers||r.buffer)&&(r._levelBuffers=i.levelBuffers||t._createLevelBuffers(e instanceof Uint8Array?e:r.buffer.uint8View,r.format,r.levels,4,4,r.width,r.height)),r}return YH(t,n),t.prototype.upload=function(e,i,r){var s=e.gl;if(!e.context.extensions[this._extension])throw new Error(this._extension+" textures are not supported on the current machine");if(!this._levelBuffers)return!1;for(var a=0,l=this.levels;a<l;a++){var c=this._levelBuffers[a];s.compressedTexImage2D(s.TEXTURE_2D,c.levelID,this.format,c.levelWidth,c.levelHeight,0,c.levelBuffer)}return!0},t.prototype.onBlobLoaded=function(){this._levelBuffers=t._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)},t._formatToExtension=function(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")},t._createLevelBuffers=function(e,i,r,s,o,a,l){for(var c=new Array(r),u=e.byteOffset,d=a,f=l,y=d+s-1&~(s-1),O=f+o-1&~(o-1),I=y*O*yy[i],N=0;N<r;N++)c[N]={levelID:N,levelWidth:r>1?d:y,levelHeight:r>1?f:O,levelBuffer:new Uint8Array(e.buffer,u,I)},u+=I,I=(y=(d=d>>1||1)+s-1&~(s-1))*(O=(f=f>>1||1)+o-1&~(o-1))*yy[i];return c},t}(XH),qH=function(){function n(){}return n.use=function(t,e){var i=t.data;if(t.type===jr.TYPE.JSON&&i&&i.cacheID&&i.textures){for(var s=i.textures,o=void 0,a=void 0,l=0,c=s.length;l<c;l++){var u=s[l],d=u.src,f=u.format;if(f||(a=d),n.textureFormats[f]){o=d;break}}if(!(o=o||a))return void e(new Error("Cannot load compressed-textures in "+t.url+", make sure you provide a fallback"));if(o===t.url)return void e(new Error("URL of compressed texture cannot be the same as the manifest's URL"));var y={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},O=Nf.resolve(t.url.replace(this.baseUrl,""),o);this.add(i.cacheID,O,y,function(N){if(N.error)e(N.error);else{var k=N.texture,G=N.textures;Object.assign(t,{texture:void 0===k?null:k,textures:void 0===G?{}:G}),e()}})}else e()},n.add=function(){var e=document.createElement("canvas").getContext("webgl");if(e){var i={s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};for(var r in n.textureExtensions=i,n.textureFormats={},i){var s=i[r];!s||Object.assign(n.textureFormats,Object.getPrototypeOf(s))}}else console.warn("WebGL not available for compressed textures. Silently failing.")},n}();function KH(n,t,e){var i={textures:{},texture:null};if(!t)return i;var r=t.map(function(s){return new Jt(new Ci(s,Object.assign({mipmap:aa.OFF,alphaMode:Zs.NO_PREMULTIPLIED_ALPHA},e)))});return r.forEach(function(s,o){var a=s.baseTexture,l=n+"-"+(o+1);Ci.addToCache(a,l),Jt.addToCache(s,l),0===o&&(Ci.addToCache(a,n),Jt.addToCache(s,n),i.texture=s),i.textures[l]=s}),i}jr.setExtensionXhrType("dds",jr.XHR_RESPONSE_TYPE.BUFFER);var um,$f,Sy,Rl=(()=>(function(n){n[n.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",n[n.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",n[n.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",n[n.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",n[n.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",n[n.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",n[n.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",n[n.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",n[n.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",n[n.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",n[n.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",n[n.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",n[n.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",n[n.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",n[n.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",n[n.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",n[n.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",n[n.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",n[n.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",n[n.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",n[n.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",n[n.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",n[n.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",n[n.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",n[n.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",n[n.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",n[n.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",n[n.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",n[n.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",n[n.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",n[n.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",n[n.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",n[n.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",n[n.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",n[n.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",n[n.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",n[n.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",n[n.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",n[n.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",n[n.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",n[n.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",n[n.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",n[n.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",n[n.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",n[n.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",n[n.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",n[n.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",n[n.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",n[n.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",n[n.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",n[n.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",n[n.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",n[n.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",n[n.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",n[n.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",n[n.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",n[n.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",n[n.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",n[n.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",n[n.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",n[n.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",n[n.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",n[n.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",n[n.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",n[n.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",n[n.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",n[n.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",n[n.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",n[n.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",n[n.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",n[n.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",n[n.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",n[n.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",n[n.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",n[n.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",n[n.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",n[n.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",n[n.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",n[n.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",n[n.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",n[n.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",n[n.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",n[n.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",n[n.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",n[n.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",n[n.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",n[n.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",n[n.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",n[n.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",n[n.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",n[n.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",n[n.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",n[n.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",n[n.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",n[n.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",n[n.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",n[n.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",n[n.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",n[n.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",n[n.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",n[n.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",n[n.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",n[n.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",n[n.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",n[n.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",n[n.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",n[n.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",n[n.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",n[n.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",n[n.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",n[n.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",n[n.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",n[n.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",n[n.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",n[n.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",n[n.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",n[n.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",n[n.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",n[n.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",n[n.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",n[n.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",n[n.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT"}(Rl||(Rl={})),Rl))(),RE=(()=>(function(n){n[n.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",n[n.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",n[n.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D"}(RE||(RE={})),RE))(),Tbe=((by={})[827611204]=Gn.COMPRESSED_RGBA_S3TC_DXT1_EXT,by[861165636]=Gn.COMPRESSED_RGBA_S3TC_DXT3_EXT,by[894720068]=Gn.COMPRESSED_RGBA_S3TC_DXT5_EXT,by),wbe=((Oc={})[Rl.DXGI_FORMAT_BC1_TYPELESS]=Gn.COMPRESSED_RGBA_S3TC_DXT1_EXT,Oc[Rl.DXGI_FORMAT_BC1_UNORM]=Gn.COMPRESSED_RGBA_S3TC_DXT1_EXT,Oc[Rl.DXGI_FORMAT_BC2_TYPELESS]=Gn.COMPRESSED_RGBA_S3TC_DXT3_EXT,Oc[Rl.DXGI_FORMAT_BC2_UNORM]=Gn.COMPRESSED_RGBA_S3TC_DXT3_EXT,Oc[Rl.DXGI_FORMAT_BC3_TYPELESS]=Gn.COMPRESSED_RGBA_S3TC_DXT5_EXT,Oc[Rl.DXGI_FORMAT_BC3_UNORM]=Gn.COMPRESSED_RGBA_S3TC_DXT5_EXT,Oc[Rl.DXGI_FORMAT_BC1_UNORM_SRGB]=Gn.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,Oc[Rl.DXGI_FORMAT_BC2_UNORM_SRGB]=Gn.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,Oc[Rl.DXGI_FORMAT_BC3_UNORM_SRGB]=Gn.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,Oc),ZH=function(){function n(){}return n.use=function(t,e){if("dds"===t.extension&&t.data)try{Object.assign(t,KH(t.name||t.url,n.parse(t.data),t.metadata))}catch(i){return void e(i)}e()},n.parse=function(t){var e=new Uint32Array(t);if(542327876!==e[0])throw new Error("Invalid DDS file magic word");var r=new Uint32Array(t,0,124/Uint32Array.BYTES_PER_ELEMENT),s=r[3],o=r[4],a=r[7],l=new Uint32Array(t,19*Uint32Array.BYTES_PER_ELEMENT,32/Uint32Array.BYTES_PER_ELEMENT),c=l[1];if(4&c){var u=l[2];if(808540228!==u){var d=Tbe[u],y=new Uint8Array(t,128);return[new PE(y,{format:d,width:o,height:s,levels:a})]}var N=new Uint32Array(e.buffer,128,20/Uint32Array.BYTES_PER_ELEMENT),k=N[0],B=N[1],G=N[2],Y=N[3],J=wbe[k];if(void 0===J)throw new Error("DDSLoader cannot parse texture data with DXGI format "+k);if(4===G)throw new Error("DDSLoader does not support cubemap textures");if(B===RE.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSLoader does not supported 3D texture data");var Z=new Array;if(1===Y)Z.push(new Uint8Array(t,148));else{for(var pe=yy[J],ae=0,de=o,xe=s,ve=0;ve<a;ve++)ae+=Math.max(1,de+3&-4)*Math.max(1,xe+3&-4)*pe,de>>>=1,xe>>>=1;var be=148;for(ve=0;ve<Y;ve++)Z.push(new Uint8Array(t,be,ae)),be+=ae}return Z.map(function(Ee){return new PE(Ee,{format:J,width:o,height:s,levels:a})})}throw 64&c?new Error("DDSLoader does not support uncompressed texture data."):512&c?new Error("DDSLoader does not supported YUV uncompressed texture data."):131072&c?new Error("DDSLoader does not support single-channel (lumninance) texture data!"):2&c?new Error("DDSLoader does not support single-channel (alpha) texture data!"):new Error("DDSLoader failed to load a texture file due to an unknown reason!")},n}();jr.setExtensionXhrType("ktx",jr.XHR_RESPONSE_TYPE.BUFFER);var QH=[171,75,84,88,32,49,49,187,13,10,26,10],d2=((um={})[Dt.UNSIGNED_BYTE]=1,um[Dt.UNSIGNED_SHORT]=2,um[Dt.FLOAT]=4,um[Dt.HALF_FLOAT]=8,um),e7=(($f={})[it.RGBA]=4,$f[it.RGB]=3,$f[it.LUMINANCE]=1,$f[it.LUMINANCE_ALPHA]=2,$f[it.ALPHA]=1,$f),t7=((Sy={})[Dt.UNSIGNED_SHORT_4_4_4_4]=2,Sy[Dt.UNSIGNED_SHORT_5_5_5_1]=2,Sy[Dt.UNSIGNED_SHORT_5_6_5]=2,Sy),n7=function(){function n(){}return n.use=function(t,e){if("ktx"===t.extension&&t.data)try{var i=t.name||t.url;Object.assign(t,KH(i,n.parse(i,t.data),t.metadata))}catch(r){return void e(r)}e()},n.parse=function(t,e){var i=new DataView(e);if(!n.validate(t,i))return null;var r=67305985===i.getUint32(12,!0),s=i.getUint32(16,r),o=i.getUint32(24,r),a=i.getUint32(28,r),l=i.getUint32(36,r),c=i.getUint32(40,r)||1,u=i.getUint32(44,r)||1,d=i.getUint32(48,r)||1,f=i.getUint32(52,r),y=i.getUint32(56,r),O=i.getUint32(60,r);if(0===c||1!==u)throw new Error("Only 2D textures are supported");if(1!==f)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(1!==d)throw new Error("WebGL does not support array textures");var J,k=l+3&-4,B=c+3&-4,G=new Array(d),Y=l*c;if(0===s&&(Y=k*B),void 0===(J=0!==s?d2[s]?d2[s]*e7[o]:t7[s]:yy[a]))throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var ge=Y*J,pe=l,ae=c,de=k,xe=B,ve=64+O,ye=0;ye<y;ye++){for(var Re=i.getUint32(ve,r),Oe=ve+4,be=0;be<d;be++){var Ee=G[be];Ee||(Ee=G[be]=new Array(y)),Ee[ye]={levelID:ye,levelWidth:y>1?pe:de,levelHeight:y>1?ae:xe,levelBuffer:new Uint8Array(e,Oe,ge)},Oe+=ge}ve=(ve+=Re+4)%4!=0?ve+4-ve%4:ve,ge=(de=(pe=pe>>1||1)+4-1&-4)*(xe=(ae=ae>>1||1)+4-1&-4)*J}if(0!==s)throw new Error("TODO: Uncompressed");return G.map(function(De){return new PE(null,{format:a,width:l,height:c,levels:y,levelBuffers:De})})},n.validate=function(t,e){for(var i=0;i<QH.length;i++)if(e.getUint8(i)!==QH[i])return console.error(t+" is not a valid *.ktx file!"),!1;return!0},n}(),h2=function(n,t){return(h2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)};function i7(n,t){function e(){this.constructor=n}h2(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var r7=function(n){function t(e,i,r,s){void 0===e&&(e=1500),void 0===r&&(r=16384),void 0===s&&(s=!1);var o=n.call(this)||this;return r>16384&&(r=16384),o._properties=[!1,!0,!1,!1,!1],o._maxSize=e,o._batchSize=r,o._buffers=null,o._bufferUpdateIDs=[],o._updateID=0,o.interactiveChildren=!1,o.blendMode=qe.NORMAL,o.autoResize=s,o.roundPixels=!0,o.baseTexture=null,o.setProperties(i),o._tint=0,o.tintRgb=new Float32Array(4),o.tint=16777215,o}return i7(t,n),t.prototype.setProperties=function(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])},t.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e,nd(e,this.tintRgb)},enumerable:!1,configurable:!0}),t.prototype.render=function(e){var i=this;!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return i.onChildrenChange(0)})),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))},t.prototype.onChildrenChange=function(e){for(var i=Math.floor(e/this._batchSize);this._bufferUpdateIDs.length<i;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[i]=++this._updateID},t.prototype.dispose=function(){if(this._buffers){for(var e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}},t.prototype.destroy=function(e){n.prototype.destroy.call(this,e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},t}(rr),s7=function(){function n(t,e,i){this.geometry=new lm,this.indexBuffer=null,this.size=i,this.dynamicProperties=[],this.staticProperties=[];for(var r=0;r<t.length;++r){var s=t[r];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||Dt.FLOAT,offset:s.offset},e[r]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return n.prototype.initBuffers=function(){var t=this.geometry,e=0;this.indexBuffer=new ws(Dj(this.size),!0,!0),t.addIndex(this.indexBuffer),this.dynamicStride=0;for(var i=0;i<this.dynamicProperties.length;++i)(r=this.dynamicProperties[i]).offset=e,e+=r.size,this.dynamicStride+=r.size;var s=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(s),this.dynamicDataUint32=new Uint32Array(s),this.dynamicBuffer=new ws(this.dynamicData,!1,!1);var o=0;for(this.staticStride=0,i=0;i<this.staticProperties.length;++i)(r=this.staticProperties[i]).offset=o,o+=r.size,this.staticStride+=r.size;var a=new ArrayBuffer(this.size*this.staticStride*4*4);for(this.staticData=new Float32Array(a),this.staticDataUint32=new Uint32Array(a),this.staticBuffer=new ws(this.staticData,!0,!1),i=0;i<this.dynamicProperties.length;++i)t.addAttribute((r=this.dynamicProperties[i]).attributeName,this.dynamicBuffer,0,r.type===Dt.UNSIGNED_BYTE,r.type,4*this.dynamicStride,4*r.offset);for(i=0;i<this.staticProperties.length;++i){var r;t.addAttribute((r=this.staticProperties[i]).attributeName,this.staticBuffer,0,r.type===Dt.UNSIGNED_BYTE,r.type,4*this.staticStride,4*r.offset)}},n.prototype.uploadDynamic=function(t,e,i){for(var r=0;r<this.dynamicProperties.length;r++){var s=this.dynamicProperties[r];s.uploadFunction(t,e,i,s.type===Dt.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++},n.prototype.uploadStatic=function(t,e,i){for(var r=0;r<this.staticProperties.length;r++){var s=this.staticProperties[r];s.uploadFunction(t,e,i,s.type===Dt.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++},n.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},n}(),o7=function(n){function t(e){var i=n.call(this,e)||this;return i.shader=null,i.properties=null,i.tempMatrix=new zi,i.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:i.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:i.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:i.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:i.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:Dt.UNSIGNED_BYTE,uploadFunction:i.uploadTint,offset:0}],i.shader=id.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n","varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",{}),i.state=uh.for2d(),i}return i7(t,n),t.prototype.render=function(e){var i=e.children,r=e._maxSize,s=e._batchSize,o=this.renderer,a=i.length;if(0!==a){a>r&&!e.autoResize&&(a=r);var l=e._buffers;l||(l=e._buffers=this.generateBuffers(e));var c=i[0]._texture.baseTexture;this.state.blendMode=oA(e.blendMode,c.alphaMode),o.state.set(this.state);var u=o.gl,d=e.worldTransform.copyTo(this.tempMatrix);d.prepend(o.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=d.toArray(!0),this.shader.uniforms.uColor=Rj(e.tintRgb,e.worldAlpha,this.shader.uniforms.uColor,c.alphaMode),this.shader.uniforms.uSampler=c,this.renderer.shader.bind(this.shader);for(var f=!1,y=0,O=0;y<a;y+=s,O+=1){var I=a-y;I>s&&(I=s),O>=l.length&&l.push(this._generateOneMoreBuffer(e));var N=l[O];N.uploadDynamic(i,y,I),(f=f||N._updateID<(e._bufferUpdateIDs[O]||0))&&(N._updateID=e._updateID,N.uploadStatic(i,y,I)),o.geometry.bind(N.geometry),u.drawElements(u.TRIANGLES,6*I,u.UNSIGNED_SHORT,0)}}},t.prototype.generateBuffers=function(e){for(var i=[],r=e._maxSize,s=e._batchSize,o=e._properties,a=0;a<r;a+=s)i.push(new s7(this.properties,o,s));return i},t.prototype._generateOneMoreBuffer=function(e){return new s7(this.properties,e._properties,e._batchSize)},t.prototype.uploadVertices=function(e,i,r,s,o,a){for(var l=0,c=0,u=0,d=0,f=0;f<r;++f){var y=e[i+f],O=y._texture,I=y.scale.x,N=y.scale.y,k=O.trim,B=O.orig;k?(l=(c=k.x-y.anchor.x*B.width)+k.width,u=(d=k.y-y.anchor.y*B.height)+k.height):(l=B.width*(1-y.anchor.x),c=B.width*-y.anchor.x,u=B.height*(1-y.anchor.y),d=B.height*-y.anchor.y),s[a]=c*I,s[a+1]=d*N,s[a+o]=l*I,s[a+o+1]=d*N,s[a+2*o]=l*I,s[a+2*o+1]=u*N,s[a+3*o]=c*I,s[a+3*o+1]=u*N,a+=4*o}},t.prototype.uploadPosition=function(e,i,r,s,o,a){for(var l=0;l<r;l++){var c=e[i+l].position;s[a]=c.x,s[a+1]=c.y,s[a+o]=c.x,s[a+o+1]=c.y,s[a+2*o]=c.x,s[a+2*o+1]=c.y,s[a+3*o]=c.x,s[a+3*o+1]=c.y,a+=4*o}},t.prototype.uploadRotation=function(e,i,r,s,o,a){for(var l=0;l<r;l++){var c=e[i+l].rotation;s[a]=c,s[a+o]=c,s[a+2*o]=c,s[a+3*o]=c,a+=4*o}},t.prototype.uploadUvs=function(e,i,r,s,o,a){for(var l=0;l<r;++l){var c=e[i+l]._texture._uvs;c?(s[a]=c.x0,s[a+1]=c.y0,s[a+o]=c.x1,s[a+o+1]=c.y1,s[a+2*o]=c.x2,s[a+2*o+1]=c.y2,s[a+3*o]=c.x3,s[a+3*o+1]=c.y3,a+=4*o):(s[a]=0,s[a+1]=0,s[a+o]=0,s[a+o+1]=0,s[a+2*o]=0,s[a+2*o+1]=0,s[a+3*o]=0,s[a+3*o+1]=0,a+=4*o)}},t.prototype.uploadTint=function(e,i,r,s,o,a){for(var l=0;l<r;++l){var c=e[i+l],d=c.alpha,f=d<1&&c._texture.baseTexture.alphaMode>0?nE(c._tintRGB,d):c._tintRGB+(255*d<<24);s[a]=f,s[a+o]=f,s[a+2*o]=f,s[a+3*o]=f,a+=4*o}},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},t}(py),pu=(()=>(function(n){n.MITER="miter",n.BEVEL="bevel",n.ROUND="round"}(pu||(pu={})),pu))(),gu=(()=>(function(n){n.BUTT="butt",n.ROUND="round",n.SQUARE="square"}(gu||(gu={})),gu))(),dm={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(n,t){if(void 0===t&&(t=20),!this.adaptive||!n||isNaN(n))return t;var e=Math.ceil(n/this.maxLength);return e<this.minSegments?e=this.minSegments:e>this.maxSegments&&(e=this.maxSegments),e}},f2=function(){function n(){this.color=16777215,this.alpha=1,this.texture=Jt.WHITE,this.matrix=null,this.visible=!1,this.reset()}return n.prototype.clone=function(){var t=new n;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t},n.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=Jt.WHITE,this.matrix=null,this.visible=!1},n.prototype.destroy=function(){this.texture=null,this.matrix=null},n}(),p2=function(n,t){return(p2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)};function g2(n,t){function e(){this.constructor=n}p2(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var _2={build:function(n){n.points=n.shape.points.slice()},triangulate:function(n,t){var e=n.points,i=n.holes,r=t.points,s=t.indices;if(e.length>=6){for(var o=[],a=0;a<i.length;a++){var l=i[a];o.push(e.length/2),e=e.concat(l.points)}var c=QI()(e,o,2);if(!c)return;var u=r.length/2;for(a=0;a<c.length;a+=3)s.push(c[a]+u),s.push(c[a+1]+u),s.push(c[a+2]+u);for(a=0;a<e.length;a++)r.push(e[a])}}},m2={build:function(n){var s,o,t=n.shape,e=n.points,i=t.x,r=t.y;if(e.length=0,n.type===Oi.CIRC)s=t.radius,o=t.radius;else{var a=n.shape;s=a.width,o=a.height}if(0!==s&&0!==o){var l=Math.floor(30*Math.sqrt(t.radius))||Math.floor(15*Math.sqrt(s+o));l/=2.3;for(var c=2*Math.PI/l,u=0;u<l-.5;u++)e.push(i+Math.sin(-c*u)*s,r+Math.cos(-c*u)*o);e.push(e[0],e[1])}},triangulate:function(n,t){var e=n.points,i=t.points,r=t.indices,s=i.length/2,o=s,a=n.shape,l=n.matrix,c=a.x,u=a.y;i.push(n.matrix?l.a*c+l.c*u+l.tx:c,n.matrix?l.b*c+l.d*u+l.ty:u);for(var d=0;d<e.length;d+=2)i.push(e[d],e[d+1]),r.push(s++,o,s)}},a7={build:function(n){var t=n.shape,e=t.x,i=t.y,r=t.width,s=t.height,o=n.points;o.length=0,o.push(e,i,e+r,i,e+r,i+s,e,i+s)},triangulate:function(n,t){var e=n.points,i=t.points,r=i.length/2;i.push(e[0],e[1],e[2],e[3],e[6],e[7],e[4],e[5]),t.indices.push(r,r+1,r+2,r+1,r+2,r+3)}};function hm(n,t,e){return n+(t-n)*e}function DE(n,t,e,i,r,s,o){void 0===o&&(o=[]);for(var l=o,c=0,u=0,d=0,f=0,y=0,O=0,I=0,N=0;I<=20;++I)c=hm(n,e,N=I/20),u=hm(t,i,N),d=hm(e,r,N),f=hm(i,s,N),y=hm(c,d,N),O=hm(u,f,N),(0!==I||l[l.length-2]!==y||l[l.length-1]!==O)&&l.push(y,O);return l}var l7={build:function(n){var t=n.shape,e=n.points,i=t.x,r=t.y,s=t.width,o=t.height,a=Math.max(0,Math.min(t.radius,Math.min(s,o)/2));e.length=0,a?(DE(i,r+a,i,r,i+a,r,e),DE(i+s-a,r,i+s,r,i+s,r+a,e),DE(i+s,r+o-a,i+s,r+o,i+s-a,r+o,e),DE(i+a,r+o,i,r+o,i,r+o-a,e)):e.push(i,r,i+s,r,i+s,r+o,i,r+o)},triangulate:function(n,t){for(var e=n.points,i=t.points,r=t.indices,s=i.length/2,o=QI()(e,null,2),a=0,l=o.length;a<l;a+=3)r.push(o[a]+s),r.push(o[a+1]+s),r.push(o[a+2]+s);for(a=0,l=e.length;a<l;a++)i.push(e[a],e[++a])}};function c7(n,t,e,i,r,s,o,a){var f,y;o?(f=i,y=-e):(f=-i,y=e);var N=n+e*s+f,k=t+i*s+y;return a.push(n-e*r+f,t-i*r+y),a.push(N,k),2}function fm(n,t,e,i,r,s,o,a){var l=e-n,c=i-t,u=Math.atan2(l,c),d=Math.atan2(r-n,s-t);a&&u<d?u+=2*Math.PI:!a&&u>d&&(d+=2*Math.PI);var f=u,y=d-u,O=Math.abs(y),I=Math.sqrt(l*l+c*c),N=1+(15*O*Math.sqrt(I)/Math.PI>>0),k=y/N;if(f+=k,a){o.push(n,t),o.push(e,i);for(var B=1,G=f;B<N;B++,G+=k)o.push(n,t),o.push(n+Math.sin(G)*I,t+Math.cos(G)*I);o.push(n,t),o.push(r,s)}else{for(o.push(e,i),o.push(n,t),B=1,G=f;B<N;B++,G+=k)o.push(n+Math.sin(G)*I,t+Math.cos(G)*I),o.push(n,t);o.push(r,s),o.push(n,t)}return 2*N}function v2(n,t){n.lineStyle.native?function Abe(n,t){var e=0,i=n.shape,r=n.points||i.points,s=i.type!==Oi.POLY||i.closeStroke;if(0!==r.length){var o=t.points,a=t.indices,l=r.length/2,c=o.length/2,u=c;for(o.push(r[0],r[1]),e=1;e<l;e++)o.push(r[2*e],r[2*e+1]),a.push(u,u+1),u++;s&&a.push(u,c)}}(n,t):function Ibe(n,t){var e=n.shape,i=n.points||e.points.slice(),r=t.closePointEps;if(0!==i.length){var s=n.lineStyle,o=new _r(i[0],i[1]),a=new _r(i[i.length-2],i[i.length-1]),l=e.type!==Oi.POLY||e.closeStroke,c=Math.abs(o.x-a.x)<r&&Math.abs(o.y-a.y)<r;if(l){i=i.slice(),c&&(i.pop(),i.pop(),a.set(i[i.length-2],i[i.length-1]));var u=.5*(o.x+a.x),d=.5*(a.y+o.y);i.unshift(u,d),i.push(u,d)}var f=t.points,y=i.length/2,O=i.length,I=f.length/2,N=s.width/2,k=N*N,B=s.miterLimit*s.miterLimit,G=i[0],Y=i[1],J=i[2],Z=i[3],ge=0,pe=0,ae=-(Y-Z),de=G-J,xe=0,ve=0,ye=Math.sqrt(ae*ae+de*de);ae/=ye,de/=ye,ae*=N,de*=N;var Re=s.alignment,Oe=2*(1-Re),be=2*Re;l||(s.cap===gu.ROUND?O+=fm(G-ae*(Oe-be)*.5,Y-de*(Oe-be)*.5,G-ae*Oe,Y-de*Oe,G+ae*be,Y+de*be,f,!0)+2:s.cap===gu.SQUARE&&(O+=c7(G,Y,ae,de,Oe,be,!0,f))),f.push(G-ae*Oe,Y-de*Oe),f.push(G+ae*be,Y+de*be);for(var Ee=1;Ee<y-1;++Ee){ge=i[2*(Ee+1)],pe=i[2*(Ee+1)+1],ae=-((Y=i[2*(Ee-1)+1])-(Z=i[2*Ee+1])),de=(G=i[2*(Ee-1)])-(J=i[2*Ee]),ae/=ye=Math.sqrt(ae*ae+de*de),de/=ye,ae*=N,de*=N,xe=-(Z-pe),ve=J-ge,xe/=ye=Math.sqrt(xe*xe+ve*ve),ve/=ye,xe*=N,ve*=N;var De=J-G,nt=Y-Z,me=J-ge,Ve=pe-Z,et=nt*me-Ve*De,st=et<0;if(Math.abs(et)<.1)f.push(J-ae*Oe,Z-de*Oe),f.push(J+ae*be,Z+de*be);else{var Tt=(-ae+G)*(-de+Z)-(-ae+J)*(-de+Y),vt=(-xe+ge)*(-ve+Z)-(-xe+J)*(-ve+pe),kt=(De*vt-me*Tt)/et,Vt=(Ve*Tt-nt*vt)/et,Pn=(kt-J)*(kt-J)+(Vt-Z)*(Vt-Z),cn=J+(kt-J)*Oe,Qt=Z+(Vt-Z)*Oe,Ft=J-(kt-J)*be,vn=Z-(Vt-Z)*be,Qi=st?Oe:be;Pn<=Math.min(De*De+nt*nt,me*me+Ve*Ve)+Qi*Qi*k?s.join===pu.BEVEL||Pn/k>B?(st?(f.push(cn,Qt),f.push(J+ae*be,Z+de*be),f.push(cn,Qt),f.push(J+xe*be,Z+ve*be)):(f.push(J-ae*Oe,Z-de*Oe),f.push(Ft,vn),f.push(J-xe*Oe,Z-ve*Oe),f.push(Ft,vn)),O+=2):s.join===pu.ROUND?st?(f.push(cn,Qt),f.push(J+ae*be,Z+de*be),O+=fm(J,Z,J+ae*be,Z+de*be,J+xe*be,Z+ve*be,f,!0)+4,f.push(cn,Qt),f.push(J+xe*be,Z+ve*be)):(f.push(J-ae*Oe,Z-de*Oe),f.push(Ft,vn),O+=fm(J,Z,J-ae*Oe,Z-de*Oe,J-xe*Oe,Z-ve*Oe,f,!1)+4,f.push(J-xe*Oe,Z-ve*Oe),f.push(Ft,vn)):(f.push(cn,Qt),f.push(Ft,vn)):(f.push(J-ae*Oe,Z-de*Oe),f.push(J+ae*be,Z+de*be),s.join===pu.BEVEL||Pn/k>B||(s.join===pu.ROUND?O+=st?fm(J,Z,J+ae*be,Z+de*be,J+xe*be,Z+ve*be,f,!0)+2:fm(J,Z,J-ae*Oe,Z-de*Oe,J-xe*Oe,Z-ve*Oe,f,!1)+2:(st?(f.push(Ft,vn),f.push(Ft,vn)):(f.push(cn,Qt),f.push(cn,Qt)),O+=2)),f.push(J-xe*Oe,Z-ve*Oe),f.push(J+xe*be,Z+ve*be),O+=2)}}ae=-((Y=i[2*(y-2)+1])-(Z=i[2*(y-1)+1])),de=(G=i[2*(y-2)])-(J=i[2*(y-1)]),ae/=ye=Math.sqrt(ae*ae+de*de),de/=ye,f.push(J-(ae*=N)*Oe,Z-(de*=N)*Oe),f.push(J+ae*be,Z+de*be),l||(s.cap===gu.ROUND?O+=fm(J-ae*(Oe-be)*.5,Z-de*(Oe-be)*.5,J-ae*Oe,Z-de*Oe,J+ae*be,Z+de*be,f,!1)+2:s.cap===gu.SQUARE&&(O+=c7(J,Z,ae,de,Oe,be,!1,f)));var fs=t.indices,lr=dm.epsilon*dm.epsilon;for(Ee=I;Ee<O+I-2;++Ee)G=f[2*Ee],Y=f[2*Ee+1],J=f[2*(Ee+1)],Z=f[2*(Ee+1)+1],ge=f[2*(Ee+2)],pe=f[2*(Ee+2)+1],!(Math.abs(G*(Z-pe)+J*(pe-Y)+ge*(Y-Z))<lr)&&fs.push(Ee,Ee+1,Ee+2)}}(n,t)}var Yf,y2=function(){function n(){}return n.curveTo=function(t,e,i,r,s,o){var c=o[o.length-1]-e,u=o[o.length-2]-t,d=r-e,f=i-t,y=Math.abs(c*f-u*d);if(y<1e-8||0===s)return(o[o.length-2]!==t||o[o.length-1]!==e)&&o.push(t,e),null;var O=c*c+u*u,I=d*d+f*f,N=c*d+u*f,k=s*Math.sqrt(O)/y,B=s*Math.sqrt(I)/y,G=k*N/O,Y=B*N/I,J=k*f+B*u,Z=k*d+B*c,ae=f*(k+Y),de=d*(k+Y);return{cx:J+t,cy:Z+e,radius:s,startAngle:Math.atan2(c*(B+G)-Z,u*(B+G)-J),endAngle:Math.atan2(de-Z,ae-J),anticlockwise:u*d>f*c}},n.arc=function(t,e,i,r,s,o,a,l,c){for(var u=a-o,d=dm._segmentsCount(Math.abs(u)*s,40*Math.ceil(Math.abs(u)/cy)),f=u/(2*d),y=2*f,O=Math.cos(f),I=Math.sin(f),N=d-1,k=N%1/N,B=0;B<=N;++B){var Y=f+o+y*(B+k*B),J=Math.cos(Y),Z=-Math.sin(Y);c.push((O*J+I*Z)*s+i,(O*-Z+I*J)*s+r)}},n}(),u7=function(){function n(){}return n.curveLength=function(t,e,i,r,s,o,a,l){for(var u=0,d=0,f=0,y=0,O=0,I=0,N=0,k=0,B=0,G=0,Y=0,J=t,Z=e,ge=1;ge<=10;++ge)G=J-(k=(N=(I=(O=1-(d=ge/10))*O)*O)*t+3*I*d*i+3*O*(f=d*d)*s+(y=f*d)*a),Y=Z-(B=N*e+3*I*d*r+3*O*f*o+y*l),J=k,Z=B,u+=Math.sqrt(G*G+Y*Y);return u},n.curveTo=function(t,e,i,r,s,o,a){var l=a[a.length-2],c=a[a.length-1];a.length-=2;var u=dm._segmentsCount(n.curveLength(l,c,t,e,i,r,s,o)),d=0,f=0,y=0,O=0,I=0;a.push(l,c);for(var N=1,k=0;N<=u;++N)a.push((y=(f=(d=1-(k=N/u))*d)*d)*l+3*f*k*t+3*d*(O=k*k)*i+(I=O*k)*s,y*c+3*f*k*e+3*d*O*r+I*o)},n}(),d7=function(){function n(){}return n.curveLength=function(t,e,i,r,s,o){var a=t-2*i+s,l=e-2*r+o,c=2*i-2*t,u=2*r-2*e,d=4*(a*a+l*l),f=4*(a*c+l*u),y=c*c+u*u,O=2*Math.sqrt(d+f+y),I=Math.sqrt(d),N=2*d*I,k=2*Math.sqrt(y),B=f/I;return(N*O+I*f*(O-k)+(4*y*d-f*f)*Math.log((2*I+B+O)/(B+k)))/(4*N)},n.curveTo=function(t,e,i,r,s){for(var o=s[s.length-2],a=s[s.length-1],l=dm._segmentsCount(n.curveLength(o,a,t,e,i,r)),c=0,u=0,d=1;d<=l;++d){var f=d/l;s.push((c=o+(t-o)*f)+(t+(i-t)*f-c)*f,(u=a+(e-a)*f)+(e+(r-e)*f-u)*f)}},n}(),h7=function(){function n(){this.reset()}return n.prototype.begin=function(t,e,i){this.reset(),this.style=t,this.start=e,this.attribStart=i},n.prototype.end=function(t,e){this.attribSize=e-this.attribStart,this.size=t-this.start},n.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},n}(),NE=((Yf={})[Oi.POLY]=_2,Yf[Oi.CIRC]=m2,Yf[Oi.ELIP]=m2,Yf[Oi.RECT]=a7,Yf[Oi.RREC]=l7,Yf),b2=[],Cy=[];function Rbe(n){for(var t=n.points,e=0,i=0;i<t.length-2;i+=2)e+=(t[i+2]-t[i])*(t[i+3]+t[i+1]);return e>0}var S2=function(){function n(t,e,i,r){void 0===e&&(e=null),void 0===i&&(i=null),void 0===r&&(r=null),this.points=[],this.holes=[],this.shape=t,this.lineStyle=i,this.fillStyle=e,this.matrix=r,this.type=t.type}return n.prototype.clone=function(){return new n(this.shape,this.fillStyle,this.lineStyle,this.matrix)},n.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},n}(),pm=new _r,Dbe=new om,f7=function(n){function t(){var e=n.call(this)||this;return e.closePointEps=1e-4,e.boundsPadding=0,e.uvsFloat32=null,e.indicesUint16=null,e.batchable=!1,e.points=[],e.colors=[],e.uvs=[],e.indices=[],e.textureIds=[],e.graphicsData=[],e.drawCalls=[],e.batchDirty=-1,e.batches=[],e.dirty=0,e.cacheDirty=-1,e.clearDirty=0,e.shapeIndex=0,e._bounds=new om,e.boundsDirty=-1,e}return g2(t,n),Object.defineProperty(t.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),t.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),Cy.push(this.drawCalls[e]);for(this.drawCalls.length=0,e=0;e<this.batches.length;e++){var i=this.batches[e];i.reset(),b2.push(i)}this.batches.length=0},t.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},t.prototype.drawShape=function(e,i,r,s){void 0===i&&(i=null),void 0===r&&(r=null),void 0===s&&(s=null);var o=new S2(e,i,r,s);return this.graphicsData.push(o),this.dirty++,this},t.prototype.drawHole=function(e,i){if(void 0===i&&(i=null),!this.graphicsData.length)return null;var r=new S2(e,null,null,i),s=this.graphicsData[this.graphicsData.length-1];return r.lineStyle=s.lineStyle,s.holes.push(r),this.dirty++,this},t.prototype.destroy=function(){n.prototype.destroy.call(this);for(var e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},t.prototype.containsPoint=function(e){for(var i=this.graphicsData,r=0;r<i.length;++r){var s=i[r];if(s.fillStyle.visible&&s.shape&&(s.matrix?s.matrix.applyInverse(e,pm):pm.copyFrom(e),s.shape.contains(pm.x,pm.y))){var o=!1;if(s.holes)for(var a=0;a<s.holes.length;a++)if(s.holes[a].shape.contains(pm.x,pm.y)){o=!0;break}if(!o)return!0}}return!1},t.prototype.updateBatches=function(e){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var i=this.uvs,r=this.graphicsData,s=null,o=null;this.batches.length>0&&(o=(s=this.batches[this.batches.length-1]).style);for(var a=this.shapeIndex;a<r.length;a++){this.shapeIndex++;var l=r[a],c=l.fillStyle,u=l.lineStyle;NE[l.type].build(l),l.matrix&&this.transformPoints(l.points,l.matrix);for(var f=0;f<2;f++){var y=0===f?c:u;if(y.visible){var I=this.indices.length,N=this.points.length/2;y.texture.baseTexture.wrapMode=xl.REPEAT,0===f?this.processFill(l):this.processLine(l);var k=this.points.length/2-N;0!==k&&(s&&!this._compareStyles(o,y)&&(s.end(I,N),s=null),s||((s=b2.pop()||new h7).begin(y,I,N),this.batches.push(s),o=y),this.addUvs(this.points,i,y.texture,N,k,y.matrix))}}}var G=this.points.length/2;if(s&&s.end(this.indices.length,G),0===this.batches.length)return void(this.batchable=!0);this.indicesUint16&&this.indices.length===this.indicesUint16.length?this.indicesUint16.set(this.indices):this.indicesUint16=G>65535&&e?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}}else this.batchable=!0},t.prototype._compareStyles=function(e,i){return!(!e||!i||e.texture.baseTexture!==i.texture.baseTexture||e.color+e.alpha!==i.color+i.alpha||!!e.native!=!!i.native)},t.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var e=0,i=this.graphicsData.length;e<i;e++){var r=this.graphicsData[e],s=r.fillStyle,o=r.lineStyle;if(s&&!s.texture.baseTexture.valid||o&&!o.texture.baseTexture.valid)return!1}return!0},t.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var e=this.batches,i=0,r=e.length;i<r;i++)for(var s=e[i],o=0;o<s.size;o++){var a=s.start+o;this.indicesUint16[a]=this.indicesUint16[a]-s.attribStart}},t.prototype.isBatchable=function(){if(this.points.length>131070)return!1;for(var e=this.batches,i=0;i<e.length;i++)if(e[i].style.native)return!1;return this.points.length<2*t.BATCHABLE_SIZE},t.prototype.buildDrawCalls=function(){for(var e=++Ci._globalBatch,i=0;i<this.drawCalls.length;i++)this.drawCalls[i].texArray.clear(),Cy.push(this.drawCalls[i]);this.drawCalls.length=0;var r=this.colors,s=this.textureIds,o=Cy.pop();o||((o=new EE).texArray=new TE),o.texArray.count=0,o.start=0,o.size=0,o.type=fo.TRIANGLES;var a=0,l=null,c=0,u=!1,d=fo.TRIANGLES,f=0;for(this.drawCalls.push(o),i=0;i<this.batches.length;i++){var y=this.batches[i],I=y.style,N=I.texture.baseTexture;u!==!!I.native&&(d=(u=!!I.native)?fo.LINES:fo.TRIANGLES,l=null,a=8,e++),l!==N&&(l=N,N._batchEnabled!==e&&(8===a&&(e++,a=0,o.size>0&&((o=Cy.pop())||((o=new EE).texArray=new TE),this.drawCalls.push(o)),o.start=f,o.size=0,o.texArray.count=0,o.type=d),N.touched=1,N._batchEnabled=e,N._batchLocation=a,N.wrapMode=xl.REPEAT,o.texArray.elements[o.texArray.count++]=N,a++)),o.size+=y.size,f+=y.size,c=N._batchLocation,this.addColors(r,I.color,I.alpha,y.attribSize,y.attribStart),this.addTextureIds(s,c,y.attribSize,y.attribStart)}Ci._globalBatch=e,this.packAttributes()},t.prototype.packAttributes=function(){for(var e=this.points,i=this.uvs,r=this.colors,s=this.textureIds,o=new ArrayBuffer(3*e.length*4),a=new Float32Array(o),l=new Uint32Array(o),c=0,u=0;u<e.length/2;u++)a[c++]=e[2*u],a[c++]=e[2*u+1],a[c++]=i[2*u],a[c++]=i[2*u+1],l[c++]=r[u],a[c++]=s[u];this._buffer.update(o),this._indexBuffer.update(this.indicesUint16)},t.prototype.processFill=function(e){e.holes.length?(this.processHoles(e.holes),_2.triangulate(e,this)):NE[e.type].triangulate(e,this)},t.prototype.processLine=function(e){v2(e,this);for(var i=0;i<e.holes.length;i++)v2(e.holes[i],this)},t.prototype.processHoles=function(e){for(var i=0;i<e.length;i++){var r=e[i];NE[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}},t.prototype.calculateBounds=function(){var e=this._bounds,i=Dbe,r=zi.IDENTITY;this._bounds.clear(),i.clear();for(var s=0;s<this.graphicsData.length;s++){var o=this.graphicsData[s],a=o.shape,l=o.type,c=o.lineStyle,u=o.matrix||zi.IDENTITY,d=0;if(c&&c.visible){var f=c.alignment;d=c.width,l===Oi.POLY?Rbe(a)?d*=1-f:d*=f:d*=Math.max(0,f)}r!==u&&(i.isEmpty()||(e.addBoundsMatrix(i,r),i.clear()),r=u),l===Oi.RECT||l===Oi.RREC?i.addFramePad(a.x,a.y,a.x+a.width,a.y+a.height,d,d):l===Oi.CIRC?i.addFramePad(a.x,a.y,a.x,a.y,a.radius+d,a.radius+d):l===Oi.ELIP?i.addFramePad(a.x,a.y,a.x,a.y,a.width+d,a.height+d):e.addVerticesMatrix(r,a.points,0,a.points.length,d,d)}i.isEmpty()||e.addBoundsMatrix(i,r),e.pad(this.boundsPadding,this.boundsPadding)},t.prototype.transformPoints=function(e,i){for(var r=0;r<e.length/2;r++){var s=e[2*r],o=e[2*r+1];e[2*r]=i.a*s+i.c*o+i.tx,e[2*r+1]=i.b*s+i.d*o+i.ty}},t.prototype.addColors=function(e,i,r,s,o){void 0===o&&(o=0);var l=nE((i>>16)+(65280&i)+((255&i)<<16),r);e.length=Math.max(e.length,o+s);for(var c=0;c<s;c++)e[o+c]=l},t.prototype.addTextureIds=function(e,i,r,s){void 0===s&&(s=0),e.length=Math.max(e.length,s+r);for(var o=0;o<r;o++)e[s+o]=i},t.prototype.addUvs=function(e,i,r,s,o,a){void 0===a&&(a=null);for(var l=0,c=i.length,u=r.frame;l<o;){var d=e[2*(s+l)],f=e[2*(s+l)+1];if(a){var y=a.a*d+a.c*f+a.tx;f=a.b*d+a.d*f+a.ty,d=y}l++,i.push(d/u.width,f/u.height)}var O=r.baseTexture;(u.width<O.width||u.height<O.height)&&this.adjustUvs(i,r,c,o)},t.prototype.adjustUvs=function(e,i,r,s){for(var o=i.baseTexture,a=1e-6,l=r+2*s,c=i.frame,u=c.width/o.width,d=c.height/o.height,f=c.x/c.width,y=c.y/c.height,O=Math.floor(e[r]+a),I=Math.floor(e[r+1]+a),N=r+2;N<l;N+=2)O=Math.min(O,Math.floor(e[N]+a)),I=Math.min(I,Math.floor(e[N+1]+a));for(f-=O,y-=I,N=r;N<l;N+=2)e[N]=(e[N]+f)*u,e[N+1]=(e[N+1]+y)*d},t.BATCHABLE_SIZE=100,t}(r2),p7=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.width=0,e.alignment=.5,e.native=!1,e.cap=gu.BUTT,e.join=pu.MITER,e.miterLimit=10,e}return g2(t,n),t.prototype.clone=function(){var e=new t;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e},t.prototype.reset=function(){n.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},t}(f2),Nbe=new Float32Array(3),C2={},la=function(n){function t(e){void 0===e&&(e=null);var i=n.call(this)||this;return i.shader=null,i.pluginName="batch",i.currentPath=null,i.batches=[],i.batchTint=-1,i.batchDirty=-1,i.vertexData=null,i._fillStyle=new f2,i._lineStyle=new p7,i._matrix=null,i._holeMode=!1,i.state=uh.for2d(),i._geometry=e||new f7,i._geometry.refCount++,i._transformID=-1,i.tint=16777215,i.blendMode=qe.NORMAL,i}return g2(t,n),Object.defineProperty(t.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return this.finishPoly(),new t(this._geometry)},Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),t.prototype.lineStyle=function(e,i,r,s,o){return void 0===e&&(e=null),void 0===i&&(i=0),void 0===r&&(r=1),void 0===s&&(s=.5),void 0===o&&(o=!1),"number"==typeof e&&(e={width:e,color:i,alpha:r,alignment:s,native:o}),this.lineTextureStyle(e)},t.prototype.lineTextureStyle=function(e){e=Object.assign({width:0,texture:Jt.WHITE,color:e&&e.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:gu.BUTT,join:pu.MITER,miterLimit:10},e),this.currentPath&&this.startPoly();var i=e.width>0&&e.alpha>0;return i?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:i},e)):this._lineStyle.reset(),this},t.prototype.startPoly=function(){if(this.currentPath){var e=this.currentPath.points,i=this.currentPath.points.length;i>2&&(this.drawShape(this.currentPath),this.currentPath=new uy,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[i-2],e[i-1]))}else this.currentPath=new uy,this.currentPath.closeStroke=!1},t.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},t.prototype.moveTo=function(e,i){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=i,this},t.prototype.lineTo=function(e,i){this.currentPath||this.moveTo(0,0);var r=this.currentPath.points;return(r[r.length-2]!==e||r[r.length-1]!==i)&&r.push(e,i),this},t.prototype._initCurve=function(e,i){void 0===e&&(e=0),void 0===i&&(i=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[e,i]):this.moveTo(e,i)},t.prototype.quadraticCurveTo=function(e,i,r,s){this._initCurve();var o=this.currentPath.points;return 0===o.length&&this.moveTo(0,0),d7.curveTo(e,i,r,s,o),this},t.prototype.bezierCurveTo=function(e,i,r,s,o,a){return this._initCurve(),u7.curveTo(e,i,r,s,o,a,this.currentPath.points),this},t.prototype.arcTo=function(e,i,r,s,o){this._initCurve(e,i);var l=y2.curveTo(e,i,r,s,o,this.currentPath.points);return l&&this.arc(l.cx,l.cy,l.radius,l.startAngle,l.endAngle,l.anticlockwise),this},t.prototype.arc=function(e,i,r,s,o,a){if(void 0===a&&(a=!1),s===o)return this;if(!a&&o<=s?o+=cy:a&&s<=o&&(s+=cy),0==o-s)return this;var c=e+Math.cos(s)*r,u=i+Math.sin(s)*r,d=this._geometry.closePointEps,f=this.currentPath?this.currentPath.points:null;if(f){var y=Math.abs(f[f.length-2]-c),O=Math.abs(f[f.length-1]-u);y<d&&O<d||f.push(c,u)}else this.moveTo(c,u),f=this.currentPath.points;return y2.arc(c,u,e,i,r,s,o,a,f),this},t.prototype.beginFill=function(e,i){return void 0===e&&(e=0),void 0===i&&(i=1),this.beginTextureFill({texture:Jt.WHITE,color:e,alpha:i})},t.prototype.beginTextureFill=function(e){e=Object.assign({texture:Jt.WHITE,color:16777215,alpha:1,matrix:null},e),this.currentPath&&this.startPoly();var i=e.alpha>0;return i?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:i},e)):this._fillStyle.reset(),this},t.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},t.prototype.drawRect=function(e,i,r,s){return this.drawShape(new mi(e,i,r,s))},t.prototype.drawRoundedRect=function(e,i,r,s,o){return this.drawShape(new Hj(e,i,r,s,o))},t.prototype.drawCircle=function(e,i,r){return this.drawShape(new Gj(e,i,r))},t.prototype.drawEllipse=function(e,i,r,s){return this.drawShape(new jj(e,i,r,s))},t.prototype.drawPolygon=function(){for(var e=arguments,i=[],r=0;r<arguments.length;r++)i[r]=e[r];var s,o=!0,a=i[0];a.points?(o=a.closeStroke,s=a.points):s=Array.isArray(i[0])?i[0]:i;var l=new uy(s);return l.closeStroke=o,this.drawShape(l),this},t.prototype.drawShape=function(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},t.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},t.prototype.isFastRect=function(){var e=this._geometry.graphicsData;return!(1!==e.length||e[0].shape.type!==Oi.RECT||e[0].matrix||e[0].holes.length||e[0].lineStyle.visible&&e[0].lineStyle.width)},t.prototype._render=function(e){this.finishPoly();var i=this._geometry;i.updateBatches(e.context.supports.uint32Indices),i.batchable?(this.batchDirty!==i.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))},t.prototype._populateBatches=function(){var e=this._geometry,i=this.blendMode,r=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=r,this.vertexData=new Float32Array(e.points);for(var s=0;s<r;s++){var o=e.batches[s],a=o.style.color,l=new Float32Array(this.vertexData.buffer,4*o.attribStart*2,2*o.attribSize),c=new Float32Array(e.uvsFloat32.buffer,4*o.attribStart*2,2*o.attribSize),d={vertexData:l,blendMode:i,indices:new Uint16Array(e.indicesUint16.buffer,2*o.start,o.size),uvs:c,_batchRGB:nd(a),_tintRGB:a,_texture:o.style.texture,alpha:o.style.alpha,worldAlpha:1};this.batches[s]=d}},t.prototype._renderBatched=function(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var i=0,r=this.batches.length;i<r;i++){var s=this.batches[i];s.worldAlpha=this.worldAlpha*s.alpha,e.plugins[this.pluginName].render(s)}}},t.prototype._renderDirect=function(e){var i=this._resolveDirectShader(e),r=this._geometry,s=this.tint,o=this.worldAlpha,a=i.uniforms,l=r.drawCalls;a.translationMatrix=this.transform.worldTransform,a.tint[0]=(s>>16&255)/255*o,a.tint[1]=(s>>8&255)/255*o,a.tint[2]=(255&s)/255*o,a.tint[3]=o,e.shader.bind(i),e.geometry.bind(r,i),e.state.set(this.state);for(var c=0,u=l.length;c<u;c++)this._renderDrawCallDirect(e,r.drawCalls[c])},t.prototype._renderDrawCallDirect=function(e,i){for(var r=i.texArray,s=i.type,o=i.size,a=i.start,l=r.count,c=0;c<l;c++)e.texture.bind(r.elements[c],c);e.geometry.draw(s,o,a)},t.prototype._resolveDirectShader=function(e){var i=this.shader,r=this.pluginName;if(!i){if(!C2[r]){for(var s=e.plugins.batch.MAX_TEXTURES,o=new Int32Array(s),a=0;a<s;a++)o[a]=a;var l={tint:new Float32Array([1,1,1,1]),translationMatrix:new zi,default:ch.from({uSamplers:o},!0)};C2[r]=new id(e.plugins[r]._shader.program,l)}i=C2[r]}return i},t.prototype._calculateBounds=function(){this.finishPoly();var e=this._geometry;if(e.graphicsData.length){var i=e.bounds;this._bounds.addFrame(this.transform,i.minX,i.minY,i.maxX,i.maxY)}},t.prototype.containsPoint=function(e){return this.worldTransform.applyInverse(e,t._TEMP_POINT),this._geometry.containsPoint(t._TEMP_POINT)},t.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var e=nd(this.tint,Nbe),i=0;i<this.batches.length;i++){var r=this.batches[i],s=r._batchRGB,c=(e[0]*s[0]*255<<16)+(e[1]*s[1]*255<<8)+(0|e[2]*s[2]*255);r._tintRGB=(c>>16)+(65280&c)+((255&c)<<16)}}},t.prototype.calculateVertices=function(){var e=this.transform._worldID;if(this._transformID!==e){this._transformID=e;for(var i=this.transform.worldTransform,r=i.a,s=i.b,o=i.c,a=i.d,l=i.tx,c=i.ty,u=this._geometry.points,d=this.vertexData,f=0,y=0;y<u.length;y+=2){var O=u[y],I=u[y+1];d[f++]=r*O+o*I+l,d[f++]=a*I+s*O+c}}},t.prototype.closePath=function(){var e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this},t.prototype.setMatrix=function(e){return this._matrix=e,this},t.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},t.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},t.prototype.destroy=function(e){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,n.prototype.destroy.call(this,e)},t._TEMP_POINT=new _r,t}(rr),kbe={buildPoly:_2,buildCircle:m2,buildRectangle:a7,buildRoundedRectangle:l7,buildLine:v2,ArcUtils:y2,BezierUtils:u7,QuadraticUtils:d7,BatchPart:h7,FILL_COMMANDS:NE,BATCH_POOL:b2,DRAW_CALL_POOL:Cy},E2=function(n,t){return(E2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},Ey=new _r,Lbe=new Uint16Array([0,1,2,0,2,3]),_o=function(n){function t(e){var i=n.call(this)||this;return i._anchor=new Lf(i._onAnchorUpdate,i,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),i._texture=null,i._width=0,i._height=0,i._tint=null,i._tintRGB=null,i.tint=16777215,i.blendMode=qe.NORMAL,i._cachedTint=16777215,i.uvs=null,i.texture=e||Jt.EMPTY,i.vertexData=new Float32Array(8),i.vertexTrimmedData=null,i._transformID=-1,i._textureID=-1,i._transformTrimmedID=-1,i._textureTrimmedID=-1,i.indices=Lbe,i.pluginName="batch",i.isSprite=!0,i._roundPixels=Mt.ROUND_PIXELS,i}return function Fbe(n,t){function e(){this.constructor=n}E2(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Ff(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Ff(this.scale.y)*this._height/this._texture.orig.height)},t.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},t.prototype.calculateVertices=function(){var e=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==e._updateID){this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;var i=this.transform.worldTransform,r=i.a,s=i.b,o=i.c,a=i.d,l=i.tx,c=i.ty,u=this.vertexData,d=e.trim,f=e.orig,y=this._anchor,O=0,I=0,N=0,k=0;if(d?(O=(I=d.x-y._x*f.width)+d.width,N=(k=d.y-y._y*f.height)+d.height):(O=(I=-y._x*f.width)+f.width,N=(k=-y._y*f.height)+f.height),u[0]=r*I+o*k+l,u[1]=a*k+s*I+c,u[2]=r*O+o*k+l,u[3]=a*k+s*O+c,u[4]=r*O+o*N+l,u[5]=a*N+s*O+c,u[6]=r*I+o*N+l,u[7]=a*N+s*I+c,this._roundPixels)for(var B=Mt.RESOLUTION,G=0;G<u.length;++G)u[G]=Math.round((u[G]*B|0)/B)}},t.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var i=this.vertexTrimmedData,r=this._texture.orig,s=this._anchor,o=this.transform.worldTransform,a=o.a,l=o.b,c=o.c,u=o.d,d=o.tx,f=o.ty,y=-s._x*r.width,O=y+r.width,I=-s._y*r.height,N=I+r.height;i[0]=a*y+c*I+d,i[1]=u*I+l*y+f,i[2]=a*O+c*I+d,i[3]=u*I+l*O+f,i[4]=a*O+c*N+d,i[5]=u*N+l*O+f,i[6]=a*y+c*N+d,i[7]=u*N+l*y+f},t.prototype._render=function(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)},t.prototype._calculateBounds=function(){var e=this._texture.trim,i=this._texture.orig;!e||e.width===i.width&&e.height===i.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},t.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._localBounds||(this._localBounds=new om),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new mi),e=this._localBoundsRect),this._localBounds.getRectangle(e)):n.prototype.getLocalBounds.call(this,e)},t.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,Ey);var i=this._texture.orig.width,r=this._texture.orig.height,s=-i*this.anchor.x,o=0;return Ey.x>=s&&Ey.x<s+i&&Ey.y>=(o=-r*this.anchor.y)&&Ey.y<o+r},t.prototype.destroy=function(e){n.prototype.destroy.call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,("boolean"==typeof e?e:e&&e.texture)&&this._texture.destroy(!!("boolean"==typeof e?e:e&&e.baseTexture)),this._texture=null},t.from=function(e,i){return new t(e instanceof Jt?e:Jt.from(e,i))},Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){var i=Ff(this.scale.x)||1;this.scale.x=i*e/this._texture.orig.width,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){var i=Ff(this.scale.y)||1;this.scale.y=i*e/this._texture.orig.height,this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},set:function(e){this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e,this._tintRGB=(e>>16)+(65280&e)+((255&e)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||Jt.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),t}(rr),T2=function(n,t){return(T2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},Xf=(()=>(function(n){n[n.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",n[n.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"}(Xf||(Xf={})),Xf))(),w2={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Xf.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},Ube=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],qf=function(){function n(t){this.styleID=0,this.reset(),O2(this,t,t)}return n.prototype.clone=function(){var t={};return O2(t,this,w2),new n(t)},n.prototype.reset=function(){O2(this,w2,w2)},Object.defineProperty(n.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"breakWords",{get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(t){var e=M2(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fill",{get:function(){return this._fill},set:function(t){var e=M2(t);this._fill!==e&&(this._fill=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(t){(function Gbe(n,t){if(!Array.isArray(n)||!Array.isArray(t)||n.length!==t.length)return!1;for(var e=0;e<n.length;++e)if(n[e]!==t[e])return!1;return!0})(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"leading",{get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"padding",{get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"stroke",{get:function(){return this._stroke},set:function(t){var e=M2(t);this._stroke!==e&&(this._stroke=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"trim",{get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)},enumerable:!1,configurable:!0}),n.prototype.toFontString=function(){var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var i=e.length-1;i>=0;i--){var r=e[i].trim();!/([\"\'])[^\'\"]+\1/.test(r)&&Ube.indexOf(r)<0&&(r='"'+r+'"'),e[i]=r}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},n}();function g7(n){return"number"==typeof n?tE(n):("string"==typeof n&&0===n.indexOf("0x")&&(n=n.replace("0x","#")),n)}function M2(n){if(Array.isArray(n)){for(var t=0;t<n.length;++t)n[t]=g7(n[t]);return n}return g7(n)}function O2(n,t,e){for(var i in e)n[i]=Array.isArray(t[i])?t[i].slice():t[i]}var el=function(){function n(t,e,i,r,s,o,a,l,c){this.text=t,this.style=e,this.width=i,this.height=r,this.lines=s,this.lineWidths=o,this.lineHeight=a,this.maxLineWidth=l,this.fontProperties=c}return n.measureText=function(t,e,i,r){void 0===r&&(r=n._canvas),i=null==i?e.wordWrap:i;var s=e.toFontString(),o=n.measureFont(s);0===o.fontSize&&(o.fontSize=e.fontSize,o.ascent=e.fontSize);var a=r.getContext("2d");a.font=s;for(var c=(i?n.wordWrap(t,e,r):t).split(/(?:\r\n|\r|\n)/),u=new Array(c.length),d=0,f=0;f<c.length;f++){var y=a.measureText(c[f]).width+(c[f].length-1)*e.letterSpacing;u[f]=y,d=Math.max(d,y)}var O=d+e.strokeThickness;e.dropShadow&&(O+=e.dropShadowDistance);var I=e.lineHeight||o.fontSize+e.strokeThickness,N=Math.max(I,o.fontSize+e.strokeThickness)+(c.length-1)*(I+e.leading);return e.dropShadow&&(N+=e.dropShadowDistance),new n(t,e,O,N,c,u,I+e.leading,d,o)},n.wordWrap=function(t,e,i){void 0===i&&(i=n._canvas);for(var r=i.getContext("2d"),s=0,o="",a="",l=Object.create(null),c=e.letterSpacing,u=e.whiteSpace,d=n.collapseSpaces(u),f=n.collapseNewlines(u),y=!d,O=e.wordWrapWidth+c,I=n.tokenize(t),N=0;N<I.length;N++){var k=I[N];if(n.isNewline(k)){if(!f){a+=n.addLine(o),y=!d,o="",s=0;continue}k=" "}if(d){var B=n.isBreakingSpace(k),G=n.isBreakingSpace(o[o.length-1]);if(B&&G)continue}var Y=n.getFromCache(k,c,l,r);if(Y>O)if(""!==o&&(a+=n.addLine(o),o="",s=0),n.canBreakWords(k,e.breakWords))for(var J=n.wordWrapSplit(k),Z=0;Z<J.length;Z++){for(var ge=J[Z],pe=1;J[Z+pe];){var ae=J[Z+pe];if(n.canBreakChars(ge[ge.length-1],ae,k,Z,e.breakWords))break;ge+=ae,pe++}Z+=ge.length-1;var xe=n.getFromCache(ge,c,l,r);xe+s>O&&(a+=n.addLine(o),y=!1,o="",s=0),o+=ge,s+=xe}else o.length>0&&(a+=n.addLine(o),o="",s=0),a+=n.addLine(k,!(N===I.length-1)),y=!1,o="",s=0;else Y+s>O&&(y=!1,a+=n.addLine(o),o="",s=0),(o.length>0||!n.isBreakingSpace(k)||y)&&(o+=k,s+=Y)}return a+n.addLine(o,!1)},n.addLine=function(t,e){return void 0===e&&(e=!0),t=n.trimRight(t),e?t+"\n":t},n.getFromCache=function(t,e,i,r){var s=i[t];if("number"!=typeof s){var o=t.length*e;s=r.measureText(t).width+o,i[t]=s}return s},n.collapseSpaces=function(t){return"normal"===t||"pre-line"===t},n.collapseNewlines=function(t){return"normal"===t},n.trimRight=function(t){if("string"!=typeof t)return"";for(var e=t.length-1;e>=0&&n.isBreakingSpace(t[e]);e--)t=t.slice(0,-1);return t},n.isNewline=function(t){return"string"==typeof t&&n._newlines.indexOf(t.charCodeAt(0))>=0},n.isBreakingSpace=function(t,e){return"string"==typeof t&&n._breakingSpaces.indexOf(t.charCodeAt(0))>=0},n.tokenize=function(t){var e=[],i="";if("string"!=typeof t)return e;for(var r=0;r<t.length;r++){var s=t[r];n.isBreakingSpace(s,t[r+1])||n.isNewline(s)?(""!==i&&(e.push(i),i=""),e.push(s)):i+=s}return""!==i&&e.push(i),e},n.canBreakWords=function(t,e){return e},n.canBreakChars=function(t,e,i,r,s){return!0},n.wordWrapSplit=function(t){return t.split("")},n.measureFont=function(t){if(n._fonts[t])return n._fonts[t];var e={ascent:0,descent:0,fontSize:0},i=n._canvas,r=n._context;r.font=t;var s=n.METRICS_STRING+n.BASELINE_SYMBOL,o=Math.ceil(r.measureText(s).width),a=Math.ceil(r.measureText(n.BASELINE_SYMBOL).width),l=Math.ceil(n.HEIGHT_MULTIPLIER*a);a=a*n.BASELINE_MULTIPLIER|0,i.width=o,i.height=l,r.fillStyle="#f00",r.fillRect(0,0,o,l),r.font=t,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText(s,0,a);var c=r.getImageData(0,0,o,l).data,u=c.length,d=4*o,f=0,y=0,O=!1;for(f=0;f<a;++f){for(var I=0;I<d;I+=4)if(255!==c[y+I]){O=!0;break}if(O)break;y+=d}for(e.ascent=a-f,y=u-d,O=!1,f=l;f>a;--f){for(I=0;I<d;I+=4)if(255!==c[y+I]){O=!0;break}if(O)break;y-=d}return e.descent=f-a,e.fontSize=e.ascent+e.descent,n._fonts[t]=e,e},n.clearMetrics=function(t){void 0===t&&(t=""),t?delete n._fonts[t]:n._fonts={}},n}(),kE=function(){try{var n=new OffscreenCanvas(0,0),t=n.getContext("2d");return t&&t.measureText?n:document.createElement("canvas")}catch(e){return document.createElement("canvas")}}();kE.width=kE.height=10,el._canvas=kE,el._context=kE.getContext("2d"),el._fonts={},el.METRICS_STRING="|\xc9q\xc5",el.BASELINE_SYMBOL="M",el.BASELINE_MULTIPLIER=1.4,el.HEIGHT_MULTIPLIER=2,el._newlines=[10,13],el._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var jbe={texture:!0,children:!1,baseTexture:!0},Ty=function(n){function t(e,i,r){var s=this,o=!1;r||(r=document.createElement("canvas"),o=!0),r.width=3,r.height=3;var a=Jt.from(r);return a.orig=new mi,a.trim=new mi,(s=n.call(this,a)||this)._ownCanvas=o,s.canvas=r,s.context=s.canvas.getContext("2d"),s._resolution=Mt.RESOLUTION,s._autoResolution=!0,s._text=null,s._style=null,s._styleListener=null,s._font="",s.text=e,s.style=i,s.localStyleID=-1,s}return function Bbe(n,t){function e(){this.constructor=n}T2(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t.prototype.updateText=function(e){var i=this._style;if(this.localStyleID!==i.styleID&&(this.dirty=!0,this.localStyleID=i.styleID),this.dirty||!e){this._font=this._style.toFontString();var r=this.context,s=el.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),a=s.height,l=s.lines,c=s.lineHeight,u=s.lineWidths,d=s.maxLineWidth,f=s.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,s.width)+2*i.padding)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,a)+2*i.padding)*this._resolution),r.scale(this._resolution,this._resolution),r.clearRect(0,0,this.canvas.width,this.canvas.height),r.font=this._font,r.lineWidth=i.strokeThickness,r.textBaseline=i.textBaseline,r.lineJoin=i.lineJoin,r.miterLimit=i.miterLimit;for(var y,O,I=i.dropShadow?2:1,N=0;N<I;++N){var k=i.dropShadow&&0===N,B=k?Math.ceil(Math.max(1,a)+2*i.padding):0,G=B*this._resolution;if(k){r.fillStyle="black",r.strokeStyle="black";var Y=i.dropShadowColor,J=nd("number"==typeof Y?Y:po(Y)),Z=i.dropShadowBlur*this._resolution,ge=i.dropShadowDistance*this._resolution;r.shadowColor="rgba("+255*J[0]+","+255*J[1]+","+255*J[2]+","+i.dropShadowAlpha+")",r.shadowBlur=Z,r.shadowOffsetX=Math.cos(i.dropShadowAngle)*ge,r.shadowOffsetY=Math.sin(i.dropShadowAngle)*ge+G}else r.fillStyle=this._generateFillStyle(i,l,s),r.strokeStyle=i.stroke,r.shadowColor="black",r.shadowBlur=0,r.shadowOffsetX=0,r.shadowOffsetY=0;var pe=(c-f.fontSize)/2;(!t.nextLineHeightBehavior||c-f.fontSize<0)&&(pe=0);for(var ae=0;ae<l.length;ae++)y=i.strokeThickness/2,O=i.strokeThickness/2+ae*c+f.ascent+pe,"right"===i.align?y+=d-u[ae]:"center"===i.align&&(y+=(d-u[ae])/2),i.stroke&&i.strokeThickness&&this.drawLetterSpacing(l[ae],y+i.padding,O+i.padding-B,!0),i.fill&&this.drawLetterSpacing(l[ae],y+i.padding,O+i.padding-B)}this.updateTexture()}},t.prototype.drawLetterSpacing=function(e,i,r,s){void 0===s&&(s=!1);var a=this._style.letterSpacing,l="letterSpacing"in CanvasRenderingContext2D.prototype||"textLetterSpacing"in CanvasRenderingContext2D.prototype;if(0===a||l)return l&&(this.context.letterSpacing=a,this.context.textLetterSpacing=a),void(s?this.context.strokeText(e,i,r):this.context.fillText(e,i,r));for(var c=i,u=Array.from?Array.from(e):e.split(""),d=this.context.measureText(e).width,f=0,y=0;y<u.length;++y){var O=u[y];s?this.context.strokeText(O,c,r):this.context.fillText(O,c,r);for(var I="",N=y+1;N<u.length;++N)I+=u[N];c+=d-(f=this.context.measureText(I).width)+a,d=f}},t.prototype.updateTexture=function(){var e=this.canvas;if(this._style.trim){var i=kj(e);i.data&&(e.width=i.width,e.height=i.height,this.context.putImageData(i.data,0,0))}var r=this._texture,s=this._style,o=s.trim?0:s.padding,a=r.baseTexture;r.trim.width=r._frame.width=e.width/this._resolution,r.trim.height=r._frame.height=e.height/this._resolution,r.trim.x=-o,r.trim.y=-o,r.orig.width=r._frame.width-2*o,r.orig.height=r._frame.height-2*o,this._onTextureUpdate(),a.setRealSize(e.width,e.height,this._resolution),r.updateUvs(),this._recursivePostUpdateTransform(),this.dirty=!1},t.prototype._render=function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),n.prototype._render.call(this,e)},t.prototype.getLocalBounds=function(e){return this.updateText(!0),n.prototype.getLocalBounds.call(this,e)},t.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},t.prototype._generateFillStyle=function(e,i,r){var s=e.fill;if(!Array.isArray(s))return s;if(1===s.length)return s[0];var o,a=e.dropShadow?e.dropShadowDistance:0,l=e.padding||0,c=this.canvas.width/this._resolution-a-2*l,u=this.canvas.height/this._resolution-a-2*l,d=s.slice(),f=e.fillGradientStops.slice();if(!f.length)for(var y=d.length+1,O=1;O<y;++O)f.push(O/y);if(d.unshift(s[0]),f.unshift(0),d.push(s[s.length-1]),f.push(1),e.fillGradientType===Xf.LINEAR_VERTICAL){o=this.context.createLinearGradient(c/2,l,c/2,u+l);var I=r.fontProperties.fontSize+e.strokeThickness;for(O=0;O<i.length;O++){var N=r.lineHeight*(O-1)+I,k=r.lineHeight*O,B=k;O>0&&N>k&&(B=(k+N)/2);var G=k+I,Y=r.lineHeight*(O+1),J=G;O+1<i.length&&Y<G&&(J=(G+Y)/2);for(var Z=(J-B)/u,ge=0;ge<d.length;ge++){var ae=Math.min(1,Math.max(0,B/u+("number"==typeof f[ge]?f[ge]:ge/d.length)*Z));ae=Number(ae.toFixed(5)),o.addColorStop(ae,d[ge])}}}else{o=this.context.createLinearGradient(l,u/2,c+l,u/2);var de=d.length+1,xe=1;for(O=0;O<d.length;O++)o.addColorStop("number"==typeof f[O]?f[O]:xe/de,d[O]),xe++}return o},t.prototype.destroy=function(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},jbe,e),n.prototype.destroy.call(this,e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){this.updateText(!0);var i=Ff(this.scale.x)||1;this.scale.x=i*e/this._texture.orig.width,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){this.updateText(!0);var i=Ff(this.scale.y)||1;this.scale.y=i*e/this._texture.orig.height,this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){return this._style},set:function(e){this._style=(e=e||{})instanceof qf?e:new qf(e),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){e=String(null==e?"":e),this._text!==e&&(this._text=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)},enumerable:!1,configurable:!0}),t.nextLineHeightBehavior=!1,t}(_o);Mt.UPLOADS_PER_FRAME=4;var P2=function(n,t){return(P2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},_7=function(){function n(t){this.maxItemsPerFrame=t,this.itemsLeft=0}return n.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},n.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},n}();function Vbe(n,t){var e=!1;if(n&&n._textures&&n._textures.length)for(var i=0;i<n._textures.length;i++)if(n._textures[i]instanceof Jt){var r=n._textures[i].baseTexture;-1===t.indexOf(r)&&(t.push(r),e=!0)}return e}function zbe(n,t){if(n.baseTexture instanceof Ci){var e=n.baseTexture;return-1===t.indexOf(e)&&t.push(e),!0}return!1}function Wbe(n,t){if(n._texture&&n._texture instanceof Jt){var e=n._texture.baseTexture;return-1===t.indexOf(e)&&t.push(e),!0}return!1}function $be(n,t){return t instanceof Ty&&(t.updateText(!0),!0)}function Ybe(n,t){if(t instanceof qf){var e=t.toFontString();return el.measureFont(e),!0}return!1}function Xbe(n,t){if(n instanceof Ty){-1===t.indexOf(n.style)&&t.push(n.style),-1===t.indexOf(n)&&t.push(n);var e=n._texture.baseTexture;return-1===t.indexOf(e)&&t.push(e),!0}return!1}function qbe(n,t){return n instanceof qf&&(-1===t.indexOf(n)&&t.push(n),!0)}var x2=function(){function n(t){var e=this;this.limiter=new _7(Mt.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){!e.queue||e.prepareItems()},this.registerFindHook(Xbe),this.registerFindHook(qbe),this.registerFindHook(Vbe),this.registerFindHook(zbe),this.registerFindHook(Wbe),this.registerUploadHook($be),this.registerUploadHook(Ybe)}return n.prototype.upload=function(t,e){"function"==typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,Qs.system.addOnce(this.tick,this,wc.UTILITY))):e&&e()},n.prototype.tick=function(){setTimeout(this.delayedTick,0)},n.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var i=0,r=this.uploadHooks.length;i<r;i++)if(this.uploadHooks[i](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)Qs.system.addOnce(this.tick,this,wc.UTILITY);else{this.ticking=!1;var s=this.completes.slice(0);for(this.completes.length=0,i=0,r=s.length;i<r;i++)s[i]()}},n.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},n.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},n.prototype.add=function(t){for(var e=0,i=this.addHooks.length;e<i&&!this.addHooks[e](t,this.queue);e++);if(t instanceof rr)for(e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this},n.prototype.destroy=function(){this.ticking&&Qs.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},n}();function m7(n,t){return t instanceof Ci&&(t._glTextures[n.CONTEXT_UID]||n.texture.bind(t),!0)}function Kbe(n,t){if(!(t instanceof la))return!1;var e=t.geometry;t.finishPoly(),e.updateBatches();for(var i=e.batches,r=0;r<i.length;r++){var s=i[r].style.texture;s&&m7(n,s.baseTexture)}return e.batchable||n.geometry.bind(e,t._resolveDirectShader(n)),!0}function Jbe(n,t){return n instanceof la&&(t.push(n),!0)}var v7=function(n){function t(e){var i=n.call(this,e)||this;return i.uploadHookHelper=i.renderer,i.registerFindHook(Jbe),i.registerUploadHook(m7),i.registerUploadHook(Kbe),i}return function Hbe(n,t){function e(){this.constructor=n}P2(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t}(x2),Zbe=function(){function n(t){this.maxMilliseconds=t,this.frameStart=0}return n.prototype.beginFrame=function(){this.frameStart=Date.now()},n.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},n}(),y7=function(){function n(t,e,i){void 0===i&&(i=null),this._texture=t instanceof Jt?t:null,this.baseTexture=t instanceof Ci?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;var r=this.baseTexture.resource;this.resolution=this._updateResolution(i||(r?r.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return n.prototype._updateResolution=function(t){void 0===t&&(t=null);var e=this.data.meta.scale,i=ly(t,null);return null===i&&(i=void 0!==e?parseFloat(e):1),1!==i&&this.baseTexture.setResolution(i),i},n.prototype.parse=function(t){this._batchIndex=0,this._callback=t,this._frameKeys.length<=n.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},n.prototype._processFrames=function(t){for(var e=t,i=n.BATCH_SIZE;e-t<i&&e<this._frameKeys.length;){var r=this._frameKeys[e],s=this._frames[r],o=s.frame;if(o){var a,l=null,c=!1!==s.trimmed&&s.sourceSize?s.sourceSize:s.frame,u=new mi(0,0,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution);a=s.rotated?new mi(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):new mi(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),!1!==s.trimmed&&s.spriteSourceSize&&(l=new mi(Math.floor(s.spriteSourceSize.x)/this.resolution,Math.floor(s.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[r]=new Jt(this.baseTexture,a,u,l,s.rotated?2:0,s.anchor),Jt.addToCache(this.textures[r],r)}e++}},n.prototype._processAnimations=function(){var t=this.data.animations||{};for(var e in t){this.animations[e]=[];for(var i=0;i<t[e].length;i++)this.animations[e].push(this.textures[t[e][i]])}},n.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},n.prototype._nextBatch=function(){var t=this;this._processFrames(this._batchIndex*n.BATCH_SIZE),this._batchIndex++,setTimeout(function(){t._batchIndex*n.BATCH_SIZE<t._frameKeys.length?t._nextBatch():(t._processAnimations(),t._parseComplete())},0)},n.prototype.destroy=function(t){var e;for(var i in void 0===t&&(t=!1),this.textures)this.textures[i].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&(null===(e=this._texture)||void 0===e||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},n.BATCH_SIZE=1e3,n}(),b7=function(){function n(){}return n.use=function(t,e){var i,r,s=this,o=t.name+"_image";if(t.data&&t.type===jr.TYPE.JSON&&t.data.frames&&!s.resources[o]){var a=null===(r=null===(i=t.data)||void 0===i?void 0:i.meta)||void 0===r?void 0:r.related_multi_packs;if(Array.isArray(a))for(var l=function(O){if("string"!=typeof O)return"continue";var I=O.replace(".json",""),N=Nf.resolve(t.url.replace(s.baseUrl,""),O);if(s.resources[I]||Object.values(s.resources).some(function(B){return Nf.format(Nf.parse(B.url))===N}))return"continue";s.add(I,N,{crossOrigin:t.crossOrigin,loadType:jr.LOAD_TYPE.XHR,xhrType:jr.XHR_RESPONSE_TYPE.JSON,parentResource:t,metadata:t.metadata})},c=0,u=a;c<u.length;c++)l(u[c]);var f={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},y=n.getResourcePath(t,s.baseUrl);s.add(o,y,f,function(I){if(I.error)e(I.error);else{var N=new y7(I.texture,t.data,t.url);N.parse(function(){t.spritesheet=N,t.textures=N.textures,e()})}})}else e()},n.getResourcePath=function(t,e){return t.isDataUrl?t.data.meta.image:Nf.resolve(t.url.replace(e,""),t.data.meta.image)},n}(),I2=function(n,t){return(I2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)};function S7(n,t){function e(){this.constructor=n}I2(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var wy=new _r,C7=function(n){function t(e,i,r){void 0===i&&(i=100),void 0===r&&(r=100);var s=n.call(this,e)||this;return s.tileTransform=new hA,s._width=i,s._height=r,s.uvMatrix=s.texture.uvMatrix||new bE(e),s.pluginName="tilingSprite",s.uvRespectAnchor=!1,s}return S7(t,n),Object.defineProperty(t.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(e){this.tileTransform.scale.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(e){this.tileTransform.position.copyFrom(e)},enumerable:!1,configurable:!0}),t.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},t.prototype._render=function(e){var i=this._texture;!i||!i.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))},t.prototype._calculateBounds=function(){this._bounds.addFrame(this.transform,this._width*-this._anchor._x,this._height*-this._anchor._y,this._width*(1-this._anchor._x),this._height*(1-this._anchor._y))},t.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new mi),e=this._localBoundsRect),this._bounds.getRectangle(e)):n.prototype.getLocalBounds.call(this,e)},t.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,wy);var i=this._width,r=this._height,s=-i*this.anchor._x;if(wy.x>=s&&wy.x<s+i){var o=-r*this.anchor._y;if(wy.y>=o&&wy.y<o+r)return!0}return!1},t.prototype.destroy=function(e){n.prototype.destroy.call(this,e),this.tileTransform=null,this.uvMatrix=null},t.from=function(e,i){return new t(e instanceof Jt?e:Jt.from(e,i),i.width,i.height)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e},enumerable:!1,configurable:!0}),t}(_o),E7="#version 100\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",FE=new zi,T7=function(n){function t(e){var i=n.call(this,e)||this;return e.runners.contextChange.add(i),i.quad=new IA,i.state=uh.for2d(),i}return S7(t,n),t.prototype.contextChange=function(){var e=this.renderer,i={globals:e.globalUniforms};this.simpleShader=id.from(E7,"#version 100\n#define SHADER_NAME Tiling-Sprite-Simple-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 texSample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = texSample * uColor;\n}\n",i),this.shader=e.context.webGLVersion>1?id.from("#version 300 es\n#define SHADER_NAME Tiling-Sprite-300\n\nprecision lowp float;\n\nin vec2 aVertexPosition;\nin vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nout vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","#version 300 es\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nin vec2 vTextureCoord;\n\nout vec4 fragmentColor;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0\n\n    fragmentColor = texSample * uColor;\n}\n",i):id.from(E7,"#version 100\n#ifdef GL_EXT_shader_texture_lod\n    #extension GL_EXT_shader_texture_lod : enable\n#endif\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    #ifdef GL_EXT_shader_texture_lod\n        vec4 texSample = unclamped == coord\n            ? texture2D(uSampler, coord) \n            : texture2DLodEXT(uSampler, coord, 0);\n    #else\n        vec4 texSample = texture2D(uSampler, coord);\n    #endif\n\n    gl_FragColor = texSample * uColor;\n}\n",i)},t.prototype.render=function(e){var i=this.renderer,r=this.quad,s=r.vertices;s[0]=s[6]=e._width*-e.anchor.x,s[1]=s[3]=e._height*-e.anchor.y,s[2]=s[4]=e._width*(1-e.anchor.x),s[5]=s[7]=e._height*(1-e.anchor.y);var o=e.uvRespectAnchor?e.anchor.x:0,a=e.uvRespectAnchor?e.anchor.y:0;(s=r.uvs)[0]=s[6]=-o,s[1]=s[3]=-a,s[2]=s[4]=1-o,s[5]=s[7]=1-a,r.invalidate();var l=e._texture,c=l.baseTexture,u=e.tileTransform.localTransform,d=e.uvMatrix,f=c.isPowerOfTwo&&l.frame.width===c.width&&l.frame.height===c.height;f&&(c._glTextures[i.CONTEXT_UID]?f=c.wrapMode!==xl.CLAMP:c.wrapMode===xl.CLAMP&&(c.wrapMode=xl.REPEAT));var y=f?this.simpleShader:this.shader,O=l.width,I=l.height,N=e._width,k=e._height;FE.set(u.a*O/N,u.b*O/k,u.c*I/N,u.d*I/k,u.tx/N,u.ty/k),FE.invert(),f?FE.prepend(d.mapCoord):(y.uniforms.uMapCoord=d.mapCoord.toArray(!0),y.uniforms.uClampFrame=d.uClampFrame,y.uniforms.uClampOffset=d.uClampOffset),y.uniforms.uTransform=FE.toArray(!0),y.uniforms.uColor=aA(e.tint,e.worldAlpha,y.uniforms.uColor,c.alphaMode),y.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),y.uniforms.uSampler=l,i.shader.bind(y),i.geometry.bind(r),this.state.blendMode=oA(e.blendMode,c.alphaMode),i.state.set(this.state),i.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},t}(py),A2=function(n,t){return(A2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)};function R2(n,t){function e(){this.constructor=n}A2(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var w7=function(){function n(t,e){this.uvBuffer=t,this.uvMatrix=e,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return n.prototype.update=function(t){if(t||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var e=this.uvBuffer.data;(!this.data||this.data.length!==e.length)&&(this.data=new Float32Array(e.length)),this.uvMatrix.multiplyUvs(e,this.data),this._updateID++}},n}(),D2=new _r,M7=new uy,Dl=function(n){function t(e,i,r,s){void 0===s&&(s=fo.TRIANGLES);var o=n.call(this)||this;return o.geometry=e,o.shader=i,o.state=r||uh.for2d(),o.drawMode=s,o.start=0,o.size=0,o.uvs=null,o.indices=null,o.vertexData=new Float32Array(1),o.vertexDirty=-1,o._transformID=-1,o._roundPixels=Mt.ROUND_PIXELS,o.batchUvs=null,o}return R2(t,n),Object.defineProperty(t.prototype,"geometry",{get:function(){return this._geometry},set:function(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"material",{get:function(){return this.shader},set:function(e){this.shader=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(e){this.shader.tint=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"texture",{get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(e){this.shader.texture=e},enumerable:!1,configurable:!0}),t.prototype._render=function(e){this.shader.batchable&&this.drawMode===fo.TRIANGLES&&this.geometry.buffers[0].data.length<2*t.BATCHABLE_SIZE?this._renderToBatch(e):this._renderDefault(e)},t.prototype._renderDefault=function(e){var i=this.shader;i.alpha=this.worldAlpha,i.update&&i.update(),e.batch.flush(),i.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(i),e.state.set(this.state),e.geometry.bind(this.geometry,i),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},t.prototype._renderToBatch=function(e){var i=this.geometry,r=this.shader;r.uvMatrix&&(r.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=i.indexBuffer.data,this._tintRGB=r._tintRGB,this._texture=r.texture;var s=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[s]),e.plugins[s].render(this)},t.prototype.calculateVertices=function(){var i=this.geometry.buffers[0],r=i.data,s=i._updateID;if(s!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==r.length&&(this.vertexData=new Float32Array(r.length));for(var o=this.transform.worldTransform,a=o.a,l=o.b,c=o.c,u=o.d,d=o.tx,f=o.ty,y=this.vertexData,O=0;O<y.length/2;O++){var I=r[2*O],N=r[2*O+1];y[2*O]=a*I+c*N+d,y[2*O+1]=l*I+u*N+f}if(this._roundPixels){var k=Mt.RESOLUTION;for(O=0;O<y.length;++O)y[O]=Math.round((y[O]*k|0)/k)}this.vertexDirty=s}},t.prototype.calculateUvs=function(){var e=this.geometry.buffers[1],i=this.shader;i.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new w7(e,i.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},t.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},t.prototype.containsPoint=function(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,D2);for(var i=this.geometry.getBuffer("aVertexPosition").data,r=M7.points,s=this.geometry.getIndex().data,o=s.length,a=4===this.drawMode?3:1,l=0;l+2<o;l+=a){var c=2*s[l],u=2*s[l+1],d=2*s[l+2];if(r[0]=i[c],r[1]=i[c+1],r[2]=i[u],r[3]=i[u+1],r[4]=i[d],r[5]=i[d+1],M7.contains(D2.x,D2.y))return!0}return!1},t.prototype.destroy=function(e){n.prototype.destroy.call(this,e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},t.BATCHABLE_SIZE=100,t}(rr),Kf=function(n){function t(e,i){var r=this,s={uSampler:e,alpha:1,uTextureMatrix:zi.IDENTITY,uColor:new Float32Array([1,1,1,1])};return(i=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},i)).uniforms&&Object.assign(s,i.uniforms),(r=n.call(this,i.program||cm.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"),s)||this)._colorDirty=!1,r.uvMatrix=new bE(e),r.batchable=void 0===i.program,r.pluginName=i.pluginName,r.tint=i.tint,r.alpha=i.alpha,r}return R2(t,n),Object.defineProperty(t.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(e){this.uniforms.uSampler!==e&&(this.uniforms.uSampler=e,this.uvMatrix.texture=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this._alpha},set:function(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){e!==this._tint&&(this._tint=e,this._tintRGB=(e>>16)+(65280&e)+((255&e)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),t.prototype.update=function(){this._colorDirty&&(this._colorDirty=!1,aA(this._tint,this._alpha,this.uniforms.uColor,this.texture.baseTexture.alphaMode)),this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},t}(id),My=function(n){function t(e,i,r){var s=n.call(this)||this,o=new ws(e),a=new ws(i,!0),l=new ws(r,!0,!0);return s.addAttribute("aVertexPosition",o,2,!1,Dt.FLOAT).addAttribute("aTextureCoord",a,2,!1,Dt.FLOAT).addIndex(l),s._updateId=-1,s}return R2(t,n),Object.defineProperty(t.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),t}(lm),N2=function(n,t){return(N2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},Oy=function n(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]},o1e=function(){function n(){}return n.test=function(t){return"string"==typeof t&&0===t.indexOf("info face=")},n.parse=function(t){var e=t.match(/^[a-z]+\s+.+$/gm),i={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(var r in e){var s=e[r].match(/^[a-z]+/gm)[0],o=e[r].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),a={};for(var l in o){var c=o[l].split("="),u=c[0],d=c[1].replace(/"/gm,""),f=parseFloat(d),y=isNaN(f)?d:f;a[u]=y}i[s].push(a)}var O=new Oy;return i.info.forEach(function(I){return O.info.push({face:I.face,size:parseInt(I.size,10)})}),i.common.forEach(function(I){return O.common.push({lineHeight:parseInt(I.lineHeight,10)})}),i.page.forEach(function(I){return O.page.push({id:parseInt(I.id,10),file:I.file})}),i.char.forEach(function(I){return O.char.push({id:parseInt(I.id,10),page:parseInt(I.page,10),x:parseInt(I.x,10),y:parseInt(I.y,10),width:parseInt(I.width,10),height:parseInt(I.height,10),xoffset:parseInt(I.xoffset,10),yoffset:parseInt(I.yoffset,10),xadvance:parseInt(I.xadvance,10)})}),i.kerning.forEach(function(I){return O.kerning.push({first:parseInt(I.first,10),second:parseInt(I.second,10),amount:parseInt(I.amount,10)})}),i.distanceField.forEach(function(I){return O.distanceField.push({distanceRange:parseInt(I.distanceRange,10),fieldType:I.fieldType})}),O},n}(),k2=function(){function n(){}return n.test=function(t){return t instanceof XMLDocument&&t.getElementsByTagName("page").length&&null!==t.getElementsByTagName("info")[0].getAttribute("face")},n.parse=function(t){for(var e=new Oy,i=t.getElementsByTagName("info"),r=t.getElementsByTagName("common"),s=t.getElementsByTagName("page"),o=t.getElementsByTagName("char"),a=t.getElementsByTagName("kerning"),l=t.getElementsByTagName("distanceField"),c=0;c<i.length;c++)e.info.push({face:i[c].getAttribute("face"),size:parseInt(i[c].getAttribute("size"),10)});for(c=0;c<r.length;c++)e.common.push({lineHeight:parseInt(r[c].getAttribute("lineHeight"),10)});for(c=0;c<s.length;c++)e.page.push({id:parseInt(s[c].getAttribute("id"),10)||0,file:s[c].getAttribute("file")});for(c=0;c<o.length;c++){var u=o[c];e.char.push({id:parseInt(u.getAttribute("id"),10),page:parseInt(u.getAttribute("page"),10)||0,x:parseInt(u.getAttribute("x"),10),y:parseInt(u.getAttribute("y"),10),width:parseInt(u.getAttribute("width"),10),height:parseInt(u.getAttribute("height"),10),xoffset:parseInt(u.getAttribute("xoffset"),10),yoffset:parseInt(u.getAttribute("yoffset"),10),xadvance:parseInt(u.getAttribute("xadvance"),10)})}for(c=0;c<a.length;c++)e.kerning.push({first:parseInt(a[c].getAttribute("first"),10),second:parseInt(a[c].getAttribute("second"),10),amount:parseInt(a[c].getAttribute("amount"),10)});for(c=0;c<l.length;c++)e.distanceField.push({fieldType:l[c].getAttribute("fieldType"),distanceRange:parseInt(l[c].getAttribute("distanceRange"),10)});return e},n}(),a1e=function(){function n(){}return n.test=function(t){if("string"==typeof t&&t.indexOf("<font>")>-1){var e=(new self.DOMParser).parseFromString(t,"text/xml");return k2.test(e)}return!1},n.parse=function(t){var e=(new self.DOMParser).parseFromString(t,"text/xml");return k2.parse(e)},n}(),F2=[o1e,k2,a1e];function O7(n){for(var t=0;t<F2.length;t++)if(F2[t].test(n))return F2[t];return null}function c1e(n,t,e,i,r,s,o){var a=e.text,l=e.fontProperties;t.translate(i,r),t.scale(s,s);var c=o.strokeThickness/2,u=-o.strokeThickness/2;if(t.font=o.toFontString(),t.lineWidth=o.strokeThickness,t.textBaseline=o.textBaseline,t.lineJoin=o.lineJoin,t.miterLimit=o.miterLimit,t.fillStyle=function l1e(n,t,e,i,r,s){var o=e.fill;if(!Array.isArray(o))return o;if(1===o.length)return o[0];var a,l=e.dropShadow?e.dropShadowDistance:0,c=e.padding||0,u=n.width/i-l-2*c,d=n.height/i-l-2*c,f=o.slice(),y=e.fillGradientStops.slice();if(!y.length)for(var O=f.length+1,I=1;I<O;++I)y.push(I/O);if(f.unshift(o[0]),y.unshift(0),f.push(o[o.length-1]),y.push(1),e.fillGradientType===Xf.LINEAR_VERTICAL){a=t.createLinearGradient(u/2,c,u/2,d+c);var N=0,B=(s.fontProperties.fontSize+e.strokeThickness)/d;for(I=0;I<r.length;I++)for(var G=s.lineHeight*I,Y=0;Y<f.length;Y++){var ge=Math.max(N,G/d+("number"==typeof y[Y]?y[Y]:Y/f.length)*B);ge=Math.min(ge,1),a.addColorStop(ge,f[Y]),N=ge}}else{a=t.createLinearGradient(c,d/2,u+c,d/2);var pe=f.length+1,ae=1;for(I=0;I<f.length;I++)a.addColorStop("number"==typeof y[I]?y[I]:ae/pe,f[I]),ae++}return a}(n,t,o,s,[a],e),t.strokeStyle=o.stroke,o.dropShadow){var d=o.dropShadowColor,f=nd("number"==typeof d?d:po(d)),y=o.dropShadowBlur*s,O=o.dropShadowDistance*s;t.shadowColor="rgba("+255*f[0]+","+255*f[1]+","+255*f[2]+","+o.dropShadowAlpha+")",t.shadowBlur=y,t.shadowOffsetX=Math.cos(o.dropShadowAngle)*O,t.shadowOffsetY=Math.sin(o.dropShadowAngle)*O}else t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0;o.stroke&&o.strokeThickness&&t.strokeText(a,c,u+e.lineHeight-l.descent),o.fill&&t.fillText(a,c,u+e.lineHeight-l.descent),t.setTransform(1,0,0,1,0,0),t.fillStyle="rgba(0, 0, 0, 0)"}function P7(n){return Array.from?Array.from(n):n.split("")}function LE(n){return n.codePointAt?n.codePointAt(0):n.charCodeAt(0)}var od=function(){function n(t,e,i){var r,s,o=t.info[0],a=t.common[0],c=t.distanceField[0],u=ly(t.page[0].file),d={};this._ownsTextures=i,this.font=o.face,this.size=o.size,this.lineHeight=a.lineHeight/u,this.chars={},this.pageTextures=d;for(var f=0;f<t.page.length;f++){var y=t.page[f];d[O=y.id]=e instanceof Array?e[f]:e[y.file],(null==c?void 0:c.fieldType)&&"none"!==c.fieldType&&(d[O].baseTexture.alphaMode=Zs.NO_PREMULTIPLIED_ALPHA)}for(f=0;f<t.char.length;f++){var N=t.char[f],O=N.id,k=N.page,B=t.char[f],G=B.x,Y=B.y,J=B.width,Z=B.height,ge=B.xoffset,pe=B.yoffset,ae=B.xadvance;ge/=u,pe/=u,ae/=u;var de=new mi((G/=u)+d[k].frame.x/u,(Y/=u)+d[k].frame.y/u,J/=u,Z/=u);this.chars[O]={xOffset:ge,yOffset:pe,xAdvance:ae,kerning:{},texture:new Jt(d[k].baseTexture,de),page:k}}for(f=0;f<t.kerning.length;f++){var xe=t.kerning[f],ve=xe.first,ye=xe.second,Re=xe.amount;ve/=u,Re/=u,this.chars[ye/=u]&&(this.chars[ye].kerning[ve]=Re)}this.distanceFieldRange=null==c?void 0:c.distanceRange,this.distanceFieldType=null!==(s=null===(r=null==c?void 0:c.fieldType)||void 0===r?void 0:r.toLowerCase())&&void 0!==s?s:"none"}return n.prototype.destroy=function(){for(var t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(var t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null},n.install=function(t,e,i){var r;if(t instanceof Oy)r=t;else{var s=O7(t);if(!s)throw new Error("Unrecognized data format for font.");r=s.parse(t)}e instanceof Jt&&(e=[e]);var o=new n(r,e,i);return n.available[o.font]=o,o},n.uninstall=function(t){var e=n.available[t];if(!e)throw new Error("No font found named '"+t+"'");e.destroy(),delete n.available[t]},n.from=function(t,e,i){if(!t)throw new Error("[BitmapFont] Property `name` is required.");var r=Object.assign({},n.defaultOptions,i),o=r.padding,a=r.resolution,l=r.textureWidth,c=r.textureHeight,u=function u1e(n){"string"==typeof n&&(n=[n]);for(var t=[],e=0,i=n.length;e<i;e++){var r=n[e];if(Array.isArray(r)){if(2!==r.length)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+r.length+".");var s=r[0].charCodeAt(0),o=r[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(var a=s,l=o;a<=l;a++)t.push(String.fromCharCode(a))}else t.push.apply(t,P7(r))}if(0===t.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}(r.chars),d=e instanceof qf?e:new qf(e),f=l,y=new Oy;y.info[0]={face:d.fontFamily,size:d.fontSize},y.common[0]={lineHeight:d.fontSize};for(var N,k,B,O=0,I=0,G=0,Y=[],J=0;J<u.length;J++){N||((N=document.createElement("canvas")).width=l,N.height=c,k=N.getContext("2d"),B=new Ci(N,{resolution:a}),Y.push(new Jt(B)),y.page.push({id:Y.length-1,file:""}));var Z=el.measureText(u[J],d,!1,N),ge=Z.width,pe=Math.ceil(Z.height),ae=Math.ceil(("italic"===d.fontStyle?2:1)*ge);if(I>=c-pe*a){if(0===I)throw new Error("[BitmapFont] textureHeight "+c+"px is too small for "+d.fontSize+"px fonts");--J,N=null,k=null,B=null,I=0,O=0,G=0}else if(G=Math.max(pe+Z.fontProperties.descent,G),ae*a+O>=f)--J,I+=G*a,I=Math.ceil(I),O=0,G=0;else{c1e(N,k,Z,O,I,a,d);var de=LE(Z.text);y.char.push({id:de,page:Y.length-1,x:O/a,y:I/a,width:ae,height:pe,xoffset:0,yoffset:0,xadvance:Math.ceil(ge-(d.dropShadow?d.dropShadowDistance:0)-(d.stroke?d.strokeThickness:0))}),O+=(ae+2*o)*a,O=Math.ceil(O)}}J=0;for(var xe=u.length;J<xe;J++)for(var ve=u[J],ye=0;ye<xe;ye++){var Re=u[ye],Oe=k.measureText(ve).width,be=k.measureText(Re).width,De=k.measureText(ve+Re).width-(Oe+be);De&&y.kerning.push({first:LE(ve),second:LE(Re),amount:De})}var nt=new n(y,Y,!0);return void 0!==n.available[t]&&n.uninstall(t),n.available[t]=nt,nt},n.ALPHA=[["a","z"],["A","Z"]," "],n.NUMERIC=[["0","9"]],n.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],n.ASCII=[[" ","~"]],n.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:n.ALPHANUMERIC},n.available={},n}(),f1e=[],p1e=[],x7=[],Py=function(n){function t(e,i){void 0===i&&(i={});var r=n.call(this)||this;r._tint=16777215;var s=Object.assign({},t.styleDefaults,i),o=s.align,a=s.tint,l=s.maxWidth,c=s.letterSpacing,u=s.fontName,d=s.fontSize;if(!od.available[u])throw new Error('Missing BitmapFont "'+u+'"');return r._activePagesMeshData=[],r._textWidth=0,r._textHeight=0,r._align=o,r._tint=a,r._fontName=u,r._fontSize=d||od.available[u].size,r._text=e,r._maxWidth=l,r._maxLineHeight=0,r._letterSpacing=c,r._anchor=new Lf(function(){r.dirty=!0},r,0,0),r._roundPixels=Mt.ROUND_PIXELS,r.dirty=!0,r._textureCache={},r}return function s1e(n,t){function e(){this.constructor=n}N2(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t.prototype.updateText=function(){for(var e,i=od.available[this._fontName],r=this._fontSize/i.size,s=new _r,o=[],a=[],l=[],u=P7(this._text.replace(/(?:\r\n|\r)/g,"\n")||" "),d=this._maxWidth*i.size/this._fontSize,f="none"===i.distanceFieldType?f1e:p1e,y=null,O=0,I=0,N=0,k=-1,B=0,G=0,Y=0,J=0,Z=0;Z<u.length;Z++){var pe=LE(ge=u[Z]);if(/(?:\s)/.test(ge)&&(k=Z,B=O,J++),"\r"!==ge&&"\n"!==ge){var ae=i.chars[pe];if(ae){y&&ae.kerning[y]&&(s.x+=ae.kerning[y]);var de=x7.pop()||{texture:Jt.EMPTY,line:0,charCode:0,prevSpaces:0,position:new _r};de.texture=ae.texture,de.line=N,de.charCode=pe,de.position.x=s.x+ae.xOffset+this._letterSpacing/2,de.position.y=s.y+ae.yOffset,de.prevSpaces=J,o.push(de),O=de.position.x+ae.texture.orig.width,s.x+=ae.xAdvance+this._letterSpacing,Y=Math.max(Y,ae.yOffset+ae.texture.height),y=pe,-1!==k&&d>0&&s.x>d&&(kf(o,1+k-++G,1+Z-k),Z=k,k=-1,a.push(B),l.push(o.length>0?o[o.length-1].prevSpaces:0),I=Math.max(I,B),N++,s.x=0,s.y+=i.lineHeight,y=null,J=0)}}else a.push(O),l.push(-1),I=Math.max(I,O),++N,++G,s.x=0,s.y+=i.lineHeight,y=null,J=0}var xe=u[u.length-1];"\r"!==xe&&"\n"!==xe&&(/(?:\s)/.test(xe)&&(O=B),a.push(O),I=Math.max(I,O),l.push(-1));var ve=[];for(Z=0;Z<=N;Z++){var ye=0;"right"===this._align?ye=I-a[Z]:"center"===this._align?ye=(I-a[Z])/2:"justify"===this._align&&(ye=l[Z]<0?0:(I-a[Z])/l[Z]),ve.push(ye)}var Re=o.length,Oe={},be=[],Ee=this._activePagesMeshData;for(Z=0;Z<Ee.length;Z++)f.push(Ee[Z]);for(Z=0;Z<Re;Z++){var nt=(De=o[Z].texture).baseTexture.uid;if(!Oe[nt]){if(!(me=f.pop())){var Ve=new My,et=void 0,st=void 0;"none"===i.distanceFieldType?(et=new Kf(Jt.EMPTY),st=qe.NORMAL):(et=new Kf(Jt.EMPTY,{program:cm.from("// Mesh material default fragment\r\nattribute vec2 aVertexPosition;\r\nattribute vec2 aTextureCoord;\r\n\r\nuniform mat3 projectionMatrix;\r\nuniform mat3 translationMatrix;\r\nuniform mat3 uTextureMatrix;\r\n\r\nvarying vec2 vTextureCoord;\r\n\r\nvoid main(void)\r\n{\r\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r\n\r\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r\n}\r\n","// Pixi texture info\r\nvarying vec2 vTextureCoord;\r\nuniform sampler2D uSampler;\r\n\r\n// Tint\r\nuniform vec4 uColor;\r\n\r\n// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r\nuniform float uFWidth;\r\n\r\nvoid main(void) {\r\n\r\n  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r\n  vec4 texColor = texture2D(uSampler, vTextureCoord);\r\n\r\n  // MSDF\r\n  float median = texColor.r + texColor.g + texColor.b -\r\n                  min(texColor.r, min(texColor.g, texColor.b)) -\r\n                  max(texColor.r, max(texColor.g, texColor.b));\r\n  // SDF\r\n  median = min(median, texColor.a);\r\n\r\n  float screenPxDistance = uFWidth * (median - 0.5);\r\n  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r\n\r\n  // NPM Textures, NPM outputs\r\n  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r\n\r\n}\r\n"),uniforms:{uFWidth:0}}),st=qe.NORMAL_NPM);var Tt=new Dl(Ve,et);Tt.blendMode=st,me={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:Tt,vertices:null,uvs:null,indices:null}}me.index=0,me.indexCount=0,me.vertexCount=0,me.uvsCount=0,me.total=0;var vt=this._textureCache;vt[nt]=vt[nt]||new Jt(De.baseTexture),me.mesh.texture=vt[nt],me.mesh.tint=this._tint,be.push(me),Oe[nt]=me}Oe[nt].total++}for(Z=0;Z<Ee.length;Z++)-1===be.indexOf(Ee[Z])&&this.removeChild(Ee[Z].mesh);for(Z=0;Z<be.length;Z++)be[Z].mesh.parent!==this&&this.addChild(be[Z].mesh);for(var Z in this._activePagesMeshData=be,Oe){var kt=(me=Oe[Z]).total;if(!((null===(e=me.indices)||void 0===e?void 0:e.length)>6*kt)||me.vertices.length<2*Dl.BATCHABLE_SIZE)me.vertices=new Float32Array(8*kt),me.uvs=new Float32Array(8*kt),me.indices=new Uint16Array(6*kt);else for(var Pn=me.vertices,cn=4*me.total*2;cn<Pn.length;cn++)Pn[cn]=0;me.mesh.size=6*kt}for(Z=0;Z<Re;Z++){var ge,Qt=(ge=o[Z]).position.x+ve[ge.line]*("justify"===this._align?ge.prevSpaces:1);this._roundPixels&&(Qt=Math.round(Qt));var De,Ft=Qt*r,vn=ge.position.y*r,tn=Oe[(De=ge.texture).baseTexture.uid],Qi=De.frame,Nn=De._uvs,bn=tn.index++;tn.indices[6*bn+0]=0+4*bn,tn.indices[6*bn+1]=1+4*bn,tn.indices[6*bn+2]=2+4*bn,tn.indices[6*bn+3]=0+4*bn,tn.indices[6*bn+4]=2+4*bn,tn.indices[6*bn+5]=3+4*bn,tn.vertices[8*bn+0]=Ft,tn.vertices[8*bn+1]=vn,tn.vertices[8*bn+2]=Ft+Qi.width*r,tn.vertices[8*bn+3]=vn,tn.vertices[8*bn+4]=Ft+Qi.width*r,tn.vertices[8*bn+5]=vn+Qi.height*r,tn.vertices[8*bn+6]=Ft,tn.vertices[8*bn+7]=vn+Qi.height*r,tn.uvs[8*bn+0]=Nn.x0,tn.uvs[8*bn+1]=Nn.y0,tn.uvs[8*bn+2]=Nn.x1,tn.uvs[8*bn+3]=Nn.y1,tn.uvs[8*bn+4]=Nn.x2,tn.uvs[8*bn+5]=Nn.y2,tn.uvs[8*bn+6]=Nn.x3,tn.uvs[8*bn+7]=Nn.y3}for(var Z in this._textWidth=I*r,this._textHeight=(s.y+i.lineHeight)*r,Oe){var me=Oe[Z];if(0!==this.anchor.x||0!==this.anchor.y)for(var fs=0,lr=this._textWidth*this.anchor.x,pl=this._textHeight*this.anchor.y,zc=0;zc<me.total;zc++)me.vertices[fs++]-=lr,me.vertices[fs++]-=pl,me.vertices[fs++]-=lr,me.vertices[fs++]-=pl,me.vertices[fs++]-=lr,me.vertices[fs++]-=pl,me.vertices[fs++]-=lr,me.vertices[fs++]-=pl;this._maxLineHeight=Y*r;var Du=me.mesh.geometry.getBuffer("aVertexPosition"),ps=me.mesh.geometry.getBuffer("aTextureCoord"),Ad=me.mesh.geometry.getIndex();Du.data=me.vertices,ps.data=me.uvs,Ad.data=me.indices,Du.update(),ps.update(),Ad.update()}for(Z=0;Z<o.length;Z++)x7.push(o[Z])},t.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},t.prototype._render=function(e){var i=od.available[this._fontName],r=i.distanceFieldRange,o=i.size;if("none"!==i.distanceFieldType)for(var a=this.worldTransform,l=a.a,c=a.b,u=a.c,d=a.d,f=Math.sqrt(l*l+c*c),y=Math.sqrt(u*u+d*d),O=(Math.abs(f)+Math.abs(y))/2,I=this._fontSize/o,N=0,k=this._activePagesMeshData;N<k.length;N++)k[N].mesh.shader.uniforms.uFWidth=O*r*I*e.resolution;n.prototype._render.call(this,e)},t.prototype.getLocalBounds=function(){return this.validate(),n.prototype.getLocalBounds.call(this)},t.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){if(this._tint!==e){this._tint=e;for(var i=0;i<this._activePagesMeshData.length;i++)this._activePagesMeshData[i].mesh.tint=e}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontName",{get:function(){return this._fontName},set:function(e){if(!od.available[e])throw new Error('Missing BitmapFont "'+e+'"');this._fontName!==e&&(this._fontName=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},set:function(e){"number"==typeof e?this._anchor.set(e):this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){e=String(null==e?"":e),this._text!==e&&(this._text=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),t.prototype.destroy=function(e){var i=this._textureCache;for(var r in i)i[r].destroy(),delete i[r];this._textureCache=null,n.prototype.destroy.call(this,e)},t.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},t}(rr),I7=function(){function n(){}return n.add=function(){jr.setExtensionXhrType("fnt",jr.XHR_RESPONSE_TYPE.TEXT)},n.use=function(t,e){var i=O7(t.data);if(i)for(var r=n.getBaseUrl(this,t),s=i.parse(t.data),o={},a=function(I){o[I.metadata.pageFile]=I.texture,Object.keys(o).length===s.page.length&&(t.bitmapFont=od.install(s,o,!0),e())},l=0;l<s.page.length;++l){var c=s.page[l].file,u=r+c,d=!1;for(var f in this.resources){var y=this.resources[f];if(y.url===u){y.metadata.pageFile=c,y.texture?a(y):y.onAfterMiddleware.add(a),d=!0;break}}if(!d){var O={crossOrigin:t.crossOrigin,loadType:jr.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:c},t.metadata.imageMetadata),parentResource:t};this.add(u,O,a)}}else e()},n.getBaseUrl=function(t,e){var i=e.isDataUrl?"":n.dirname(e.url);return e.isDataUrl&&("."===i&&(i=""),t.baseUrl&&i&&"/"===t.baseUrl.charAt(t.baseUrl.length-1)&&(i+="/")),(i=i.replace(t.baseUrl,""))&&"/"!==i.charAt(i.length-1)&&(i+="/"),i},n.dirname=function(t){var e=t.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return e===t?".":""===e?"/":e},n}(),L2=function(n,t){return(L2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},m1e=function(n){function t(e){void 0===e&&(e=1);var i=n.call(this,OH,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",{uAlpha:1})||this;return i.alpha=e,i}return function g1e(n,t){function e(){this.constructor=n}L2(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),Object.defineProperty(t.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e},enumerable:!1,configurable:!0}),t}(rd),B2=function(n,t){return(B2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)};function A7(n,t){function e(){this.constructor=n}B2(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var b1e={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},S1e=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n"),gm=(()=>(function(n){n[n.NO=0]="NO",n[n.YES=1]="YES",n[n.AUTO=2]="AUTO",n[n.BLEND=0]="BLEND",n[n.CLEAR=1]="CLEAR",n[n.BLIT=2]="BLIT"}(gm||(gm={})),gm))(),U2=function(n){function t(e,i,r,s,o){void 0===i&&(i=8),void 0===r&&(r=4),void 0===s&&(s=Mt.FILTER_RESOLUTION),void 0===o&&(o=5);var a=this,l=function y1e(n,t){var s,e=Math.ceil(n/2),i="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }",r="";s=t?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var o=0;o<n;o++){var a=s.replace("%index%",o.toString());r+=a=a.replace("%sampleIndex%",o-(e-1)+".0"),r+="\n"}return(i=i.replace("%blur%",r)).replace("%size%",n.toString())}(o,e),c=function C1e(n){for(var o,t=b1e[n],e=t.length,i=S1e,r="",a=0;a<n;a++){var l="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",a.toString());o=a,a>=e&&(o=n-a-1),r+=l=l.replace("%value%",t[o].toString()),r+="\n"}return(i=i.replace("%blur%",r)).replace("%size%",n.toString())}(o);return(a=n.call(this,l,c)||this).horizontal=e,a.resolution=s,a._quality=0,a.quality=r,a.blur=i,a}return A7(t,n),t.prototype.apply=function(e,i,r,s){if(this.uniforms.strength=r?this.horizontal?1/r.width*(r.width/i.width):1/r.height*(r.height/i.height):this.horizontal?1/e.renderer.width*(e.renderer.width/i.width):1/e.renderer.height*(e.renderer.height/i.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)e.applyFilter(this,i,r,s);else{var o=e.getFilterTexture(),a=e.renderer,l=i,c=o;this.state.blend=!1,e.applyFilter(this,l,c,gm.CLEAR);for(var u=1;u<this.passes-1;u++){e.bindAndClear(l,gm.BLIT),this.uniforms.uSampler=c;var d=c;c=l,l=d,a.shader.bind(this),a.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,c,r,s),e.returnFilterTexture(o)}},Object.defineProperty(t.prototype,"blur",{get:function(){return this.strength},set:function(e){this.padding=1+2*Math.abs(e),this.strength=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quality",{get:function(){return this._quality},set:function(e){this._quality=e,this.passes=e},enumerable:!1,configurable:!0}),t}(rd),E1e=function(n){function t(e,i,r,s){void 0===e&&(e=8),void 0===i&&(i=4),void 0===r&&(r=Mt.FILTER_RESOLUTION),void 0===s&&(s=5);var o=n.call(this)||this;return o.blurXFilter=new U2(!0,e,i,r,s),o.blurYFilter=new U2(!1,e,i,r,s),o.resolution=r,o.quality=i,o.blur=e,o.repeatEdgePixels=!1,o}return A7(t,n),t.prototype.apply=function(e,i,r,s){var o=Math.abs(this.blurXFilter.strength),a=Math.abs(this.blurYFilter.strength);if(o&&a){var l=e.getFilterTexture();this.blurXFilter.apply(e,i,l,gm.CLEAR),this.blurYFilter.apply(e,l,r,s),e.returnFilterTexture(l)}else a?this.blurYFilter.apply(e,i,r,s):this.blurXFilter.apply(e,i,r,s)},t.prototype.updatePadding=function(){this.padding=this._repeatEdgePixels?0:2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},Object.defineProperty(t.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(e){this.blurXFilter.quality=this.blurYFilter.quality=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(e){this.blurYFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(e){this.blurYFilter.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(e){this._repeatEdgePixels=e,this.updatePadding()},enumerable:!1,configurable:!0}),t}(rd),G2=function(n,t){return(G2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},j2=function(n){function t(){var e=this,i={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return(e=n.call(this,n2,"varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",i)||this).alpha=1,e}return function T1e(n,t){function e(){this.constructor=n}G2(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t.prototype._loadMatrix=function(e,i){void 0===i&&(i=!1);var r=e;i&&(this._multiply(r,this.uniforms.m,e),r=this._colorMatrix(r)),this.uniforms.m=r},t.prototype._multiply=function(e,i,r){return e[0]=i[0]*r[0]+i[1]*r[5]+i[2]*r[10]+i[3]*r[15],e[1]=i[0]*r[1]+i[1]*r[6]+i[2]*r[11]+i[3]*r[16],e[2]=i[0]*r[2]+i[1]*r[7]+i[2]*r[12]+i[3]*r[17],e[3]=i[0]*r[3]+i[1]*r[8]+i[2]*r[13]+i[3]*r[18],e[4]=i[0]*r[4]+i[1]*r[9]+i[2]*r[14]+i[3]*r[19]+i[4],e[5]=i[5]*r[0]+i[6]*r[5]+i[7]*r[10]+i[8]*r[15],e[6]=i[5]*r[1]+i[6]*r[6]+i[7]*r[11]+i[8]*r[16],e[7]=i[5]*r[2]+i[6]*r[7]+i[7]*r[12]+i[8]*r[17],e[8]=i[5]*r[3]+i[6]*r[8]+i[7]*r[13]+i[8]*r[18],e[9]=i[5]*r[4]+i[6]*r[9]+i[7]*r[14]+i[8]*r[19]+i[9],e[10]=i[10]*r[0]+i[11]*r[5]+i[12]*r[10]+i[13]*r[15],e[11]=i[10]*r[1]+i[11]*r[6]+i[12]*r[11]+i[13]*r[16],e[12]=i[10]*r[2]+i[11]*r[7]+i[12]*r[12]+i[13]*r[17],e[13]=i[10]*r[3]+i[11]*r[8]+i[12]*r[13]+i[13]*r[18],e[14]=i[10]*r[4]+i[11]*r[9]+i[12]*r[14]+i[13]*r[19]+i[14],e[15]=i[15]*r[0]+i[16]*r[5]+i[17]*r[10]+i[18]*r[15],e[16]=i[15]*r[1]+i[16]*r[6]+i[17]*r[11]+i[18]*r[16],e[17]=i[15]*r[2]+i[16]*r[7]+i[17]*r[12]+i[18]*r[17],e[18]=i[15]*r[3]+i[16]*r[8]+i[17]*r[13]+i[18]*r[18],e[19]=i[15]*r[4]+i[16]*r[9]+i[17]*r[14]+i[18]*r[19]+i[19],e},t.prototype._colorMatrix=function(e){var i=new Float32Array(e);return i[4]/=255,i[9]/=255,i[14]/=255,i[19]/=255,i},t.prototype.brightness=function(e,i){this._loadMatrix([e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0],i)},t.prototype.tint=function(e,i){this._loadMatrix([(e>>16&255)/255,0,0,0,0,0,(e>>8&255)/255,0,0,0,0,0,(255&e)/255,0,0,0,0,0,1,0],i)},t.prototype.greyscale=function(e,i){this._loadMatrix([e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0],i)},t.prototype.blackAndWhite=function(e){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],e)},t.prototype.hue=function(e,i){e=(e||0)/180*Math.PI;var r=Math.cos(e),s=Math.sin(e),a=1/3,l=(0,Math.sqrt)(a);this._loadMatrix([r+(1-r)*a,a*(1-r)-l*s,a*(1-r)+l*s,0,0,a*(1-r)+l*s,r+a*(1-r),a*(1-r)-l*s,0,0,a*(1-r)-l*s,a*(1-r)+l*s,r+a*(1-r),0,0,0,0,0,1,0],i)},t.prototype.contrast=function(e,i){var r=(e||0)+1,s=-.5*(r-1);this._loadMatrix([r,0,0,0,s,0,r,0,0,s,0,0,r,0,s,0,0,0,1,0],i)},t.prototype.saturate=function(e,i){void 0===e&&(e=0);var r=2*e/3+1,s=-.5*(r-1);this._loadMatrix([r,s,s,0,0,s,r,s,0,0,s,s,r,0,0,0,0,0,1,0],i)},t.prototype.desaturate=function(){this.saturate(-1)},t.prototype.negative=function(e){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],e)},t.prototype.sepia=function(e){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],e)},t.prototype.technicolor=function(e){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],e)},t.prototype.polaroid=function(e){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],e)},t.prototype.toBGR=function(e){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],e)},t.prototype.kodachrome=function(e){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],e)},t.prototype.browni=function(e){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],e)},t.prototype.vintage=function(e){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],e)},t.prototype.colorTone=function(e,i,r,s,o){var a=((r=r||16770432)>>16&255)/255,l=(r>>8&255)/255,c=(255&r)/255,u=((s=s||3375104)>>16&255)/255,d=(s>>8&255)/255,f=(255&s)/255;this._loadMatrix([.3,.59,.11,0,0,a,l,c,e=e||.2,0,u,d,f,i=i||.15,0,a-u,l-d,c-f,0,0],o)},t.prototype.night=function(e,i){this._loadMatrix([-2*(e=e||.1),-e,0,0,0,-e,0,e,0,0,0,e,2*e,0,0,0,0,0,1,0],i)},t.prototype.predator=function(e,i){this._loadMatrix([11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0],i)},t.prototype.lsd=function(e){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],e)},t.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},Object.defineProperty(t.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(e){this.uniforms.m=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e},enumerable:!1,configurable:!0}),t}(rd);j2.prototype.grayscale=j2.prototype.greyscale;var H2=function(n,t){return(H2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},x1e=function(n){function t(e,i){var r=this,s=new zi;return e.renderable=!1,(r=n.call(this,"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",{mapSampler:e._texture,filterMatrix:s,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this).maskSprite=e,r.maskMatrix=s,null==i&&(i=20),r.scale=new _r(i,i),r}return function M1e(n,t){function e(){this.constructor=n}H2(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t.prototype.apply=function(e,i,r,s){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var o=this.maskSprite.worldTransform,a=Math.sqrt(o.a*o.a+o.b*o.b),l=Math.sqrt(o.c*o.c+o.d*o.d);0!==a&&0!==l&&(this.uniforms.rotation[0]=o.a/a,this.uniforms.rotation[1]=o.b/a,this.uniforms.rotation[2]=o.c/l,this.uniforms.rotation[3]=o.d/l),e.applyFilter(this,i,r,s)},Object.defineProperty(t.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(e){this.uniforms.mapSampler=e},enumerable:!1,configurable:!0}),t}(rd),V2=function(n,t){return(V2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},D1e=function(n){function t(){return n.call(this,"\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputSize;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n')||this}return function I1e(n,t){function e(){this.constructor=n}V2(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t}(rd),z2=function(n,t){return(z2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},F1e=function(n){function t(e,i){void 0===e&&(e=.5),void 0===i&&(i=Math.random());var r=n.call(this,n2,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",{uNoise:0,uSeed:0})||this;return r.noise=e,r.seed=i,r}return function N1e(n,t){function e(){this.constructor=n}z2(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),Object.defineProperty(t.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(e){this.uniforms.uNoise=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(e){this.uniforms.uSeed=e},enumerable:!1,configurable:!0}),t}(rd),BE=(()=>(function(n){n[n.NONE=0]="NONE",n[n.LOW=2]="LOW",n[n.MEDIUM=4]="MEDIUM",n[n.HIGH=8]="HIGH"}(BE||(BE={})),BE))(),R7=new zi;Gr.prototype._cacheAsBitmap=!1,Gr.prototype._cacheData=null,Gr.prototype._cacheAsBitmapResolution=null,Gr.prototype._cacheAsBitmapMultisample=BE.NONE;var L1e=function n(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null};Object.defineProperties(Gr.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(n){n!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=n,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get:function(){return this._cacheAsBitmapMultisample},set:function(n){n!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=n,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(n){var t;this._cacheAsBitmap!==n&&(this._cacheAsBitmap=n,n?(this._cacheData||(this._cacheData=new L1e),(t=this._cacheData).originalRender=this.render,t.originalRenderCanvas=this.renderCanvas,t.originalUpdateTransform=this.updateTransform,t.originalCalculateBounds=this.calculateBounds,t.originalGetLocalBounds=this.getLocalBounds,t.originalDestroy=this.destroy,t.originalContainsPoint=this.containsPoint,t.originalMask=this._mask,t.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((t=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=t.originalRender,this.renderCanvas=t.originalRenderCanvas,this.calculateBounds=t.originalCalculateBounds,this.getLocalBounds=t.originalGetLocalBounds,this.destroy=t.originalDestroy,this.updateTransform=t.originalUpdateTransform,this.containsPoint=t.originalContainsPoint,this._mask=t.originalMask,this.filterArea=t.originalFilterArea))}}}),Gr.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))},Gr.prototype._initCachedDisplayObject=function(t){var e;if(!this._cacheData||!this._cacheData.sprite){var i=this.alpha;this.alpha=1,t.batch.flush();var r=this.getLocalBounds(null,!0).clone();this.filters&&this.filters.length&&r.pad(this.filters[0].padding),r.ceil(Mt.RESOLUTION);var o=t.renderTexture.current,a=t.renderTexture.sourceFrame.clone(),l=t.renderTexture.destinationFrame.clone(),c=t.projection.transform,u=Al.create({width:r.width,height:r.height,resolution:this.cacheAsBitmapResolution||t.resolution,multisample:null!==(e=this.cacheAsBitmapMultisample)&&void 0!==e?e:t.multisample}),d="cacheAsBitmap_"+lh();this._cacheData.textureCacheId=d,Ci.addToCache(u.baseTexture,d),Jt.addToCache(u,d);var f=this.transform.localTransform.copyTo(R7).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,t.render(this,{renderTexture:u,clear:!0,transform:f,skipUpdateTransform:!1}),t.framebuffer.blit(),t.projection.transform=c,t.renderTexture.bind(o,a,l),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=i;var y=new _o(u);y.transform.worldTransform=this.transform.worldTransform,y.anchor.x=-r.x/r.width,y.anchor.y=-r.y/r.height,y.alpha=i,y._bounds=this._bounds,this._cacheData.sprite=y,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=y.containsPoint.bind(y)}},Gr.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))},Gr.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(null,!0),i=this.alpha;this.alpha=1;var r=t.context,s=t._projTransform;e.ceil(Mt.RESOLUTION);var o=Al.create({width:e.width,height:e.height}),a="cacheAsBitmap_"+lh();this._cacheData.textureCacheId=a,Ci.addToCache(o.baseTexture,a),Jt.addToCache(o,a);var l=R7;this.transform.localTransform.copyTo(l),l.invert(),l.tx-=e.x,l.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,{renderTexture:o,clear:!0,transform:l,skipUpdateTransform:!1}),t.context=r,t._projTransform=s,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=i;var c=new _o(o);c.transform.worldTransform=this.transform.worldTransform,c.anchor.x=-e.x/e.width,c.anchor.y=-e.y/e.height,c.alpha=i,c._bounds=this._bounds,this._cacheData.sprite=c,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=c.containsPoint.bind(c)}},Gr.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},Gr.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},Gr.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,Ci.removeFromCache(this._cacheData.textureCacheId),Jt.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},Gr.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)},Gr.prototype.name=null,rr.prototype.getChildByName=function(t,e){for(var i=0,r=this.children.length;i<r;i++)if(this.children[i].name===t)return this.children[i];if(e)for(i=0,r=this.children.length;i<r;i++)if(this.children[i].getChildByName){var o=this.children[i].getChildByName(t,!0);if(o)return o}return null},Gr.prototype.getGlobalPosition=function(t,e){return void 0===t&&(t=new _r),void 0===e&&(e=!1),this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};var W2=function(n,t){return(W2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)};function _m(n,t){function e(){this.constructor=n}W2(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var D7=function(n){function t(e,i,r,s){void 0===e&&(e=100),void 0===i&&(i=100),void 0===r&&(r=10),void 0===s&&(s=10);var o=n.call(this)||this;return o.segWidth=r,o.segHeight=s,o.width=e,o.height=i,o.build(),o}return _m(t,n),t.prototype.build=function(){for(var e=this.segWidth*this.segHeight,i=[],r=[],s=[],o=this.segWidth-1,a=this.segHeight-1,l=this.width/o,c=this.height/a,u=0;u<e;u++){var d=u%this.segWidth,f=u/this.segWidth|0;i.push(d*l,f*c),r.push(d/o,f/a)}var y=o*a;for(u=0;u<y;u++){var O=u%o,I=u/o|0,k=I*this.segWidth+O+1,B=(I+1)*this.segWidth+O;s.push(I*this.segWidth+O,k,B,k,(I+1)*this.segWidth+O+1,B)}this.buffers[0].data=new Float32Array(i),this.buffers[1].data=new Float32Array(r),this.indexBuffer.data=new Uint16Array(s),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},t}(My),N7=function(n){function t(e,i,r){void 0===e&&(e=200),void 0===r&&(r=0);var s=n.call(this,new Float32Array(4*i.length),new Float32Array(4*i.length),new Uint16Array(6*(i.length-1)))||this;return s.points=i,s._width=e,s.textureScale=r,s.build(),s}return _m(t,n),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),t.prototype.build=function(){var e=this.points;if(e){var i=this.getBuffer("aVertexPosition"),r=this.getBuffer("aTextureCoord"),s=this.getIndex();if(!(e.length<1)){i.data.length/4!==e.length&&(i.data=new Float32Array(4*e.length),r.data=new Float32Array(4*e.length),s.data=new Uint16Array(6*(e.length-1)));var o=r.data,a=s.data;o[0]=0,o[1]=0,o[2]=0,o[3]=1;for(var l=0,c=e[0],u=this._width*this.textureScale,d=e.length,f=0;f<d;f++){var y=4*f;if(this.textureScale>0){var O=c.x-e[f].x,I=c.y-e[f].y,N=Math.sqrt(O*O+I*I);c=e[f],l+=N/u}else l=f/(d-1);o[y]=l,o[y+1]=0,o[y+2]=l,o[y+3]=1}var k=0;for(f=0;f<d-1;f++)a[k++]=y=2*f,a[k++]=y+1,a[k++]=y+2,a[k++]=y+2,a[k++]=y+1,a[k++]=y+3;r.update(),s.update(),this.updateVertices()}}},t.prototype.updateVertices=function(){var e=this.points;if(!(e.length<1)){for(var r,i=e[0],s=0,o=0,a=this.buffers[0].data,l=e.length,c=0;c<l;c++){var u=e[c],d=4*c;o=-((r=c<e.length-1?e[c+1]:u).x-i.x),s=r.y-i.y;var f=Math.sqrt(s*s+o*o),y=this.textureScale>0?this.textureScale*this._width/2:this._width/2;s/=f,o/=f,o*=y,a[d]=u.x+(s*=y),a[d+1]=u.y+o,a[d+2]=u.x-s,a[d+3]=u.y-o,i=u}this.buffers[0].update()}},t.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},t}(My),k7=function(n){function t(e,i,r){void 0===r&&(r=0);var s=this,o=new N7(e.height,i,r),a=new Kf(e);return r>0&&(e.baseTexture.wrapMode=xl.REPEAT),(s=n.call(this,o,a)||this).autoUpdate=!0,s}return _m(t,n),t.prototype._render=function(e){var i=this.geometry;(this.autoUpdate||i._width!==this.shader.texture.height)&&(i._width=this.shader.texture.height,i.update()),n.prototype._render.call(this,e)},t}(Dl),F7=function(n){function t(e,i,r){var s=this,o=new D7(e.width,e.height,i,r),a=new Kf(Jt.WHITE);return(s=n.call(this,o,a)||this).texture=e,s.autoResize=!0,s}return _m(t,n),t.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var e=this.geometry,i=this.shader.texture;this.autoResize&&(e.width!==i.width||e.height!==i.height)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())},Object.defineProperty(t.prototype,"texture",{get:function(){return this.shader.texture},set:function(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),t.prototype._render=function(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),n.prototype._render.call(this,e)},t.prototype.destroy=function(e){this.shader.texture.off("update",this.textureUpdated,this),n.prototype.destroy.call(this,e)},t}(Dl),L7=function(n){function t(e,i,r,s,o){void 0===e&&(e=Jt.EMPTY);var a=this,l=new My(i,r,s);l.getBuffer("aVertexPosition").static=!1;var c=new Kf(e);return(a=n.call(this,l,c,null,o)||this).autoUpdate=!0,a}return _m(t,n),Object.defineProperty(t.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(e){this.geometry.getBuffer("aVertexPosition").data=e},enumerable:!1,configurable:!0}),t.prototype._render=function(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),n.prototype._render.call(this,e)},t}(Dl),xy=function(n){function t(e,i,r,s,o){void 0===i&&(i=10),void 0===r&&(r=10),void 0===s&&(s=10),void 0===o&&(o=10);var a=n.call(this,Jt.WHITE,4,4)||this;return a._origWidth=e.orig.width,a._origHeight=e.orig.height,a._width=a._origWidth,a._height=a._origHeight,a._leftWidth=i,a._rightWidth=s,a._topHeight=r,a._bottomHeight=o,a.texture=e,a}return _m(t,n),t.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(t.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(e){this.geometry.getBuffer("aVertexPosition").data=e},enumerable:!1,configurable:!0}),t.prototype.updateHorizontalVertices=function(){var e=this.vertices,i=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*i,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*i,e[25]=e[27]=e[29]=e[31]=this._height},t.prototype.updateVerticalVertices=function(){var e=this.vertices,i=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*i,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*i,e[6]=e[14]=e[22]=e[30]=this._width},t.prototype._getMinScale=function(){var e=this._leftWidth+this._rightWidth,r=this._topHeight+this._bottomHeight;return Math.min(this._width>e?1:this._width/e,this._height>r?1:this._height/r)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(e){this._leftWidth=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(e){this._rightWidth=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"topHeight",{get:function(){return this._topHeight},set:function(e){this._topHeight=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(e){this._bottomHeight=e,this._refresh()},enumerable:!1,configurable:!0}),t.prototype._refresh=function(){var e=this.texture,i=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;var r=1/this._origWidth,s=1/this._origHeight;i[0]=i[8]=i[16]=i[24]=0,i[1]=i[3]=i[5]=i[7]=0,i[6]=i[14]=i[22]=i[30]=1,i[25]=i[27]=i[29]=i[31]=1,i[2]=i[10]=i[18]=i[26]=r*this._leftWidth,i[4]=i[12]=i[20]=i[28]=1-r*this._rightWidth,i[9]=i[11]=i[13]=i[15]=s*this._topHeight,i[17]=i[19]=i[21]=i[23]=1-s*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},t}(F7),$2=function(n,t){return($2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},B7=function(n){function t(e,i){void 0===i&&(i=!0);var r=n.call(this,e[0]instanceof Jt?e[0]:e[0].texture)||this;return r._textures=null,r._durations=null,r._autoUpdate=i,r._isConnectedToTicker=!1,r.animationSpeed=1,r.loop=!0,r.updateAnchor=!1,r.onComplete=null,r.onFrameChange=null,r.onLoop=null,r._currentTime=0,r._playing=!1,r._previousFrame=null,r.textures=e,r}return function B1e(n,t){function e(){this.constructor=n}$2(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t.prototype.stop=function(){!this._playing||(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Qs.shared.remove(this.update,this),this._isConnectedToTicker=!1))},t.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Qs.shared.add(this.update,this,wc.HIGH),this._isConnectedToTicker=!0))},t.prototype.gotoAndStop=function(e){this.stop();var i=this.currentFrame;this._currentTime=e,i!==this.currentFrame&&this.updateTexture()},t.prototype.gotoAndPlay=function(e){var i=this.currentFrame;this._currentTime=e,i!==this.currentFrame&&this.updateTexture(),this.play()},t.prototype.update=function(e){if(this._playing){var i=this.animationSpeed*e,r=this.currentFrame;if(null!==this._durations){var s=this._currentTime%1*this._durations[this.currentFrame];for(s+=i/60*1e3;s<0;)this._currentTime--,s+=this._durations[this.currentFrame];var o=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);s>=this._durations[this.currentFrame];)s-=this._durations[this.currentFrame]*o,this._currentTime+=o;this._currentTime+=s/this._durations[this.currentFrame]}else this._currentTime+=i;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r||this.animationSpeed<0&&this.currentFrame>r)&&this.onLoop(),this.updateTexture())}},t.prototype.updateTexture=function(){var e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},t.prototype.destroy=function(e){this.stop(),n.prototype.destroy.call(this,e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},t.fromFrames=function(e){for(var i=[],r=0;r<e.length;++r)i.push(Jt.from(e[r]));return new t(i)},t.fromImages=function(e){for(var i=[],r=0;r<e.length;++r)i.push(Jt.from(e[r]));return new t(i)},Object.defineProperty(t.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textures",{get:function(){return this._textures},set:function(e){if(e[0]instanceof Jt)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(var i=0;i<e.length;i++)this._textures.push(e[i].texture),this._durations.push(e[i].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentFrame",{get:function(){var e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(Qs.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Qs.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),t}(_o);Mc.registerPlugin("accessibility",_A),Mc.registerPlugin("extract",BH),Mc.registerPlugin("interaction",bA),Mc.registerPlugin("particle",o7),Mc.registerPlugin("prepare",v7),Mc.registerPlugin("batch",DH),Mc.registerPlugin("tilingSprite",T7),Bo.registerPlugin(I7),Bo.registerPlugin(qH),Bo.registerPlugin(ZH),Bo.registerPlugin(n7),Bo.registerPlugin(b7),vy.registerPlugin(Yj),vy.registerPlugin(zH);var U1e="6.2.2",G1e={AlphaFilter:m1e,BlurFilter:E1e,BlurFilterPass:U2,ColorMatrixFilter:j2,DisplacementFilter:x1e,FXAAFilter:D1e,NoiseFilter:F1e},Y2=function(n,t){return(Y2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},H1e=function(){function n(t){this._foundShapes=[],this.renderer=t}return n.prototype.pushMask=function(t){var e=this.renderer,i=t.maskObject||t;e.context.save();var r=this._foundShapes;if(this.recursiveFindShapes(i,r),r.length>0){var s=e.context;s.beginPath();for(var o=0;o<r.length;o++){var a=r[o];this.renderer.setContextTransform(a.transform.worldTransform),this.renderGraphicsShape(a)}r.length=0,s.clip()}},n.prototype.recursiveFindShapes=function(t,e){t.geometry&&t.geometry.graphicsData&&e.push(t);var i=t.children;if(i)for(var r=0;r<i.length;r++)this.recursiveFindShapes(i[r],e)},n.prototype.renderGraphicsShape=function(t){t.finishPoly();var e=this.renderer.context,i=t.geometry.graphicsData,r=i.length;if(0!==r)for(var s=0;s<r;s++){var o=i[s],a=o.shape;if(a.type===Oi.POLY){var l=a.points,c=o.holes,u=void 0,d=void 0,f=void 0,y=void 0;e.moveTo(l[0],l[1]);for(var O=1;O<l.length/2;O++)e.lineTo(l[2*O],l[2*O+1]);if(c.length>0){for(u=0,f=l[0],y=l[1],O=2;O+2<l.length;O+=2)u+=(l[O]-f)*(l[O+3]-y)-(l[O+2]-f)*(l[O+1]-y);for(var I=0;I<c.length;I++)if(l=c[I].shape.points){for(d=0,f=l[0],y=l[1],O=2;O+2<l.length;O+=2)d+=(l[O]-f)*(l[O+3]-y)-(l[O+2]-f)*(l[O+1]-y);if(d*u<0)for(e.moveTo(l[0],l[1]),O=2;O<l.length;O+=2)e.lineTo(l[O],l[O+1]);else for(e.moveTo(l[l.length-2],l[l.length-1]),O=l.length-4;O>=0;O-=2)e.lineTo(l[O],l[O+1]);c[I].shape.closeStroke&&e.closePath()}}l[0]===l[l.length-2]&&l[1]===l[l.length-1]&&e.closePath()}else if(a.type===Oi.RECT)e.rect(a.x,a.y,a.width,a.height),e.closePath();else if(a.type===Oi.CIRC)e.arc(a.x,a.y,a.radius,0,2*Math.PI),e.closePath();else if(a.type===Oi.ELIP){var N=2*a.width,k=2*a.height,B=a.x-N/2,G=a.y-k/2,Y=.5522848,J=N/2*Y,Z=k/2*Y,ge=B+N,pe=G+k,ae=B+N/2,de=G+k/2;e.moveTo(B,de),e.bezierCurveTo(B,de-Z,ae-J,G,ae,G),e.bezierCurveTo(ae+J,G,ge,de-Z,ge,de),e.bezierCurveTo(ge,de+Z,ae+J,pe,ae,pe),e.bezierCurveTo(ae-J,pe,B,de+Z,B,de),e.closePath()}else if(a.type===Oi.RREC){var xe=a.x,ve=a.y,ye=a.width,Re=a.height,Oe=a.radius,be=Math.min(ye,Re)/2;e.moveTo(xe,ve+(Oe=Oe>be?be:Oe)),e.lineTo(xe,ve+Re-Oe),e.quadraticCurveTo(xe,ve+Re,xe+Oe,ve+Re),e.lineTo(xe+ye-Oe,ve+Re),e.quadraticCurveTo(xe+ye,ve+Re,xe+ye,ve+Re-Oe),e.lineTo(xe+ye,ve+Oe),e.quadraticCurveTo(xe+ye,ve,xe+ye-Oe,ve),e.lineTo(xe+Oe,ve),e.quadraticCurveTo(xe,ve,xe,ve+Oe),e.closePath()}}},n.prototype.popMask=function(t){t.context.restore(),t.invalidateBlendMode()},n.prototype.destroy=function(){},n}();function U7(n){var t=document.createElement("canvas");t.width=6,t.height=1;var e=t.getContext("2d");return e.fillStyle=n,e.fillRect(0,0,6,1),t}function G7(){if("undefined"==typeof document)return!1;var n=U7("#ff00ff"),t=U7("#ffff00"),e=document.createElement("canvas");e.width=6,e.height=1;var i=e.getContext("2d");i.globalCompositeOperation="multiply",i.drawImage(n,0,0),i.drawImage(t,2,0);var r=i.getImageData(2,0,1,1);if(!r)return!1;var s=r.data;return 255===s[0]&&0===s[1]&&0===s[2]}var z1e=new zi,_u=function(n){function t(e){var i=n.call(this,Tc.CANVAS,e)||this;if(i.refresh=!0,i.maskManager=new H1e(i),i.smoothProperty="imageSmoothingEnabled",i.blendModes=function V1e(n){return void 0===n&&(n=[]),G7()?(n[qe.NORMAL]="source-over",n[qe.ADD]="lighter",n[qe.MULTIPLY]="multiply",n[qe.SCREEN]="screen",n[qe.OVERLAY]="overlay",n[qe.DARKEN]="darken",n[qe.LIGHTEN]="lighten",n[qe.COLOR_DODGE]="color-dodge",n[qe.COLOR_BURN]="color-burn",n[qe.HARD_LIGHT]="hard-light",n[qe.SOFT_LIGHT]="soft-light",n[qe.DIFFERENCE]="difference",n[qe.EXCLUSION]="exclusion",n[qe.HUE]="hue",n[qe.SATURATION]="saturate",n[qe.COLOR]="color",n[qe.LUMINOSITY]="luminosity"):(n[qe.NORMAL]="source-over",n[qe.ADD]="lighter",n[qe.MULTIPLY]="source-over",n[qe.SCREEN]="source-over",n[qe.OVERLAY]="source-over",n[qe.DARKEN]="source-over",n[qe.LIGHTEN]="source-over",n[qe.COLOR_DODGE]="source-over",n[qe.COLOR_BURN]="source-over",n[qe.HARD_LIGHT]="source-over",n[qe.SOFT_LIGHT]="source-over",n[qe.DIFFERENCE]="source-over",n[qe.EXCLUSION]="source-over",n[qe.HUE]="source-over",n[qe.SATURATION]="source-over",n[qe.COLOR]="source-over",n[qe.LUMINOSITY]="source-over"),n[qe.NORMAL_NPM]=n[qe.NORMAL],n[qe.ADD_NPM]=n[qe.ADD],n[qe.SCREEN_NPM]=n[qe.SCREEN],n[qe.SRC_IN]="source-in",n[qe.SRC_OUT]="source-out",n[qe.SRC_ATOP]="source-atop",n[qe.DST_OVER]="destination-over",n[qe.DST_IN]="destination-in",n[qe.DST_OUT]="destination-out",n[qe.DST_ATOP]="destination-atop",n[qe.XOR]="xor",n[qe.SUBTRACT]="source-over",n}(),i.renderingToScreen=!1,i._activeBlendMode=null,i._projTransform=null,i._outerBlend=!1,i.rootContext=i.view.getContext("2d",{alpha:i.useContextAlpha}),i.context=i.rootContext,!i.rootContext.imageSmoothingEnabled){var r=i.rootContext;r.webkitImageSmoothingEnabled?i.smoothProperty="webkitImageSmoothingEnabled":r.mozImageSmoothingEnabled?i.smoothProperty="mozImageSmoothingEnabled":r.oImageSmoothingEnabled?i.smoothProperty="oImageSmoothingEnabled":r.msImageSmoothingEnabled&&(i.smoothProperty="msImageSmoothingEnabled")}return i.initPlugins(t.__plugins),nA("Canvas"),i.resize(i.options.width,i.options.height),i}return function j1e(n,t){function e(){this.constructor=n}Y2(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t.prototype.render=function(e,i){if(this.view){var r,s,o,a;i&&(i instanceof Al||i instanceof fy?(hu("6.0.0","CanvasRenderer#render arguments changed, use options instead."),r=i,s=arguments[2],o=arguments[3],a=arguments[4]):(r=i.renderTexture,s=i.clear,o=i.transform,a=i.skipUpdateTransform)),this.renderingToScreen=!r,this.emit("prerender");var l=this.resolution;r?((r=r.castToBaseTexture())._canvasRenderTarget||(r._canvasRenderTarget=new sm(r.width,r.height,r.resolution),r.resource=new hy(r._canvasRenderTarget.canvas),r.valid=!0),this.context=r._canvasRenderTarget.context,this.resolution=r._canvasRenderTarget.resolution):this.context=this.rootContext;var c=this.context;if(this._projTransform=o||null,r||(this._lastObjectRendered=e),!a){var u=e.enableTempParent();e.updateTransform(),e.disableTempParent(u)}if(c.save(),c.setTransform(1,0,0,1,0,0),c.globalAlpha=1,this._activeBlendMode=qe.NORMAL,this._outerBlend=!1,c.globalCompositeOperation=this.blendModes[qe.NORMAL],void 0!==s?s:this.clearBeforeRender)if(this.renderingToScreen)c.clearRect(0,0,this.width,this.height),this.backgroundAlpha>0&&(c.globalAlpha=this.useContextAlpha?this.backgroundAlpha:1,c.fillStyle=this._backgroundColorString,c.fillRect(0,0,this.width,this.height),c.globalAlpha=1);else{r._canvasRenderTarget.clear();var d=r.clearColor;d[3]>0&&(c.globalAlpha=this.useContextAlpha?d[3]:1,c.fillStyle=tE(rA(d)),c.fillRect(0,0,r.realWidth,r.realHeight),c.globalAlpha=1)}var f=this.context;this.context=c,e.renderCanvas(this),this.context=f,c.restore(),this.resolution=l,this._projTransform=null,this.emit("postrender")}},t.prototype.setContextTransform=function(e,i,r){var s=e,o=this._projTransform,a=this.resolution;r=r||a,o&&((s=z1e).copyFrom(e),s.prepend(o)),i?this.context.setTransform(s.a*r,s.b*r,s.c*r,s.d*r,s.tx*a|0,s.ty*a|0):this.context.setTransform(s.a*r,s.b*r,s.c*r,s.d*r,s.tx*a,s.ty*a)},t.prototype.clear=function(e,i){void 0===e&&(e=this._backgroundColorString),void 0===i&&(i=this.backgroundAlpha);var r=this.context;r.clearRect(0,0,this.width,this.height),e&&(r.globalAlpha=this.useContextAlpha?i:1,r.fillStyle=e,r.fillRect(0,0,this.width,this.height),r.globalAlpha=1)},t.prototype.setBlendMode=function(e,i){var r=e===qe.SRC_IN||e===qe.SRC_OUT||e===qe.DST_IN||e===qe.DST_ATOP;!i&&r&&(e=qe.NORMAL),this._activeBlendMode!==e&&(this._activeBlendMode=e,this._outerBlend=r,this.context.globalCompositeOperation=this.blendModes[e])},t.prototype.destroy=function(e){n.prototype.destroy.call(this,e),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},t.prototype.resize=function(e,i){n.prototype.resize.call(this,e,i),this.smoothProperty&&(this.rootContext[this.smoothProperty]=Mt.SCALE_MODE===Cs.LINEAR)},t.prototype.invalidateBlendMode=function(){this._activeBlendMode=this.blendModes.indexOf(this.context.globalCompositeOperation)},t.registerPlugin=function(e,i){(t.__plugins=t.__plugins||{})[e]=i},t}(t2),ds={canvas:null,getTintedCanvas:function(n,t){var e=n.texture,i="#"+("00000"+(0|(t=ds.roundColor(t))).toString(16)).substr(-6);e.tintCache=e.tintCache||{};var s,r=e.tintCache[i];if(r){if(r.tintId===e._updateID)return e.tintCache[i];s=e.tintCache[i]}else s=document.createElement("canvas");if(ds.tintMethod(e,t,s),s.tintId=e._updateID,ds.convertTintToImage){var o=new Image;o.src=s.toDataURL(),e.tintCache[i]=o}else e.tintCache[i]=s;return s},getTintedPattern:function(n,t){var e="#"+("00000"+(0|(t=ds.roundColor(t))).toString(16)).substr(-6);n.patternCache=n.patternCache||{};var i=n.patternCache[e];return i&&i.tintId===n._updateID||(ds.canvas||(ds.canvas=document.createElement("canvas")),ds.tintMethod(n,t,ds.canvas),(i=ds.canvas.getContext("2d").createPattern(ds.canvas,"repeat")).tintId=n._updateID,n.patternCache[e]=i),i},tintWithMultiply:function(n,t,e){var i=e.getContext("2d"),r=n._frame.clone(),s=n.baseTexture.resolution;r.x*=s,r.y*=s,r.width*=s,r.height*=s,e.width=Math.ceil(r.width),e.height=Math.ceil(r.height),i.save(),i.fillStyle="#"+("00000"+(0|t).toString(16)).substr(-6),i.fillRect(0,0,r.width,r.height),i.globalCompositeOperation="multiply";var o=n.baseTexture.getDrawableSource();i.drawImage(o,r.x,r.y,r.width,r.height,0,0,r.width,r.height),i.globalCompositeOperation="destination-atop",i.drawImage(o,r.x,r.y,r.width,r.height,0,0,r.width,r.height),i.restore()},tintWithOverlay:function(n,t,e){var i=e.getContext("2d"),r=n._frame.clone(),s=n.baseTexture.resolution;r.x*=s,r.y*=s,r.width*=s,r.height*=s,e.width=Math.ceil(r.width),e.height=Math.ceil(r.height),i.save(),i.globalCompositeOperation="copy",i.fillStyle="#"+("00000"+(0|t).toString(16)).substr(-6),i.fillRect(0,0,r.width,r.height),i.globalCompositeOperation="destination-atop",i.drawImage(n.baseTexture.getDrawableSource(),r.x,r.y,r.width,r.height,0,0,r.width,r.height),i.restore()},tintWithPerPixel:function(n,t,e){var i=e.getContext("2d"),r=n._frame.clone(),s=n.baseTexture.resolution;r.x*=s,r.y*=s,r.width*=s,r.height*=s,e.width=Math.ceil(r.width),e.height=Math.ceil(r.height),i.save(),i.globalCompositeOperation="copy",i.drawImage(n.baseTexture.getDrawableSource(),r.x,r.y,r.width,r.height,0,0,r.width,r.height),i.restore();for(var o=nd(t),a=o[0],l=o[1],c=o[2],u=i.getImageData(0,0,r.width,r.height),d=u.data,f=0;f<d.length;f+=4)d[f+0]*=a,d[f+1]*=l,d[f+2]*=c;i.putImageData(u,0,0)},roundColor:function(n){var t=ds.cacheStepsPerColorChannel,e=nd(n);return e[0]=Math.min(255,e[0]/t*t),e[1]=Math.min(255,e[1]/t*t),e[2]=Math.min(255,e[2]/t*t),rA(e)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:G7(),tintMethod:null};ds.tintMethod=ds.canUseMultiply?ds.tintWithMultiply:ds.tintWithPerPixel;var W1e=Mc.create;Mc.create=function(t){if(!t||!t.forceCanvas)try{return W1e(t)}catch(i){}return new _u(t)},Ci.prototype.getDrawableSource=function(){var t=this.resource;return t?t.bitmap||t.source:null},fy.prototype._canvasRenderTarget=null,Jt.prototype.patternCache=null,Jt.prototype.tintCache=null;var X2="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function q2(n,t,e){return n(e={path:t,exports:{},require:function(i,r){return function $1e(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},e.exports),e.exports}var K2=q2(function(n){var t=Object.prototype.hasOwnProperty,e="~";function i(){}function r(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function s(l,c,u,d,f){if("function"!=typeof u)throw new TypeError("The listener must be a function");var y=new r(u,d||l,f),O=e?e+c:c;return l._events[O]?l._events[O].fn?l._events[O]=[l._events[O],y]:l._events[O].push(y):(l._events[O]=y,l._eventsCount++),l}function o(l,c){0==--l._eventsCount?l._events=new i:delete l._events[c]}function a(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(e=!1)),a.prototype.eventNames=function(){var u,d,c=[];if(0===this._eventsCount)return c;for(d in u=this._events)t.call(u,d)&&c.push(e?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var d=this._events[e?e+c:c];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,y=d.length,O=new Array(y);f<y;f++)O[f]=d[f].fn;return O},a.prototype.listenerCount=function(c){var d=this._events[e?e+c:c];return d?d.fn?1:d.length:0},a.prototype.emit=function(c,u,d,f,y,O){var I=arguments,N=e?e+c:c;if(!this._events[N])return!1;var G,Y,k=this._events[N],B=arguments.length;if(k.fn){switch(k.once&&this.removeListener(c,k.fn,void 0,!0),B){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,u),!0;case 3:return k.fn.call(k.context,u,d),!0;case 4:return k.fn.call(k.context,u,d,f),!0;case 5:return k.fn.call(k.context,u,d,f,y),!0;case 6:return k.fn.call(k.context,u,d,f,y,O),!0}for(Y=1,G=new Array(B-1);Y<B;Y++)G[Y-1]=I[Y];k.fn.apply(k.context,G)}else{var Z,J=k.length;for(Y=0;Y<J;Y++)switch(k[Y].once&&this.removeListener(c,k[Y].fn,void 0,!0),B){case 1:k[Y].fn.call(k[Y].context);break;case 2:k[Y].fn.call(k[Y].context,u);break;case 3:k[Y].fn.call(k[Y].context,u,d);break;case 4:k[Y].fn.call(k[Y].context,u,d,f);break;default:if(!G)for(Z=1,G=new Array(B-1);Z<B;Z++)G[Z-1]=I[Z];k[Y].fn.apply(k[Y].context,G)}}return!0},a.prototype.on=function(c,u,d){return s(this,c,u,d,!1)},a.prototype.once=function(c,u,d){return s(this,c,u,d,!0)},a.prototype.removeListener=function(c,u,d,f){var y=e?e+c:c;if(!this._events[y])return this;if(!u)return o(this,y),this;var O=this._events[y];if(O.fn)O.fn===u&&(!f||O.once)&&(!d||O.context===d)&&o(this,y);else{for(var I=0,N=[],k=O.length;I<k;I++)(O[I].fn!==u||f&&!O[I].once||d&&O[I].context!==d)&&N.push(O[I]);N.length?this._events[y]=1===N.length?N[0]:N:o(this,y)}return this},a.prototype.removeAllListeners=function(c){var u;return c?this._events[u=e?e+c:c]&&o(this,u):(this._events=new i,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=e,a.EventEmitter=a,n.exports=a}),Y1e=q2(function(n,t){!function(e){var i=t&&!t.nodeType&&t,r=n&&!n.nodeType&&n,s="object"==typeof X2&&X2;(s.global===s||s.window===s||s.self===s)&&(e=s);var o,ge,a=2147483647,l=36,N=/^xn--/,k=/[^\x20-\x7E]/,B=/[\x2E\u3002\uFF0E\uFF61]/g,G={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},J=Math.floor,Z=String.fromCharCode;function pe(me){throw RangeError(G[me])}function ae(me,Ve){for(var et=me.length,st=[];et--;)st[et]=Ve(me[et]);return st}function de(me,Ve){var et=me.split("@"),st="";return et.length>1&&(st=et[0]+"@",me=et[1]),st+ae((me=me.replace(B,".")).split("."),Ve).join(".")}function xe(me){for(var Tt,vt,Ve=[],et=0,st=me.length;et<st;)(Tt=me.charCodeAt(et++))>=55296&&Tt<=56319&&et<st?56320==(64512&(vt=me.charCodeAt(et++)))?Ve.push(((1023&Tt)<<10)+(1023&vt)+65536):(Ve.push(Tt),et--):Ve.push(Tt);return Ve}function ve(me){return ae(me,function(Ve){var et="";return Ve>65535&&(et+=Z((Ve-=65536)>>>10&1023|55296),Ve=56320|1023&Ve),et+Z(Ve)}).join("")}function ye(me){return me-48<10?me-22:me-65<26?me-65:me-97<26?me-97:l}function Re(me,Ve){return me+22+75*(me<26)-((0!=Ve)<<5)}function Oe(me,Ve,et){var st=0;for(me=et?J(me/700):me>>1,me+=J(me/Ve);me>455;st+=l)me=J(me/35);return J(st+36*me/(me+38))}function be(me){var st,Vt,Pn,cn,Qt,Ft,vn,tn,Qi,Nn,Ve=[],et=me.length,Tt=0,vt=128,kt=72;for((Vt=me.lastIndexOf("-"))<0&&(Vt=0),Pn=0;Pn<Vt;++Pn)me.charCodeAt(Pn)>=128&&pe("not-basic"),Ve.push(me.charCodeAt(Pn));for(cn=Vt>0?Vt+1:0;cn<et;){for(Qt=Tt,Ft=1,vn=l;cn>=et&&pe("invalid-input"),((tn=ye(me.charCodeAt(cn++)))>=l||tn>J((a-Tt)/Ft))&&pe("overflow"),Tt+=tn*Ft,!(tn<(Qi=vn<=kt?1:vn>=kt+26?26:vn-kt));vn+=l)Ft>J(a/(Nn=l-Qi))&&pe("overflow"),Ft*=Nn;kt=Oe(Tt-Qt,st=Ve.length+1,0==Qt),J(Tt/st)>a-vt&&pe("overflow"),vt+=J(Tt/st),Tt%=st,Ve.splice(Tt++,0,vt)}return ve(Ve)}function Ee(me){var Ve,et,st,Tt,vt,kt,Vt,Pn,cn,Qt,Ft,tn,Qi,Nn,bn,vn=[];for(tn=(me=xe(me)).length,Ve=128,et=0,vt=72,kt=0;kt<tn;++kt)(Ft=me[kt])<128&&vn.push(Z(Ft));for(st=Tt=vn.length,Tt&&vn.push("-");st<tn;){for(Vt=a,kt=0;kt<tn;++kt)(Ft=me[kt])>=Ve&&Ft<Vt&&(Vt=Ft);for(Vt-Ve>J((a-et)/(Qi=st+1))&&pe("overflow"),et+=(Vt-Ve)*Qi,Ve=Vt,kt=0;kt<tn;++kt)if((Ft=me[kt])<Ve&&++et>a&&pe("overflow"),Ft==Ve){for(Pn=et,cn=l;!(Pn<(Qt=cn<=vt?1:cn>=vt+26?26:cn-vt));cn+=l)vn.push(Z(Re(Qt+(bn=Pn-Qt)%(Nn=l-Qt),0))),Pn=J(bn/Nn);vn.push(Z(Re(Pn,0))),vt=Oe(et,Qi,st==Tt),et=0,++st}++et,++Ve}return vn.join("")}if(o={version:"1.3.2",ucs2:{decode:xe,encode:ve},decode:be,encode:Ee,toASCII:function nt(me){return de(me,function(Ve){return k.test(Ve)?"xn--"+Ee(Ve):Ve})},toUnicode:function De(me){return de(me,function(Ve){return N.test(Ve)?be(Ve.slice(4).toLowerCase()):Ve})}},i&&r)if(n.exports==i)r.exports=o;else for(ge in o)o.hasOwnProperty(ge)&&(i[ge]=o[ge]);else e.punycode=o}(X2)}),mu_isString=function(n){return"string"==typeof n},mu_isObject=function(n){return"object"==typeof n&&null!==n},mu_isNull=function(n){return null===n};function X1e(n,t){return Object.prototype.hasOwnProperty.call(n,t)}var q1e=function(n,t,e,i){e=e||"=";var r={};if("string"!=typeof n||0===n.length)return r;var s=/\+/g;n=n.split(t=t||"&");var o=1e3;i&&"number"==typeof i.maxKeys&&(o=i.maxKeys);var a=n.length;o>0&&a>o&&(a=o);for(var l=0;l<a;++l){var d,f,y,O,c=n[l].replace(s,"%20"),u=c.indexOf(e);u>=0?(d=c.substr(0,u),f=c.substr(u+1)):(d=c,f=""),y=decodeURIComponent(d),O=decodeURIComponent(f),X1e(r,y)?Array.isArray(r[y])?r[y].push(O):r[y]=[r[y],O]:r[y]=O}return r},Iy=function(n){switch(typeof n){case"string":return n;case"boolean":return n?"true":"false";case"number":return isFinite(n)?n:"";default:return""}},K1e=function(n,t,e,i){return t=t||"&",e=e||"=",null===n&&(n=void 0),"object"==typeof n?Object.keys(n).map(function(r){var s=encodeURIComponent(Iy(r))+e;return Array.isArray(n[r])?n[r].map(function(o){return s+encodeURIComponent(Iy(o))}).join(t):s+encodeURIComponent(Iy(n[r]))}).join(t):i?encodeURIComponent(Iy(i))+e+encodeURIComponent(Iy(n)):""},J2=q2(function(n,t){t.decode=t.parse=q1e,t.encode=t.stringify=K1e}),J1e=GE;function xc(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var eSe=/^([a-z0-9.+-]+:)/i,tSe=/:[0-9]*$/,nSe=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,rSe=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),Z2=["'"].concat(rSe),j7=["%","/","?",";","#"].concat(Z2),H7=["/","?","#"],V7=/^[+a-z0-9A-Z_-]{0,63}$/,oSe=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,aSe={javascript:!0,"javascript:":!0},Q2={javascript:!0,"javascript:":!0},mm={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function GE(n,t,e){if(n&&mu_isObject(n)&&n instanceof xc)return n;var i=new xc;return i.parse(n,t,e),i}xc.prototype.parse=function(n,t,e){if(!mu_isString(n))throw new TypeError("Parameter 'url' must be a string, not "+typeof n);var i=n.indexOf("?"),r=-1!==i&&i<n.indexOf("#")?"?":"#",s=n.split(r);s[0]=s[0].replace(/\\/g,"/");var a=n=s.join(r);if(a=a.trim(),!e&&1===n.split("#").length){var l=nSe.exec(a);if(l)return this.path=a,this.href=a,this.pathname=l[1],l[2]?(this.search=l[2],this.query=t?J2.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var c=eSe.exec(a);if(c){var u=(c=c[0]).toLowerCase();this.protocol=u,a=a.substr(c.length)}if(e||c||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var d="//"===a.substr(0,2);d&&(!c||!Q2[c])&&(a=a.substr(2),this.slashes=!0)}if(!Q2[c]&&(d||c&&!mm[c])){for(var f=-1,y=0;y<H7.length;y++)-1!==(O=a.indexOf(H7[y]))&&(-1===f||O<f)&&(f=O);var I,N;for(-1!==(N=-1===f?a.lastIndexOf("@"):a.lastIndexOf("@",f))&&(I=a.slice(0,N),a=a.slice(N+1),this.auth=decodeURIComponent(I)),f=-1,y=0;y<j7.length;y++){var O;-1!==(O=a.indexOf(j7[y]))&&(-1===f||O<f)&&(f=O)}-1===f&&(f=a.length),this.host=a.slice(0,f),a=a.slice(f),this.parseHost(),this.hostname=this.hostname||"";var k="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!k)for(var B=this.hostname.split(/\./),G=(y=0,B.length);y<G;y++){var Y=B[y];if(Y&&!Y.match(V7)){for(var J="",Z=0,ge=Y.length;Z<ge;Z++)Y.charCodeAt(Z)>127?J+="x":J+=Y[Z];if(!J.match(V7)){var pe=B.slice(0,y),ae=B.slice(y+1),de=Y.match(oSe);de&&(pe.push(de[1]),ae.unshift(de[2])),ae.length&&(a="/"+ae.join(".")+a),this.hostname=pe.join(".");break}}}this.hostname=this.hostname.length>255?"":this.hostname.toLowerCase(),k||(this.hostname=Y1e.toASCII(this.hostname)),this.host=(this.hostname||"")+(this.port?":"+this.port:""),this.href+=this.host,k&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==a[0]&&(a="/"+a))}if(!aSe[u])for(y=0,G=Z2.length;y<G;y++){var ye=Z2[y];if(-1!==a.indexOf(ye)){var Re=encodeURIComponent(ye);Re===ye&&(Re=escape(ye)),a=a.split(ye).join(Re)}}var Oe=a.indexOf("#");-1!==Oe&&(this.hash=a.substr(Oe),a=a.slice(0,Oe));var be=a.indexOf("?");return-1!==be?(this.search=a.substr(be),this.query=a.substr(be+1),t&&(this.query=J2.parse(this.query)),a=a.slice(0,be)):t&&(this.search="",this.query={}),a&&(this.pathname=a),mm[u]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(this.path=(this.pathname||"")+(this.search||"")),this.href=this.format(),this},xc.prototype.format=function(){var n=this.auth||"";n&&(n=(n=encodeURIComponent(n)).replace(/%3A/i,":"),n+="@");var t=this.protocol||"",e=this.pathname||"",i=this.hash||"",r=!1,s="";this.host?r=n+this.host:this.hostname&&(r=n+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&mu_isObject(this.query)&&Object.keys(this.query).length&&(s=J2.stringify(this.query));var o=this.search||s&&"?"+s||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||mm[t])&&!1!==r?(r="//"+(r||""),e&&"/"!==e.charAt(0)&&(e="/"+e)):r||(r=""),i&&"#"!==i.charAt(0)&&(i="#"+i),o&&"?"!==o.charAt(0)&&(o="?"+o),t+r+(e=e.replace(/[?#]/g,function(a){return encodeURIComponent(a)}))+(o=o.replace("#","%23"))+i},xc.prototype.resolve=function(n){return this.resolveObject(GE(n,!1,!0)).format()},xc.prototype.resolveObject=function(n){if(mu_isString(n)){var t=new xc;t.parse(n,!1,!0),n=t}for(var e=new xc,i=Object.keys(this),r=0;r<i.length;r++){var s=i[r];e[s]=this[s]}if(e.hash=n.hash,""===n.href)return e.href=e.format(),e;if(n.slashes&&!n.protocol){for(var o=Object.keys(n),a=0;a<o.length;a++){var l=o[a];"protocol"!==l&&(e[l]=n[l])}return mm[e.protocol]&&e.hostname&&!e.pathname&&(e.path=e.pathname="/"),e.href=e.format(),e}if(n.protocol&&n.protocol!==e.protocol){if(!mm[n.protocol]){for(var c=Object.keys(n),u=0;u<c.length;u++){var d=c[u];e[d]=n[d]}return e.href=e.format(),e}if(e.protocol=n.protocol,n.host||Q2[n.protocol])e.pathname=n.pathname;else{for(var G=(n.pathname||"").split("/");G.length&&!(n.host=G.shift()););n.host||(n.host=""),n.hostname||(n.hostname=""),""!==G[0]&&G.unshift(""),G.length<2&&G.unshift(""),e.pathname=G.join("/")}return e.search=n.search,e.query=n.query,e.host=n.host||"",e.auth=n.auth,e.hostname=n.hostname||n.host,e.port=n.port,(e.pathname||e.search)&&(e.path=(e.pathname||"")+(e.search||"")),e.slashes=e.slashes||n.slashes,e.href=e.format(),e}var O=e.pathname&&"/"===e.pathname.charAt(0),I=n.host||n.pathname&&"/"===n.pathname.charAt(0),N=I||O||e.host&&n.pathname,k=N,B=e.pathname&&e.pathname.split("/")||[],Y=(G=n.pathname&&n.pathname.split("/")||[],e.protocol&&!mm[e.protocol]);if(Y&&(e.hostname="",e.port=null,e.host&&(""===B[0]?B[0]=e.host:B.unshift(e.host)),e.host="",n.protocol&&(n.hostname=null,n.port=null,n.host&&(""===G[0]?G[0]=n.host:G.unshift(n.host)),n.host=null),N=N&&(""===G[0]||""===B[0])),I)e.host=n.host||""===n.host?n.host:e.host,e.hostname=n.hostname||""===n.hostname?n.hostname:e.hostname,e.search=n.search,e.query=n.query,B=G;else if(G.length)B||(B=[]),B.pop(),B=B.concat(G),e.search=n.search,e.query=n.query;else if(!function(n){return null==n}(n.search))return Y&&(e.hostname=e.host=B.shift(),(J=!!(e.host&&e.host.indexOf("@")>0)&&e.host.split("@"))&&(e.auth=J.shift(),e.host=e.hostname=J.shift())),e.search=n.search,e.query=n.query,(!mu_isNull(e.pathname)||!mu_isNull(e.search))&&(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.href=e.format(),e;if(!B.length)return e.pathname=null,e.path=e.search?"/"+e.search:null,e.href=e.format(),e;for(var Z=B.slice(-1)[0],ge=(e.host||n.host||B.length>1)&&("."===Z||".."===Z)||""===Z,pe=0,ae=B.length;ae>=0;ae--)"."===(Z=B[ae])?B.splice(ae,1):".."===Z?(B.splice(ae,1),pe++):pe&&(B.splice(ae,1),pe--);if(!N&&!k)for(;pe--;pe)B.unshift("..");N&&""!==B[0]&&(!B[0]||"/"!==B[0].charAt(0))&&B.unshift(""),ge&&"/"!==B.join("/").substr(-1)&&B.push("");var J,de=""===B[0]||B[0]&&"/"===B[0].charAt(0);return Y&&(e.hostname=e.host=de?"":B.length?B.shift():"",(J=!!(e.host&&e.host.indexOf("@")>0)&&e.host.split("@"))&&(e.auth=J.shift(),e.host=e.hostname=J.shift())),(N=N||e.host&&B.length)&&!de&&B.unshift(""),B.length?e.pathname=B.join("/"):(e.pathname=null,e.path=null),(!mu_isNull(e.pathname)||!mu_isNull(e.search))&&(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.auth=n.auth||e.auth,e.slashes=e.slashes||n.slashes,e.href=e.format(),e},xc.prototype.parseHost=function(){var n=this.host,t=tSe.exec(n);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),n=n.substr(0,n.length-t.length)),n&&(this.hostname=n)};var uSe={parse:J1e,format:function lSe(n){return mu_isString(n)&&(n=GE(n)),n instanceof xc?n.format():xc.prototype.format.call(n)},resolve:function cSe(n,t){return GE(n,!1,!0).resolve(t)}};Mt.RETINA_PREFIX=/@([0-9\.]+)x/,Mt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var eR,z7=!1,_Se=function gSe(){for(var n=[],t=[],e=0;e<32;e++)n[e]=e,t[e]=e;n[qe.NORMAL_NPM]=qe.NORMAL,n[qe.ADD_NPM]=qe.ADD,n[qe.SCREEN_NPM]=qe.SCREEN,t[qe.NORMAL]=qe.NORMAL_NPM,t[qe.ADD]=qe.ADD_NPM,t[qe.SCREEN]=qe.SCREEN_NPM;var i=[];return i.push(t),i.push(n),i}();function $7(n){if(4===n.BYTES_PER_ELEMENT)return n instanceof Float32Array?"Float32Array":n instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===n.BYTES_PER_ELEMENT){if(n instanceof Uint16Array)return"Uint16Array"}else if(1===n.BYTES_PER_ELEMENT&&n instanceof Uint8Array)return"Uint8Array";return null}function jE(n){return n+=0===n?1:0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,1+(n|=n>>>16)}function Y7(n){return!(n&n-1||!n)}function X7(n){var t=(n>65535?1:0)<<4,e=((n>>>=t)>255?1:0)<<3;return t|=e,t|=e=((n>>>=e)>15?1:0)<<2,(t|=e=((n>>>=e)>3?1:0)<<1)|(n>>>=e)>>1}var ySe=0;function Ay(){return++ySe}var q7={};function Jf(n,t,e){if(void 0===e&&(e=3),!q7[t]){var i=(new Error).stack;void 0===i?console.warn("PixiJS Deprecation Warning: ",t+"\nDeprecated since v"+n):(i=i.split("\n").splice(e).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",t+"\nDeprecated since v"+n),console.warn(i),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",t+"\nDeprecated since v"+n),console.warn(i))),q7[t]=!0}}var HE,K7={},ad=Object.create(null),Zf=Object.create(null);function J7(n,t){var e=Mt.RETINA_PREFIX.exec(n);return e?parseFloat(e[1]):void 0!==t?t:1}!function(){function n(t,e,i){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=i||Mt.RESOLUTION,this.resize(t,e)}n.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},n.prototype.resize=function(t,e){this.canvas.width=Math.round(t*this.resolution),this.canvas.height=Math.round(e*this.resolution)},n.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(n.prototype,"width",{get:function(){return this.canvas.width},set:function(t){this.canvas.width=Math.round(t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.canvas.height},set:function(t){this.canvas.height=Math.round(t)},enumerable:!1,configurable:!0})}();var Uo=function(){function n(t){this.items=[],this._name=t,this._aliasCount=0}return n.prototype.emit=function(t,e,i,r,s,o,a,l){if(arguments.length>8)throw new Error("max arguments reached");var c=this,u=c.name,d=c.items;this._aliasCount++;for(var f=0,y=d.length;f<y;f++)d[f][u](t,e,i,r,s,o,a,l);return d===this.items&&this._aliasCount--,this},n.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},n.prototype.add=function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this},n.prototype.remove=function(t){var e=this.items.indexOf(t);return-1!==e&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this},n.prototype.contains=function(t){return-1!==this.items.indexOf(t)},n.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},n.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(n.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),n}();Object.defineProperties(Uo.prototype,{dispatch:{value:Uo.prototype.emit},run:{value:Uo.prototype.emit}}),Mt.TARGET_FPMS=.06;var Ry=(()=>(function(n){n[n.INTERACTION=50]="INTERACTION",n[n.HIGH=25]="HIGH",n[n.NORMAL=0]="NORMAL",n[n.LOW=-25]="LOW",n[n.UTILITY=-50]="UTILITY"}(Ry||(Ry={})),Ry))(),tR=function(){function n(t,e,i,r){void 0===e&&(e=null),void 0===i&&(i=0),void 0===r&&(r=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=t,this.context=e,this.priority=i,this.once=r}return n.prototype.match=function(t,e){return void 0===e&&(e=null),this.fn===t&&this.context===e},n.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},n.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},n.prototype.destroy=function(t){void 0===t&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e},n}(),vm=function(){function n(){var t=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new tR(null,null,1/0),this.deltaMS=1/Mt.TARGET_FPMS,this.elapsedMS=1/Mt.TARGET_FPMS,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}return n.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},n.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},n.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},n.prototype.add=function(t,e,i){return void 0===i&&(i=Ry.NORMAL),this._addListener(new tR(t,e,i))},n.prototype.addOnce=function(t,e,i){return void 0===i&&(i=Ry.NORMAL),this._addListener(new tR(t,e,i,!0))},n.prototype._addListener=function(t){var e=this._head.next,i=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(i);break}i=e,e=e.next}t.previous||t.connect(i)}else t.connect(i);return this._startIfPossible(),this},n.prototype.remove=function(t,e){for(var i=this._head.next;i;)i=i.match(t,e)?i.destroy():i.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(n.prototype,"count",{get:function(){if(!this._head)return 0;for(var t=0,e=this._head;e=e.next;)t++;return t},enumerable:!1,configurable:!0}),n.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},n.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},n.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}},n.prototype.update=function(t){var e;if(void 0===t&&(t=performance.now()),t>this.lastTime){if((e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){var i=t-this._lastFrame|0;if(i<this._minElapsedMS)return;this._lastFrame=t-i%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*Mt.TARGET_FPMS;for(var r=this._head,s=r.next;s;)s=s.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t},Object.defineProperty(n.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(this.maxFPS,t),i=Math.min(Math.max(0,e)/1e3,Mt.TARGET_FPMS);this._maxElapsedMS=1/i},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(t){if(0===t)this._minElapsedMS=0;else{var e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(n,"shared",{get:function(){if(!n._shared){var t=n._shared=new n;t.autoStart=!0,t._protected=!0}return n._shared},enumerable:!1,configurable:!0}),Object.defineProperty(n,"system",{get:function(){if(!n._system){var t=n._system=new n;t.autoStart=!0,t._protected=!0}return n._system},enumerable:!1,configurable:!0}),n}(),SSe=2*Math.PI,VE=(()=>(function(n){n[n.POLY=0]="POLY",n[n.RECT=1]="RECT",n[n.CIRC=2]="CIRC",n[n.ELIP=3]="ELIP",n[n.RREC=4]="RREC"}(VE||(VE={})),VE))(),Go=function(){function n(t,e,i,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),this.x=Number(t),this.y=Number(e),this.width=Number(i),this.height=Number(r),this.type=VE.RECT}return Object.defineProperty(n.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(n,"EMPTY",{get:function(){return new n(0,0,0,0)},enumerable:!1,configurable:!0}),n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},n.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},n.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height},n.prototype.pad=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this},n.prototype.fit=function(t){var e=Math.max(this.x,t.x),i=Math.min(this.x+this.width,t.x+t.width),r=Math.max(this.y,t.y),s=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.width=Math.max(i-e,0),this.y=r,this.height=Math.max(s-r,0),this},n.prototype.ceil=function(t,e){void 0===t&&(t=1),void 0===e&&(e=.001);var i=Math.ceil((this.x+this.width-e)*t)/t,r=Math.ceil((this.y+this.height-e)*t)/t;return this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=i-this.x,this.height=r-this.y,this},n.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),i=Math.max(this.x+this.width,t.x+t.width),r=Math.min(this.y,t.y),s=Math.max(this.y+this.height,t.y+t.height);return this.x=e,this.width=i-e,this.y=r,this.height=s-r,this},n.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},n}(),dh=function(){function n(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=0,this.y=0,this.x=t,this.y=e}return n.prototype.clone=function(){return new n(this.x,this.y)},n.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},n.prototype.copyTo=function(t){return t.set(this.x,this.y),t},n.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},n.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e,this},n.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},n}(),zE=function(){function n(t,e,i,r){void 0===i&&(i=0),void 0===r&&(r=0),this._x=i,this._y=r,this.cb=t,this.scope=e}return n.prototype.clone=function(t,e){return void 0===t&&(t=this.cb),void 0===e&&(e=this.scope),new n(t,e,this._x,this._y)},n.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),(this._x!==t||this._y!==e)&&(this._x=t,this._y=e,this.cb.call(this.scope)),this},n.prototype.copyFrom=function(t){return(this._x!==t.x||this._y!==t.y)&&(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},n.prototype.copyTo=function(t){return t.set(this._x,this._y),t},n.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},n.prototype.toString=function(){return"[@pixi/math:ObservablePoint x=0 y=0 scope="+this.scope+"]"},Object.defineProperty(n.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),n}(),tl=function(){function n(t,e,i,r,s,o){void 0===t&&(t=1),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=1),void 0===s&&(s=0),void 0===o&&(o=0),this.array=null,this.a=t,this.b=e,this.c=i,this.d=r,this.tx=s,this.ty=o}return n.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},n.prototype.set=function(t,e,i,r,s,o){return this.a=t,this.b=e,this.c=i,this.d=r,this.tx=s,this.ty=o,this},n.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var i=e||this.array;return t?(i[0]=this.a,i[1]=this.b,i[2]=0,i[3]=this.c,i[4]=this.d,i[5]=0,i[6]=this.tx,i[7]=this.ty,i[8]=1):(i[0]=this.a,i[1]=this.c,i[2]=this.tx,i[3]=this.b,i[4]=this.d,i[5]=this.ty,i[6]=0,i[7]=0,i[8]=1),i},n.prototype.apply=function(t,e){e=e||new dh;var i=t.x,r=t.y;return e.x=this.a*i+this.c*r+this.tx,e.y=this.b*i+this.d*r+this.ty,e},n.prototype.applyInverse=function(t,e){e=e||new dh;var i=1/(this.a*this.d+this.c*-this.b),r=t.x,s=t.y;return e.x=this.d*i*r+-this.c*i*s+(this.ty*this.c-this.tx*this.d)*i,e.y=this.a*i*s+-this.b*i*r+(-this.ty*this.a+this.tx*this.b)*i,e},n.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},n.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},n.prototype.rotate=function(t){var e=Math.cos(t),i=Math.sin(t),r=this.a,s=this.c,o=this.tx;return this.a=r*e-this.b*i,this.b=r*i+this.b*e,this.c=s*e-this.d*i,this.d=s*i+this.d*e,this.tx=o*e-this.ty*i,this.ty=o*i+this.ty*e,this},n.prototype.append=function(t){var e=this.a,i=this.b,r=this.c,s=this.d;return this.a=t.a*e+t.b*r,this.b=t.a*i+t.b*s,this.c=t.c*e+t.d*r,this.d=t.c*i+t.d*s,this.tx=t.tx*e+t.ty*r+this.tx,this.ty=t.tx*i+t.ty*s+this.ty,this},n.prototype.setTransform=function(t,e,i,r,s,o,a,l,c){return this.a=Math.cos(a+c)*s,this.b=Math.sin(a+c)*s,this.c=-Math.sin(a-l)*o,this.d=Math.cos(a-l)*o,this.tx=t-(i*this.a+r*this.c),this.ty=e-(i*this.b+r*this.d),this},n.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var i=this.a,r=this.c;this.a=i*t.a+this.b*t.c,this.b=i*t.b+this.b*t.d,this.c=r*t.a+this.d*t.c,this.d=r*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},n.prototype.decompose=function(t){var e=this.a,i=this.b,r=this.c,s=this.d,o=t.pivot,a=-Math.atan2(-r,s),l=Math.atan2(i,e),c=Math.abs(a+l);return c<1e-5||Math.abs(SSe-c)<1e-5?(t.rotation=l,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=a,t.skew.y=l),t.scale.x=Math.sqrt(e*e+i*i),t.scale.y=Math.sqrt(r*r+s*s),t.position.x=this.tx+(o.x*e+o.y*r),t.position.y=this.ty+(o.x*i+o.y*s),t},n.prototype.invert=function(){var t=this.a,e=this.b,i=this.c,r=this.d,s=this.tx,o=t*r-e*i;return this.a=r/o,this.b=-e/o,this.c=-i/o,this.d=t/o,this.tx=(i*this.ty-r*s)/o,this.ty=-(t*this.ty-e*s)/o,this},n.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},n.prototype.clone=function(){var t=new n;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},n.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},n.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},n.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(n,"IDENTITY",{get:function(){return new n},enumerable:!1,configurable:!0}),Object.defineProperty(n,"TEMP_MATRIX",{get:function(){return new n},enumerable:!1,configurable:!0}),n}(),Qf=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],ep=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],tp=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],np=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],nR=[],Z7=[],WE=Math.sign;!function CSe(){for(var n=0;n<16;n++){var t=[];nR.push(t);for(var e=0;e<16;e++)for(var i=WE(Qf[n]*Qf[e]+tp[n]*ep[e]),r=WE(ep[n]*Qf[e]+np[n]*ep[e]),s=WE(Qf[n]*tp[e]+tp[n]*np[e]),o=WE(ep[n]*tp[e]+np[n]*np[e]),a=0;a<16;a++)if(Qf[a]===i&&ep[a]===r&&tp[a]===s&&np[a]===o){t.push(a);break}}for(n=0;n<16;n++){var l=new tl;l.set(Qf[n],ep[n],tp[n],np[n],0,0),Z7.push(l)}}();var Hr={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(n){return Qf[n]},uY:function(n){return ep[n]},vX:function(n){return tp[n]},vY:function(n){return np[n]},inv:function(n){return 8&n?15&n:7&-n},add:function(n,t){return nR[n][t]},sub:function(n,t){return nR[n][Hr.inv(t)]},rotate180:function(n){return 4^n},isVertical:function(n){return 2==(3&n)},byDirection:function(n,t){return 2*Math.abs(n)<=Math.abs(t)?t>=0?Hr.S:Hr.N:2*Math.abs(t)<=Math.abs(n)?n>0?Hr.E:Hr.W:t>0?n>0?Hr.SE:Hr.SW:n>0?Hr.NE:Hr.NW},matrixAppendRotationInv:function(n,t,e,i){void 0===e&&(e=0),void 0===i&&(i=0);var r=Z7[Hr.inv(t)];r.tx=e,r.ty=i,n.append(r)}};!function(){function n(){this.worldTransform=new tl,this.localTransform=new tl,this.position=new zE(this.onChange,this,0,0),this.scale=new zE(this.onChange,this,1,1),this.pivot=new zE(this.onChange,this,0,0),this.skew=new zE(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}n.prototype.onChange=function(){this._localID++},n.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},n.prototype.toString=function(){return"[@pixi/math:Transform position=("+this.position.x+", "+this.position.y+") rotation="+this.rotation+" scale=("+this.scale.x+", "+this.scale.y+") skew=("+this.skew.x+", "+this.skew.y+") ]"},n.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},n.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var i=t.worldTransform,r=this.worldTransform;r.a=e.a*i.a+e.b*i.c,r.b=e.a*i.b+e.b*i.d,r.c=e.c*i.a+e.d*i.c,r.d=e.c*i.b+e.d*i.d,r.tx=e.tx*i.a+e.ty*i.c+i.tx,r.ty=e.tx*i.b+e.ty*i.d+i.ty,this._parentID=t._worldID,this._worldID++}},n.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},Object.defineProperty(n.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())},enumerable:!1,configurable:!0}),n.IDENTITY=new n}(),Mt.PREFER_ENV=Qa.any?Js.WEBGL:Js.WEBGL2,Mt.STRICT_TEXTURE_CACHE=!1;var $E=[];function iR(n,t){if(!n)return null;var e="";if("string"==typeof n){var i=/\.(\w{3,4})(?:$|\?|#)/i.exec(n);i&&(e=i[1].toLowerCase())}for(var r=$E.length-1;r>=0;--r){var s=$E[r];if(s.test&&s.test(n,e))return new s(n,t)}throw new Error("Unrecognized source type to auto-detect Resource")}var rR=function(n,t){return(rR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)};function vr(n,t){function e(){this.constructor=n}rR(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var sR=function(){return sR=Object.assign||function(t){for(var i,e=arguments,r=1,s=arguments.length;r<s;r++)for(var o in i=e[r])Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o]);return t},sR.apply(this,arguments)},ym=function(){function n(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._width=t,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new Uo("setRealSize"),this.onUpdate=new Uo("update"),this.onError=new Uo("onError")}return n.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},n.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)},n.prototype.resize=function(t,e){(t!==this._width||e!==this._height)&&(this._width=t,this._height=e,this.onResize.emit(t,e))},Object.defineProperty(n.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),n.prototype.update=function(){this.destroyed||this.onUpdate.emit()},n.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(n.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),n.prototype.style=function(t,e,i){return!1},n.prototype.dispose=function(){},n.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},n.test=function(t,e){return!1},n}(),YE=function(n){function t(e,i){var r=this,s=i||{},o=s.width,a=s.height;if(!o||!a)throw new Error("BufferResource width or height invalid");return(r=n.call(this,o,a)||this).data=e,r}return vr(t,n),t.prototype.upload=function(e,i,r){var s=e.gl;s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.alphaMode===Zs.UNPACK);var o=i.realWidth,a=i.realHeight;return r.width===o&&r.height===a?s.texSubImage2D(i.target,0,0,0,o,a,i.format,r.type,this.data):(r.width=o,r.height=a,s.texImage2D(i.target,0,r.internalFormat,o,a,0,i.format,r.type,this.data)),!0},t.prototype.dispose=function(){this.data=null},t.test=function(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array},t}(ym),TSe={scaleMode:Cs.NEAREST,format:it.RGBA,alphaMode:Zs.NPM},Gs=function(n){function t(e,i){void 0===e&&(e=null),void 0===i&&(i=null);var r=n.call(this)||this,s=(i=i||{}).alphaMode,o=i.mipmap,a=i.anisotropicLevel,l=i.scaleMode,c=i.width,u=i.height,d=i.wrapMode,f=i.format,y=i.type,O=i.target,I=i.resolution;return e&&!(e instanceof ym)&&((e=iR(e,i.resourceOptions)).internal=!0),r.resolution=I||Mt.RESOLUTION,r.width=Math.round((c||0)*r.resolution)/r.resolution,r.height=Math.round((u||0)*r.resolution)/r.resolution,r._mipmap=void 0!==o?o:Mt.MIPMAP_TEXTURES,r.anisotropicLevel=void 0!==a?a:Mt.ANISOTROPIC_LEVEL,r._wrapMode=d||Mt.WRAP_MODE,r._scaleMode=void 0!==l?l:Mt.SCALE_MODE,r.format=f||it.RGBA,r.type=y||Dt.UNSIGNED_BYTE,r.target=O||Ia.TEXTURE_2D,r.alphaMode=void 0!==s?s:Zs.UNPACK,r.uid=Ay(),r.touched=0,r.isPowerOfTwo=!1,r._refreshPOT(),r._glTextures={},r.dirtyId=0,r.dirtyStyleId=0,r.cacheId=null,r.valid=c>0&&u>0,r.textureCacheIds=[],r.destroyed=!1,r.resource=null,r._batchEnabled=0,r._batchLocation=0,r.parentTextureArray=null,r.setResource(e),r}return vr(t,n),Object.defineProperty(t.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mipmap",{get:function(){return this._mipmap},set:function(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),t.prototype.setStyle=function(e,i){var r;return void 0!==e&&e!==this.scaleMode&&(this.scaleMode=e,r=!0),void 0!==i&&i!==this.mipmap&&(this.mipmap=i,r=!0),r&&this.dirtyStyleId++,this},t.prototype.setSize=function(e,i,r){return this.setRealSize(e*(r=r||this.resolution),i*r,r)},t.prototype.setRealSize=function(e,i,r){return this.resolution=r||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(i)/this.resolution,this._refreshPOT(),this.update(),this},t.prototype._refreshPOT=function(){this.isPowerOfTwo=Y7(this.realWidth)&&Y7(this.realHeight)},t.prototype.setResolution=function(e){var i=this.resolution;return i===e||(this.resolution=e,this.valid&&(this.width=Math.round(this.width*i)/e,this.height=Math.round(this.height*i)/e,this.emit("update",this)),this._refreshPOT()),this},t.prototype.setResource=function(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this},t.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},t.prototype.onError=function(e){this.emit("error",this,e)},t.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Zf[this.cacheId],delete ad[this.cacheId],this.cacheId=null),this.dispose(),t.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},t.prototype.dispose=function(){this.emit("dispose",this)},t.prototype.castToBaseTexture=function(){return this},t.from=function(e,i,r){void 0===r&&(r=Mt.STRICT_TEXTURE_CACHE);var s="string"==typeof e,o=null;s?o=e:(e._pixiId||(e._pixiId=(i&&i.pixiIdPrefix||"pixiid")+"_"+Ay()),o=e._pixiId);var l=Zf[o];if(s&&r&&!l)throw new Error('The cacheId "'+o+'" does not exist in BaseTextureCache.');return l||((l=new t(e,i)).cacheId=o,t.addToCache(l,o)),l},t.fromBuffer=function(e,i,r,s){e=e||new Float32Array(i*r*4);var o=new YE(e,{width:i,height:r}),a=e instanceof Float32Array?Dt.FLOAT:Dt.UNSIGNED_BYTE;return new t(o,Object.assign(TSe,s||{width:i,height:r,type:a}))},t.addToCache=function(e,i){i&&(-1===e.textureCacheIds.indexOf(i)&&e.textureCacheIds.push(i),Zf[i]&&console.warn("BaseTexture added to the cache with an id ["+i+"] that already had an entry"),Zf[i]=e)},t.removeFromCache=function(e){if("string"==typeof e){var i=Zf[e];if(i){var r=i.textureCacheIds.indexOf(e);return r>-1&&i.textureCacheIds.splice(r,1),delete Zf[e],i}}else if(e&&e.textureCacheIds){for(var s=0;s<e.textureCacheIds.length;++s)delete Zf[e.textureCacheIds[s]];return e.textureCacheIds.length=0,e}return null},t._globalBatch=0,t}(K2),oR=function(n){function t(e,i){var r=this,s=i||{};(r=n.call(this,s.width,s.height)||this).items=[],r.itemDirtyIds=[];for(var l=0;l<e;l++){var c=new Gs;r.items.push(c),r.itemDirtyIds.push(-2)}return r.length=e,r._load=null,r.baseTexture=null,r}return vr(t,n),t.prototype.initFromArray=function(e,i){for(var r=0;r<this.length;r++)!e[r]||(e[r].castToBaseTexture?this.addBaseTextureAt(e[r].castToBaseTexture(),r):this.addResourceAt(e[r]instanceof ym?e[r]:iR(e[r],i),r))},t.prototype.dispose=function(){for(var e=0,i=this.length;e<i;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},t.prototype.addResourceAt=function(e,i){if(!this.items[i])throw new Error("Index "+i+" is out of bounds");return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[i].setResource(e),this},t.prototype.bind=function(e){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");n.prototype.bind.call(this,e);for(var i=0;i<this.length;i++)this.items[i].parentTextureArray=e,this.items[i].on("update",e.update,e)},t.prototype.unbind=function(e){n.prototype.unbind.call(this,e);for(var i=0;i<this.length;i++)this.items[i].parentTextureArray=null,this.items[i].off("update",e.update,e)},t.prototype.load=function(){var e=this;if(this._load)return this._load;var i=this.items.map(function(s){return s.resource}).filter(function(s){return s}),r=i.map(function(s){return s.load()});return this._load=Promise.all(r).then(function(){var s=e.items[0];return e.resize(s.realWidth,s.realHeight),Promise.resolve(e)}),this._load},t}(ym),Q7=function(n){function t(e,i){var l,c,r=this,s=i||{},o=s.width,a=s.height;return Array.isArray(e)?(l=e,c=e.length):c=e,r=n.call(this,c,{width:o,height:a})||this,l&&r.initFromArray(l,i),r}return vr(t,n),t.prototype.addBaseTextureAt=function(e,i){if(!e.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(e.resource,i),this},t.prototype.bind=function(e){n.prototype.bind.call(this,e),e.target=Ia.TEXTURE_2D_ARRAY},t.prototype.upload=function(e,i,r){var s=this,o=s.length,a=s.itemDirtyIds,l=s.items,c=e.gl;r.dirtyId<0&&c.texImage3D(c.TEXTURE_2D_ARRAY,0,r.internalFormat,this._width,this._height,o,0,i.format,r.type,null);for(var u=0;u<o;u++){var d=l[u];a[u]<d.dirtyId&&(a[u]=d.dirtyId,d.valid&&c.texSubImage3D(c.TEXTURE_2D_ARRAY,0,0,0,u,d.resource.width,d.resource.height,1,i.format,r.type,d.resource.source))}return!0},t}(oR),ld=function(n){function t(e){var i=this;return(i=n.call(this,e.naturalWidth||e.videoWidth||e.width,e.naturalHeight||e.videoHeight||e.height)||this).source=e,i.noSubImage=!1,i}return vr(t,n),t.crossOrigin=function(e,i,r){void 0===r&&0!==i.indexOf("data:")?e.crossOrigin=function bSe(n,t){if(void 0===t&&(t=self.location),0===n.indexOf("data:"))return"";t=t||self.location,HE||(HE=document.createElement("a")),HE.href=n;var e=uSe.parse(HE.href);return e.hostname!==t.hostname||(e.port||""!==t.port)&&e.port!==t.port||e.protocol!==t.protocol?"anonymous":""}(i):!1!==r&&(e.crossOrigin="string"==typeof r?r:"anonymous")},t.prototype.upload=function(e,i,r,s){var o=e.gl,a=i.realWidth,l=i.realHeight;return s=s||this.source,o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.alphaMode===Zs.UNPACK),this.noSubImage||i.target!==o.TEXTURE_2D||r.width!==a||r.height!==l?(r.width=a,r.height=l,o.texImage2D(i.target,0,r.internalFormat,i.format,r.type,s)):o.texSubImage2D(o.TEXTURE_2D,0,0,0,i.format,r.type,s),!0},t.prototype.update=function(){if(!this.destroyed){var e=this.source;this.resize(e.naturalWidth||e.videoWidth||e.width,e.naturalHeight||e.videoHeight||e.height),n.prototype.update.call(this)}},t.prototype.dispose=function(){this.source=null},t}(ym),aR=function(n){function t(e){return n.call(this,e)||this}return vr(t,n),t.test=function(e){var i=self.OffscreenCanvas;return!!(i&&e instanceof i)||self.HTMLCanvasElement&&e instanceof HTMLCanvasElement},t}(ld),eV=function(n){function t(e,i){var r=this,s=i||{},o=s.width,a=s.height,l=s.autoLoad,c=s.linkBaseTexture;if(e&&e.length!==t.SIDES)throw new Error("Invalid length. Got "+e.length+", expected 6");r=n.call(this,6,{width:o,height:a})||this;for(var u=0;u<t.SIDES;u++)r.items[u].target=Ia.TEXTURE_CUBE_MAP_POSITIVE_X+u;return r.linkBaseTexture=!1!==c,e&&r.initFromArray(e,i),!1!==l&&r.load(),r}return vr(t,n),t.prototype.bind=function(e){n.prototype.bind.call(this,e),e.target=Ia.TEXTURE_CUBE_MAP},t.prototype.addBaseTextureAt=function(e,i,r){if(void 0===r&&(r=this.linkBaseTexture),!this.items[i])throw new Error("Index "+i+" is out of bounds");if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0){if(!e.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(e.resource,i)}else e.target=Ia.TEXTURE_CUBE_MAP_POSITIVE_X+i,e.parentTextureArray=this.baseTexture,this.items[i]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[i]=e,this},t.prototype.upload=function(e,i,r){for(var s=this.itemDirtyIds,o=0;o<t.SIDES;o++){var a=this.items[o];s[o]<a.dirtyId&&(a.valid&&a.resource?(a.resource.upload(e,a,r),s[o]=a.dirtyId):s[o]<-1&&(e.gl.texImage2D(a.target,0,r.internalFormat,i.realWidth,i.realHeight,0,i.format,r.type,null),s[o]=-1))}return!0},t.test=function(e){return Array.isArray(e)&&e.length===t.SIDES},t.SIDES=6,t}(oR),lR=function(n){function t(e,i){var r=this;if(i=i||{},!(e instanceof HTMLImageElement)){var s=new Image;ld.crossOrigin(s,e,i.crossorigin),s.src=e,e=s}return r=n.call(this,e)||this,!e.complete&&!!r._width&&!!r._height&&(r._width=0,r._height=0),r.url=e.src,r._process=null,r.preserveBitmap=!1,r.createBitmap=(void 0!==i.createBitmap?i.createBitmap:Mt.CREATE_IMAGE_BITMAP)&&!!self.createImageBitmap,r.alphaMode="number"==typeof i.alphaMode?i.alphaMode:null,r.bitmap=null,r._load=null,!1!==i.autoLoad&&r.load(),r}return vr(t,n),t.prototype.load=function(e){var i=this;return this._load||(void 0!==e&&(this.createBitmap=e),this._load=new Promise(function(r,s){var o=i.source;i.url=o.src;var a=function(){i.destroyed||(o.onload=null,o.onerror=null,i.resize(o.width,o.height),i._load=null,r(i.createBitmap?i.process():i))};o.complete&&o.src?a():(o.onload=a,o.onerror=function(l){s(l),i.onError.emit(l)})})),this._load},t.prototype.process=function(){var e=this,i=this.source;if(null!==this._process)return this._process;if(null!==this.bitmap||!self.createImageBitmap)return Promise.resolve(this);var r=self.createImageBitmap;return this._process=fetch(i.src,{mode:i.crossOrigin&&"anonymous"!==i.crossOrigin?"no-cors":"cors"}).then(function(o){return o.blob()}).then(function(o){return r(o,0,0,i.width,i.height,{premultiplyAlpha:e.alphaMode===Zs.UNPACK?"premultiply":"none"})}).then(function(o){return e.destroyed?Promise.reject():(e.bitmap=o,e.update(),e._process=null,Promise.resolve(e))}),this._process},t.prototype.upload=function(e,i,r){if("number"==typeof this.alphaMode&&(i.alphaMode=this.alphaMode),!this.createBitmap)return n.prototype.upload.call(this,e,i,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(n.prototype.upload.call(this,e,i,r,this.bitmap),!this.preserveBitmap){var s=!0,o=i._glTextures;for(var a in o){var l=o[a];if(l!==r&&l.dirtyId!==i.dirtyId){s=!1;break}}s&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},t.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,n.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},t.test=function(e){return"string"==typeof e||e instanceof HTMLImageElement},t}(ld),tV=function(n){function t(e,i){var r=this;return i=i||{},(r=n.call(this,document.createElement("canvas"))||this)._width=0,r._height=0,r.svg=e,r.scale=i.scale||1,r._overrideWidth=i.width,r._overrideHeight=i.height,r._resolve=null,r._crossorigin=i.crossorigin,r._load=null,!1!==i.autoLoad&&r.load(),r}return vr(t,n),t.prototype.load=function(){var e=this;return this._load||(this._load=new Promise(function(i){if(e._resolve=function(){e.resize(e.source.width,e.source.height),i(e)},t.SVG_XML.test(e.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");e.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(e.svg)))}e._loadSvg()})),this._load},t.prototype._loadSvg=function(){var e=this,i=new Image;ld.crossOrigin(i,this.svg,this._crossorigin),i.src=this.svg,i.onerror=function(r){!e._resolve||(i.onerror=null,e.onError.emit(r))},i.onload=function(){if(e._resolve){var r=i.width,s=i.height;if(!r||!s)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var o=r*e.scale,a=s*e.scale;(e._overrideWidth||e._overrideHeight)&&(o=e._overrideWidth||e._overrideHeight/s*r,a=e._overrideHeight||e._overrideWidth/r*s),o=Math.round(o),a=Math.round(a);var l=e.source;l.width=o,l.height=a,l._pixiId="canvas_"+Ay(),l.getContext("2d").drawImage(i,0,0,r,s,0,0,o,a),e._resolve(),e._resolve=null}}},t.getSize=function(e){var i=t.SVG_SIZE.exec(e),r={};return i&&(r[i[1]]=Math.round(parseFloat(i[3])),r[i[5]]=Math.round(parseFloat(i[7]))),r},t.prototype.dispose=function(){n.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},t.test=function(e,i){return"svg"===i||"string"==typeof e&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(e)||"string"==typeof e&&t.SVG_XML.test(e)},t.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,t.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,t}(ld),nV=function(n){function t(e,i){var r=this;if(i=i||{},!(e instanceof HTMLVideoElement)){var s=document.createElement("video");s.setAttribute("preload","auto"),s.setAttribute("webkit-playsinline",""),s.setAttribute("playsinline",""),"string"==typeof e&&(e=[e]),ld.crossOrigin(s,e[0].src||e[0],i.crossorigin);for(var a=0;a<e.length;++a){var l=document.createElement("source"),c=e[a],u=c.src,d=c.mime,f=(u=u||e[a]).split("?").shift().toLowerCase(),y=f.substr(f.lastIndexOf(".")+1);d=d||t.MIME_TYPES[y]||"video/"+y,l.src=u,l.type=d,s.appendChild(l)}e=s}return(r=n.call(this,e)||this).noSubImage=!0,r._autoUpdate=!0,r._isConnectedToTicker=!1,r._updateFPS=i.updateFPS||0,r._msToNextUpdate=0,r.autoPlay=!1!==i.autoPlay,r._load=null,r._resolve=null,r._onCanPlay=r._onCanPlay.bind(r),r._onError=r._onError.bind(r),!1!==i.autoLoad&&r.load(),r}return vr(t,n),t.prototype.update=function(e){this.destroyed||(this._msToNextUpdate=Math.floor(this._msToNextUpdate-vm.shared.elapsedMS*this.source.playbackRate),(!this._updateFPS||this._msToNextUpdate<=0)&&(n.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0))},t.prototype.load=function(){var e=this;if(this._load)return this._load;var i=this.source;return(i.readyState===i.HAVE_ENOUGH_DATA||i.readyState===i.HAVE_FUTURE_DATA)&&i.width&&i.height&&(i.complete=!0),i.addEventListener("play",this._onPlayStart.bind(this)),i.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(i.addEventListener("canplay",this._onCanPlay),i.addEventListener("canplaythrough",this._onCanPlay),i.addEventListener("error",this._onError,!0)),this._load=new Promise(function(r){e.valid?r(e):(e._resolve=r,i.load())}),this._load},t.prototype._onError=function(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e)},t.prototype._isSourcePlaying=function(){var e=this.source;return e.currentTime>0&&!1===e.paused&&!1===e.ended&&e.readyState>2},t.prototype._isSourceReady=function(){var e=this.source;return 3===e.readyState||4===e.readyState},t.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(vm.shared.add(this.update,this),this._isConnectedToTicker=!0)},t.prototype._onPlayStop=function(){this._isConnectedToTicker&&(vm.shared.remove(this.update,this),this._isConnectedToTicker=!1)},t.prototype._onCanPlay=function(){var e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);var i=this.valid;this.resize(e.videoWidth,e.videoHeight),!i&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()},t.prototype.dispose=function(){this._isConnectedToTicker&&(vm.shared.remove(this.update,this),this._isConnectedToTicker=!1);var e=this.source;e&&(e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),n.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(vm.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(vm.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(e){e!==this._updateFPS&&(this._updateFPS=e)},enumerable:!1,configurable:!0}),t.test=function(e,i){return self.HTMLVideoElement&&e instanceof HTMLVideoElement||t.TYPES.indexOf(i)>-1},t.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],t.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},t}(ld),iV=function(n){function t(e){return n.call(this,e)||this}return vr(t,n),t.test=function(e){return!!self.createImageBitmap&&e instanceof ImageBitmap},t}(ld);$E.push(lR,iV,aR,nV,tV,YE,eV,Q7);var rV={__proto__:null,Resource:ym,BaseImageResource:ld,INSTALLED:$E,autoDetectResource:iR,AbstractMultiResource:oR,ArrayResource:Q7,BufferResource:YE,CanvasResource:aR,CubeResource:eV,ImageResource:lR,SVGResource:tV,VideoResource:nV,ImageBitmapResource:iV},wSe=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return vr(t,n),t.prototype.upload=function(e,i,r){var s=e.gl;s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.alphaMode===Zs.UNPACK);var o=i.realWidth,a=i.realHeight;return r.width===o&&r.height===a?s.texSubImage2D(i.target,0,0,0,o,a,i.format,r.type,this.data):(r.width=o,r.height=a,s.texImage2D(i.target,0,r.internalFormat,o,a,0,i.format,r.type,this.data)),!0},t}(YE),cR=function(){function n(t,e){this.width=Math.round(t||100),this.height=Math.round(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Uo("disposeFramebuffer"),this.multisample=qn.NONE}return Object.defineProperty(n.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),n.prototype.addColorTexture=function(t,e){return void 0===t&&(t=0),this.colorTextures[t]=e||new Gs(null,{scaleMode:Cs.NEAREST,resolution:1,mipmap:aa.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},n.prototype.addDepthTexture=function(t){return this.depthTexture=t||new Gs(new wSe(null,{width:this.width,height:this.height}),{scaleMode:Cs.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:aa.OFF,format:it.DEPTH_COMPONENT,type:Dt.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},n.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},n.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},n.prototype.resize=function(t,e){if(t=Math.round(t),e=Math.round(e),t!==this.width||e!==this.height){this.width=t,this.height=e,this.dirtyId++,this.dirtySize++;for(var i=0;i<this.colorTextures.length;i++){var r=this.colorTextures[i];r.setSize(t/(s=r.resolution),e/s)}var s;this.depthTexture&&this.depthTexture.setSize(t/(s=this.depthTexture.resolution),e/s)}},n.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},n.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},n}(),sV=function(n){function t(e){var i=this;if("number"==typeof e){var r=arguments[0],s=arguments[1],o=arguments[2],a=arguments[3];e={width:r,height:s,scaleMode:o,resolution:a}}return e.width=e.width||100,e.height=e.height||100,e.multisample=void 0!==e.multisample?e.multisample:qn.NONE,(i=n.call(this,null,e)||this).mipmap=aa.OFF,i.valid=!0,i.clearColor=[0,0,0,0],i.framebuffer=new cR(i.realWidth,i.realHeight).addColorTexture(0,i),i.framebuffer.multisample=e.multisample,i.maskStack=[],i.filterStack=[{}],i}return vr(t,n),t.prototype.resize=function(e,i){this.framebuffer.resize(e*this.resolution,i*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},t.prototype.dispose=function(){this.framebuffer.dispose(),n.prototype.dispose.call(this)},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},t}(Gs),oV=function(){function n(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return n.prototype.set=function(t,e,i){var r=e.width,s=e.height;if(i){var o=t.width/2/r,a=t.height/2/s,l=t.x/r+o,c=t.y/s+a;i=Hr.add(i,Hr.NW),this.x0=l+o*Hr.uX(i),this.y0=c+a*Hr.uY(i),i=Hr.add(i,2),this.x1=l+o*Hr.uX(i),this.y1=c+a*Hr.uY(i),i=Hr.add(i,2),this.x2=l+o*Hr.uX(i),this.y2=c+a*Hr.uY(i),i=Hr.add(i,2),this.x3=l+o*Hr.uX(i),this.y3=c+a*Hr.uY(i)}else this.x0=t.x/r,this.y0=t.y/s,this.x1=(t.x+t.width)/r,this.y1=t.y/s,this.x2=(t.x+t.width)/r,this.y2=(t.y+t.height)/s,this.x3=t.x/r,this.y3=(t.y+t.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},n.prototype.toString=function(){return"[@pixi/core:TextureUvs x0="+this.x0+" y0="+this.y0+" x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" y2="+this.y2+" x3="+this.x3+" y3="+this.y3+"]"},n}(),aV=new oV,vu=function(n){function t(e,i,r,s,o,a){var l=n.call(this)||this;if(l.noFrame=!1,i||(l.noFrame=!0,i=new Go(0,0,1,1)),e instanceof t&&(e=e.baseTexture),l.baseTexture=e,l._frame=i,l.trim=s,l.valid=!1,l._uvs=aV,l.uvMatrix=null,l.orig=r||i,l._rotate=Number(o||0),!0===o)l._rotate=2;else if(l._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return l.defaultAnchor=a?new dh(a.x,a.y):new dh(0,0),l._updateID=0,l.textureCacheIds=[],e.valid?l.noFrame?e.valid&&l.onBaseTextureUpdated(e):l.frame=i:e.once("loaded",l.onBaseTextureUpdated,l),l.noFrame&&e.on("update",l.onBaseTextureUpdated,l),l}return vr(t,n),t.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},t.prototype.onBaseTextureUpdated=function(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},t.prototype.destroy=function(e){if(this.baseTexture){if(e){var i=this.baseTexture.resource;i&&i.url&&ad[i.url]&&t.removeFromCache(i.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,t.removeFromCache(this),this.textureCacheIds=null},t.prototype.clone=function(){var e=this._frame.clone(),i=this._frame===this.orig?e:this.orig.clone(),r=new t(this.baseTexture,!this.noFrame&&e,i,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(r._frame=e),r},t.prototype.updateUvs=function(){this._uvs===aV&&(this._uvs=new oV),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},t.from=function(e,i,r){void 0===i&&(i={}),void 0===r&&(r=Mt.STRICT_TEXTURE_CACHE);var s="string"==typeof e,o=null;s?o=e:e instanceof Gs?(e.cacheId||(e.cacheId=(i&&i.pixiIdPrefix||"pixiid")+"-"+Ay(),Gs.addToCache(e,e.cacheId)),o=e.cacheId):(e._pixiId||(e._pixiId=(i&&i.pixiIdPrefix||"pixiid")+"_"+Ay()),o=e._pixiId);var l=ad[o];if(s&&r&&!l)throw new Error('The cacheId "'+o+'" does not exist in TextureCache.');return l||e instanceof Gs?!l&&e instanceof Gs&&(l=new t(e),t.addToCache(l,o)):(i.resolution||(i.resolution=J7(e)),(l=new t(new Gs(e,i))).baseTexture.cacheId=o,Gs.addToCache(l.baseTexture,o),t.addToCache(l,o)),l},t.fromURL=function(e,i){var r=Object.assign({autoLoad:!1},null==i?void 0:i.resourceOptions),s=t.from(e,Object.assign({resourceOptions:r},i),!1),o=s.baseTexture.resource;return s.baseTexture.valid?Promise.resolve(s):o.load().then(function(){return Promise.resolve(s)})},t.fromBuffer=function(e,i,r,s){return new t(Gs.fromBuffer(e,i,r,s))},t.fromLoader=function(e,i,r,s){var o=new Gs(e,Object.assign({scaleMode:Mt.SCALE_MODE,resolution:J7(i)},s)),a=o.resource;a instanceof lR&&(a.url=i);var l=new t(o);return r||(r=i),Gs.addToCache(l.baseTexture,r),t.addToCache(l,r),r!==i&&(Gs.addToCache(l.baseTexture,i),t.addToCache(l,i)),l.baseTexture.valid?Promise.resolve(l):new Promise(function(c){l.baseTexture.once("loaded",function(){return c(l)})})},t.addToCache=function(e,i){i&&(-1===e.textureCacheIds.indexOf(i)&&e.textureCacheIds.push(i),ad[i]&&console.warn("Texture added to the cache with an id ["+i+"] that already had an entry"),ad[i]=e)},t.removeFromCache=function(e){if("string"==typeof e){var i=ad[e];if(i){var r=i.textureCacheIds.indexOf(e);return r>-1&&i.textureCacheIds.splice(r,1),delete ad[e],i}}else if(e&&e.textureCacheIds){for(var s=0;s<e.textureCacheIds.length;++s)ad[e.textureCacheIds[s]]===e&&delete ad[e.textureCacheIds[s]];return e.textureCacheIds.length=0,e}return null},Object.defineProperty(t.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"frame",{get:function(){return this._frame},set:function(e){this._frame=e,this.noFrame=!1;var i=e.x,r=e.y,s=e.width,o=e.height,a=i+s>this.baseTexture.width,l=r+o>this.baseTexture.height;if(a||l)throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: X: "+i+" + "+s+" = "+(i+s)+" > "+this.baseTexture.width+" "+(a&&l?"and":"or")+" Y: "+r+" + "+o+" = "+(r+o)+" > "+this.baseTexture.height);this.valid=s&&o&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotate",{get:function(){return this._rotate},set:function(e){this._rotate=e,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),t.prototype.castToBaseTexture=function(){return this.baseTexture},t}(K2);function XE(n){n.destroy=function(){},n.on=function(){},n.once=function(){},n.emit=function(){}}vu.EMPTY=new vu(new Gs),XE(vu.EMPTY),XE(vu.EMPTY.baseTexture),vu.WHITE=function MSe(){var n=document.createElement("canvas");n.width=16,n.height=16;var t=n.getContext("2d");return t.fillStyle="white",t.fillRect(0,0,16,16),new vu(new Gs(new aR(n)))}(),XE(vu.WHITE),XE(vu.WHITE.baseTexture);var uR=function(n){function t(e,i){var r=n.call(this,e,i)||this;return r.valid=!0,r.filterFrame=null,r.filterPoolKey=null,r.updateUvs(),r}return vr(t,n),Object.defineProperty(t.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(e){this.framebuffer.multisample=e},enumerable:!1,configurable:!0}),t.prototype.resize=function(e,i,r){void 0===r&&(r=!0);var s=this.baseTexture.resolution,o=Math.round(e*s)/s,a=Math.round(i*s)/s;this.valid=o>0&&a>0,this._frame.width=this.orig.width=o,this._frame.height=this.orig.height=a,r&&this.baseTexture.resize(o,a),this.updateUvs()},t.prototype.setResolution=function(e){var i=this.baseTexture;i.resolution!==e&&(i.setResolution(e),this.resize(i.width,i.height,!1))},t.create=function(e){for(var i=arguments,r=[],s=1;s<arguments.length;s++)r[s-1]=i[s];return"number"==typeof e&&(Jf("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),e={width:e,height:r[0],scaleMode:r[1],resolution:r[2]}),new t(new sV(e))},t}(vu),OSe=function(){function n(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return n.prototype.createTexture=function(t,e,i){void 0===i&&(i=qn.NONE);var r=new sV(Object.assign({width:t,height:e,resolution:1,multisample:i},this.textureOptions));return new uR(r)},n.prototype.getOptimalTexture=function(t,e,i,r){var s;void 0===i&&(i=1),void 0===r&&(r=qn.NONE),t=Math.ceil(t*i),e=Math.ceil(e*i),this.enableFullScreen&&t===this._pixelsWidth&&e===this._pixelsHeight?s=r>1?-r:-1:(s=((65535&(t=jE(t)))<<16|65535&(e=jE(e)))>>>0,r>1&&(s+=4294967296*r)),this.texturePool[s]||(this.texturePool[s]=[]);var o=this.texturePool[s].pop();return o||(o=this.createTexture(t,e,r)),o.filterPoolKey=s,o.setResolution(i),o},n.prototype.getFilterTexture=function(t,e,i){var r=this.getOptimalTexture(t.width,t.height,e||t.resolution,i||qn.NONE);return r.filterFrame=t.filterFrame,r},n.prototype.returnTexture=function(t){var e=t.filterPoolKey;t.filterFrame=null,this.texturePool[e].push(t)},n.prototype.returnFilterTexture=function(t){this.returnTexture(t)},n.prototype.clear=function(t){if(t=!1!==t)for(var e in this.texturePool){var i=this.texturePool[e];if(i)for(var r=0;r<i.length;r++)i[r].destroy(!0)}this.texturePool={}},n.prototype.setScreenSize=function(t){if(t.width!==this._pixelsWidth||t.height!==this._pixelsHeight){for(var e in this.enableFullScreen=t.width>0&&t.height>0,this.texturePool)if(Number(e)<0){var i=this.texturePool[e];if(i)for(var r=0;r<i.length;r++)i[r].destroy(!0);this.texturePool[e]=[]}this._pixelsWidth=t.width,this._pixelsHeight=t.height}},n.SCREEN_KEY=-1,n}(),lV=function(){function n(t,e,i,r,s,o,a){void 0===e&&(e=0),void 0===i&&(i=!1),void 0===r&&(r=Dt.FLOAT),this.buffer=t,this.size=e,this.normalized=i,this.type=r,this.stride=s,this.start=o,this.instance=a}return n.prototype.destroy=function(){this.buffer=null},n.from=function(t,e,i,r,s){return new n(t,e,i,r,s)},n}(),PSe=0,nl=function(){function n(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=i,this.static=e,this.id=PSe++,this.disposeRunner=new Uo("disposeBuffer")}return n.prototype.update=function(t){t instanceof Array&&(t=new Float32Array(t)),this.data=t||this.data,this._updateID++},n.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},n.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(n.prototype,"index",{get:function(){return this.type===Ts.ELEMENT_ARRAY_BUFFER},set:function(t){this.type=t?Ts.ELEMENT_ARRAY_BUFFER:Ts.ARRAY_BUFFER},enumerable:!1,configurable:!0}),n.from=function(t){return t instanceof Array&&(t=new Float32Array(t)),new n(t)},n}(),xSe={Float32Array,Uint32Array,Int32Array,Uint8Array},cV={5126:4,5123:2,5121:1},ASe=0,RSe={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},dR=function(){function n(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this.buffers=t,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=ASe++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Uo("disposeGeometry"),this.refCount=0}return n.prototype.addAttribute=function(t,e,i,r,s,o,a,l){if(void 0===i&&(i=0),void 0===r&&(r=!1),void 0===l&&(l=!1),!e)throw new Error("You must pass a buffer when creating an attribute");e instanceof nl||(e instanceof Array&&(e=new Float32Array(e)),e=new nl(e));var c=t.split("|");if(c.length>1){for(var u=0;u<c.length;u++)this.addAttribute(c[u],e,i,r,s);return this}var d=this.buffers.indexOf(e);return-1===d&&(this.buffers.push(e),d=this.buffers.length-1),this.attributes[t]=new lV(d,i,r,s,o,a,l),this.instanced=this.instanced||l,this},n.prototype.getAttribute=function(t){return this.attributes[t]},n.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]},n.prototype.addIndex=function(t){return t instanceof nl||(t instanceof Array&&(t=new Uint16Array(t)),t=new nl(t)),t.type=Ts.ELEMENT_ARRAY_BUFFER,this.indexBuffer=t,-1===this.buffers.indexOf(t)&&this.buffers.push(t),this},n.prototype.getIndex=function(){return this.indexBuffer},n.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var r,t=[],e=[],i=new nl;for(r in this.attributes){var s=this.attributes[r];t.push(this.buffers[s.buffer].data),e.push(s.size*cV[s.type]/4),s.buffer=0}for(i.data=function ISe(n,t){for(var e=0,i=0,r={},s=0;s<n.length;s++)i+=t[s],e+=n[s].length;var o=new ArrayBuffer(4*e),a=null,l=0;for(s=0;s<n.length;s++){var c=t[s],u=n[s],d=$7(u);r[d]||(r[d]=new xSe[d](o)),a=r[d];for(var f=0;f<u.length;f++)a[(f/c|0)*i+l+f%c]=u[f];l+=c}return new Float32Array(o)}(t,e),r=0;r<this.buffers.length;r++)this.buffers[r]!==this.indexBuffer&&this.buffers[r].destroy();return this.buffers=[i],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},n.prototype.getSize=function(){for(var t in this.attributes){var e=this.attributes[t];return this.buffers[e.buffer].data.length/(e.stride/4||e.size)}return 0},n.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},n.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},n.prototype.clone=function(){for(var t=new n,e=0;e<this.buffers.length;e++)t.buffers[e]=new nl(this.buffers[e].data.slice(0));for(var e in this.attributes){var i=this.attributes[e];t.attributes[e]=new lV(i.buffer,i.size,i.normalized,i.type,i.stride,i.start,i.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.type=Ts.ELEMENT_ARRAY_BUFFER),t},n.merge=function(t){for(var o,e=new n,i=[],r=[],s=[],a=0;a<t.length;a++){o=t[a];for(var l=0;l<o.buffers.length;l++)r[l]=r[l]||0,r[l]+=o.buffers[l].data.length,s[l]=0}for(a=0;a<o.buffers.length;a++)i[a]=new(RSe[$7(o.buffers[a].data)])(r[a]),e.buffers[a]=new nl(i[a]);for(a=0;a<t.length;a++)for(o=t[a],l=0;l<o.buffers.length;l++)i[l].set(o.buffers[l].data,s[l]),s[l]+=o.buffers[l].data.length;if(e.attributes=o.attributes,o.indexBuffer){e.indexBuffer=e.buffers[o.buffers.indexOf(o.indexBuffer)],e.indexBuffer.type=Ts.ELEMENT_ARRAY_BUFFER;var c=0,u=0,d=0,f=0;for(a=0;a<o.buffers.length;a++)if(o.buffers[a]!==o.indexBuffer){f=a;break}for(var a in o.attributes){var y=o.attributes[a];(0|y.buffer)===f&&(u+=y.size*cV[y.type]/4)}for(a=0;a<t.length;a++){var O=t[a].indexBuffer.data;for(l=0;l<O.length;l++)e.indexBuffer.data[l+d]+=c;c+=t[a].buffers[f].data.length/u,d+=O.length}}return e},n}(),DSe=function(n){function t(){var e=n.call(this)||this;return e.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),e}return vr(t,n),t}(dR),NSe=function(n){function t(){var e=n.call(this)||this;return e.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),e.uvs=new Float32Array([0,0,1,0,1,1,0,1]),e.vertexBuffer=new nl(e.vertices),e.uvBuffer=new nl(e.uvs),e.addAttribute("aVertexPosition",e.vertexBuffer).addAttribute("aTextureCoord",e.uvBuffer).addIndex([0,1,2,0,2,3]),e}return vr(t,n),t.prototype.map=function(e,i){var r=0,s=0;return this.uvs[0]=r,this.uvs[1]=s,this.uvs[2]=r+i.width/e.width,this.uvs[3]=s,this.uvs[4]=r+i.width/e.width,this.uvs[5]=s+i.height/e.height,this.uvs[6]=r,this.uvs[7]=s+i.height/e.height,s=i.y,this.vertices[0]=r=i.x,this.vertices[1]=s,this.vertices[2]=r+i.width,this.vertices[3]=s,this.vertices[4]=r+i.width,this.vertices[5]=s+i.height,this.vertices[6]=r,this.vertices[7]=s+i.height,this.invalidate(),this},t.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},t}(dR),kSe=0,bm=function(){function n(t,e,i){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=kSe++,this.static=!!e,this.ubo=!!i,t instanceof nl?(this.buffer=t,this.buffer.type=Ts.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=t,this.ubo&&(this.buffer=new nl(new Float32Array(1)),this.buffer.type=Ts.UNIFORM_BUFFER,this.autoManage=!0))}return n.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},n.prototype.add=function(t,e,i){if(this.ubo)throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them");this.uniforms[t]=new n(e,i)},n.from=function(t,e,i){return new n(t,e,i)},n.uboFrom=function(t,e){return new n(t,null==e||e,!0)},n}(),FSe=function(){function n(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=qn.NONE,this.sourceFrame=new Go,this.destinationFrame=new Go,this.bindingSourceFrame=new Go,this.bindingDestinationFrame=new Go,this.filters=[],this.transform=null}return n.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},n}(),qE=[new dh,new dh,new dh,new dh],hR=new tl,uV=function(){function n(t){this.renderer=t,this.defaultFilterStack=[{}],this.texturePool=new OSe,this.texturePool.setScreenSize(t.view),this.statePool=[],this.quad=new DSe,this.quadUv=new NSe,this.tempRect=new Go,this.activeState={},this.globalUniforms=new bm({outputFrame:new Go,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return n.prototype.push=function(t,e){for(var i,r,s=this.renderer,o=this.defaultFilterStack,a=this.statePool.pop()||new FSe,l=this.renderer.renderTexture,c=e[0].resolution,u=e[0].multisample,d=e[0].padding,f=e[0].autoFit,y=null===(i=e[0].legacy)||void 0===i||i,O=1;O<e.length;O++){var I=e[O];c=Math.min(c,I.resolution),u=Math.min(u,I.multisample),d=this.useMaxPadding?Math.max(d,I.padding):d+I.padding,f=f&&I.autoFit,y=y||null===(r=I.legacy)||void 0===r||r}if(1===o.length&&(this.defaultFilterStack[0].renderTexture=l.current),o.push(a),a.resolution=c,a.multisample=u,a.legacy=y,a.target=t,a.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),a.sourceFrame.pad(d),f){var N=this.tempRect.copyFrom(l.sourceFrame);s.projection.transform&&this.transformAABB(hR.copyFrom(s.projection.transform).invert(),N),a.sourceFrame.fit(N)}this.roundFrame(a.sourceFrame,l.current?l.current.resolution:s.resolution,l.sourceFrame,l.destinationFrame,s.projection.transform),a.renderTexture=this.getOptimalFilterTexture(a.sourceFrame.width,a.sourceFrame.height,c,u),a.filters=e,a.destinationFrame.width=a.renderTexture.width,a.destinationFrame.height=a.renderTexture.height;var k=this.tempRect;k.x=0,k.y=0,k.width=a.sourceFrame.width,k.height=a.sourceFrame.height,a.renderTexture.filterFrame=a.sourceFrame,a.bindingSourceFrame.copyFrom(l.sourceFrame),a.bindingDestinationFrame.copyFrom(l.destinationFrame),a.transform=s.projection.transform,s.projection.transform=null,l.bind(a.renderTexture,a.sourceFrame,k),s.framebuffer.clear(0,0,0,0)},n.prototype.pop=function(){var t=this.defaultFilterStack,e=t.pop(),i=e.filters;this.activeState=e;var r=this.globalUniforms.uniforms;r.outputFrame=e.sourceFrame,r.resolution=e.resolution;var s=r.inputSize,o=r.inputPixel,a=r.inputClamp;if(s[0]=e.destinationFrame.width,s[1]=e.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*e.resolution),o[1]=Math.round(s[1]*e.resolution),o[2]=1/o[0],o[3]=1/o[1],a[0]=.5*o[2],a[1]=.5*o[3],a[2]=e.sourceFrame.width*s[2]-.5*o[2],a[3]=e.sourceFrame.height*s[3]-.5*o[3],e.legacy){var l=r.filterArea;l[0]=e.destinationFrame.width,l[1]=e.destinationFrame.height,l[2]=e.sourceFrame.x,l[3]=e.sourceFrame.y,r.filterClamp=r.inputClamp}this.globalUniforms.update();var c=t[t.length-1];if(this.renderer.framebuffer.blit(),1===i.length)i[0].apply(this,e.renderTexture,c.renderTexture,Lo.BLEND,e),this.returnFilterTexture(e.renderTexture);else{var u=e.renderTexture,d=this.getOptimalFilterTexture(u.width,u.height,e.resolution);d.filterFrame=u.filterFrame;var f=0;for(f=0;f<i.length-1;++f){1===f&&e.multisample>1&&((d=this.getOptimalFilterTexture(u.width,u.height,e.resolution)).filterFrame=u.filterFrame),i[f].apply(this,u,d,Lo.CLEAR,e);var y=u;u=d,d=y}i[f].apply(this,u,c.renderTexture,Lo.BLEND,e),f>1&&e.multisample>1&&this.returnFilterTexture(e.renderTexture),this.returnFilterTexture(u),this.returnFilterTexture(d)}e.clear(),this.statePool.push(e)},n.prototype.bindAndClear=function(t,e){void 0===e&&(e=Lo.CLEAR);var i=this.renderer,r=i.renderTexture,s=i.state;if(this.renderer.projection.transform=t===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.activeState.transform:null,t&&t.filterFrame){var o=this.tempRect;o.x=0,o.y=0,o.width=t.filterFrame.width,o.height=t.filterFrame.height,r.bind(t,t.filterFrame,o)}else t!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?r.bind(t):this.renderer.renderTexture.bind(t,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);(e===Lo.CLEAR||e===Lo.BLIT&&(1&s.stateId||this.forceClear))&&this.renderer.framebuffer.clear(0,0,0,0)},n.prototype.applyFilter=function(t,e,i,r){var s=this.renderer;s.state.set(t.state),this.bindAndClear(i,r),t.uniforms.uSampler=e,t.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(t),t.legacy=!!t.program.attributeData.aTextureCoord,t.legacy?(this.quadUv.map(e._frame,e.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(fo.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(fo.TRIANGLE_STRIP))},n.prototype.calculateSpriteMatrix=function(t,e){var i=this.activeState,r=i.sourceFrame,s=i.destinationFrame,o=e._texture.orig,a=t.set(s.width,0,0,s.height,r.x,r.y),l=e.worldTransform.copyTo(tl.TEMP_MATRIX);return l.invert(),a.prepend(l),a.scale(1/o.width,1/o.height),a.translate(e.anchor.x,e.anchor.y),a},n.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},n.prototype.getOptimalFilterTexture=function(t,e,i,r){return void 0===i&&(i=1),void 0===r&&(r=qn.NONE),this.texturePool.getOptimalTexture(t,e,i,r)},n.prototype.getFilterTexture=function(t,e,i){if("number"==typeof t){var r=t;t=e,e=r}var s=this.texturePool.getOptimalTexture((t=t||this.activeState.renderTexture).width,t.height,e||t.resolution,i||qn.NONE);return s.filterFrame=t.filterFrame,s},n.prototype.returnFilterTexture=function(t){this.texturePool.returnTexture(t)},n.prototype.emptyPool=function(){this.texturePool.clear(!0)},n.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},n.prototype.transformAABB=function(t,e){var i=qE[0],r=qE[1],s=qE[2],o=qE[3];i.set(e.left,e.top),r.set(e.left,e.bottom),s.set(e.right,e.top),o.set(e.right,e.bottom),t.apply(i,i),t.apply(r,r),t.apply(s,s),t.apply(o,o);var a=Math.min(i.x,r.x,s.x,o.x),l=Math.min(i.y,r.y,s.y,o.y),c=Math.max(i.x,r.x,s.x,o.x),u=Math.max(i.y,r.y,s.y,o.y);e.x=a,e.y=l,e.width=c-a,e.height=u-l},n.prototype.roundFrame=function(t,e,i,r,s){if(!(t.width<=0||t.height<=0||i.width<=0||i.height<=0)){if(s){var o=s.a,l=s.c,c=s.d;if((Math.abs(s.b)>1e-4||Math.abs(l)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(c)>1e-4))return}(s=s?hR.copyFrom(s):hR.identity()).translate(-i.x,-i.y).scale(r.width/i.width,r.height/i.height).translate(r.x,r.y),this.transformAABB(s,t),t.ceil(e),this.transformAABB(s.invert(),t)}},n}(),dV=function(){function n(t){this.renderer=t}return n.prototype.flush=function(){},n.prototype.destroy=function(){this.renderer=null},n.prototype.start=function(){},n.prototype.stop=function(){this.flush()},n.prototype.render=function(t){},n}(),hV=function(){function n(t){this.renderer=t,this.emptyRenderer=new dV(t),this.currentRenderer=this.emptyRenderer}return n.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},n.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},n.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},n.prototype.copyBoundTextures=function(t,e){for(var i=this.renderer.texture.boundTextures,r=e-1;r>=0;--r)t[r]=i[r]||null,t[r]&&(t[r]._batchLocation=r)},n.prototype.boundArray=function(t,e,i,r){for(var s=t.elements,o=t.ids,a=t.count,l=0,c=0;c<a;c++){var u=s[c],d=u._batchLocation;if(d>=0&&d<r&&e[d]===u)o[c]=d;else for(;l<r;){var f=e[l];if(!f||f._batchEnabled!==i||f._batchLocation!==l){o[c]=l,u._batchLocation=l,e[l]=u;break}l++}}},n.prototype.destroy=function(){this.renderer=null},n}(),fV=0,pV=function(){function n(t){this.renderer=t,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),t.view.addEventListener("webglcontextlost",this.handleContextLost,!1),t.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}return Object.defineProperty(n.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),n.prototype.contextChange=function(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=fV++,t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext()},n.prototype.initFromContext=function(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=fV++,this.renderer.runners.contextChange.emit(t)},n.prototype.initFromOptions=function(t){var e=this.createContext(this.renderer.view,t);this.initFromContext(e)},n.prototype.createContext=function(t,e){var i;if(Mt.PREFER_ENV>=Js.WEBGL2&&(i=t.getContext("webgl2",e)),i)this.webGLVersion=2;else if(this.webGLVersion=1,!(i=t.getContext("webgl",e)||t.getContext("experimental-webgl",e)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=i,this.getExtensions(),this.gl},n.prototype.getExtensions=function(){var t=this.gl,e={anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),s3tc:t.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:t.getExtension("WEBGL_compressed_texture_etc"),etc1:t.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:t.getExtension("WEBGL_compressed_texture_atc"),astc:t.getExtension("WEBGL_compressed_texture_astc")};1===this.webGLVersion?Object.assign(this.extensions,e,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),loseContext:t.getExtension("WEBGL_lose_context"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,e,{colorBufferFloat:t.getExtension("EXT_color_buffer_float")})},n.prototype.handleContextLost=function(t){t.preventDefault()},n.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},n.prototype.destroy=function(){var t=this.renderer.view;this.renderer=null,t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},n.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},n.prototype.validateContext=function(t){var e=t.getContextAttributes(),i="WebGL2RenderingContext"in self&&t instanceof self.WebGL2RenderingContext;i&&(this.webGLVersion=2),e.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var r=i||!!t.getExtension("OES_element_index_uint");this.supports.uint32Indices=r,r||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},n}(),LSe=function n(t){this.framebuffer=t,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=qn.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0},BSe=new Go,gV=function(){function n(t){this.renderer=t,this.managedFramebuffers=[],this.unknownFramebuffer=new cR(10,10),this.msaaSamples=null}return n.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Go,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion){var e=this.renderer.context.extensions.drawBuffers,i=this.renderer.context.extensions.depthTexture;Mt.PREFER_ENV===Js.WEBGL_LEGACY&&(e=null,i=null),e?t.drawBuffers=function(r){return e.drawBuffersWEBGL(r)}:(this.hasMRT=!1,t.drawBuffers=function(){}),i||(this.writeDepthTexture=!1)}else this.msaaSamples=t.getInternalformatParameter(t.RENDERBUFFER,t.RGBA8,t.SAMPLES)},n.prototype.bind=function(t,e,i){void 0===i&&(i=0);var r=this.gl;if(t){var s=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,r.bindFramebuffer(r.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==i&&(t.dirtyId++,t.dirtyFormat++,s.mipLevel=i),s.dirtyId!==t.dirtyId&&(s.dirtyId=t.dirtyId,s.dirtyFormat!==t.dirtyFormat?(s.dirtyFormat=t.dirtyFormat,s.dirtySize=t.dirtySize,this.updateFramebuffer(t,i)):s.dirtySize!==t.dirtySize&&(s.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(var o=0;o<t.colorTextures.length;o++){var a=t.colorTextures[o];this.renderer.texture.unbind(a.parentTextureArray||a)}if(t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),e){var u=(l=e.width>>i)/e.width;this.setViewport(e.x*u,e.y*u,l,e.height>>i)}else{var l;this.setViewport(0,0,l=t.width>>i,t.height>>i)}}else this.current&&(this.current=null,r.bindFramebuffer(r.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},n.prototype.setViewport=function(t,e,i,r){var s=this.viewport;t=Math.round(t),e=Math.round(e),i=Math.round(i),r=Math.round(r),(s.width!==i||s.height!==r||s.x!==t||s.y!==e)&&(s.x=t,s.y=e,s.width=i,s.height=r,this.gl.viewport(t,e,i,r))},Object.defineProperty(n.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),n.prototype.clear=function(t,e,i,r,s){void 0===s&&(s=oh.COLOR|oh.DEPTH);var o=this.gl;o.clearColor(t,e,i,r),o.clear(s)},n.prototype.initFramebuffer=function(t){var i=new LSe(this.gl.createFramebuffer());return i.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=i,this.managedFramebuffers.push(t),t.disposeRunner.add(this),i},n.prototype.resizeFramebuffer=function(t){var e=this.gl,i=t.glFramebuffers[this.CONTEXT_UID];i.msaaBuffer&&(e.bindRenderbuffer(e.RENDERBUFFER,i.msaaBuffer),e.renderbufferStorageMultisample(e.RENDERBUFFER,i.multisample,e.RGBA8,t.width,t.height)),i.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,i.stencil),i.msaaBuffer?e.renderbufferStorageMultisample(e.RENDERBUFFER,i.multisample,e.DEPTH24_STENCIL8,t.width,t.height):e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height));var r=t.colorTextures,s=r.length;e.drawBuffers||(s=Math.min(s,1));for(var o=0;o<s;o++){var a=r[o];this.renderer.texture.bind(a.parentTextureArray||a,0)}t.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(t.depthTexture,0)},n.prototype.updateFramebuffer=function(t,e){var i=this.gl,r=t.glFramebuffers[this.CONTEXT_UID],s=t.colorTextures,o=s.length;i.drawBuffers||(o=Math.min(o,1)),r.multisample>1&&this.canMultisampleFramebuffer(t)?(r.msaaBuffer=r.msaaBuffer||i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,r.msaaBuffer),i.renderbufferStorageMultisample(i.RENDERBUFFER,r.multisample,i.RGBA8,t.width,t.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,r.msaaBuffer)):r.msaaBuffer&&(i.deleteRenderbuffer(r.msaaBuffer),r.msaaBuffer=null,r.blitFramebuffer&&(r.blitFramebuffer.dispose(),r.blitFramebuffer=null));for(var a=[],l=0;l<o;l++){var c=s[l],u=c.parentTextureArray||c;this.renderer.texture.bind(u,0),(0!==l||!r.msaaBuffer)&&(i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+l,c.target,u._glTextures[this.CONTEXT_UID].texture,e),a.push(i.COLOR_ATTACHMENT0+l))}if(a.length>1&&i.drawBuffers(a),t.depthTexture&&this.writeDepthTexture){var f=t.depthTexture;this.renderer.texture.bind(f,0),i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,f._glTextures[this.CONTEXT_UID].texture,e)}!t.stencil&&!t.depth||t.depthTexture&&this.writeDepthTexture?r.stencil&&(i.deleteRenderbuffer(r.stencil),r.stencil=null):(r.stencil=r.stencil||i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,r.stencil),r.msaaBuffer?i.renderbufferStorageMultisample(i.RENDERBUFFER,r.multisample,i.DEPTH24_STENCIL8,t.width,t.height):i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,t.width,t.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,r.stencil))},n.prototype.canMultisampleFramebuffer=function(t){return 1!==this.renderer.context.webGLVersion&&t.colorTextures.length<=1&&!t.depthTexture},n.prototype.detectSamples=function(t){var e=this.msaaSamples,i=qn.NONE;if(t<=1||null===e)return i;for(var r=0;r<e.length;r++)if(e[r]<=t){i=e[r];break}return 1===i&&(i=qn.NONE),i},n.prototype.blit=function(t,e,i){var r=this,s=r.current,a=r.gl;if(2===r.renderer.context.webGLVersion&&s){var c=s.glFramebuffers[r.CONTEXT_UID];if(c){if(!t){if(!c.msaaBuffer)return;var u=s.colorTextures[0];if(!u)return;c.blitFramebuffer||(c.blitFramebuffer=new cR(s.width,s.height),c.blitFramebuffer.addColorTexture(0,u)),(t=c.blitFramebuffer).colorTextures[0]!==u&&(t.colorTextures[0]=u,t.dirtyId++,t.dirtyFormat++),(t.width!==s.width||t.height!==s.height)&&(t.width=s.width,t.height=s.height,t.dirtyId++,t.dirtySize++)}e||((e=BSe).width=s.width,e.height=s.height),i||(i=e);var d=e.width===i.width&&e.height===i.height;this.bind(t),a.bindFramebuffer(a.READ_FRAMEBUFFER,c.framebuffer),a.blitFramebuffer(e.x,e.y,e.width,e.height,i.x,i.y,i.width,i.height,a.COLOR_BUFFER_BIT,d?a.NEAREST:a.LINEAR)}}},n.prototype.disposeFramebuffer=function(t,e){var i=t.glFramebuffers[this.CONTEXT_UID],r=this.gl;if(i){delete t.glFramebuffers[this.CONTEXT_UID];var s=this.managedFramebuffers.indexOf(t);s>=0&&this.managedFramebuffers.splice(s,1),t.disposeRunner.remove(this),e||(r.deleteFramebuffer(i.framebuffer),i.msaaBuffer&&r.deleteRenderbuffer(i.msaaBuffer),i.stencil&&r.deleteRenderbuffer(i.stencil)),i.blitFramebuffer&&i.blitFramebuffer.dispose()}},n.prototype.disposeAll=function(t){var e=this.managedFramebuffers;this.managedFramebuffers=[];for(var i=0;i<e.length;i++)this.disposeFramebuffer(e[i],t)},n.prototype.forceStencil=function(){var t=this.current;if(t){var e=t.glFramebuffers[this.CONTEXT_UID];if(e&&!e.stencil){t.stencil=!0;var i=t.width,r=t.height,s=this.gl,o=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o),e.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,e.multisample,s.DEPTH24_STENCIL8,i,r):s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,i,r),e.stencil=o,s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,o)}}},n.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new Go},n.prototype.destroy=function(){this.renderer=null},n}(),fR={5126:4,5123:2,5121:1},_V=function(){function n(t){this.renderer=t,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return n.prototype.contextChange=function(){this.disposeAll(!0);var t=this.gl=this.renderer.gl,e=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==e.webGLVersion){var i=this.renderer.context.extensions.vertexArrayObject;Mt.PREFER_ENV===Js.WEBGL_LEGACY&&(i=null),i?(t.createVertexArray=function(){return i.createVertexArrayOES()},t.bindVertexArray=function(s){return i.bindVertexArrayOES(s)},t.deleteVertexArray=function(s){return i.deleteVertexArrayOES(s)}):(this.hasVao=!1,t.createVertexArray=function(){return null},t.bindVertexArray=function(){return null},t.deleteVertexArray=function(){return null})}if(2!==e.webGLVersion){var r=t.getExtension("ANGLE_instanced_arrays");r?(t.vertexAttribDivisor=function(s,o){return r.vertexAttribDivisorANGLE(s,o)},t.drawElementsInstanced=function(s,o,a,l,c){return r.drawElementsInstancedANGLE(s,o,a,l,c)},t.drawArraysInstanced=function(s,o,a,l){return r.drawArraysInstancedANGLE(s,o,a,l)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===e.webGLVersion||!!e.extensions.uint32ElementIndex},n.prototype.bind=function(t,e){e=e||this.renderer.shader.shader;var i=this.gl,r=t.glVertexArrayObjects[this.CONTEXT_UID],s=!1;r||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=r={},s=!0);var o=r[e.program.id]||this.initGeometryVao(t,e,s);this._activeGeometry=t,this._activeVao!==o&&(this._activeVao=o,this.hasVao?i.bindVertexArray(o):this.activateVao(t,e.program)),this.updateBuffers()},n.prototype.reset=function(){this.unbind()},n.prototype.updateBuffers=function(){for(var t=this._activeGeometry,e=this.renderer.buffer,i=0;i<t.buffers.length;i++)e.update(t.buffers[i])},n.prototype.checkCompatibility=function(t,e){var i=t.attributes,r=e.attributeData;for(var s in r)if(!i[s])throw new Error('shader and geometry incompatible, geometry missing the "'+s+'" attribute')},n.prototype.getSignature=function(t,e){var i=t.attributes,r=e.attributeData,s=["g",t.id];for(var o in i)r[o]&&s.push(o,r[o].location);return s.join("-")},n.prototype.initGeometryVao=function(t,e,i){void 0===i&&(i=!0);var r=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,a=e.program;a.glPrograms[s]||this.renderer.shader.generateProgram(e),this.checkCompatibility(t,a);var l=this.getSignature(t,a),c=t.glVertexArrayObjects[this.CONTEXT_UID],u=c[l];if(u)return c[a.id]=u,u;var d=t.buffers,f=t.attributes,y={},O={};for(var I in d)y[I]=0,O[I]=0;for(var I in f)!f[I].size&&a.attributeData[I]?f[I].size=a.attributeData[I].size:f[I].size||console.warn("PIXI Geometry attribute '"+I+"' size cannot be determined (likely the bound shader does not have the attribute)"),y[f[I].buffer]+=f[I].size*fR[f[I].type];for(var I in f){var N=f[I],k=N.size;void 0===N.stride&&(N.stride=y[N.buffer]===k*fR[N.type]?0:y[N.buffer]),void 0===N.start&&(N.start=O[N.buffer],O[N.buffer]+=k*fR[N.type])}u=r.createVertexArray(),r.bindVertexArray(u);for(var B=0;B<d.length;B++){var G=d[B];o.bind(G),i&&G._glBuffers[s].refCount++}return this.activateVao(t,a),this._activeVao=u,c[a.id]=u,c[l]=u,u},n.prototype.disposeGeometry=function(t,e){var i;if(this.managedGeometries[t.id]){delete this.managedGeometries[t.id];var r=t.glVertexArrayObjects[this.CONTEXT_UID],s=this.gl,o=t.buffers,a=null===(i=this.renderer)||void 0===i?void 0:i.buffer;if(t.disposeRunner.remove(this),r){if(a)for(var l=0;l<o.length;l++){var c=o[l]._glBuffers[this.CONTEXT_UID];c&&(c.refCount--,0===c.refCount&&!e&&a.dispose(o[l],e))}if(!e)for(var u in r)if("g"===u[0]){var d=r[u];this._activeVao===d&&this.unbind(),s.deleteVertexArray(d)}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}},n.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedGeometries),i=0;i<e.length;i++)this.disposeGeometry(this.managedGeometries[e[i]],t)},n.prototype.activateVao=function(t,e){var i=this.gl,r=this.CONTEXT_UID,s=this.renderer.buffer,o=t.buffers,a=t.attributes;t.indexBuffer&&s.bind(t.indexBuffer);var l=null;for(var c in a){var u=a[c],d=o[u.buffer],f=d._glBuffers[r];if(e.attributeData[c]){l!==f&&(s.bind(d),l=f);var y=e.attributeData[c].location;if(i.enableVertexAttribArray(y),i.vertexAttribPointer(y,u.size,u.type||i.FLOAT,u.normalized,u.stride,u.start),u.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");i.vertexAttribDivisor(y,1)}}}},n.prototype.draw=function(t,e,i,r){var s=this.gl,o=this._activeGeometry;if(o.indexBuffer){var a=o.indexBuffer.data.BYTES_PER_ELEMENT,l=2===a?s.UNSIGNED_SHORT:s.UNSIGNED_INT;2===a||4===a&&this.canUseUInt32ElementIndex?o.instanced?s.drawElementsInstanced(t,e||o.indexBuffer.data.length,l,(i||0)*a,r||1):s.drawElements(t,e||o.indexBuffer.data.length,l,(i||0)*a):console.warn("unsupported index buffer type: uint32")}else o.instanced?s.drawArraysInstanced(t,i,e||o.getSize(),r||1):s.drawArrays(t,i,e||o.getSize());return this},n.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},n.prototype.destroy=function(){this.renderer=null},n}(),USe=function(){function n(t){void 0===t&&(t=null),this.type=Ii.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=Mt.FILTER_MULTISAMPLE,this.enabled=!0,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._target=null}return Object.defineProperty(n.prototype,"filter",{get:function(){return this._filters?this._filters[0]:null},set:function(t){t?this._filters?this._filters[0]=t:this._filters=[t]:this._filters=null},enumerable:!1,configurable:!0}),n.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=Ii.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null},n.prototype.copyCountersOrReset=function(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},n}();function mV(n,t,e){var i=n.createShader(t);return n.shaderSource(i,e),n.compileShader(i),i}function vV(n,t){var e=n.getShaderSource(t).split("\n").map(function(c,u){return u+": "+c}),i=n.getShaderInfoLog(t),r=i.split("\n"),s={},o=r.map(function(c){return parseFloat(c.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))}).filter(function(c){return!(!c||s[c]||(s[c]=!0,0))}),a=[""];o.forEach(function(c){e[c-1]="%c"+e[c-1]+"%c",a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});var l=e.join("\n");a[0]=l,console.error(i),console.groupCollapsed("click to view full shader code"),console.warn.apply(console,a),console.groupEnd()}function pR(n){for(var t=new Array(n),e=0;e<t.length;e++)t[e]=!1;return t}function yV(n,t){switch(n){case"float":case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"uvec2":return new Uint32Array(2*t);case"uvec3":return new Uint32Array(3*t);case"uvec4":return new Uint32Array(4*t);case"bool":return!1;case"bvec2":return pR(2*t);case"bvec3":return pR(3*t);case"bvec4":return pR(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var KE,bV={},Dy=bV;function SV(n,t,e){if("precision"!==n.substring(0,9)){var i=t;return t===Es.HIGH&&e!==Es.HIGH&&(i=Es.MEDIUM),"precision "+i+" float;\n"+n}return e!==Es.HIGH&&"precision highp"===n.substring(0,15)?n.replace("precision highp","precision mediump"):n}var VSe={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function CV(n){return VSe[n]}var JE=null,EV={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function TV(n,t){if(!JE){var e=Object.keys(EV);JE={};for(var i=0;i<e.length;++i){var r=e[i];JE[n[r]]=EV[r]}}return JE[t]}var Ny,Sm=[{test:function(n){return"float"===n.type&&1===n.size},code:function(n){return'\n            if(uv["'+n+'"] !== ud["'+n+'"].value)\n            {\n                ud["'+n+'"].value = uv["'+n+'"]\n                gl.uniform1f(ud["'+n+'"].location, uv["'+n+'"])\n            }\n            '}},{test:function(n){return("sampler2D"===n.type||"samplerCube"===n.type||"sampler2DArray"===n.type)&&1===n.size&&!n.isArray},code:function(n){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'+n+'"], t);\n\n            if(ud["'+n+'"].value !== t)\n            {\n                ud["'+n+'"].value = t;\n                gl.uniform1i(ud["'+n+'"].location, t);\n; // eslint-disable-line max-len\n            }'}},{test:function(n,t){return"mat3"===n.type&&1===n.size&&void 0!==t.a},code:function(n){return'\n            gl.uniformMatrix3fv(ud["'+n+'"].location, false, uv["'+n+'"].toArray(true));\n            '},codeUbo:function(n){return"\n                var "+n+"_matrix = uv."+n+".toArray(true);\n\n                data[offset] = "+n+"_matrix[0];\n                data[offset+1] = "+n+"_matrix[1];\n                data[offset+2] = "+n+"_matrix[2];\n        \n                data[offset + 4] = "+n+"_matrix[3];\n                data[offset + 5] = "+n+"_matrix[4];\n                data[offset + 6] = "+n+"_matrix[5];\n        \n                data[offset + 8] = "+n+"_matrix[6];\n                data[offset + 9] = "+n+"_matrix[7];\n                data[offset + 10] = "+n+"_matrix[8];\n            "}},{test:function(n,t){return"vec2"===n.type&&1===n.size&&void 0!==t.x},code:function(n){return'\n                cv = ud["'+n+'"].value;\n                v = uv["'+n+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["'+n+'"].location, v.x, v.y);\n                }'},codeUbo:function(n){return"\n                v = uv."+n+";\n\n                data[offset] = v.x;\n                data[offset+1] = v.y;\n            "}},{test:function(n){return"vec2"===n.type&&1===n.size},code:function(n){return'\n                cv = ud["'+n+'"].value;\n                v = uv["'+n+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["'+n+'"].location, v[0], v[1]);\n                }\n            '}},{test:function(n,t){return"vec4"===n.type&&1===n.size&&void 0!==t.width},code:function(n){return'\n                cv = ud["'+n+'"].value;\n                v = uv["'+n+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["'+n+'"].location, v.x, v.y, v.width, v.height)\n                }'},codeUbo:function(n){return"\n                    v = uv."+n+";\n\n                    data[offset] = v.x;\n                    data[offset+1] = v.y;\n                    data[offset+2] = v.width;\n                    data[offset+3] = v.height;\n                "}},{test:function(n){return"vec4"===n.type&&1===n.size},code:function(n){return'\n                cv = ud["'+n+'"].value;\n                v = uv["'+n+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["'+n+'"].location, v[0], v[1], v[2], v[3])\n                }'}}],zSe={float:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1f(location, v);\n    }",vec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4f(location, v[0], v[1], v[2], v[3]);\n    }",int:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",ivec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",ivec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",ivec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",uint:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1ui(location, v);\n    }",uvec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2ui(location, v[0], v[1]);\n    }",uvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3ui(location, v[0], v[1], v[2]);\n    }",uvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);\n    }",bool:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1i(location, v);\n    }",bvec2:"\n    if (cv[0] != v[0] || cv[1] != v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",bvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",bvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},WSe={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"},YSe=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function XSe(n){for(var t="",e=0;e<n;++e)e>0&&(t+="\nelse "),e<n-1&&(t+="if(test == "+e+".0){}");return t}var QSe=0,ZE={},gR=function(){function n(t,e,i){void 0===i&&(i="pixi-shader"),this.id=QSe++,this.vertexSrc=t||n.defaultVertexSrc,this.fragmentSrc=e||n.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(i=i.replace(/\s+/g,"-"),ZE[i]?(ZE[i]++,i+="-"+ZE[i]):ZE[i]=1,this.vertexSrc="#define SHADER_NAME "+i+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+i+"\n"+this.fragmentSrc,this.vertexSrc=SV(this.vertexSrc,Mt.PRECISION_VERTEX,Es.HIGH),this.fragmentSrc=SV(this.fragmentSrc,Mt.PRECISION_FRAGMENT,function HSe(){if(!KE){KE=Es.MEDIUM;var n=function jSe(){if(Dy===bV||Dy&&Dy.isContextLost()){var n=document.createElement("canvas"),t=void 0;Mt.PREFER_ENV>=Js.WEBGL2&&(t=n.getContext("webgl2",{})),t||((t=n.getContext("webgl",{})||n.getContext("experimental-webgl",{}))?t.getExtension("WEBGL_draw_buffers"):t=null),Dy=t}return Dy}();if(n&&n.getShaderPrecisionFormat){var t=n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT);KE=t.precision?Es.HIGH:Es.MEDIUM}}return KE}())),this.glPrograms={},this.syncUniforms=null}return Object.defineProperty(n,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(n,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},enumerable:!1,configurable:!0}),n.from=function(t,e,i){var r=t+e,s=K7[r];return s||(K7[r]=s=new n(t,e,i)),s},n}(),wV=function(){function n(t,e){this.uniformBindCount=0,this.program=t,this.uniformGroup=e?e instanceof bm?e:new bm(e):new bm({})}return n.prototype.checkUniformExists=function(t,e){if(e.uniforms[t])return!0;for(var i in e.uniforms){var r=e.uniforms[i];if(r.group&&this.checkUniformExists(t,r))return!0}return!1},n.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(n.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),n.from=function(t,e,i){return new n(gR.from(t,e),i)},n}(),CR=function(){function n(){this.data=0,this.blendMode=qe.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(n.prototype,"blend",{get:function(){return!!(1&this.data)},set:function(t){!!(1&this.data)!==t&&(this.data^=1)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"offsets",{get:function(){return!!(2&this.data)},set:function(t){!!(2&this.data)!==t&&(this.data^=2)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"culling",{get:function(){return!!(4&this.data)},set:function(t){!!(4&this.data)!==t&&(this.data^=4)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"depthTest",{get:function(){return!!(8&this.data)},set:function(t){!!(8&this.data)!==t&&(this.data^=8)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"depthMask",{get:function(){return!!(32&this.data)},set:function(t){!!(32&this.data)!==t&&(this.data^=32)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"clockwiseFrontFace",{get:function(){return!!(16&this.data)},set:function(t){!!(16&this.data)!==t&&(this.data^=16)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this.blend=t!==qe.NONE,this._blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(t){this.offsets=!!t,this._polygonOffset=t},enumerable:!1,configurable:!0}),n.prototype.toString=function(){return"[@pixi/core:State blendMode="+this.blendMode+" clockwiseFrontFace="+this.clockwiseFrontFace+" culling="+this.culling+" depthMask="+this.depthMask+" polygonOffset="+this.polygonOffset+"]"},n.for2d=function(){var t=new n;return t.depthTest=!1,t.blend=!0,t},n}(),nCe=function(n){function t(e,i,r){var s=this,o=gR.from(e||t.defaultVertexSrc,i||t.defaultFragmentSrc);return(s=n.call(this,o,r)||this).padding=0,s.resolution=Mt.FILTER_RESOLUTION,s.multisample=Mt.FILTER_MULTISAMPLE,s.enabled=!0,s.autoFit=!0,s.state=new CR,s}return vr(t,n),t.prototype.apply=function(e,i,r,s,o){e.applyFilter(this,i,r,s)},Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(e){this._resolution=e},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},enumerable:!1,configurable:!0}),t}(wV),MV=new tl,sCe=function(){function n(t,e){this._texture=t,this.mapCoord=new tl,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=void 0===e?.5:e,this.isSimple=!1}return Object.defineProperty(n.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture=t,this._textureID=-1},enumerable:!1,configurable:!0}),n.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var i=this.mapCoord,r=0;r<t.length;r+=2){var s=t[r],o=t[r+1];e[r]=s*i.a+o*i.c+i.tx,e[r+1]=s*i.b+o*i.d+i.ty}return e},n.prototype.update=function(t){var e=this._texture;if(!e||!e.valid||!t&&this._textureID===e._updateID)return!1;this._textureID=e._updateID,this._updateID++;var i=e._uvs;this.mapCoord.set(i.x1-i.x0,i.y1-i.y0,i.x3-i.x0,i.y3-i.y0,i.x0,i.y0);var r=e.orig,s=e.trim;s&&(MV.set(r.width/s.width,0,0,r.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(MV));var o=e.baseTexture,a=this.uClampFrame,l=this.clampMargin/o.resolution,c=this.clampOffset;return a[0]=(e._frame.x+l+c)/o.width,a[1]=(e._frame.y+l+c)/o.height,a[2]=(e._frame.x+e._frame.width-l+c)/o.width,a[3]=(e._frame.y+e._frame.height-l+c)/o.height,this.uClampOffset[0]=c/o.realWidth,this.uClampOffset[1]=c/o.realHeight,this.isSimple=e._frame.width===o.width&&e._frame.height===o.height&&0===e.rotate,!0},n}(),oCe=function(n){function t(e,i,r){var s=this,o=null;return"string"!=typeof e&&void 0===i&&void 0===r&&(o=e,e=void 0,i=void 0,r=void 0),(s=n.call(this,e||"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n",i||"varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n",r)||this).maskSprite=o,s.maskMatrix=new tl,s}return vr(t,n),Object.defineProperty(t.prototype,"maskSprite",{get:function(){return this._maskSprite},set:function(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)},enumerable:!1,configurable:!0}),t.prototype.apply=function(e,i,r,s){var o=this._maskSprite,a=o._texture;!a.valid||(a.uvMatrix||(a.uvMatrix=new sCe(a,0)),a.uvMatrix.update(),this.uniforms.npmAlpha=a.baseTexture.alphaMode?0:1,this.uniforms.mask=a,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,o).prepend(a.uvMatrix.mapCoord),this.uniforms.alpha=o.worldAlpha,this.uniforms.maskClamp=a.uvMatrix.uClampFrame,e.applyFilter(this,i,r,s))},t}(nCe),OV=function(){function n(t){this.renderer=t,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return n.prototype.setMaskStack=function(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)},n.prototype.push=function(t,e){var i=e;if(!i.isMaskData){var r=this.maskDataPool.pop()||new USe;r.pooled=!0,r.maskObject=e,i=r}if(i.copyCountersOrReset(0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null),i.autoDetect&&this.detect(i),i._target=t,i.type!==Ii.SPRITE&&this.maskStack.push(i),i.enabled)switch(i.type){case Ii.SCISSOR:this.renderer.scissor.push(i);break;case Ii.STENCIL:this.renderer.stencil.push(i);break;case Ii.SPRITE:i.copyCountersOrReset(null),this.pushSpriteMask(i)}i.type===Ii.SPRITE&&this.maskStack.push(i)},n.prototype.pop=function(t){var e=this.maskStack.pop();if(e&&e._target===t){if(e.enabled)switch(e.type){case Ii.SCISSOR:this.renderer.scissor.pop();break;case Ii.STENCIL:this.renderer.stencil.pop(e.maskObject);break;case Ii.SPRITE:this.popSpriteMask(e)}if(e.reset(),e.pooled&&this.maskDataPool.push(e),0!==this.maskStack.length){var i=this.maskStack[this.maskStack.length-1];i.type===Ii.SPRITE&&i._filters&&(i._filters[0].maskSprite=i.maskObject)}}},n.prototype.detect=function(t){t.type=t.maskObject.isSprite?Ii.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(t)?Ii.SCISSOR:Ii.STENCIL},n.prototype.pushSpriteMask=function(t){var e,i,r=t.maskObject,s=t._target,o=t._filters;o||(o=this.alphaMaskPool[this.alphaMaskIndex])||(o=this.alphaMaskPool[this.alphaMaskIndex]=[new oCe]);var c,u,a=this.renderer,l=a.renderTexture;if(l.current){var d=l.current;c=t.resolution||d.resolution,u=null!==(e=t.multisample)&&void 0!==e?e:d.multisample}else c=t.resolution||a.resolution,u=null!==(i=t.multisample)&&void 0!==i?i:a.multisample;o[0].resolution=c,o[0].multisample=u,o[0].maskSprite=r;var f=s.filterArea;s.filterArea=r.getBounds(!0),a.filter.push(s,o),s.filterArea=f,t._filters||this.alphaMaskIndex++},n.prototype.popSpriteMask=function(t){this.renderer.filter.pop(),t._filters?t._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)},n.prototype.destroy=function(){this.renderer=null},n}(),PV=function(){function n(t){this.renderer=t,this.maskStack=[],this.glConst=0}return n.prototype.getStackLength=function(){return this.maskStack.length},n.prototype.setMaskStack=function(t){var e=this.renderer.gl,i=this.getStackLength();this.maskStack=t;var r=this.getStackLength();r!==i&&(0===r?e.disable(this.glConst):(e.enable(this.glConst),this._useCurrent()))},n.prototype._useCurrent=function(){},n.prototype.destroy=function(){this.renderer=null,this.maskStack=null},n}(),xV=new tl,IV=function(n){function t(e){var i=n.call(this,e)||this;return i.glConst=WebGLRenderingContext.SCISSOR_TEST,i}return vr(t,n),t.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0},t.prototype.calcScissorRect=function(e){if(!e._scissorRectLocal){var i=e._scissorRect,r=e.maskObject,s=this.renderer,o=s.renderTexture;r.renderable=!0;var a=r.getBounds();this.roundFrameToPixels(a,o.current?o.current.resolution:s.resolution,o.sourceFrame,o.destinationFrame,s.projection.transform),r.renderable=!1,i&&a.fit(i),e._scissorRectLocal=a}},t.isMatrixRotated=function(e){if(!e)return!1;var i=e.a,s=e.c,o=e.d;return(Math.abs(e.b)>1e-4||Math.abs(s)>1e-4)&&(Math.abs(i)>1e-4||Math.abs(o)>1e-4)},t.prototype.testScissor=function(e){var i=e.maskObject;if(!i.isFastRect||!i.isFastRect()||t.isMatrixRotated(i.worldTransform)||t.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);var r=e._scissorRectLocal;return r.width>0&&r.height>0},t.prototype.roundFrameToPixels=function(e,i,r,s,o){t.isMatrixRotated(o)||((o=o?xV.copyFrom(o):xV.identity()).translate(-r.x,-r.y).scale(s.width/r.width,s.height/r.height).translate(s.x,s.y),this.renderer.filter.transformAABB(o,e),e.fit(s),e.x=Math.round(e.x*i),e.y=Math.round(e.y*i),e.width=Math.round(e.width*i),e.height=Math.round(e.height*i))},t.prototype.push=function(e){e._scissorRectLocal||this.calcScissorRect(e);var i=this.renderer.gl;e._scissorRect||i.enable(i.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()},t.prototype.pop=function(){var e=this.renderer.gl;this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)},t.prototype._useCurrent=function(){var e=this.maskStack[this.maskStack.length-1]._scissorRect;this.renderer.gl.scissor(e.x,this.renderer.renderTexture.current?e.y:this.renderer.height-e.height-e.y,e.width,e.height)},t}(PV),AV=function(n){function t(e){var i=n.call(this,e)||this;return i.glConst=WebGLRenderingContext.STENCIL_TEST,i}return vr(t,n),t.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0},t.prototype.push=function(e){var i=e.maskObject,r=this.renderer.gl,s=e._stencilCounter;0===s&&(this.renderer.framebuffer.forceStencil(),r.clearStencil(0),r.clear(r.STENCIL_BUFFER_BIT),r.enable(r.STENCIL_TEST)),e._stencilCounter++,r.colorMask(!1,!1,!1,!1),r.stencilFunc(r.EQUAL,s,4294967295),r.stencilOp(r.KEEP,r.KEEP,r.INCR),i.renderable=!0,i.render(this.renderer),this.renderer.batch.flush(),i.renderable=!1,this._useCurrent()},t.prototype.pop=function(e){var i=this.renderer.gl;0===this.getStackLength()?i.disable(i.STENCIL_TEST):(i.colorMask(!1,!1,!1,!1),i.stencilOp(i.KEEP,i.KEEP,i.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent())},t.prototype._useCurrent=function(){var e=this.renderer.gl;e.colorMask(!0,!0,!0,!0),e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)},t}(PV),RV=function(){function n(t){this.renderer=t,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new tl,this.transform=null}return n.prototype.update=function(t,e,i,r){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,i,r),this.transform&&this.projectionMatrix.append(this.transform);var s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)},n.prototype.calculateProjection=function(t,e,i,r){var s=this.projectionMatrix,o=r?-1:1;s.identity(),s.a=1/e.width*2,s.d=o*(1/e.height*2),s.tx=-1-e.x*s.a,s.ty=-o-e.y*s.d},n.prototype.setTransform=function(t){},n.prototype.destroy=function(){this.renderer=null},n}(),ip=new Go,ky=new Go,DV=function(){function n(t){this.renderer=t,this.clearColor=t._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Go,this.destinationFrame=new Go,this.viewportFrame=new Go}return n.prototype.bind=function(t,e,i){void 0===t&&(t=null);var s,o,a,r=this.renderer;this.current=t,t?(a=(s=t.baseTexture).resolution,e||(ip.width=t.frame.width,ip.height=t.frame.height,e=ip),i||(ky.x=t.frame.x,ky.y=t.frame.y,ky.width=e.width,ky.height=e.height,i=ky),o=s.framebuffer):(a=r.resolution,e||(ip.width=r.screen.width,ip.height=r.screen.height,e=ip),i||((i=ip).width=e.width,i.height=e.height));var l=this.viewportFrame;l.x=i.x*a,l.y=i.y*a,l.width=i.width*a,l.height=i.height*a,t||(l.y=r.view.height-(l.y+l.height)),l.ceil(),this.renderer.framebuffer.bind(o,l),this.renderer.projection.update(i,e,a,!o),this.renderer.mask.setMaskStack(t?s.maskStack:this.defaultMaskStack),this.sourceFrame.copyFrom(e),this.destinationFrame.copyFrom(i)},n.prototype.clear=function(t,e){t=this.current?t||this.current.baseTexture.clearColor:t||this.clearColor;var i=this.destinationFrame,r=this.current?this.current.baseTexture:this.renderer.screen,s=i.width!==r.width||i.height!==r.height;if(s){var o=this.viewportFrame,a=o.x,l=o.y,c=o.width,u=o.height;a=Math.round(a),l=Math.round(l),c=Math.round(c),u=Math.round(u),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(a,l,c,u)}this.renderer.framebuffer.clear(t[0],t[1],t[2],t[3],e),s&&this.renderer.scissor.pop()},n.prototype.resize=function(){this.bind(null)},n.prototype.reset=function(){this.bind(null)},n.prototype.destroy=function(){this.renderer=null},n}();function aCe(n,t,e,i,r){e.buffer.update(r)}var lCe={float:"\n        data[offset] = v;\n    ",vec2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n    ",vec3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n    ",vec4:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n        data[offset+3] = v[3];\n    ",mat2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n\n        data[offset+4] = v[2];\n        data[offset+5] = v[3];\n    ",mat3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];\n    ",mat4:"\n        for(var i = 0; i < 16; i++)\n        {\n            data[offset + i] = v[i];\n        }\n    "},NV={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:32,mat3:48,mat4:64};var hCe=function(){function n(t,e){this.program=t,this.uniformData=e,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return n.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},n}();var _Ce=0,QE={textureCount:0,uboCount:0},kV=function(){function n(t){this.destroyed=!1,this.renderer=t,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=_Ce++}return n.prototype.systemCheck=function(){if(!function KSe(){if("boolean"==typeof Ny)return Ny;try{var n=new Function("param1","param2","param3","return param1[param2] === param3;");Ny=!0===n({a:"b"},"a","b")}catch(t){Ny=!1}return Ny}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},n.prototype.contextChange=function(t){this.gl=t,this.reset()},n.prototype.bind=function(t,e){t.uniforms.globals=this.renderer.globalUniforms;var i=t.program,r=i.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(t);return this.shader=t,this.program!==i&&(this.program=i,this.gl.useProgram(r.program)),e||(QE.textureCount=0,QE.uboCount=0,this.syncUniformGroup(t.uniformGroup,QE)),r},n.prototype.setUniforms=function(t){var e=this.shader.program;e.syncUniforms(e.glPrograms[this.renderer.CONTEXT_UID].uniformData,t,this.renderer)},n.prototype.syncUniformGroup=function(t,e){var i=this.getGlProgram();(!t.static||t.dirtyId!==i.uniformDirtyGroups[t.id])&&(i.uniformDirtyGroups[t.id]=t.dirtyId,this.syncUniforms(t,i,e))},n.prototype.syncUniforms=function(t,e,i){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(e.uniformData,t.uniforms,this.renderer,i)},n.prototype.createSyncGroups=function(t){var e=this.getSignature(t,this.shader.program.uniformData,"u");return this.cache[e]||(this.cache[e]=function $Se(n,t){var e,i=["\n        var v = null;\n        var cv = null;\n        var cu = null;\n        var t = 0;\n        var gl = renderer.gl;\n    "];for(var r in n.uniforms){var s=t[r];if(s){for(var o=n.uniforms[r],a=!1,l=0;l<Sm.length;l++)if(Sm[l].test(s,o)){i.push(Sm[l].code(r,o)),a=!0;break}if(!a){var u=(1===s.size?zSe:WSe)[s.type].replace("location",'ud["'+r+'"].location');i.push('\n            cu = ud["'+r+'"];\n            cv = cu.value;\n            v = uv["'+r+'"];\n            '+u+";")}}else(null===(e=n.uniforms[r])||void 0===e?void 0:e.group)&&i.push(n.uniforms[r].ubo?"\n                        renderer.shader.syncUniformBufferGroup(uv."+r+", '"+r+"');\n                    ":"\n                        renderer.shader.syncUniformGroup(uv."+r+", syncData);\n                    ")}return new Function("ud","uv","renderer","syncData",i.join("\n"))}(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[e],t.syncUniforms[this.shader.program.id]},n.prototype.syncUniformBufferGroup=function(t,e){var i=this.getGlProgram();if(!t.static||0!==t.dirtyId||!i.uniformGroups[t.id]){t.dirtyId=0;var r=i.uniformGroups[t.id]||this.createSyncBufferGroup(t,i,e);t.buffer.update(),r(i.uniformData,t.uniforms,this.renderer,QE,t.buffer)}this.renderer.buffer.bindBufferBase(t.buffer,i.uniformBufferBindings[e])},n.prototype.createSyncBufferGroup=function(t,e,i){var r=this.renderer.gl;this.renderer.buffer.bind(t.buffer);var s=this.gl.getUniformBlockIndex(e.program,i);e.uniformBufferBindings[i]=this.shader.uniformBindCount,r.uniformBlockBinding(e.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;var o=this.getSignature(t,this.shader.program.uniformData,"ubo"),a=this._uboCache[o];if(a||(a=this._uboCache[o]=function dCe(n,t){if(!n.autoManage)return{size:0,syncFunc:aCe};for(var e=function uCe(n,t){var e=[];for(var i in n)t[i]&&e.push(t[i]);return e.sort(function(r,s){return r.index-s.index}),e}(n.uniforms,t),i=function cCe(n){for(var t=n.map(function(l){return{data:l,offset:0,dataLen:0,dirty:0}}),e=0,i=0,r=0,s=0;s<t.length;s++){var o=t[s];if(e=NV[o.data.type],o.data.size>1&&(e=Math.max(e,16)*o.data.size),o.dataLen=e,i%e!=0&&i<16){var a=i%e%16;i+=a,r+=a}i+e>16?(r=16*Math.ceil(r/16),o.offset=r,r+=e,i=e):(o.offset=r,i+=e,r+=e)}return{uboElements:t,size:r=16*Math.ceil(r/16)}}(e),r=i.uboElements,s=i.size,o=["\n    var v = null;\n    var v2 = null;\n    var cv = null;\n    var t = 0;\n    var gl = renderer.gl\n    var index = 0;\n    var data = buffer.data;\n    "],a=0;a<r.length;a++){for(var l=r[a],c=n.uniforms[l.data.name],u=l.data.name,d=!1,f=0;f<Sm.length;f++){var y=Sm[f];if(y.codeUbo&&y.test(l.data,c)){o.push("offset = "+l.offset/4+";",Sm[f].codeUbo(l.data.name,c)),d=!0;break}}if(!d)if(l.data.size>1){var O=CV(l.data.type),I=Math.max(NV[l.data.type]/16,1),N=O/I;o.push("\n                cv = ud."+u+".value;\n                v = uv."+u+";\n                offset = "+l.offset/4+";\n\n                t = 0;\n\n                for(var i=0; i < "+l.data.size*I+"; i++)\n                {\n                    for(var j = 0; j < "+N+"; j++)\n                    {\n                        data[offset++] = v[t++];\n                    }\n                    offset += "+(4-N%4)%4+";\n                }\n\n                ")}else o.push("\n                cv = ud."+u+".value;\n                v = uv."+u+";\n                offset = "+l.offset/4+";\n                "+lCe[l.data.type]+";\n                ")}return o.push("\n       renderer.buffer.update(buffer);\n    "),{size:s,syncFunc:new Function("ud","uv","renderer","syncData","buffer",o.join("\n"))}}(t,this.shader.program.uniformData)),t.autoManage){var l=new Float32Array(a.size/4);t.buffer.update(l)}return e.uniformGroups[t.id]=a.syncFunc,e.uniformGroups[t.id]},n.prototype.getSignature=function(t,e,i){var r=t.uniforms,s=[i+"-"];for(var o in r)s.push(o),e[o]&&s.push(e[o].type);return s.join("-")},n.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},n.prototype.generateProgram=function(t){var i=t.program,r=function gCe(n,t){var e=mV(n,n.VERTEX_SHADER,t.vertexSrc),i=mV(n,n.FRAGMENT_SHADER,t.fragmentSrc),r=n.createProgram();if(n.attachShader(r,e),n.attachShader(r,i),n.linkProgram(r),n.getProgramParameter(r,n.LINK_STATUS)||function GSe(n,t,e,i){n.getProgramParameter(t,n.LINK_STATUS)||(n.getShaderParameter(e,n.COMPILE_STATUS)||vV(n,e),n.getShaderParameter(i,n.COMPILE_STATUS)||vV(n,i),console.error("PixiJS Error: Could not initialize shader."),""!==n.getProgramInfoLog(t)&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",n.getProgramInfoLog(t)))}(n,r,e,i),t.attributeData=function fCe(n,t){for(var e={},i=t.getProgramParameter(n,t.ACTIVE_ATTRIBUTES),r=0;r<i;r++){var s=t.getActiveAttrib(n,r);if(0!==s.name.indexOf("gl_")){var o=TV(t,s.type),a={type:o,name:s.name,size:CV(o),location:t.getAttribLocation(n,s.name)};e[s.name]=a}}return e}(r,n),t.uniformData=function pCe(n,t){for(var e={},i=t.getProgramParameter(n,t.ACTIVE_UNIFORMS),r=0;r<i;r++){var s=t.getActiveUniform(n,r),o=s.name.replace(/\[.*?\]$/,""),a=!!s.name.match(/\[.*?\]$/),l=TV(t,s.type);e[o]={name:o,index:r,type:l,size:s.size,isArray:a,value:yV(l,s.size)}}return e}(r,n),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(t.vertexSrc)){var s=Object.keys(t.attributeData);s.sort(function(u,d){return u>d?1:-1});for(var o=0;o<s.length;o++)t.attributeData[s[o]].location=o,n.bindAttribLocation(r,o,s[o]);n.linkProgram(r)}n.deleteShader(e),n.deleteShader(i);var a={};for(var o in t.uniformData){var l=t.uniformData[o];a[o]={location:n.getUniformLocation(r,o),value:yV(l.type,l.size)}}return new hCe(r,a)}(this.gl,i);return i.glPrograms[this.renderer.CONTEXT_UID]=r,r},n.prototype.reset=function(){this.program=null,this.shader=null},n.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},n}(),FV=function(){function n(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=qe.NONE,this._blendEq=!1,this.map=[],this.map[0]=this.setBlend,this.map[1]=this.setOffset,this.map[2]=this.setCullFace,this.map[3]=this.setDepthTest,this.map[4]=this.setFrontFace,this.map[5]=this.setDepthMask,this.checks=[],this.defaultState=new CR,this.defaultState.blend=!0}return n.prototype.contextChange=function(t){this.gl=t,this.blendModes=function mCe(n,t){return void 0===t&&(t=[]),t[qe.NORMAL]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[qe.ADD]=[n.ONE,n.ONE],t[qe.MULTIPLY]=[n.DST_COLOR,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA],t[qe.SCREEN]=[n.ONE,n.ONE_MINUS_SRC_COLOR,n.ONE,n.ONE_MINUS_SRC_ALPHA],t[qe.OVERLAY]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[qe.DARKEN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[qe.LIGHTEN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[qe.COLOR_DODGE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[qe.COLOR_BURN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[qe.HARD_LIGHT]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[qe.SOFT_LIGHT]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[qe.DIFFERENCE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[qe.EXCLUSION]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[qe.HUE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[qe.SATURATION]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[qe.COLOR]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[qe.LUMINOSITY]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[qe.NONE]=[0,0],t[qe.NORMAL_NPM]=[n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA],t[qe.ADD_NPM]=[n.SRC_ALPHA,n.ONE,n.ONE,n.ONE],t[qe.SCREEN_NPM]=[n.SRC_ALPHA,n.ONE_MINUS_SRC_COLOR,n.ONE,n.ONE_MINUS_SRC_ALPHA],t[qe.SRC_IN]=[n.DST_ALPHA,n.ZERO],t[qe.SRC_OUT]=[n.ONE_MINUS_DST_ALPHA,n.ZERO],t[qe.SRC_ATOP]=[n.DST_ALPHA,n.ONE_MINUS_SRC_ALPHA],t[qe.DST_OVER]=[n.ONE_MINUS_DST_ALPHA,n.ONE],t[qe.DST_IN]=[n.ZERO,n.SRC_ALPHA],t[qe.DST_OUT]=[n.ZERO,n.ONE_MINUS_SRC_ALPHA],t[qe.DST_ATOP]=[n.ONE_MINUS_DST_ALPHA,n.SRC_ALPHA],t[qe.XOR]=[n.ONE_MINUS_DST_ALPHA,n.ONE_MINUS_SRC_ALPHA],t[qe.SUBTRACT]=[n.ONE,n.ONE,n.ONE,n.ONE,n.FUNC_REVERSE_SUBTRACT,n.FUNC_ADD],t}(t),this.set(this.defaultState),this.reset()},n.prototype.set=function(t){if(this.stateId!==(t=t||this.defaultState).data){for(var e=this.stateId^t.data,i=0;e;)1&e&&this.map[i].call(this,!!(t.data&1<<i)),e>>=1,i++;this.stateId=t.data}for(i=0;i<this.checks.length;i++)this.checks[i](this,t)},n.prototype.forceState=function(t){t=t||this.defaultState;for(var e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data},n.prototype.setBlend=function(t){this.updateCheck(n.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)},n.prototype.setOffset=function(t){this.updateCheck(n.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},n.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)},n.prototype.setDepthMask=function(t){this.gl.depthMask(t)},n.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)},n.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])},n.prototype.setBlendMode=function(t){if(t!==this.blendMode){this.blendMode=t;var e=this.blendModes[t],i=this.gl;2===e.length?i.blendFunc(e[0],e[1]):i.blendFuncSeparate(e[0],e[1],e[2],e[3]),6===e.length?(this._blendEq=!0,i.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,i.blendEquationSeparate(i.FUNC_ADD,i.FUNC_ADD))}},n.prototype.setPolygonOffset=function(t,e){this.gl.polygonOffset(t,e)},n.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},n.prototype.updateCheck=function(t,e){var i=this.checks.indexOf(t);e&&-1===i?this.checks.push(t):!e&&-1!==i&&this.checks.splice(i,1)},n.checkBlendMode=function(t,e){t.setBlendMode(e.blendMode)},n.checkPolygonOffset=function(t,e){t.setPolygonOffset(1,e.polygonOffset)},n.prototype.destroy=function(){this.gl=null},n}(),LV=function(){function n(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=Mt.GC_MAX_IDLE,this.checkCountMax=Mt.GC_MAX_CHECK_COUNT,this.mode=Mt.GC_MODE}return n.prototype.postrender=function(){!this.renderer.renderingToScreen||(this.count++,this.mode!==rm.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},n.prototype.run=function(){for(var t=this.renderer.texture,e=t.managedTextures,i=!1,r=0;r<e.length;r++){var s=e[r];!s.framebuffer&&this.count-s.touched>this.maxIdle&&(t.destroyTexture(s,!0),e[r]=null,i=!0)}if(i){var o=0;for(r=0;r<e.length;r++)null!==e[r]&&(e[o++]=e[r]);e.length=o}},n.prototype.unload=function(t){var i=t._texture;i&&!i.framebuffer&&this.renderer.texture.destroyTexture(i);for(var r=t.children.length-1;r>=0;r--)this.unload(t.children[r])},n.prototype.destroy=function(){this.renderer=null},n}(),ER=function n(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=Dt.UNSIGNED_BYTE,this.internalFormat=it.RGBA,this.samplerType=0},BV=function(){function n(t){this.renderer=t,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Gs,this.hasIntegerTextures=!1}return n.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=function TCe(n){var t,e,i,r,s,o,a,l,c,u,d,f,y,O,I,N,k,B,G,Y,J,Z,ge;return"WebGL2RenderingContext"in self&&n instanceof self.WebGL2RenderingContext?((t={})[Dt.UNSIGNED_BYTE]=((e={})[it.RGBA]=n.RGBA8,e[it.RGB]=n.RGB8,e[it.RG]=n.RG8,e[it.RED]=n.R8,e[it.RGBA_INTEGER]=n.RGBA8UI,e[it.RGB_INTEGER]=n.RGB8UI,e[it.RG_INTEGER]=n.RG8UI,e[it.RED_INTEGER]=n.R8UI,e[it.ALPHA]=n.ALPHA,e[it.LUMINANCE]=n.LUMINANCE,e[it.LUMINANCE_ALPHA]=n.LUMINANCE_ALPHA,e),t[Dt.BYTE]=((i={})[it.RGBA]=n.RGBA8_SNORM,i[it.RGB]=n.RGB8_SNORM,i[it.RG]=n.RG8_SNORM,i[it.RED]=n.R8_SNORM,i[it.RGBA_INTEGER]=n.RGBA8I,i[it.RGB_INTEGER]=n.RGB8I,i[it.RG_INTEGER]=n.RG8I,i[it.RED_INTEGER]=n.R8I,i),t[Dt.UNSIGNED_SHORT]=((r={})[it.RGBA_INTEGER]=n.RGBA16UI,r[it.RGB_INTEGER]=n.RGB16UI,r[it.RG_INTEGER]=n.RG16UI,r[it.RED_INTEGER]=n.R16UI,r[it.DEPTH_COMPONENT]=n.DEPTH_COMPONENT16,r),t[Dt.SHORT]=((s={})[it.RGBA_INTEGER]=n.RGBA16I,s[it.RGB_INTEGER]=n.RGB16I,s[it.RG_INTEGER]=n.RG16I,s[it.RED_INTEGER]=n.R16I,s),t[Dt.UNSIGNED_INT]=((o={})[it.RGBA_INTEGER]=n.RGBA32UI,o[it.RGB_INTEGER]=n.RGB32UI,o[it.RG_INTEGER]=n.RG32UI,o[it.RED_INTEGER]=n.R32UI,o[it.DEPTH_COMPONENT]=n.DEPTH_COMPONENT24,o),t[Dt.INT]=((a={})[it.RGBA_INTEGER]=n.RGBA32I,a[it.RGB_INTEGER]=n.RGB32I,a[it.RG_INTEGER]=n.RG32I,a[it.RED_INTEGER]=n.R32I,a),t[Dt.FLOAT]=((l={})[it.RGBA]=n.RGBA32F,l[it.RGB]=n.RGB32F,l[it.RG]=n.RG32F,l[it.RED]=n.R32F,l[it.DEPTH_COMPONENT]=n.DEPTH_COMPONENT32F,l),t[Dt.HALF_FLOAT]=((c={})[it.RGBA]=n.RGBA16F,c[it.RGB]=n.RGB16F,c[it.RG]=n.RG16F,c[it.RED]=n.R16F,c),t[Dt.UNSIGNED_SHORT_5_6_5]=((u={})[it.RGB]=n.RGB565,u),t[Dt.UNSIGNED_SHORT_4_4_4_4]=((d={})[it.RGBA]=n.RGBA4,d),t[Dt.UNSIGNED_SHORT_5_5_5_1]=((f={})[it.RGBA]=n.RGB5_A1,f),t[Dt.UNSIGNED_INT_2_10_10_10_REV]=((y={})[it.RGBA]=n.RGB10_A2,y[it.RGBA_INTEGER]=n.RGB10_A2UI,y),t[Dt.UNSIGNED_INT_10F_11F_11F_REV]=((O={})[it.RGB]=n.R11F_G11F_B10F,O),t[Dt.UNSIGNED_INT_5_9_9_9_REV]=((I={})[it.RGB]=n.RGB9_E5,I),t[Dt.UNSIGNED_INT_24_8]=((N={})[it.DEPTH_STENCIL]=n.DEPTH24_STENCIL8,N),t[Dt.FLOAT_32_UNSIGNED_INT_24_8_REV]=((k={})[it.DEPTH_STENCIL]=n.DEPTH32F_STENCIL8,k),ge=t):((B={})[Dt.UNSIGNED_BYTE]=((G={})[it.RGBA]=n.RGBA,G[it.RGB]=n.RGB,G[it.ALPHA]=n.ALPHA,G[it.LUMINANCE]=n.LUMINANCE,G[it.LUMINANCE_ALPHA]=n.LUMINANCE_ALPHA,G),B[Dt.UNSIGNED_SHORT_5_6_5]=((Y={})[it.RGB]=n.RGB,Y),B[Dt.UNSIGNED_SHORT_4_4_4_4]=((J={})[it.RGBA]=n.RGBA,J),B[Dt.UNSIGNED_SHORT_5_5_5_1]=((Z={})[it.RGBA]=n.RGBA,Z),ge=B),ge}(t);var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(var i=0;i<e;i++)this.boundTextures[i]=null;this.emptyTextures={};var r=new ER(t.createTexture());for(t.bindTexture(t.TEXTURE_2D,r.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=r,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new ER(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture),i=0;i<6;i++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);for(t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR),i=0;i<this.boundTextures.length;i++)this.bind(null,i)},n.prototype.bind=function(t,e){void 0===e&&(e=0);var i=this.gl;if((t=null==t?void 0:t.castToBaseTexture())&&t.valid&&!t.parentTextureArray){t.touched=this.renderer.textureGC.count;var r=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[e]!==t&&(this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),i.bindTexture(t.target,r.texture)),r.dirtyId!==t.dirtyId&&(this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),this.updateTexture(t)),this.boundTextures[e]=t}else this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),i.bindTexture(i.TEXTURE_2D,this.emptyTextures[i.TEXTURE_2D].texture),this.boundTextures[e]=null},n.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture},n.prototype.unbind=function(t){var i=this.gl,r=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var s=0;s<r.length;s++)r[s]===this.unknownTexture&&this.bind(null,s)}for(s=0;s<r.length;s++)r[s]===t&&(this.currentLocation!==s&&(i.activeTexture(i.TEXTURE0+s),this.currentLocation=s),i.bindTexture(t.target,this.emptyTextures[t.target].texture),r[s]=null)},n.prototype.ensureSamplerType=function(t){var e=this,i=e.boundTextures,s=e.CONTEXT_UID;if(e.hasIntegerTextures)for(var o=t-1;o>=0;--o){var a=i[o];a&&a._glTextures[s].samplerType!==ah.FLOAT&&this.renderer.texture.unbind(a)}},n.prototype.initTexture=function(t){var e=new ER(this.gl.createTexture());return e.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),e},n.prototype.initTextureType=function(t,e){var i,r;e.internalFormat=null!==(r=null===(i=this.internalFormats[t.type])||void 0===i?void 0:i[t.format])&&void 0!==r?r:t.format,e.type=2===this.webGLVersion&&t.type===Dt.HALF_FLOAT?this.gl.HALF_FLOAT:t.type},n.prototype.updateTexture=function(t){var e=t._glTextures[this.CONTEXT_UID];if(e){var i=this.renderer;if(this.initTextureType(t,e),t.resource&&t.resource.upload(i,t,e))e.samplerType!==ah.FLOAT&&(this.hasIntegerTextures=!0);else{var r=t.realWidth,s=t.realHeight,o=i.gl;(e.width!==r||e.height!==s||e.dirtyId<0)&&(e.width=r,e.height=s,o.texImage2D(t.target,0,e.internalFormat,r,s,0,t.format,e.type,null))}t.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(t),e.dirtyId=t.dirtyId}},n.prototype.destroyTexture=function(t,e){var i=this.gl;if((t=t.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(t),i.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!e)){var r=this.managedTextures.indexOf(t);-1!==r&&function vSe(n,t,e){var r,i=n.length;if(!(t>=i||0===e)){var s=i-(e=t+e>i?i-t:e);for(r=t;r<s;++r)n[r]=n[r+e];n.length=s}}(this.managedTextures,r,1)}},n.prototype.updateTextureStyle=function(t){var e=t._glTextures[this.CONTEXT_UID];!e||(e.mipmap=!!(t.mipmap!==aa.POW2&&2===this.webGLVersion||t.isPowerOfTwo)&&t.mipmap>=1,e.wrapMode=2===this.webGLVersion||t.isPowerOfTwo?t.wrapMode:xl.CLAMP,t.resource&&t.resource.style(this.renderer,t,e)||this.setStyle(t,e),e.dirtyStyleId=t.dirtyStyleId)},n.prototype.setStyle=function(t,e){var i=this.gl;if(e.mipmap&&t.mipmap!==aa.ON_MANUAL&&i.generateMipmap(t.target),i.texParameteri(t.target,i.TEXTURE_WRAP_S,e.wrapMode),i.texParameteri(t.target,i.TEXTURE_WRAP_T,e.wrapMode),e.mipmap){i.texParameteri(t.target,i.TEXTURE_MIN_FILTER,t.scaleMode===Cs.LINEAR?i.LINEAR_MIPMAP_LINEAR:i.NEAREST_MIPMAP_NEAREST);var r=this.renderer.context.extensions.anisotropicFiltering;if(r&&t.anisotropicLevel>0&&t.scaleMode===Cs.LINEAR){var s=Math.min(t.anisotropicLevel,i.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT));i.texParameterf(t.target,r.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else i.texParameteri(t.target,i.TEXTURE_MIN_FILTER,t.scaleMode===Cs.LINEAR?i.LINEAR:i.NEAREST);i.texParameteri(t.target,i.TEXTURE_MAG_FILTER,t.scaleMode===Cs.LINEAR?i.LINEAR:i.NEAREST)},n.prototype.destroy=function(){this.renderer=null},n}(),UV={__proto__:null,FilterSystem:uV,BatchSystem:hV,ContextSystem:pV,FramebufferSystem:gV,GeometrySystem:_V,MaskSystem:OV,ScissorSystem:IV,StencilSystem:AV,ProjectionSystem:RV,RenderTextureSystem:DV,ShaderSystem:kV,StateSystem:FV,TextureGCSystem:LV,TextureSystem:BV},TR=new tl,wCe=function(n){function t(e,i){void 0===e&&(e=Tc.UNKNOWN);var r=n.call(this)||this;return i=Object.assign({},Mt.RENDER_OPTIONS,i),r.options=i,r.type=e,r.screen=new Go(0,0,i.width,i.height),r.view=i.view||document.createElement("canvas"),r.resolution=i.resolution||Mt.RESOLUTION,r.useContextAlpha=i.useContextAlpha,r.autoDensity=!!i.autoDensity,r.preserveDrawingBuffer=i.preserveDrawingBuffer,r.clearBeforeRender=i.clearBeforeRender,r._backgroundColor=0,r._backgroundColorRgba=[0,0,0,1],r._backgroundColorString="#000000",r.backgroundColor=i.backgroundColor||r._backgroundColor,r.backgroundAlpha=i.backgroundAlpha,void 0!==i.transparent&&(Jf("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),r.useContextAlpha=i.transparent,r.backgroundAlpha=i.transparent?0:1),r._lastObjectRendered=null,r.plugins={},r}return vr(t,n),t.prototype.initPlugins=function(e){for(var i in e)this.plugins[i]=new e[i](this)},Object.defineProperty(t.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),t.prototype.resize=function(e,i){this.view.width=Math.round(e*this.resolution),this.view.height=Math.round(i*this.resolution);var r=this.view.width/this.resolution,s=this.view.height/this.resolution;this.screen.width=r,this.screen.height=s,this.autoDensity&&(this.view.style.width=r+"px",this.view.style.height=s+"px"),this.emit("resize",r,s)},t.prototype.generateTexture=function(e,i,r,s){void 0===i&&(i={}),"number"==typeof i&&(Jf("6.1.0","generateTexture options (scaleMode, resolution, region) are now object options."),i={scaleMode:i,resolution:r,region:s});var o=i.region,a=function ESe(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&(e[i[r]]=n[i[r]])}return e}(i,["region"]);0===(s=o||e.getLocalBounds(null,!0)).width&&(s.width=1),0===s.height&&(s.height=1);var l=uR.create(sR({width:s.width,height:s.height},a));return TR.tx=-s.x,TR.ty=-s.y,this.render(e,{renderTexture:l,clear:!1,transform:TR,skipUpdateTransform:!!e.parent}),l},t.prototype.destroy=function(e){for(var i in this.plugins)this.plugins[i].destroy(),this.plugins[i]=null;e&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var r=this;r.plugins=null,r.type=Tc.UNKNOWN,r.view=null,r.screen=null,r._tempDisplayObjectParent=null,r.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(t.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e,this._backgroundColorString=function pSe(n){var t=n.toString(16);return"#"+("000000".substr(0,6-t.length)+t)}(e),function fSe(n,t){void 0===t&&(t=[]),t[0]=(n>>16&255)/255,t[1]=(n>>8&255)/255,t[2]=(255&n)/255}(e,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(e){this._backgroundColorRgba[3]=e},enumerable:!1,configurable:!0}),t}(K2),MCe=function n(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0},OCe=function(){function n(t){this.renderer=t,this.managedBuffers={},this.boundBufferBases={}}return n.prototype.destroy=function(){this.renderer=null},n.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},n.prototype.bind=function(t){var i=this.gl,s=t._glBuffers[this.CONTEXT_UID]||this.createGLBuffer(t);i.bindBuffer(t.type,s.buffer)},n.prototype.bindBufferBase=function(t,e){var r=this.gl;if(this.boundBufferBases[e]!==t){var o=t._glBuffers[this.CONTEXT_UID]||this.createGLBuffer(t);this.boundBufferBases[e]=t,r.bindBufferBase(r.UNIFORM_BUFFER,e,o.buffer)}},n.prototype.bindBufferRange=function(t,e,i){var s=this.gl;i=i||0;var a=t._glBuffers[this.CONTEXT_UID]||this.createGLBuffer(t);s.bindBufferRange(s.UNIFORM_BUFFER,e||0,a.buffer,256*i,256)},n.prototype.update=function(t){var i=this.gl,s=t._glBuffers[this.CONTEXT_UID];if(t._updateID!==s.updateID)if(s.updateID=t._updateID,i.bindBuffer(t.type,s.buffer),s.byteLength>=t.data.byteLength)i.bufferSubData(t.type,0,t.data);else{var o=t.static?i.STATIC_DRAW:i.DYNAMIC_DRAW;s.byteLength=t.data.byteLength,i.bufferData(t.type,t.data,o)}},n.prototype.dispose=function(t,e){if(this.managedBuffers[t.id]){delete this.managedBuffers[t.id];var i=t._glBuffers[this.CONTEXT_UID],r=this.gl;t.disposeRunner.remove(this),i&&(e||r.deleteBuffer(i.buffer),delete t._glBuffers[this.CONTEXT_UID])}},n.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedBuffers),i=0;i<e.length;i++)this.dispose(this.managedBuffers[e[i]],t)},n.prototype.createGLBuffer=function(t){var i=this.CONTEXT_UID;return t._glBuffers[i]=new MCe(this.gl.createBuffer()),this.managedBuffers[t.id]=t,t.disposeRunner.add(this),t._glBuffers[i]},n}(),PCe=(function(n){function t(e){var i=n.call(this,Tc.WEBGL,e)||this;return e=i.options,i.gl=null,i.CONTEXT_UID=0,i.runners={destroy:new Uo("destroy"),contextChange:new Uo("contextChange"),reset:new Uo("reset"),update:new Uo("update"),postrender:new Uo("postrender"),prerender:new Uo("prerender"),resize:new Uo("resize")},i.runners.contextChange.add(i),i.globalUniforms=new bm({projectionMatrix:new tl},!0),i.addSystem(OV,"mask").addSystem(pV,"context").addSystem(FV,"state").addSystem(kV,"shader").addSystem(BV,"texture").addSystem(OCe,"buffer").addSystem(_V,"geometry").addSystem(gV,"framebuffer").addSystem(IV,"scissor").addSystem(AV,"stencil").addSystem(RV,"projection").addSystem(LV,"textureGC").addSystem(uV,"filter").addSystem(DV,"renderTexture").addSystem(hV,"batch"),i.initPlugins(t.__plugins),i.multisample=void 0,e.context?i.context.initFromContext(e.context):i.context.initFromOptions({alpha:!!i.useContextAlpha,antialias:e.antialias,premultipliedAlpha:i.useContextAlpha&&"notMultiplied"!==i.useContextAlpha,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:i.options.powerPreference}),i.renderingToScreen=!0,function dSe(n){var t;z7||(navigator.userAgent.toLowerCase().indexOf("chrome")>-1?(t=self.console).log.apply(t,["\n %c %c %c PixiJS 6.2.2 - \u2730 "+n+" \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"]):self.console&&self.console.log("PixiJS 6.2.2 - "+n+" - http://www.pixijs.com/"),z7=!0)}(2===i.context.webGLVersion?"WebGL 2":"WebGL 1"),i.resize(i.options.width,i.options.height),i}vr(t,n),t.create=function(e){if(function hSe(){return void 0===eR&&(eR=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:Mt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!self.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),i=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),r=!(!i||!i.getContextAttributes().stencil);if(i){var s=i.getExtension("WEBGL_lose_context");s&&s.loseContext()}return i=null,r}catch(o){return!1}}()),eR}())return new t(e);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},t.prototype.contextChange=function(){var i,e=this.gl;if(1===this.context.webGLVersion){var r=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),i=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,r)}else r=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),i=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,r);this.multisample=i>=qn.HIGH?qn.HIGH:i>=qn.MEDIUM?qn.MEDIUM:i>=qn.LOW?qn.LOW:qn.NONE},t.prototype.addSystem=function(e,i){var r=new e(this);if(this[i])throw new Error('Whoops! The name "'+i+'" is already in use');for(var s in this[i]=r,this.runners)this.runners[s].add(r);return this},t.prototype.render=function(e,i){var r,s,o,a;if(i&&(i instanceof uR?(Jf("6.0.0","Renderer#render arguments changed, use options instead."),r=i,s=arguments[2],o=arguments[3],a=arguments[4]):(r=i.renderTexture,s=i.clear,o=i.transform,a=i.skipUpdateTransform)),this.renderingToScreen=!r,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=o,!this.context.isLost){if(r||(this._lastObjectRendered=e),!a){var l=e.enableTempParent();e.updateTransform(),e.disableTempParent(l)}this.renderTexture.bind(r),this.batch.currentRenderer.start(),(void 0!==s?s:this.clearBeforeRender)&&this.renderTexture.clear(),e.render(this),this.batch.currentRenderer.flush(),r&&r.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},t.prototype.generateTexture=function(e,i,r,s){void 0===i&&(i={});var o=n.prototype.generateTexture.call(this,e,i,r,s);return this.framebuffer.blit(),o},t.prototype.resize=function(e,i){n.prototype.resize.call(this,e,i),this.runners.resize.emit(this.screen.height,this.screen.width)},t.prototype.reset=function(){return this.runners.reset.emit(),this},t.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},t.prototype.destroy=function(e){for(var i in this.runners.destroy.emit(),this.runners)this.runners[i].destroy();n.prototype.destroy.call(this,e),this.gl=null},Object.defineProperty(t.prototype,"extract",{get:function(){return Jf("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),t.registerPlugin=function(e,i){(t.__plugins=t.__plugins||{})[e]=i}}(wCe),function n(){this.texArray=null,this.blend=0,this.type=fo.TRIANGLES,this.start=0,this.size=0,this.data=null}),xCe=function(){function n(){this.elements=[],this.ids=[],this.count=0}return n.prototype.clear=function(){for(var t=0;t<this.count;t++)this.elements[t]=null;this.count=0},n}(),ICe=function(){function n(t){this.rawBinaryData="number"==typeof t?new ArrayBuffer(t):t instanceof Uint8Array?t.buffer:t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(n.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),n.prototype.view=function(t){return this[t+"View"]},n.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},n.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}},n}(),ACe=function(n){function t(e){var i=n.call(this,e)||this;return i.shaderGenerator=null,i.geometryClass=null,i.vertexSize=null,i.state=CR.for2d(),i.size=4*Mt.SPRITE_BATCH_SIZE,i._vertexCount=0,i._indexCount=0,i._bufferedElements=[],i._bufferedTextures=[],i._bufferSize=0,i._shader=null,i._packedGeometries=[],i._packedGeometryPoolSize=2,i._flushId=0,i._aBuffers={},i._iBuffers={},i.MAX_TEXTURES=1,i.renderer.on("prerender",i.onPrerender,i),e.runners.contextChange.add(i),i._dcIndex=0,i._aIndex=0,i._iIndex=0,i._attributeBuffer=null,i._indexBuffer=null,i._tempBoundTextures=[],i}return vr(t,n),t.prototype.contextChange=function(){var e=this.renderer.gl;Mt.PREFER_ENV===Js.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),Mt.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=function qSe(n,t){if(0===n)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var e=t.createShader(t.FRAGMENT_SHADER);;){var i=YSe.replace(/%forloop%/gi,XSe(n));if(t.shaderSource(e,i),t.compileShader(e),t.getShaderParameter(e,t.COMPILE_STATUS))break;n=n/2|0}return n}(this.MAX_TEXTURES,e)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var i=0;i<this._packedGeometryPoolSize;i++)this._packedGeometries[i]=new this.geometryClass;this.initFlushBuffers()},t.prototype.initFlushBuffers=function(){for(var e=t._drawCallPool,i=t._textureArrayPool,r=this.size/4,s=Math.floor(r/this.MAX_TEXTURES)+1;e.length<r;)e.push(new PCe);for(;i.length<s;)i.push(new xCe);for(var o=0;o<this.MAX_TEXTURES;o++)this._tempBoundTextures[o]=null},t.prototype.onPrerender=function(){this._flushId=0},t.prototype.render=function(e){!e._texture.valid||(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)},t.prototype.buildTexturesAndDrawCalls=function(){var i=this._bufferedTextures,r=this.MAX_TEXTURES,s=t._textureArrayPool,o=this.renderer.batch,a=this._tempBoundTextures,l=this.renderer.textureGC.count,c=++Gs._globalBatch,u=0,d=s[0],f=0;o.copyBoundTextures(a,r);for(var y=0;y<this._bufferSize;++y){var O=i[y];i[y]=null,O._batchEnabled!==c&&(d.count>=r&&(o.boundArray(d,a,c,r),this.buildDrawCalls(d,f,y),f=y,d=s[++u],++c),O._batchEnabled=c,O.touched=l,d.elements[d.count++]=O)}for(d.count>0&&(o.boundArray(d,a,c,r),this.buildDrawCalls(d,f,this._bufferSize),++u,++c),y=0;y<a.length;y++)a[y]=null;Gs._globalBatch=c},t.prototype.buildDrawCalls=function(e,i,r){var s=this,o=s._bufferedElements,a=s._attributeBuffer,l=s._indexBuffer,c=s.vertexSize,u=t._drawCallPool,d=this._dcIndex,f=this._aIndex,y=this._iIndex,O=u[d];O.start=this._iIndex,O.texArray=e;for(var I=i;I<r;++I){var N=o[I],B=_Se[N._texture.baseTexture.alphaMode?1:0][N.blendMode];o[I]=null,i<I&&O.blend!==B&&(O.size=y-O.start,i=I,(O=u[++d]).texArray=e,O.start=y),this.packInterleavedGeometry(N,a,l,f,y),f+=N.vertexData.length/2*c,y+=N.indices.length,O.blend=B}i<r&&(O.size=y-O.start,++d),this._dcIndex=d,this._aIndex=f,this._iIndex=y},t.prototype.bindAndClearTexArray=function(e){for(var i=this.renderer.texture,r=0;r<e.count;r++)i.bind(e.elements[r],e.ids[r]),e.elements[r]=null;e.count=0},t.prototype.updateGeometry=function(){var e=this,i=e._packedGeometries,r=e._attributeBuffer,s=e._indexBuffer;Mt.CAN_UPLOAD_SAME_BUFFER?(i[this._flushId]._buffer.update(r.rawBinaryData),i[this._flushId]._indexBuffer.update(s),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,i[this._flushId]=new this.geometryClass),i[this._flushId]._buffer.update(r.rawBinaryData),i[this._flushId]._indexBuffer.update(s),this.renderer.geometry.bind(i[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},t.prototype.drawBatches=function(){for(var e=this._dcIndex,i=this.renderer,r=i.gl,s=i.state,o=t._drawCallPool,a=null,l=0;l<e;l++){var c=o[l],u=c.texArray,d=c.type,f=c.size,y=c.start,O=c.blend;a!==u&&(a=u,this.bindAndClearTexArray(u)),this.state.blendMode=O,s.set(this.state),r.drawElements(d,f,r.UNSIGNED_SHORT,2*y)}},t.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},t.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),Mt.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},t.prototype.stop=function(){this.flush()},t.prototype.destroy=function(){for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),n.prototype.destroy.call(this)},t.prototype.getAttributeBuffer=function(e){var i=jE(Math.ceil(e/8)),r=X7(i),s=8*i;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);var o=this._aBuffers[s];return o||(this._aBuffers[s]=o=new ICe(s*this.vertexSize*4)),o},t.prototype.getIndexBuffer=function(e){var i=jE(Math.ceil(e/12)),r=X7(i),s=12*i;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);var o=this._iBuffers[r];return o||(this._iBuffers[r]=o=new Uint16Array(s)),o},t.prototype.packInterleavedGeometry=function(e,i,r,s,o){for(var a=i.uint32View,l=i.float32View,c=s/this.vertexSize,u=e.uvs,d=e.indices,f=e.vertexData,y=e._texture.baseTexture._batchLocation,O=Math.min(e.worldAlpha,1),I=O<1&&e._texture.baseTexture.alphaMode?function mSe(n,t){if(1===t)return(255*t<<24)+n;if(0===t)return 0;var e=n>>16&255,i=n>>8&255;return(255*t<<24)+((e=e*t+.5|0)<<16)+((i=i*t+.5|0)<<8)+((255&n)*t+.5|0)}(e._tintRGB,O):e._tintRGB+(255*O<<24),N=0;N<f.length;N+=2)l[s++]=f[N],l[s++]=f[N+1],l[s++]=u[N],l[s++]=u[N+1],a[s++]=I,l[s++]=y;for(N=0;N<d.length;N++)r[o++]=c+d[N]},t._drawCallPool=[],t._textureArrayPool=[],t}(dV),RCe=function(){function n(t,e){if(this.vertexSrc=t,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},e.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(e.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return n.prototype.generateShader=function(t){if(!this.programCache[t]){for(var e=new Int32Array(t),i=0;i<t;i++)e[i]=i;this.defaultGroupCache[t]=bm.from({uSamplers:e},!0);var r=this.fragTemplate;r=(r=r.replace(/%count%/gi,""+t)).replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new gR(this.vertexSrc,r)}var s={tint:new Float32Array([1,1,1,1]),translationMatrix:new tl,default:this.defaultGroupCache[t]};return new wV(this.programCache[t],s)},n.prototype.generateSampleSrc=function(t){var e="";e+="\n",e+="\n";for(var i=0;i<t;i++)i>0&&(e+="\nelse "),i<t-1&&(e+="if(vTextureId < "+i+".5)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+i+"], vTextureCoord);",e+="\n}";return(e+="\n")+"\n"},n}(),DCe=function(n){function t(e){void 0===e&&(e=!1);var i=n.call(this)||this;return i._buffer=new nl(null,e,!1),i._indexBuffer=new nl(null,e,!0),i.addAttribute("aVertexPosition",i._buffer,2,!1,Dt.FLOAT).addAttribute("aTextureCoord",i._buffer,2,!1,Dt.FLOAT).addAttribute("aColor",i._buffer,4,!0,Dt.UNSIGNED_BYTE).addAttribute("aTextureId",i._buffer,1,!0,Dt.FLOAT).addIndex(i._indexBuffer),i}return vr(t,n),t}(dR),GV="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",jV="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",NCe=function(){function n(){}return n.create=function(t){var e=Object.assign({vertex:GV,fragment:jV,geometryClass:DCe,vertexSize:6},t),i=e.vertex,r=e.fragment,s=e.vertexSize,o=e.geometryClass;return function(a){function l(c){var u=a.call(this,c)||this;return u.shaderGenerator=new RCe(i,r),u.geometryClass=o,u.vertexSize=s,u}return vr(l,a),l}(ACe)},Object.defineProperty(n,"defaultVertexSrc",{get:function(){return GV},enumerable:!1,configurable:!0}),Object.defineProperty(n,"defaultFragmentTemplate",{get:function(){return jV},enumerable:!1,configurable:!0}),n}(),kCe=(NCe.create(),{}),FCe=function(n){Object.defineProperty(kCe,n,{get:function(){return Jf("6.0.0","PIXI.systems."+n+" has moved to PIXI."+n),rV[n]}})};for(var wR in rV)FCe(wR);var LCe={},BCe=function(n){Object.defineProperty(LCe,n,{get:function(){return Jf("6.0.0","PIXI.resources."+n+" has moved to PIXI."+n),UV[n]}})};for(var wR in UV)BCe(wR);var HV=function(){function n(t){this.renderer=t}return n.prototype.render=function(t){var e=this.renderer,i=t.worldTransform;e.context.globalAlpha=t.worldAlpha,e.setBlendMode(t.blendMode),e.setContextTransform(i,t.roundPixels),t.drawMode!==fo.TRIANGLES?this._renderTriangleMesh(t):this._renderTriangles(t)},n.prototype._renderTriangleMesh=function(t){for(var e=t.geometry.buffers[0].data.length,i=0;i<e-2;i++){var r=2*i;this._renderDrawTriangle(t,r,r+2,r+4)}},n.prototype._renderTriangles=function(t){for(var e=t.geometry.getIndex().data,i=e.length,r=0;r<i;r+=3)this._renderDrawTriangle(t,2*e[r],2*e[r+1],2*e[r+2])},n.prototype._renderDrawTriangle=function(t,e,i,r){var s=this.renderer.context,o=t.geometry.buffers[0].data,a=t.uvs,l=t.texture;if(l.valid){var c=16777215!==t.tint,u=l.baseTexture,d=u.width,f=u.height;c&&t._cachedTint!==t.tint&&(t._cachedTint=t.tint,t._cachedTexture=t._cachedTexture||new vu(u),t._tintedCanvas=ds.getTintedCanvas({texture:t._cachedTexture},t.tint));var y=c?t._tintedCanvas:u.getDrawableSource(),O=a[e]*u.width,I=a[i]*u.width,N=a[r]*u.width,k=a[e+1]*u.height,B=a[i+1]*u.height,G=a[r+1]*u.height,Y=o[e],J=o[i],Z=o[r],ge=o[e+1],pe=o[i+1],ae=o[r+1],de=t.canvasPadding/this.renderer.resolution;if(de>0){var xe=t.worldTransform,ve=xe.a,ye=xe.b,Re=xe.c,Oe=xe.d,be=(Y+J+Z)/3,Ee=(ge+pe+ae)/3,De=Y-be,nt=ge-Ee,me=ve*De+Re*nt,Ve=ye*De+Oe*nt,et=Math.sqrt(me*me+Ve*Ve),st=1+de/et;Y=be+De*st,ge=Ee+nt*st,me=ve*(De=J-be)+Re*(nt=pe-Ee),Ve=ye*De+Oe*nt,J=be+De*(st=1+de/(et=Math.sqrt(me*me+Ve*Ve))),pe=Ee+nt*st,me=ve*(De=Z-be)+Re*(nt=ae-Ee),Ve=ye*De+Oe*nt,Z=be+De*(st=1+de/(et=Math.sqrt(me*me+Ve*Ve))),ae=Ee+nt*st}s.save(),s.beginPath(),s.moveTo(Y,ge),s.lineTo(J,pe),s.lineTo(Z,ae),s.closePath(),s.clip();var Tt=O*B+k*N+I*G-B*N-k*I-O*G;s.transform((Y*B+k*Z+J*G-B*Z-k*J-Y*G)/Tt,(ge*B+k*ae+pe*G-B*ae-k*pe-ge*G)/Tt,(O*J+Y*N+I*Z-J*N-Y*I-O*Z)/Tt,(O*pe+ge*N+I*ae-pe*N-ge*I-O*ae)/Tt,(O*B*Z+k*J*N+Y*I*G-Y*B*N-k*I*Z-O*J*G)/Tt,(O*B*ae+k*pe*N+ge*I*G-ge*B*N-k*I*ae-O*pe*G)/Tt),s.drawImage(y,0,0,d*u.resolution,f*u.resolution,0,0,d,f),s.restore(),this.renderer.invalidateBlendMode()}},n.prototype.renderMeshFlat=function(t){var e=this.renderer.context,i=t.geometry.getBuffer("aVertexPosition").data,r=i.length/2;e.beginPath();for(var s=1;s<r-2;++s){var o=2*s,c=i[o+2],u=i[o+3],d=i[o+4],f=i[o+5];e.moveTo(i[o],i[o+1]),e.lineTo(c,u),e.lineTo(d,f)}e.fillStyle="#FF0000",e.fill(),e.closePath()},n.prototype.destroy=function(){this.renderer=null},n}();Mt.MESH_CANVAS_PADDING=0,Kf.prototype._renderCanvas=function(t,e){t.plugins.mesh.render(e)},xy.prototype._cachedTint=16777215,xy.prototype._tintedCanvas=null,xy.prototype._canvasUvs=null,xy.prototype._renderCanvas=function(t){var e=t.context,i=this.worldTransform,r=16777215!==this.tint,s=this.texture;if(s.valid){r&&this._cachedTint!==this.tint&&(this._cachedTint=this.tint,this._tintedCanvas=ds.getTintedCanvas(this,this.tint));var o=r?this._tintedCanvas:s.baseTexture.getDrawableSource();this._canvasUvs||(this._canvasUvs=[0,0,0,0,0,0,0,0]);var a=this.vertices,l=this._canvasUvs,c=r?0:s.frame.x,u=r?0:s.frame.y,d=c+s.frame.width,f=u+s.frame.height;l[0]=c,l[1]=c+this._leftWidth,l[2]=d-this._rightWidth,l[3]=d,l[4]=u,l[5]=u+this._topHeight,l[6]=f-this._bottomHeight,l[7]=f;for(var y=0;y<8;y++)l[y]*=s.baseTexture.resolution;e.globalAlpha=this.worldAlpha,t.setBlendMode(this.blendMode),t.setContextTransform(i,this.roundPixels);for(var O=0;O<3;O++)for(var I=0;I<3;I++){var N=2*I+8*O,k=Math.max(1,l[I+1]-l[I]),B=Math.max(1,l[O+5]-l[O+4]),G=Math.max(1,a[N+10]-a[N]),Y=Math.max(1,a[N+11]-a[N+1]);e.drawImage(o,l[I],l[O+4],k,B,a[N],a[N+1],G,Y)}}};var VV=!1;Dl.prototype._cachedTint=16777215,Dl.prototype._tintedCanvas=null,Dl.prototype._cachedTexture=null,Dl.prototype._renderCanvas=function(t){this.shader.uvMatrix&&(this.shader.uvMatrix.update(),this.calculateUvs()),this.material._renderCanvas?this.material._renderCanvas(t,this):VV||(VV=!0,self.console&&console.warn("Mesh with custom shaders are not supported in CanvasRenderer."))},Dl.prototype._canvasPadding=null,Object.defineProperty(Dl.prototype,"canvasPadding",{get:function(){return null!==this._canvasPadding?this._canvasPadding:Mt.MESH_CANVAS_PADDING},set:function(n){this._canvasPadding=n}}),L7.prototype._renderCanvas=function(t){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),this.shader.update&&this.shader.update(),this.calculateUvs(),this.material._renderCanvas(t,this)},k7.prototype._renderCanvas=function(t){(this.autoUpdate||this.geometry._width!==this.shader.texture.height)&&(this.geometry._width=this.shader.texture.height,this.geometry.update()),this.shader.update&&this.shader.update(),this.calculateUvs(),this.material._renderCanvas(t,this)};var MR,zV=function(){function n(){}return n.offsetPolygon=function(t,e){var i=[],r=t.length;e=n.isPolygonClockwise(t)?e:-1*e;for(var s=0;s<r;s+=2){var o=s-2;o<0&&(o+=r);var a=(s+2)%r,l=t[s]-t[o],c=t[s+1]-t[o+1],u=Math.sqrt(l*l+c*c);l/=u,c/=u;var d=-(c*=e),y=[t[o]+d,t[o+1]+(l*=e)],O=[t[s]+d,t[s+1]+l],I=t[a]-t[s],N=t[a+1]-t[s+1];I/=u=Math.sqrt(I*I+N*N),N/=u;var k=-(N*=e),G=[t[s]+k,t[s+1]+(I*=e)],Y=[t[a]+k,t[a+1]+I],J=n.findIntersection(y[0],y[1],O[0],O[1],G[0],G[1],Y[0],Y[1]);J&&i.push.apply(i,J)}return i},n.findIntersection=function(t,e,i,r,s,o,a,l){var c=(l-o)*(i-t)-(a-s)*(r-e),u=(a-s)*(e-o)-(l-o)*(t-s);if(0===c)return 0===u&&0==(i-t)*(e-o)-(r-e)*(t-s)?[(t+i)/2,(e+r)/2]:null;var f=u/c;return[t+f*(i-t),e+f*(r-e)]},n.isPolygonClockwise=function(t){for(var e=0,i=0;i<t.length-2;i+=2)e+=(t[i+2]-t[i])*(t[i+3]+t[i+1]);return e>0},n}(),WV=function(){function n(t){this._svgMatrix=null,this._tempMatrix=new zi,this.renderer=t}return n.prototype._calcCanvasStyle=function(t,e){var i;return t.texture&&t.texture.baseTexture!==Jt.WHITE.baseTexture?t.texture.valid?(i=ds.getTintedPattern(t.texture,e),this.setPatternTransform(i,t.matrix||zi.IDENTITY)):i="#808080":i="#"+("00000"+(0|e).toString(16)).substr(-6),i},n.prototype.render=function(t){var e=this.renderer,i=e.context,r=t.worldAlpha,s=t.transform.worldTransform;e.setContextTransform(s),e.setBlendMode(t.blendMode);for(var a,l,o=t.geometry.graphicsData,c=(t.tint>>16&255)/255,u=(t.tint>>8&255)/255,d=(255&t.tint)/255,f=0;f<o.length;f++){var y=o[f],O=y.shape,I=y.fillStyle,N=y.lineStyle,k=0|y.fillStyle.color,B=0|y.lineStyle.color;if(y.matrix&&e.setContextTransform(s.copyTo(this._tempMatrix).append(y.matrix)),I.visible&&(a=this._calcCanvasStyle(I,((k>>16&255)/255*c*255<<16)+((k>>8&255)/255*u*255<<8)+(255&k)/255*d*255)),N.visible&&(l=this._calcCanvasStyle(N,((B>>16&255)/255*c*255<<16)+((B>>8&255)/255*u*255<<8)+(255&B)/255*d*255)),i.lineWidth=N.width,i.lineCap=N.cap,i.lineJoin=N.join,i.miterLimit=N.miterLimit,y.type===Oi.POLY){i.beginPath();var Z=(J=O).points,ge=y.holes,pe=void 0,ae=void 0,de=void 0,xe=void 0,ve=void 0;i.moveTo(Z[0],Z[1]);for(var ye=2;ye<Z.length;ye+=2)i.lineTo(Z[ye],Z[ye+1]);if(J.closeStroke&&i.closePath(),ge.length>0){for(ve=[],pe=0,de=Z[0],xe=Z[1],ye=2;ye+2<Z.length;ye+=2)pe+=(Z[ye]-de)*(Z[ye+3]-xe)-(Z[ye+2]-de)*(Z[ye+1]-xe);for(var Re=0;Re<ge.length;Re++)if(Z=ge[Re].shape.points){for(ae=0,de=Z[0],xe=Z[1],ye=2;ye+2<Z.length;ye+=2)ae+=(Z[ye]-de)*(Z[ye+3]-xe)-(Z[ye+2]-de)*(Z[ye+1]-xe);if(ae*pe<0)for(i.moveTo(Z[0],Z[1]),ye=2;ye<Z.length;ye+=2)i.lineTo(Z[ye],Z[ye+1]);else for(i.moveTo(Z[Z.length-2],Z[Z.length-1]),ye=Z.length-4;ye>=0;ye-=2)i.lineTo(Z[ye],Z[ye+1]);ge[Re].shape.closeStroke&&i.closePath(),ve[Re]=ae*pe<0}}I.visible&&(i.globalAlpha=I.alpha*r,i.fillStyle=a,i.fill()),N.visible&&this.paintPolygonStroke(J,N,l,ge,ve,r,i)}else if(y.type===Oi.RECT){var J=O;if(I.visible&&(i.globalAlpha=I.alpha*r,i.fillStyle=a,i.fillRect(J.x,J.y,J.width,J.height)),N.visible){var be=J.width+2*(Oe=N.width*(.5-(1-N.alignment))),Ee=J.height+2*Oe;i.globalAlpha=N.alpha*r,i.strokeStyle=l,i.strokeRect(J.x-Oe,J.y-Oe,be,Ee)}}else if(y.type===Oi.CIRC){if(J=O,i.beginPath(),i.arc(J.x,J.y,J.radius,0,2*Math.PI),i.closePath(),I.visible&&(i.globalAlpha=I.alpha*r,i.fillStyle=a,i.fill()),N.visible){if(.5!==N.alignment){var Oe=N.width*(.5-(1-N.alignment));i.beginPath(),i.arc(J.x,J.y,J.radius+Oe,0,2*Math.PI),i.closePath()}i.globalAlpha=N.alpha*r,i.strokeStyle=l,i.stroke()}}else if(y.type===Oi.ELIP){if(J=O,(De=1===N.alignment)||this.paintEllipse(J,I,N,a,r,i),N.visible){if(.5!==N.alignment){var nt=.5522848,me=2*(J.width+(Oe=N.width*(.5-(1-N.alignment)))),Ve=2*(J.height+Oe),et=J.x-me/2,st=J.y-Ve/2,Tt=me/2*nt,vt=Ve/2*nt,kt=et+me,Vt=st+Ve,Pn=et+me/2,cn=st+Ve/2;i.beginPath(),i.moveTo(et,cn),i.bezierCurveTo(et,cn-vt,Pn-Tt,st,Pn,st),i.bezierCurveTo(Pn+Tt,st,kt,cn-vt,kt,cn),i.bezierCurveTo(kt,cn+vt,Pn+Tt,Vt,Pn,Vt),i.bezierCurveTo(Pn-Tt,Vt,et,cn+vt,et,cn),i.closePath()}i.globalAlpha=N.alpha*r,i.strokeStyle=l,i.stroke()}De&&this.paintEllipse(J,I,N,a,r,i)}else if(y.type===Oi.RREC){var De;if(J=O,(De=1===N.alignment)||this.paintRoundedRectangle(J,I,N,a,r,i),N.visible){if(.5!==N.alignment){be=J.width,Ee=J.height;var Qt=J.x-(Oe=N.width*(.5-(1-N.alignment))),Ft=J.y-Oe,vn=J.width+2*Oe,tn=J.height+2*Oe,Qi=Oe*(N.alignment>=1?Math.min(vn/be,tn/Ee):Math.min(be/vn,Ee/tn)),Nn=J.radius+Qi,bn=Math.min(vn,tn)/2;Nn=Nn>bn?bn:Nn,i.beginPath(),i.moveTo(Qt,Ft+Nn),i.lineTo(Qt,Ft+tn-Nn),i.quadraticCurveTo(Qt,Ft+tn,Qt+Nn,Ft+tn),i.lineTo(Qt+vn-Nn,Ft+tn),i.quadraticCurveTo(Qt+vn,Ft+tn,Qt+vn,Ft+tn-Nn),i.lineTo(Qt+vn,Ft+Nn),i.quadraticCurveTo(Qt+vn,Ft,Qt+vn-Nn,Ft),i.lineTo(Qt+Nn,Ft),i.quadraticCurveTo(Qt,Ft,Qt,Ft+Nn),i.closePath()}i.globalAlpha=N.alpha*r,i.strokeStyle=l,i.stroke()}De&&this.paintRoundedRectangle(J,I,N,a,r,i)}}},n.prototype.paintPolygonStroke=function(t,e,i,r,s,o,a){if(.5!==e.alignment){var l=e.width*(.5-(1-e.alignment)),c=zV.offsetPolygon(t.points,l);a.beginPath(),a.moveTo(c[0],c[1]);for(var d=2;d<c.length;d+=2)a.lineTo(c[d],c[d+1]);t.closeStroke&&a.closePath();for(var f=0;f<r.length;f++){if(c=zV.offsetPolygon(r[f].shape.points,l),s[f])for(a.moveTo(c[0],c[1]),d=2;d<c.length;d+=2)a.lineTo(c[d],c[d+1]);else for(a.moveTo(c[c.length-2],c[c.length-1]),d=c.length-4;d>=0;d-=2)a.lineTo(c[d],c[d+1]);r[f].shape.closeStroke&&a.closePath()}}a.globalAlpha=e.alpha*o,a.strokeStyle=i,a.stroke()},n.prototype.paintEllipse=function(t,e,i,r,s,o){var a=2*t.width,l=2*t.height,c=t.x-a/2,u=t.y-l/2,d=.5522848,f=a/2*d,y=l/2*d,O=c+a,I=u+l,N=c+a/2,k=u+l/2;0===i.alignment&&o.save(),o.beginPath(),o.moveTo(c,k),o.bezierCurveTo(c,k-y,N-f,u,N,u),o.bezierCurveTo(N+f,u,O,k-y,O,k),o.bezierCurveTo(O,k+y,N+f,I,N,I),o.bezierCurveTo(N-f,I,c,k+y,c,k),o.closePath(),0===i.alignment&&o.clip(),e.visible&&(o.globalAlpha=e.alpha*s,o.fillStyle=r,o.fill()),0===i.alignment&&o.restore()},n.prototype.paintRoundedRectangle=function(t,e,i,r,s,o){var a=t.x,l=t.y,c=t.width,u=t.height,d=t.radius,f=Math.min(c,u)/2;d=d>f?f:d,0===i.alignment&&o.save(),o.beginPath(),o.moveTo(a,l+d),o.lineTo(a,l+u-d),o.quadraticCurveTo(a,l+u,a+d,l+u),o.lineTo(a+c-d,l+u),o.quadraticCurveTo(a+c,l+u,a+c,l+u-d),o.lineTo(a+c,l+d),o.quadraticCurveTo(a+c,l,a+c-d,l),o.lineTo(a+d,l),o.quadraticCurveTo(a,l,a,l+d),o.closePath(),0===i.alignment&&o.clip(),e.visible&&(o.globalAlpha=e.alpha*s,o.fillStyle=r,o.fill()),0===i.alignment&&o.restore()},n.prototype.setPatternTransform=function(t,e){if(!1!==this._svgMatrix){if(!this._svgMatrix){var i=document.createElementNS("http://www.w3.org/2000/svg","svg");if(i&&i.createSVGMatrix&&(this._svgMatrix=i.createSVGMatrix()),!this._svgMatrix||!t.setTransform)return void(this._svgMatrix=!1)}this._svgMatrix.a=e.a,this._svgMatrix.b=e.b,this._svgMatrix.c=e.c,this._svgMatrix.d=e.d,this._svgMatrix.e=e.tx,this._svgMatrix.f=e.ty,t.setTransform(this._svgMatrix.inverse())}},n.prototype.destroy=function(){this.renderer=null,this._svgMatrix=null,this._tempMatrix=null},n}(),Fy=new zi;la.prototype.generateCanvasTexture=function(t,e){void 0===e&&(e=1);var i=this.getLocalBounds(),r=Al.create({width:i.width,height:i.height,scaleMode:t,resolution:e});MR||(MR=new _u),this.transform.updateLocalTransform(),this.transform.localTransform.copyTo(Fy),Fy.invert(),Fy.tx-=i.x,Fy.ty-=i.y,MR.render(this,{renderTexture:r,clear:!0,transform:Fy});var s=Jt.from(r.baseTexture._canvasRenderTarget.canvas,{scaleMode:t});return s.baseTexture.setResolution(e),s},la.prototype.cachedGraphicsData=[],la.prototype._renderCanvas=function(t){!0!==this.isMask&&(this.finishPoly(),t.plugins.graphics.render(this))};var $V=new zi,YV=function(){function n(t){this.renderer=t}return n.prototype.render=function(t){var e=t._texture,i=this.renderer,r=i.context;if(e.valid){var s=e._frame.width,o=e._frame.height,a=t.transform.worldTransform,l=0,c=0,u=e.baseTexture.getDrawableSource();if(!(e.orig.width<=0||e.orig.height<=0)&&e.valid&&u){i.setBlendMode(t.blendMode,!0),i.context.globalAlpha=t.worldAlpha;var d=e.baseTexture.scaleMode===Cs.LINEAR;i.smoothProperty&&i.context[i.smoothProperty]!==d&&(r[i.smoothProperty]=d),e.trim?(l=e.trim.width/2+e.trim.x-t.anchor.x*e.orig.width,c=e.trim.height/2+e.trim.y-t.anchor.y*e.orig.height):(l=(.5-t.anchor.x)*e.orig.width,c=(.5-t.anchor.y)*e.orig.height),e.rotate&&(a.copyTo($V),wr.matrixAppendRotationInv(a=$V,e.rotate,l,c),l=0,c=0),l-=s/2,c-=o/2,i.setContextTransform(a,t.roundPixels,1),t.roundPixels&&(l|=0,c|=0);var f=e.baseTexture.resolution,y=i._outerBlend;y&&(r.save(),r.beginPath(),r.rect(l*i.resolution,c*i.resolution,s*i.resolution,o*i.resolution),r.clip()),16777215!==t.tint?((t._cachedTint!==t.tint||t._tintedCanvas.tintId!==t._texture._updateID)&&(t._cachedTint=t.tint,t._tintedCanvas=ds.getTintedCanvas(t,t.tint)),r.drawImage(t._tintedCanvas,0,0,Math.floor(s*f),Math.floor(o*f),Math.floor(l*i.resolution),Math.floor(c*i.resolution),Math.floor(s*i.resolution),Math.floor(o*i.resolution))):r.drawImage(u,e._frame.x*f,e._frame.y*f,Math.floor(s*f),Math.floor(o*f),Math.floor(l*i.resolution),Math.floor(c*i.resolution),Math.floor(s*i.resolution),Math.floor(o*i.resolution)),y&&r.restore(),i.setBlendMode(qe.NORMAL)}}},n.prototype.destroy=function(){this.renderer=null},n}();_o.prototype._tintedCanvas=null,_o.prototype._renderCanvas=function(t){t.plugins.sprite.render(this)};var XV=new mi,qV=function(){function n(t){this.renderer=t}return n.prototype.image=function(t,e,i){var r=new Image;return r.src=this.base64(t,e,i),r},n.prototype.base64=function(t,e,i){return this.canvas(t).toDataURL(e,i)},n.prototype.canvas=function(t){var i,r,s,o,e=this.renderer;t&&(o=t instanceof Al?t:e.generateTexture(t)),o?(i=o.baseTexture._canvasRenderTarget.context,r=o.baseTexture._canvasRenderTarget.resolution,s=o.frame):(i=e.rootContext,r=e.resolution,(s=XV).width=this.renderer.width,s.height=this.renderer.height);var a=Math.floor(s.width*r+1e-4),l=Math.floor(s.height*r+1e-4),c=new sm(a,l,1),u=i.getImageData(s.x*r,s.y*r,a,l);return c.context.putImageData(u,0,0),c.canvas},n.prototype.pixels=function(t){var i,r,s,o,e=this.renderer;return t&&(o=t instanceof Al?t:e.generateTexture(t)),o?(i=o.baseTexture._canvasRenderTarget.context,r=o.baseTexture._canvasRenderTarget.resolution,s=o.frame):(i=e.rootContext,r=e.resolution,(s=XV).width=e.width,s.height=e.height),i.getImageData(s.x*r,s.y*r,s.width*r,s.height*r).data},n.prototype.destroy=function(){this.renderer=null},n}(),OR=function(n,t){return(OR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)};function GCe(n,t){var e=n;if(t instanceof Ci){var i=t.source,r=0===i.width?e.canvas.width:Math.min(e.canvas.width,i.width),s=0===i.height?e.canvas.height:Math.min(e.canvas.height,i.height);return e.ctx.drawImage(i,0,0,r,s,0,0,e.canvas.width,e.canvas.height),!0}return!1}var JV=function(n){function t(e){var i=n.call(this,e)||this;return i.uploadHookHelper=i,i.canvas=document.createElement("canvas"),i.canvas.width=16,i.canvas.height=16,i.ctx=i.canvas.getContext("2d"),i.registerUploadHook(GCe),i}return function UCe(n,t){function e(){this.constructor=n}OR(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t.prototype.destroy=function(){n.prototype.destroy.call(this),this.ctx=null,this.canvas=null},t}(x2),eT=new zi,Ly=new zi,yu=[new _r,new _r,new _r,new _r];C7.prototype._renderCanvas=function(t){var e=this._texture;if(e.baseTexture.valid){var i=t.context,r=this.worldTransform,s=e.baseTexture,o=s.getDrawableSource(),a=s.resolution;if(this._textureID!==this._texture._updateID||this._cachedTint!==this.tint){this._textureID=this._texture._updateID;var l=new sm(e._frame.width,e._frame.height,a);16777215!==this.tint?(this._tintedCanvas=ds.getTintedCanvas(this,this.tint),l.context.drawImage(this._tintedCanvas,0,0)):l.context.drawImage(o,-e._frame.x*a,-e._frame.y*a),this._cachedTint=this.tint,this._canvasPattern=l.context.createPattern(l.canvas,"repeat")}i.globalAlpha=this.worldAlpha,t.setBlendMode(this.blendMode),this.tileTransform.updateLocalTransform();var c=this.tileTransform.localTransform,u=this._width,d=this._height;eT.identity(),Ly.copyFrom(c),this.uvRespectAnchor||Ly.translate(-this.anchor.x*u,-this.anchor.y*d),Ly.scale(this.tileScale.x/a,this.tileScale.y/a),eT.prepend(Ly),eT.prepend(r),t.setContextTransform(eT),i.fillStyle=this._canvasPattern;var f=this.anchor.x*-u,y=this.anchor.y*-d;yu[0].set(f,y),yu[1].set(f+u,y),yu[2].set(f+u,y+d),yu[3].set(f,y+d);for(var O=0;O<4;O++)Ly.applyInverse(yu[O],yu[O]);for(i.beginPath(),i.moveTo(yu[0].x,yu[0].y),O=1;O<4;O++)i.lineTo(yu[O].x,yu[O].y);i.closePath(),i.fill()}},r7.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable){var e=t.context,i=this.worldTransform,r=!0,s=0,o=0,a=0,l=0;t.setBlendMode(this.blendMode),e.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var c=0;c<this.children.length;++c){var u=this.children[c];if(u.visible&&u._texture.valid){var d=u._texture.frame;e.globalAlpha=this.worldAlpha*u.alpha,u.rotation%(2*Math.PI)==0?(r&&(t.setContextTransform(i,!1,1),r=!1),s=u.anchor.x*(-d.width*u.scale.x)+u.position.x+.5,o=u.anchor.y*(-d.height*u.scale.y)+u.position.y+.5,a=d.width*u.scale.x,l=d.height*u.scale.y):(r||(r=!0),u.displayObjectUpdateTransform(),t.setContextTransform(u.worldTransform,this.roundPixels,1),s=u.anchor.x*-d.width+.5,o=u.anchor.y*-d.height+.5,a=d.width,l=d.height);var y=u._texture.baseTexture.resolution;e.drawImage(u._texture.baseTexture.getDrawableSource(),d.x*y,d.y*y,d.width*y,d.height*y,s*t.resolution,o*t.resolution,a*t.resolution,l*t.resolution)}}}},rr.prototype._renderCanvas=function(t){},rr.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){this._mask&&t.maskManager.pushMask(this._mask),this._renderCanvas(t);for(var e=0,i=this.children.length;e<i;++e)this.children[e].renderCanvas(t);this._mask&&t.maskManager.popMask(t)}},Gr.prototype.renderCanvas=function(t){},Ty.prototype._renderCanvas=function(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),_o.prototype._renderCanvas.call(this,t)},_u.registerPlugin("accessibility",_A),_u.registerPlugin("extract",qV),_u.registerPlugin("graphics",WV),_u.registerPlugin("interaction",bA),_u.registerPlugin("mesh",HV),_u.registerPlugin("prepare",JV),_u.registerPlugin("sprite",YV);var cd=(()=>(function(n){n.Base="Inter, sans-serif"}(cd||(cd={})),cd))(),tT=(()=>(function(n){n.navigate="navigate",n.reload="reload",n.backForward="back_forward",n.prerender="prerender"}(tT||(tT={})),tT))();const ZV=["af","am","az","bg","bn","cs","de","el","en","en-sc","es","fa","fi","fr","hi","hr","hu","hy","id","it","ja","ka","ko","lt","lv","mk","nl","no","pl","pt","pt-br","ro","ru","sq","sr","sv","sw","th","tl","tr","uk","uz","vi","zh","zh-tw"],{isArray:HCe}=Array,{getPrototypeOf:VCe,prototype:zCe,keys:WCe}=Object;function QV(n){if(1===n.length){const t=n[0];if(HCe(t))return{args:t,keys:null};if(function $Ce(n){return n&&"object"==typeof n&&VCe(n)===zCe}(t)){const e=WCe(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}function e9(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function nT(...n){const t=cr(n),{args:e,keys:i}=QV(n),r=new _e(s=>{const{length:o}=e;if(!o)return void s.complete();const a=new Array(o);let l=o,c=o;for(let u=0;u<o;u++){let d=!1;Pt(e[u]).subscribe(ue(s,f=>{d||(d=!0,c--),a[u]=f},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(i?e9(i,a):a),s.complete())}))}});return t?r.pipe(AI(t)):r}function ud(...n){const t=ja(n),e=cr(n),{args:i,keys:r}=QV(n);if(0===i.length)return ri([],t);const s=new _e(function YCe(n,t,e=Se){return i=>{t9(t,()=>{const{length:r}=n,s=new Array(r);let o=r,a=r;for(let l=0;l<r;l++)t9(t,()=>{const c=ri(n[l],t);let u=!1;c.subscribe(ue(i,d=>{s[l]=d,u||(u=!0,a--),a||i.next(e(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}(i,t,r?o=>e9(r,o):Se));return e?s.pipe(AI(e)):s}function t9(n,t,e){n?Mo(e,n,t):t()}class PR extends Qe{constructor(t=1/0,e=1/0,i=GI){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:o}=this;e||(i.push(t),!r&&i.push(s.now()+o)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let o=0;o<s.length&&!t.closed;o+=i?1:2)t.next(s[o]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*t;if(t<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const o=e.now();let a=0;for(let l=1;l<i.length&&i[l]<=o;l+=2)a=l;a&&i.splice(0,a+1)}}}function n9(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=null!=n?n:1/0,qo({connector:()=>new PR(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function ca(n,t){return Je((e,i)=>{let r=null,s=0,o=!1;const a=()=>o&&!r&&i.complete();e.subscribe(ue(i,l=>{null==r||r.unsubscribe();let c=0;const u=s++;Pt(n(l,u)).subscribe(r=ue(i,d=>i.next(t?t(l,d,u,c++):d),()=>{r=null,a()}))},()=>{o=!0,a()}))})}var i9=A(6100);class qCe{constructor(t){this.translations=t}getTranslation(t){return hn(this.translations.get(t)||{})}}const xR=new Zt("TRANSLOCO_LOADER");function r9(n,t){return n&&(Object.prototype.hasOwnProperty.call(n,t)?n[t]:t.split(".").reduce((e,i)=>null==e?void 0:e[i],n))}function s9(n){return n?Array.isArray(n)?n.length:IR(n)?Object.keys(n).length:n?n.length:0:0}function rp(n){return"string"==typeof n}function IR(n){return!!n&&"object"==typeof n&&!Array.isArray(n)}function o9(n){return n.replace(/(?:^\w|[A-Z]|\b\w)/g,(t,e)=>0==e?t.toLowerCase():t.toUpperCase()).replace(/\s+|_|-|\//g,"")}function AR(n){return null==n}function l9(n){return!1===AR(n)}function c9(n){return n&&"string"==typeof n.scope}function u9(n){return(0,i9.flatten)(n,{safe:!0})}const sp=new Zt("TRANSLOCO_CONFIG",{providedIn:"root",factory:()=>({defaultLang:"en"})}),iT={defaultLang:"en",reRenderOnLangChange:!1,prodMode:!1,failedRetries:2,availableLangs:[],missingHandler:{logMissingKey:!0,useFallbackTranslation:!1,allowEmpty:!1},flatten:{aot:!1},interpolation:["{{","}}"]};function nEe(n=iT){return Object.assign(Object.assign({},iT),n)}const d9=new Zt("TRANSLOCO_TRANSPILER");let iEe=(()=>{class n{constructor(e){this.interpolationMatcher=function rEe(n){const[t,e]=n&&n.interpolation?n.interpolation:iT.interpolation;return new RegExp(`${t}(.*?)${e}`,"g")}(e)}transpile(e,i={},r,s){return rp(e)?e.replace(this.interpolationMatcher,(o,a)=>(a=a.trim(),l9(i[a])?i[a]:l9(r[a])?this.transpile(r[a],i,r,s):"")):(i&&(IR(e)?e=this.handleObject(e,i,r,s):Array.isArray(e)&&(e=this.handleArray(e,i,r,s))),e)}handleObject(e,i={},r,s){let o=e;return Object.keys(i).forEach(a=>{const l=r9(o,a),c=r9(i,a),u=this.transpile(l,c,r,s);o=function KCe(n,t,e){n=Object.assign({},n);const i=t.split("."),r=i.length-1;return i.reduce((s,o,a)=>(s[o]=a===r?e:Array.isArray(s[o])?s[o].slice():Object.assign({},s[o]),s&&s[o]),n),n}(o,a,u)}),o}handleArray(e,i={},r,s){return e.map(o=>this.transpile(o,i,r,s))}}return n.\u0275fac=function(e){return new(e||n)(je(sp,8))},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})();const RR=new Zt("TRANSLOCO_MISSING_HANDLER");let sEe=(()=>{class n{handle(e,i){return i.missingHandler.logMissingKey&&!i.prodMode&&console.warn(`%c Missing translation for '${e}'`,"font-size: 12px; color: red"),e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})();const h9=new Zt("TRANSLOCO_INTERCEPTOR");let oEe=(()=>{class n{preSaveTranslation(e){return e}preSaveTranslationKey(e,i){return i}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})();const f9=new Zt("TRANSLOCO_FALLBACK_STRATEGY");let FR,aEe=(()=>{class n{constructor(e){this.userConfig=e}getNextLangs(){const e=this.userConfig.fallbackLang;if(!e)throw new Error("When using the default fallback, a fallback language must be provided in the config!");return Array.isArray(e)?e:[e]}}return n.\u0275fac=function(e){return new(e||n)(je(sp))},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})();function By(n){if(!n)return"";const t=n.split("/");return t.pop(),t.join("/")}function hh(n){return n?n.split("/").pop():""}function DR(n,t,e="|"){if(rp(n)){const i=n.split(e),r=i.pop();return r===t?[!0,i.toString()]:[!1,r]}return[!1,""]}function p9(n,t){const[e]=DR(t,"static");return!e&&!!n.config.reRenderOnLangChange}function g9(n){return n?t=>t:Ri(1)}function NR(n,t){return function eEe(n){return n&&IR(n.loader)}(n)?function cEe(n,t){return Object.keys(n).reduce((e,i)=>(e[`${t}/${i}`]=n[i],e),{})}(n.loader,t):void 0}function kR(n){return{scope:By(n)||null,langName:hh(n)}}function _9(n){const{path:t,inlineLoader:e,mainLoader:i,data:r}=n;if(e){if(!1===function ZCe(n){return"function"==typeof n}(e[t]))throw`You're using an inline loader but didn't provide a loader for ${t}`;return e[t]().then(o=>o.default?o.default:o)}return i.getTranslation(t,r)}let op=(()=>{class n{constructor(e,i,r,s,o,a){this.loader=e,this.parser=i,this.missingHandler=r,this.interceptor=s,this.userConfig=o,this.fallbackStrategy=a,this.subscription=null,this.translations=new Map,this.cache=new Map,this.defaultLang="",this.availableLangs=[],this.isResolvedMissingOnce=!1,this.failedLangs=new Set,this.events=new Qe,this.events$=this.events.asObservable(),this.loader||(this.loader=new qCe(this.translations)),FR=this,this.mergedConfig=function lEe(n,t){return Object.assign(Object.assign(Object.assign({},n),t),{missingHandler:Object.assign(Object.assign({},n.missingHandler),t.missingHandler),flatten:Object.assign(Object.assign({},n.flatten),t.flatten)})}(iT,this.userConfig),this.setAvailableLangs(this.mergedConfig.availableLangs||[]),this.setFallbackLangForMissingTranslation(this.mergedConfig),this.setDefaultLang(this.mergedConfig.defaultLang),this.lang=new On(this.getDefaultLang()),this.langChanges$=this.lang.asObservable(),this.subscription=this.events$.subscribe(l=>{"translationLoadSuccess"===l.type&&l.wasFailure&&this.setActiveLang(l.payload.langName)})}get config(){return this.mergedConfig}getDefaultLang(){return this.defaultLang}setDefaultLang(e){this.defaultLang=e}getActiveLang(){return this.lang.getValue()}setActiveLang(e){var i,r;return null===(r=(i=this.parser).onLangChanged)||void 0===r||r.call(i,e),this.lang.next(e),this.events.next({type:"langChanged",payload:kR(e)}),this}setAvailableLangs(e){this.availableLangs=e}getAvailableLangs(){return this.availableLangs}load(e,i={}){const r=this.cache.get(e);if(r)return r;let s;const o=this._isLangScoped(e);let a;o&&(a=By(e));const l={path:e,mainLoader:this.loader,inlineLoader:i.inlineLoader,data:o?{scope:a}:void 0};if(this.useFallbackTranslation(e)){const u=o?`${a}/${this.firstFallbackLang}`:this.firstFallbackLang,d=function uEe({mainLoader:n,path:t,data:e,fallbackPath:i,inlineLoader:r}){return(i?[t,i]:[t]).map(o=>ri(_9({path:o,mainLoader:n,inlineLoader:r,data:e})).pipe(Ie(l=>({translation:l,lang:o}))))}(Object.assign(Object.assign({},l),{fallbackPath:u}));s=nT(d)}else s=ri(_9(l));const c=s.pipe(function XCe(n=1/0){let t;t=n&&"object"==typeof n?n:{count:n};const{count:e=1/0,delay:i,resetOnSuccess:r=!1}=t;return e<=0?Se:Je((s,o)=>{let l,a=0;const c=()=>{let u=!1;l=s.subscribe(ue(o,d=>{r&&(a=0),o.next(d)},void 0,d=>{if(a++<e){const f=()=>{l?(l.unsubscribe(),l=null,c()):u=!0};if(null!=i){const y="number"==typeof i?Qu(i):Pt(i(d,a)),O=ue(o,()=>{O.unsubscribe(),f()},()=>{o.complete()});y.subscribe(O)}else f()}else o.error(d)})),u&&(l.unsubscribe(),l=null,c())};c()})}(this.config.failedRetries),gr(u=>{Array.isArray(u)?u.forEach(d=>{this.handleSuccess(d.lang,d.translation),d.lang!==e&&this.cache.set(d.lang,hn({}))}):this.handleSuccess(e,u)}),Cc(u=>(this.mergedConfig.prodMode||console.error(`Error while trying to load "${e}"`,u),this.handleFailure(e,i))),n9(1));return this.cache.set(e,c),c}translate(e,i={},r=this.getActiveLang()){if(!e)return e;const{scope:s,resolveLang:o}=this.resolveLangAndScope(r);if(Array.isArray(e))return e.map(c=>this.translate(s?`${s}.${c}`:c,i,o));e=s?`${s}.${e}`:e;const a=this.getTranslation(o),l=a[e];return l?this.parser.transpile(l,i,a,e):this._handleMissingKey(e,l,i)}selectTranslate(e,i,r,s=!1){let o;const a=(c,u)=>this.load(c,u).pipe(Ie(()=>s?this.translateObject(e,i,c):this.translate(e,i,c)));if(AR(r))return this.langChanges$.pipe(ca(c=>a(c)));if(c9(r)){const c=r;r=c.scope,o=NR(c,c.scope)}if(this.isLang(r)||this.isScopeWithLang(r))return a(r);const l=r;return this.langChanges$.pipe(ca(c=>a(`${l}/${c}`,{inlineLoader:o})))}isScopeWithLang(e){return this.isLang(hh(e))}translateObject(e,i={},r=this.getActiveLang()){if(rp(e)||Array.isArray(e)){const{resolveLang:o,scope:a}=this.resolveLangAndScope(r);if(Array.isArray(e))return e.map(u=>this.translateObject(a?`${a}.${u}`:u,i,o));const l=this.getTranslation(o),c=function tEe(n){return(0,i9.unflatten)(n)}(this.getObjectByKey(l,e=a?`${a}.${e}`:e));return function JCe(n){return 0===s9(n)}(c)?this.translate(e,i,r):this.parser.transpile(c,i,l,e)}const s=[];for(const[o,a]of this.getEntries(e))s.push(this.translateObject(o,a,r));return s}selectTranslateObject(e,i,r){if(rp(e)||Array.isArray(e))return this.selectTranslate(e,i,r,!0);const[[s,o],...a]=this.getEntries(e);return this.selectTranslateObject(s,o,r).pipe(Ie(l=>{const c=[l];for(const[u,d]of a)c.push(this.translateObject(u,d,r));return c}))}getTranslation(e){if(e){if(this.isLang(e))return this.translations.get(e)||{};{const{scope:i,resolveLang:r}=this.resolveLangAndScope(e),s=this.translations.get(r)||{};return this.getObjectByKey(s,i)}}return this.translations}selectTranslation(e){let i=this.langChanges$;if(e){const r=hh(e)!==e;i=this.isLang(e)||r?hn(e):this.langChanges$.pipe(Ie(s=>`${e}/${s}`))}return i.pipe(ca(r=>this.load(r).pipe(Ie(()=>this.getTranslation(r)))))}setTranslation(e,i=this.getActiveLang(),r={}){const o=Object.assign(Object.assign({},{merge:!0,emitChange:!0}),r),a=By(i);let l=e;a&&(l=u9({[this.getMappedScope(a)]:e}));const c=a?hh(i):i,u=Object.assign(Object.assign({},o.merge&&this.getTranslation(c)),l),d=this.mergedConfig.flatten.aot?u:u9(u),f=this.interceptor.preSaveTranslation(d,c);this.translations.set(c,f),o.emitChange&&this.setActiveLang(this.getActiveLang())}setTranslationKey(e,i,r=this.getActiveLang(),s={}){const o=this.interceptor.preSaveTranslationKey(e,i,r);this.setTranslation({[e]:o},r,Object.assign(Object.assign({},s),{merge:!0}))}setFallbackLangForMissingTranslation({fallbackLang:e}){const i=Array.isArray(e)?e[0]:e;e&&this.useFallbackTranslation(i)&&(this.firstFallbackLang=i)}_handleMissingKey(e,i,r){if(this.config.missingHandler.allowEmpty&&""===i)return"";if(!this.isResolvedMissingOnce&&this.useFallbackTranslation()){this.isResolvedMissingOnce=!0;const s=this.translate(e,r,this.firstFallbackLang);return this.isResolvedMissingOnce=!1,s}return this.missingHandler.handle(e,this.getMissingHandlerData(),r)}_isLangScoped(e){return-1===this.getAvailableLangsIds().indexOf(e)}isLang(e){return-1!==this.getAvailableLangsIds().indexOf(e)}_loadDependencies(e,i){const r=hh(e);return this._isLangScoped(e)&&!this.isLoadedTranslation(r)?ud(this.load(r),this.load(e,{inlineLoader:i})):this.load(e,{inlineLoader:i})}_completeScopeWithLang(e){return this._isLangScoped(e)&&!this.isLang(hh(e))?`${e}/${this.getActiveLang()}`:e}_setScopeAlias(e,i){this.mergedConfig.scopeMapping||(this.mergedConfig.scopeMapping={}),this.mergedConfig.scopeMapping[e]=i}ngOnDestroy(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null),this.cache.clear()}isLoadedTranslation(e){return s9(this.getTranslation(e))}getAvailableLangsIds(){return rp(this.getAvailableLangs()[0])?this.getAvailableLangs():this.getAvailableLangs().map(i=>i.id)}getMissingHandlerData(){return Object.assign(Object.assign({},this.config),{activeLang:this.getActiveLang(),availableLangs:this.availableLangs,defaultLang:this.defaultLang})}useFallbackTranslation(e){return this.config.missingHandler.useFallbackTranslation&&e!==this.firstFallbackLang}handleSuccess(e,i){this.setTranslation(i,e,{emitChange:!1}),this.events.next({wasFailure:!!this.failedLangs.size,type:"translationLoadSuccess",payload:kR(e)}),this.failedLangs.forEach(r=>this.cache.delete(r)),this.failedLangs.clear()}handleFailure(e,i){AR(i.failedCounter)&&(i.failedCounter=0,i.fallbackLangs||(i.fallbackLangs=this.fallbackStrategy.getNextLangs(e)));const r=e.split("/"),o=i.fallbackLangs[i.failedCounter];if(this.failedLangs.add(e),this.cache.has(o))return this.handleSuccess(o,this.getTranslation(o)),ht;if(!o||o===r[r.length-1]){let c="Unable to load translation and all the fallback languages";throw r.length>1&&(c+=", did you misspelled the scope name?"),new Error(c)}let l=o;return r.length>1&&(r[r.length-1]=o,l=r.join("/")),i.failedCounter++,this.events.next({type:"translationLoadFailure",payload:kR(e)}),this.load(l,i)}getMappedScope(e){const{scopeMapping:i={}}=this.config;return i[e]||o9(e)}resolveLangAndScope(e){let r,i=e;if(this._isLangScoped(e)){const s=hh(e),o=this.isLang(s);i=o?s:this.getActiveLang(),r=this.getMappedScope(o?By(e):e)}return{scope:r,resolveLang:i}}getObjectByKey(e,i){const r={},s=`${i}.`;for(const o in e)o.startsWith(s)&&(r[o.replace(s,"")]=e[o]);return r}getEntries(e){return e instanceof Map?e.entries():Object.entries(e)}}return n.\u0275fac=function(e){return new(e||n)(je(xR,8),je(d9),je(RR),je(h9),je(sp),je(f9))},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dEe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=rt({type:n,selectors:[["ng-component"]],inputs:{html:"html"},decls:1,vars:1,consts:[[1,"transloco-loader-template",3,"innerHTML"]],template:function(e,i){1&e&&fe(0,"div",0),2&e&&F("innerHTML",i.html,Y1)},encapsulation:2}),n})();class hEe{constructor(t,e){this.view=t,this.vcr=e,this.injector=this.vcr.injector}attachView(){if(this.view instanceof Cr)this.vcr.createEmbeddedView(this.view);else if(rp(this.view)){const t=this.createComponent(dEe);t.instance.html=this.view,t.hostView.detectChanges()}else this.createComponent(this.view)}detachView(){this.vcr.clear()}createComponent(t){const i=this.injector.get(pf).resolveComponentFactory(t);return this.vcr.createComponent(i)}}const m9=new Zt("TRANSLOCO_LANG"),fEe=new Zt("TRANSLOCO_LOADING_TEMPLATE"),LR=new Zt("TRANSLOCO_SCOPE");class v9{constructor(){this.initialized=!1}resolve({inline:t,provider:e,active:i}){let r=i;if(this.initialized)return r=i,r;if(e){const[,s]=DR(e,"static");r=s}if(t){const[,s]=DR(t,"static");r=s}return this.initialized=!0,r}resolveLangBasedOnScope(t){return By(t)?hh(t):t}resolveLangPath(t,e){return e?`${e}/${t}`:t}}class y9{constructor(t){this.translocoService=t}resolve({inline:t,provider:e}={inline:void 0,provider:void 0}){if(t)return t;if(e){if(c9(e)){const{scope:i,alias:r=o9(i)}=e;return this.translocoService._setScopeAlias(i,r),i}return e}}}let BR=(()=>{class n{constructor(e,i,r,s,o,a,l,c,u){this.translocoService=e,this.tpl=i,this.providerScope=r,this.providerLang=s,this.providedLoadingTpl=o,this.vcr=a,this.cdr=l,this.host=c,this.renderer=u,this.subscription=null,this.translationMemo={},this.params={},this.initialized=!1,this.langResolver=new v9,this.scopeResolver=new y9(this.translocoService),this.strategy=null===this.tpl?"attribute":"structural"}static ngTemplateContextGuard(e,i){return!0}ngOnInit(){const e=p9(this.translocoService,this.providerLang||this.inlineLang);this.subscription=this.translocoService.langChanges$.pipe(ca(r=>{const s=this.langResolver.resolve({inline:this.inlineLang,provider:this.providerLang,active:r});return Array.isArray(this.providerScope)?nT(this.providerScope.map(o=>this.resolveScope(s,o))):this.resolveScope(s,this.providerScope)}),g9(e)).subscribe(()=>{this.currentLang=this.langResolver.resolveLangBasedOnScope(this.path),"attribute"===this.strategy?this.attributeStrategy():this.structuralStrategy(this.currentLang,this.inlineRead),this.cdr.markForCheck(),this.initialized=!0});const i=this.getLoadingTpl();!this.initialized&&i&&(this.loaderTplHandler=new hEe(i,this.vcr),this.loaderTplHandler.attachView())}ngOnChanges(e){"attribute"===this.strategy&&Object.keys(e).some(r=>!e[r].firstChange)&&this.attributeStrategy()}attributeStrategy(){this.detachLoader(),this.renderer.setProperty(this.host.nativeElement,"innerText",this.translocoService.translate(this.key,this.params,this.currentLang))}structuralStrategy(e,i){this.translationMemo={},this.view?(this.view.context.$implicit=this.getTranslateFn(e,i),this.view.context.currentLang=this.currentLang):(this.detachLoader(),this.view=this.vcr.createEmbeddedView(this.tpl,{$implicit:this.getTranslateFn(e,i),currentLang:this.currentLang}))}getTranslateFn(e,i){return(r,s)=>{const o=i?`${i}.${r}`:r,a=s?`${o}${JSON.stringify(s)}`:o;return Object.prototype.hasOwnProperty.call(this.translationMemo,a)||(this.translationMemo[a]={params:s,value:this.translocoService.translate(o,s,e)}),this.translationMemo[a].value}}getLoadingTpl(){return this.inlineTpl||this.providedLoadingTpl}ngOnDestroy(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}detachLoader(){var e;null===(e=this.loaderTplHandler)||void 0===e||e.detachView()}resolveScope(e,i){const r=this.scopeResolver.resolve({inline:this.inlineScope,provider:i});this.path=this.langResolver.resolveLangPath(e,r);const s=NR(i,r);return this.translocoService._loadDependencies(this.path,s)}}return n.\u0275fac=function(e){return new(e||n)(z(op),z(Cr,8),z(LR,8),z(m9,8),z(fEe,8),z(Ja),z(Sn),z(Ei),z(Do))},n.\u0275dir=At({type:n,selectors:[["","transloco",""]],inputs:{key:["transloco","key"],params:["translocoParams","params"],inlineScope:["translocoScope","inlineScope"],inlineRead:["translocoRead","inlineRead"],inlineLang:["translocoLang","inlineLang"],inlineTpl:["translocoLoadingTpl","inlineTpl"]},features:[Is]}),n})(),Gt=(()=>{class n{constructor(e,i,r,s){this.translocoService=e,this.providerScope=i,this.providerLang=r,this.cdr=s,this.subscription=null,this.lastValue="",this.langResolver=new v9,this.scopeResolver=new y9(this.translocoService)}transform(e,i,r){var s;if(!e)return e;const o=i?`${e}${JSON.stringify(i)}`:e;if(o===this.lastKey)return this.lastValue;this.lastKey=o,null===(s=this.subscription)||void 0===s||s.unsubscribe();const a=p9(this.translocoService,this.providerLang||r);return this.subscription=this.translocoService.langChanges$.pipe(ca(l=>{const c=this.langResolver.resolve({inline:r,provider:this.providerLang,active:l});return Array.isArray(this.providerScope)?nT(this.providerScope.map(u=>this.resolveScope(c,u))):this.resolveScope(c,this.providerScope)}),g9(a)).subscribe(()=>this.updateValue(e,i)),this.lastValue}ngOnDestroy(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}updateValue(e,i){const r=this.langResolver.resolveLangBasedOnScope(this.path);this.lastValue=this.translocoService.translate(e,i,r),this.cdr.markForCheck()}resolveScope(e,i){const r=this.scopeResolver.resolve({inline:void 0,provider:i});this.path=this.langResolver.resolveLangPath(e,r);const s=NR(i,r);return this.translocoService._loadDependencies(this.path,s)}}return n.\u0275fac=function(e){return new(e||n)(z(op,16),z(LR,24),z(m9,24),z(Sn,16))},n.\u0275pipe=as({name:"transloco",type:n,pure:!1}),n})();const b9=[{provide:d9,useClass:iEe,deps:[sp]},{provide:RR,useClass:sEe},{provide:h9,useClass:oEe},{provide:f9,useClass:aEe,deps:[sp]}];function _Ee(n){return[{provide:LR,useValue:n}]}let en=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({providers:[b9]}),n})();new Zt("TRANSLOCO_TEST_LANGS - Available testing languages"),new Zt("TRANSLOCO_TEST_OPTIONS - Testing options");class vEe{handle(t){console.error(`Missing translation for ${t}`)}}let yEe=(()=>{class n{constructor(e){this.http=e}getTranslation(e){const i=new RegExp("challenges","g");return this.http.get(`/assets/i18n/${e}.json?v=${Mi.version}`).pipe(Cc(r=>(console.error(r),i.test(e)?this.http.get(`/assets/i18n/challenges/en.json?v=${Mi.version}`):this.http.get(`/assets/i18n/en.json?v=${Mi.version}`))))}}return n.\u0275fac=function(e){return new(e||n)(je(MI))},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bEe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({providers:[{provide:sp,useValue:nEe({availableLangs:ZV,fallbackLang:"en",prodMode:Mi.production,missingHandler:{useFallbackTranslation:!0}})},{provide:RR,useClass:vEe},{provide:xR,useClass:yEe}],imports:[en]}),n})();var rT=(()=>(function(n){n[n.v2=2]="v2"}(rT||(rT={})),rT))(),sT=(()=>(function(n){n.Default="default",n.Detailed="detailed"}(sT||(sT={})),sT))(),Cm=(()=>(function(n){n.Navigate="navigate",n.IfcEvent="ifcEvent",n.NewTab="newTab"}(Cm||(Cm={})),Cm))(),Em=(()=>(function(n){n.Navigate="navigate",n.IfcEvent="ifcEvent"}(Em||(Em={})),Em))(),oT=(()=>(function(n){n.ifcEvent="ifcEvent",n.modal="modal"}(oT||(oT={})),oT))(),Tm=(()=>(function(n){n.CancelBet="cancelBet",n.None="none"}(Tm||(Tm={})),Tm))(),Ji=(()=>(function(n){n[n.Bet=1]="Bet",n[n.Run=2]="Run",n[n.End=3]="End",n[n.EndDelay=4]="EndDelay"}(Ji||(Ji={})),Ji))(),Gy=(()=>(function(n){n.None="none",n.Alderney="alderney",n.GameRules="game_rules",n.PayTable="pay_table"}(Gy||(Gy={})),Gy))(),Nl=(()=>(function(n){n.user="user",n.token="token",n.currency="currency",n.lang="lang",n.operator="operator",n.returnUrl="return_url",n.accountHistoryUrl="account_history_url",n.jurisdiction="jurisdiction",n.aviaport="aviaport"}(Nl||(Nl={})),Nl))(),jy=(()=>(function(n){n.ircDuration="irc_duration",n.ircElapsed="irc_elapsed",n.gameSessionId="gameSessionId",n.sisalToken="sisaltoken",n.licenseeId="licenseeid",n.isbgameId="isbgameid",n.isbskinId="isbskinid",n.country="country",n.launcherCode="launchercode",n.extra="extra",n.username="username",n.isoftBetOperator="isoftBetOperator",n.rci="rci",n.realityCheckUKLimit="realitycheck_uk_limit",n.realityCheckUkElapsed="realitycheck_uk_elapsed",n.realityCheckTimeout="realityCheckTimeout",n.loggedInTime="loggedInTime",n.extraData="extraData"}(jy||(jy={})),jy))();let kl=(()=>{class n{constructor(){this.user=this.getRequiredParam(Nl.user),this.operator=this.getRequiredParam(Nl.operator),this.currency=this.getRequiredParam(Nl.currency),this.lang=this.getOptionalLangParam(Nl.lang),this.returnUrl=this.getOptionalParam(Nl.returnUrl),this.accountHistoryUrl=this.getOptionalParam(Nl.accountHistoryUrl),this.jurisdiction=this.getOptionalParam(Nl.jurisdiction),this.aviaport=this.getOptionalParam(Nl.aviaport),this.additionalParams=[],Object.values(jy).forEach(e=>{const i=this.getOptionalParam(e);null!==i&&this.additionalParams.push({[e]:i})}),this.token="sisal"===this.operator.toLowerCase()?this.getRequiredParam(jy.sisalToken):this.getRequiredParam(Nl.token),ru("url.param.user",this.user),ru("url.param.operator",this.operator),ru("url.param.currency",this.currency),ru("url.param.token",this.token),ru("url.param.lang",this.lang),ru("url.param.return_url",this.returnUrl),ru("url.param.account_history_url",this.accountHistoryUrl),ru("url.param.jurisdiction",this.jurisdiction)}getRequiredParam(e){const i=this.searchURLParam(e);if(null===i||""===i)throw new Error(`URL parameters are missing or invalid. Key: ${e} | Value: ${i}`);return i}getOptionalLangParam(e){const i=this.searchURLParam(e);return null===i||""===i?"en":i.toLowerCase()}getOptionalParam(e){const i=this.searchURLParam(e);return null===i||""===i?null:i}searchURLParam(e){const i=window.location.href;e=e.replace(/[\[\]]/g,"\\$&");const s=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(i);return s?s[2]?decodeURIComponent(s[2].replace(/\+/g," ")):"":null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Fl=(()=>{class n{constructor(e){this.zone=e,this._messageSubject=new Qe,this._clearByIdSubject=new Qe,this._message$=this._messageSubject.asObservable(),this._clearById$=this._clearByIdSubject.asObservable()}add(e,i=!1){e&&(!1===i?this._messageSubject.next(e):!0===i&&this.zone.run(()=>this._messageSubject.next(e)))}clearById(e,i=!1){!e||(!1===i?this._clearByIdSubject.next(e):!0===i&&this.zone.run(()=>this._clearByIdSubject.next(e)))}get clearById$(){return this._clearById$}get message$(){return this._message$}}return n.\u0275fac=function(e){return new(e||n)(je(Zn))},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wm=(()=>{class n{constructor(e){this.message=e,this._servers=[],this._isMultiServer=!1}get isMultiServer(){return this._isMultiServer}get servers(){return this._servers}get currentServerId(){return this._currentServerId}init(e){this._isMultiServer=!0,this._servers=[...e]}getRandomServer(){const e=this.servers[Math.floor(Math.random()*this.servers.length)];return this._currentServerId=e.id,e}userChooseServer(e,i){this.userChosenServerId=e,this._currentServerId=e,this._servers=[...i]}removeFullServer(){this.servers.splice(this.currentServerId-1,1)}showNotification(){this.isMultiServer&&this.isNotUserChosenServer&&(this.message.add({value:Ec.SelectedRoomIsUnavailable,context:Tr.warning}),this.userChosenServerId=void 0)}get isNotUserChosenServer(){return void 0!==this.userChosenServerId&&this.userChosenServerId!==this.currentServerId}}return n.\u0275fac=function(e){return new(e||n)(je(Fl))},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ln=(()=>{class n{constructor(e,i,r,s,o,a,l){this.translate=e,this.http=i,this.storage=r,this.deviceService=s,this.urlParams=o,this.domain=a,this.multiServer=l,this.SESSION_TOKEN_KEY="__spavstk",this.useInnerScroll=!1,this._isGameInited=!1,this.preloadFonts=()=>{const c=[];return c.push(document.fonts.load(`normal 16px ${cd.Base}`)),c.push(document.fonts.load(`bold 16px ${cd.Base}`)),Promise.all(c)},this.isMobile=this.deviceService.isMobile(),this.isTablet=this.deviceService.isTablet(),this.isDesktop=this.deviceService.isDesktop(),this.deviceInfo=this.deviceService.getDeviceInfo(),!1===this.isDesktop&&this.deviceInfo.os===cj.IOS&&parseInt(function Kge(){if("MSStream"in window)return 0;let t,n=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return null!=n?(t=[parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3]||"0",10)],parseFloat(t.join("."))):0}().toString())<=12&&BI()&&(this.useInnerScroll=!0)}init(){const e=[];return e.push(this.setLanguage()),e.push(this.getClientConfig().then(()=>this.preloadResources())),e.push(this.preloadFonts()),Promise.all(e)}getClientConfig(){const e="Retry limit of client config exceeded!",l=`${this.domain.mirrorURL(Mi.clientConfig.path,Mi.domainMirroringEnabled)}${this.urlParams.operator}${Mi.clientConfig.ext}?v=${Mi.version}`;return new Promise((c,u)=>{this.http.get(l).pipe(function x_e(n){return Je((t,e)=>{let i,s,r=!1;const o=()=>{i=t.subscribe(ue(e,void 0,void 0,a=>{s||(s=new Qe,n(s).subscribe(ue(e,()=>i?o():r=!0))),s&&s.next(a)})),r&&(i.unsubscribe(),i=null,r=!1,o())};o()})}(d=>d.pipe(Ri(5),fj(2e3),f=>em(f,sy(new Error(e)))))).subscribe(d=>{d.ws.host=this.domain.mirrorHostname(d.ws.host,Mi.domainMirroringEnabled),d.servers&&(d.servers.forEach((f,y)=>{f.id=y+1}),this.multiServer.init(d.servers)),this._clientConfig=Object.freeze(d),c()},()=>u(e))})}get sessionToken(){return(null===this.storage.session.getItem(this.SESSION_TOKEN_KEY)||function Jge(){try{if(performance&&performance.getEntriesByType){const n=performance.getEntriesByType("navigation");if(n&&n.length>0)return n[n.length-1].type}}catch(n){return null}return null}()===tT.backForward)&&this.storage.session.setItem(this.SESSION_TOKEN_KEY,ZG(64)),this.storage.session.getItem(this.SESSION_TOKEN_KEY)||""}setAviaportSessionToken(e){this.storage.session.setItem(this.SESSION_TOKEN_KEY,e)}setLanguage(){const e=ZV.includes(this.urlParams.lang)?this.urlParams.lang:"en";return this.translate.setActiveLang(e),new Promise(i=>{this.translate.load(e).subscribe(()=>{i(void 0)})})}preloadResources(){const e=((n,t=!1)=>{n="adjarabet"===n?"adjarabet":"spribe";const i="./assets/images/canvas/",r=[{name:"bg",url:`${i}bg/bg-${t?"dashed-line":"sun"}.svg`},{name:"prop",url:`${i}prop/prop.svg`},{name:"partners-logo",url:`${i}partners-logo/partners-logo.svg`},{name:"official",url:`${i}partners-logo/official.svg`},{name:"multiplier-bg-blur",url:`${i}multiplier/bg/blur.svg`},{name:"icon-login-timer",url:`${i}icons/login-timer.svg`},{name:"icon-clock",url:`${i}icons/clock.svg`},{name:"icon-up-down",url:`${i}icons/up-down.svg`}],s=[];for(let o=0;o<4;o++)s.push({name:`plane-${o}`,url:`${i}plane/${n}/plane-${o}.svg`});return r.concat(s)})(this.clientConfig.brandName,this.clientConfig.isDashedLineBg);return class jCe{static load(t,e=null,i=1){const r=this.versionResources(t);return new Promise(s=>{r.forEach(o=>{Bo.shared.resources[o.name]||Bo.shared.add(o)}),"function"==typeof e&&(this.onProgressID=Bo.shared.onProgress.add(o=>{e(null==o?void 0:o.progress,i)})),Bo.shared.load(()=>{this.onProgressID&&Bo.shared.onProgress.detach(this.onProgressID),s()})})}static versionResources(t){return t.map(e=>({name:e.name,url:e.url+=`?v=${Mi.version}`}))}}.load(e)}get config(){return this._config}setConfig(e){this._config=Object.freeze(e)}get clientConfig(){return this._clientConfig}get isFunMode(){return"demo"===this.urlParams.operator}get isLongPrecision(){return this._config&&this._config.betPrecision>=4}get isIrcDisplayModal(){return this.config.ircDisplayType===oT.modal}get isGameInited(){return this._isGameInited}get isAutoBetFeatureEnabled(){return!this.config.hasOwnProperty("isAutoBetFeatureEnabled")||!!this.config.isAutoBetFeatureEnabled}get isFreeBetsEnabled(){return this.config.hasOwnProperty("isFreeBetsEnabled")?!!this.config.isFreeBetsEnabled:!this.clientConfig.hasOwnProperty("isHideFreeBetsInUserMenu")||!this.clientConfig.isHideFreeBetsInUserMenu}get onLockUIActions(){var e;return null!==(e=this.config.onLockUIActions)&&void 0!==e?e:Tm.CancelBet}setGameInited(){this._isGameInited=!0}get isBrandAdjarabet(){return"adjarabet"===this.clientConfig.brandName}getAvatarUrl(e){return Mi.avatarPath+e+`?v=${Mi.version}`}get isBetTimerBranded(){return void 0===this.config.isBetTimerBranded||this.config.isBetTimerBranded}}return n.\u0275fac=function(e){return new(e||n)(je(op),je(MI),je(XG),je(O_e),je(kl),je(Uge),je(wm))},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jo=(()=>{class n{constructor(){this._subject=new Qe,this._onOpen$=this._subject.asObservable()}open(e,i=null){this._subject.next({key:e,params:i})}get onOpen$(){return this._onOpen$}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Bi=(()=>{class n{constructor(e,i,r,s,o,a,l){this.app=e,this.zone=i,this.message=r,this.modal=s,this.urlParams=o,this.ifc=a,this.multiServer=l,this.stateSubject=new On({state:Hi.None}),this.state$=this.stateSubject.asObservable().pipe(gr(c=>function m_e(n){Ks({type:"ws",level:"info",category:"ws.state",message:n.state})}(c))),this.responseSubject=new Qe,this.isOnLoginError=!1,this.reconnection=new e_e}init(e){return this.smartFox&&(this.bindEvents(!1),this.smartFox.disconnect(),this.smartFox=void 0),this.zone.runOutsideAngular(()=>{var i;console.log("[ SFS ] instantiate"),this.smartFox=new Dr.SmartFox(this.getWSServer(this.app.clientConfig.ws,e)),this.bindEvents(!0),console.log("[ SFS ] connect"),this.smartFox.connect(),null===(i=this.pingMonitor)||void 0===i||i.reset(),this.pingMonitor=new u_e(this.smartFox,r=>{this.setState(r)})}),this.response(mn.Init)}userChooseServer(e){this.multiServer.userChooseServer(e,this.app.clientConfig.servers),this.setState(Hi.Reconnecting),this.init(this.multiServer.servers[e-1])}getWSServer(e,i){return i||(this.multiServer.isMultiServer?this.multiServer.getRandomServer():e)}shutdown(e){var i;this.smartFox&&(this.bindEvents(!1),this.smartFox.disconnect(),this.smartFox=void 0),this.reconnection.reset(),null===(i=this.pingMonitor)||void 0===i||i.reset(),this.setState(Hi.Disconnected,{reason:e})}bindEvents(e=!0){!this.smartFox||(e?(this.smartFox.addEventListener(Dr.SFSEvent.CONNECTION,this.onConnection,this),this.smartFox.addEventListener(Dr.SFSEvent.CONNECTION_LOST,this.onConnectionLost,this),this.smartFox.addEventListener(Dr.SFSEvent.LOGIN,this.onLogin,this),this.smartFox.addEventListener(Dr.SFSEvent.LOGIN_ERROR,this.onLoginError,this),this.smartFox.addEventListener(Dr.SFSEvent.EXTENSION_RESPONSE,this.onResponse,this)):(this.smartFox.removeEventListener(Dr.SFSEvent.CONNECTION,this.onConnection),this.smartFox.removeEventListener(Dr.SFSEvent.CONNECTION_LOST,this.onConnectionLost),this.smartFox.removeEventListener(Dr.SFSEvent.LOGIN,this.onLogin),this.smartFox.removeEventListener(Dr.SFSEvent.LOGIN_ERROR,this.onLoginError),this.smartFox.removeEventListener(Dr.SFSEvent.EXTENSION_RESPONSE,this.onResponse)))}request(e,i){if(!this.smartFox)return;let r;(function g_e(n,t){Ks({type:"ws",level:"info",category:"ws.send",data:{action:n,data:t}})})(e,i),console.log("%c[ SFS SEND ] "+e,"background: #222; color: #caa817",i),null!==i&&i.constructor==={}.constructor&&(r=ej.toSFSObject(i)),this.smartFox.send(new Dr.ExtensionRequest(e+"Handler",r))}response(e,i){let r;return r=this.responseSubject.pipe(Bt(void 0===i?s=>s.cmd===e:s=>{var o;return s.cmd===e&&(null===(o=s.data)||void 0===o?void 0:o.code)===i})),r.pipe(Ie(s=>s.data))}setState(e,i){this.zone.run(()=>this.stateSubject.next({state:e,data:i}))}onConnection(e){var i;console.log("[ SFS ] onConnection",e),e.success?(this.reconnection.reset(),this.setState(Hi.Connected),null===(i=this.pingMonitor)||void 0===i||i.reset(),"true"===this.urlParams.aviaport?(this.ifc.receive$(pr.AviaPortInit).pipe(Ri(1),function $ge(n,t){const{first:e,each:i,with:r=Yge,scheduler:s=(null!=t?t:q_),meta:o=null}=JG(n)?{first:n}:"number"==typeof n?{each:n}:n;if(null==e&&null==i)throw new TypeError("No timeout provided.");return Je((a,l)=>{let c,u,d=null,f=0;const y=O=>{u=Mo(l,s,()=>{try{c.unsubscribe(),Pt(r({meta:o,lastValue:d,seen:f})).subscribe(l)}catch(I){l.error(I)}},O)};c=a.subscribe(ue(l,O=>{null==u||u.unsubscribe(),f++,l.next(d=O),i>0&&y(i)},void 0,void 0,()=>{(null==u?void 0:u.closed)||null==u||u.unsubscribe(),d=null})),!f&&y(null!=e?"number"==typeof e?e:+e-s.now():i)})}(5e3),Cc(()=>(this.setState(Hi.Disconnected,{reason:sa.Network}),ht))).subscribe(r=>{this.app.setAviaportSessionToken(r.sessionToken),this.smartFoxLogin()}),this.ifc.send(hi.AviaPortWaitingInit)):this.smartFoxLogin()):(this.setState(Hi.Reconnecting),this.reconnection.try(this.smartFox,()=>{this.setState(Hi.Disconnected,{reason:sa.Network})}))}smartFoxLogin(){var e;const i=new Dr.SFSObject;i.putUtfString("token",this.urlParams.token),i.putUtfString("currency",this.urlParams.currency),i.putUtfString("lang",this.urlParams.lang),i.putUtfString("sessionToken",this.app.sessionToken),i.putSFSObject("platform",function t_e(n){let t=new Dr.SFSObject;return t.putUtfString("deviceInfo",JSON.stringify(n.deviceInfo)),t.putUtfString("userAgent",JSON.stringify(n.deviceInfo.userAgent)),n.isDesktop?t.putUtfString("deviceType",K_.Desktop):n.isMobile?t.putUtfString("deviceType",K_.Mobile):n.isTablet&&t.putUtfString("deviceType",K_.Tablet),t}(this.app)),i.putUtfString("version",Mi.version),this.urlParams.jurisdiction&&i.putUtfString("jurisdiction",this.urlParams.jurisdiction);const r=this.urlParams.additionalParams;if(Array.isArray(r)){const o=new Dr.SFSObject;r.forEach(a=>{const l=function Zge(n){return"object"!=typeof n?"":Object.keys(n)[0]}(a);o.putUtfString(l,a[l])}),i.putSFSObject("additionalParams",o)}let s=this.urlParams.user;this.app.clientConfig.userWithOperator&&!0===this.app.clientConfig.userWithOperator&&(s=s+"&&"+this.urlParams.operator),console.log("[ SFS ] login"),null===(e=this.smartFox)||void 0===e||e.send(new Dr.LoginRequest(s,"",i))}onConnectionLost(e){var i,r;if(console.log("[ SFS ] onConnectionLost",e),!this.isOnLoginError){if(e.reason===Dr.ClientDisconnectionReason.BAN)return null===(i=this.pingMonitor)||void 0===i||i.reset(),void this.setState(Hi.Disconnected,{reason:sa.Ban});if(e.reason===Dr.ClientDisconnectionReason.KICK)return null===(r=this.pingMonitor)||void 0===r||r.reset(),void this.setState(Hi.Disconnected,{reason:sa.Kick});this.setState(Hi.Reconnecting),this.reconnection.try(this.smartFox)}}onLogin(){console.log("[ SFS ] onLogin")}onLoginError(e){var i;console.log("[ SFS ] onLoginError",e),this.isOnLoginError=!0,null===(i=this.smartFox)||void 0===i||i.disconnect();const r=this.getCustomErrorMessage(e.errorMessage),s=null==r?void 0:r.code;if(e.errorCode!==ny.LOGIN_BANNED_USER)return e.errorCode===ny.LOGIN_ZONE_FULL?this.multiServer.servers.length>1?(this.multiServer.removeFullServer(),void this.init()):void this.setState(Hi.Disconnected,{reason:sa.LoginError}):void this.setState(Hi.Disconnected,s!==iy.NOT_ALLOWED_CURRENCY?s!==iy.ONLY_OPERATOR_DATA?{reason:sa.LoginError,additionalOperatorData:r}:{reason:sa.LoginError,additionalOperatorData:null==r?void 0:r.additionalOperatorData}:{reason:sa.NotAllowedCurrency,allowedCurrencies:r.allowedCurrencies,additionalOperatorData:null==r?void 0:r.additionalOperatorData});this.setState(Hi.Disconnected,{reason:sa.Ban,additionalOperatorData:null==r?void 0:r.additionalOperatorData})}getCustomErrorMessage(e){if(function Qge(n){try{JSON.parse(n)}catch(t){return!1}return!0}(e))return JSON.parse(e)}onResponse(e){if(e.cmd===J_.Response)return;const i=ej.toObject(e.params);(function p_e(n,t){let e;n===mn.Init&&(e={code:t.code,stageId:t.stageId,roundId:t.roundId,currentMultiplier:t.currentMultiplier,betTimeLeft:t.betTimeLeft,activeBets:t.activeBets,user:t.user,onlinePlayers:t.onlinePlayers,roundsInfo:t.roundsInfo},Ks({type:"ws",level:"info",category:"ws.receive",data:{action:"init.config",data:t.config}})),n!==mn.Init&&(e=t),Ks({type:"ws",level:"info",category:"ws.receive",data:{action:n,data:e}})})(e.cmd,i),i.code===Rf.RealityCheck&&this.zone.run(()=>{this.modal.open(Wn.notification,{type:ed.RealityCheck,message:i.errorMessage})}),i.code!==Rf.Success&&i.code!==Rf.RealityCheck&&this.zone.run(()=>{this.message.add({value:i.errorMessage,context:Tr.danger,errorMessageParams:i.errorMessageParams})}),e.cmd!==mn.CurrentMultiplier&&e.cmd!==mn.X&&console.log("%c[ SFS RESPONSE ] "+e.cmd,"background: #222; color: #bada55",i);const r={cmd:e.cmd,data:i};e.cmd===mn.CurrentMultiplier||e.cmd===mn.X?this.responseSubject.next(r):this.zone.run(()=>{this.responseSubject.next(r)})}startPingMonitor(e){var i;null===(i=this.pingMonitor)||void 0===i||i.start(e)}}return n.\u0275fac=function(e){return new(e||n)(je(ln),je(Zn),je(Fl),je(jo),je(kl),je(Fo),je(wm))},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var aT=A(6461),mo=(()=>(function(n){n.Bet="bet_placed",n.FlyAway="fly_away",n.RoundStart="round_start",n.Win="win",n.FreeBet="free_bet"}(mo||(mo={})),mo))();let fh=(()=>{class n{constructor(){this.soundPath="assets/sounds/",this._soundOn=!0,this._musicOn=!0,this._stopAll=!1;const i={src:[`${this.soundPath}sprite_audio.mp3?v=${Mi.version}`],autoplay:!1,loop:!1,volume:.3,sprite:{[mo.Bet]:[0,522.4489795918367],[mo.FlyAway]:[2e3,2574.126984126984],[mo.RoundStart]:[6e3,1515.102040816327],[mo.Win]:[9e3,4022.857142857143],[mo.FreeBet]:[15125,2e3]}};this._music=new aT.Howl({src:[`${this.soundPath}bg_music.mp3?v=${Mi.version}`],autoplay:!0,loop:!0,volume:.1}),this._sound=new aT.Howl(i),this.soundOn=!1,this.musicOn=!1,aT.Howler.ctx.onstatechange=()=>{"running"===aT.Howler.ctx.state&&this._sound.stop()}}play(e){this._stopAll||this._sound.play(e)}set musicOn(e){this._musicOn!==e&&(this._musicOn=e,this._music.mute(!e))}set soundOn(e){this._soundOn!==e&&(this._soundOn=e,this._sound.mute(!e))}stopAll(e=!0){this._stopAll=e,e?(this._sound.stop(),this._music.stop()):this._music.play()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Zi=(()=>{class n{constructor(e,i,r){this.connector=e,this.sound=i,this.modal=r,this._events=new Qe,this._eventsObs=this._events.asObservable(),this._timeLeft=0,this._stateSubject=new On(Ji.Bet),this._onlinePlayersSubject=new On(0),this._stateObs=this._stateSubject.asObservable(),this.onlinePlayers$=this._onlinePlayersSubject.asObservable()}init(e){this.reset(),this._roundId=e.roundId,this._timeLeft=e.betTimeLeft,this._onlinePlayersSubject.next(e.onlinePlayers),this._stateSubject.next(e.stageId),ru("roundId",e.roundId),this.changeState$=this.connector.response(mn.ChangeState,200).pipe(Bt(i=>i.newStateId!==Ji.End)).subscribe(i=>this.onChangeState(i)),this.connector.response(mn.CurrentMultiplier,200).pipe(Bt(i=>!!i.crashMultiplier)).subscribe(()=>this.onChangeState({newStateId:Ji.End,roundId:this.roundId})),this.connector.response(mn.X,200).pipe(Bt(i=>!!i.crashX)).subscribe(()=>this.onChangeState({newStateId:Ji.End,roundId:this.roundId})),this.connector.response(mn.OnlinePlayers,200).subscribe(i=>this._onlinePlayersSubject.next(i.onlinePlayers))}onChangeState(e){ru("roundId",e.roundId),this.state===Ji.Run&&e.newStateId===Ji.Bet&&function Ile(n,t){const e="string"==typeof t?t:void 0,i="string"!=typeof t?{captureContext:t}:void 0;qs().captureMessage(n,e,i)}("Frontend did not receive the crash multiplier"),this._roundId=e.roundId,e.timeLeft&&(this._timeLeft=e.timeLeft),e.newStateId===Ji.End&&this.sound.play(mo.FlyAway),e.newStateId===Ji.Run&&this.sound.play(mo.RoundStart),this._stateSubject.next(e.newStateId)}getState(e){return void 0===e?this._stateObs:this._stateObs.pipe(Bt(i=>i===e))}get state(){return this._stateSubject.value}get timeLeft(){return this._timeLeft}get roundId(){return this._roundId}get isBettingState(){return this.state===Ji.Bet}get isRunningState(){return this.state===Ji.Run}get isEndingState(){return this.state===Ji.End||this.state===Ji.EndDelay}emitEvent(e,i){this._events.next({type:e,data:i})}event(e){return this._eventsObs.pipe(Bt(i=>i.type===e))}checkFairness(e){this.canCheckFairness(e)&&this.modal.open(Wn.fairness,e)}canCheckFairness(e){return this.roundId!==e}reset(){this.changeState$&&this.changeState$.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(je(Bi),je(fh),je(jo))},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var vo=(()=>(function(n){n.sid="sid",n.manualSeed="msd",n.randomSeed="rsd",n.isRandomSeed="irs"}(vo||(vo={})),vo))();let UR=(()=>{class n{constructor(e){this.storage=e,this.STORE_PREFIX="__av_gs",this.RANDOM_SEED_LEN=20,null===this.getItem(vo.isRandomSeed)&&(this.isRandomSeed=!0),null===this.getItem(vo.randomSeed)&&(this.randomSeed=this.getRandomSeed()),null===this.getItem(vo.manualSeed)&&(this.manualSeed=this.getRandomSeed()),null===this.getItem(vo.sid)&&(this.sid=0)}get isRandomSeed(){const e=this.getItem(vo.isRandomSeed);return null===e||!!e&&"true"===e}set isRandomSeed(e){this.setItem(vo.isRandomSeed,e)}get randomSeed(){return null===this.getItem(vo.randomSeed)&&(this.randomSeed=this.getRandomSeed()),this.getItem(vo.randomSeed)}set randomSeed(e){this.setItem(vo.randomSeed,e)}get manualSeed(){return null===this.getItem(vo.manualSeed)&&(this.manualSeed=this.getRandomSeed()),this.getItem(vo.manualSeed).trim()}set manualSeed(e){this.sid=0,e=e.trim(),this.setItem(vo.manualSeed,e)}get manualSeedWithId(){return this.manualSeed+"-"+this.sid}get clientSeed(){let e="";return this.isRandomSeed?(e=this.randomSeed,this.randomSeed=this.getRandomSeed()):(e=this.manualSeedWithId,this.sid++),e}get sid(){return parseInt(this.getItem(vo.sid))}set sid(e){this.setItem(vo.sid,e)}getRandomSeed(){return ZG(this.RANDOM_SEED_LEN)}getItem(e){return this.storage.local.getItem(this.STORE_PREFIX+e)}setItem(e,i){this.storage.local.setItem(this.STORE_PREFIX+e,`${i}`)}}return n.\u0275fac=function(e){return new(e||n)(je(XG))},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Wi=(()=>(function(n){n.CancelBet="cancelBet",n.CashOut="cashOut",n.Bet="bet",n.CurrentBetsInfo="currentBetsInfo",n.PreviousRoundInfo="previousRoundInfo",n.BetHistory="betHistory",n.GetTopRoundsInfo="getTopRoundsInfo",n.GetTopWinsInfo="getTopWinsInfo",n.GetHugeWinsInfo="getHugeWinsInfo",n.AddChatMessage="AddChatMessage",n.AddChatMessageV2="AddChatMessageV2",n.SearchGifs="searchGifs",n.Like="like",n.ClaimRainWin="claimRainWin",n.RoundFairness="roundFairness",n.ServerSeed="serverSeed",n.FreeBetsArchive="freeBetsArchive",n.ChangeProfileImage="changeProfileImage",n.NotificationCallback="notificationCallback",n.FreeBetFinish="freeBetFinish",n.UpdateBalance="updateBalance",n.SetPlayerSetting="setPlayerSetting"}(Wi||(Wi={})),Wi))(),ap=(()=>(function(n){n.Sound="sound",n.Music="music",n.Animation="animation",n.SecondBet="secondBet"}(ap||(ap={})),ap))(),Ic=(()=>(function(n){n.HideLiveBetsAndStatistics="hideLiveBetsAndStatistics",n.HideMyActivity="hideMyActivity"}(Ic||(Ic={})),Ic))();let EEe=(()=>{class n{constructor(e,i,r){this.connector=e,this.soundService=i,this.ifc=r,this._animationSubject=new On(!1),this._soundSubject=new On(!1),this._musicSubject=new On(!1),this._secondBetSubject=new On(!1),this.otherSubject=new Qe,this.other$=this.otherSubject.asObservable(),this.other=new Map([]),this.otherSettingNames=Object.values(Ic),this._isOtherEnabled=!1,this._otherKeys=[],this.saveLock=!1}init(e){this.saveLock=!1,this.sound=e.sound,this.music=e.music,this.animation=e.animation,this.secondBet=e.secondBet;const i=e.other;i&&this.otherSettingNames.forEach(r=>{i[r]&&this.other.set(r,i[r])}),this._otherKeys=Array.from(this.other.keys()),this._isOtherEnabled=!!this.other.size,this.saveLock=!0}changeOther(e,i){this.other.set(e,i),this.otherSubject.next({name:e,value:i}),this.save(e,i)}getOther(e){return this.other.get(e)||!1}get isOtherEnabled(){return this._isOtherEnabled}get otherKeys(){return this._otherKeys}get sound(){return this._soundSubject.value}set sound(e){this._soundSubject.value!==e&&(this._soundSubject.next(e),this.soundService.soundOn=e,this.ifc.send(hi.Sound,{value:e}),this.save(ap.Sound,e))}get music(){return this._musicSubject.value}set music(e){this._musicSubject.value!==e&&(this._musicSubject.next(e),this.soundService.musicOn=e,this.ifc.send(hi.Music,{value:e}),this.save(ap.Music,e))}get animation(){return this._animationSubject.value}set animation(e){this._animationSubject.value!==e&&(this._animationSubject.next(e),this.ifc.send(hi.Animation,{value:e}),this.save(ap.Animation,e))}get animation$(){return this._animationSubject.asObservable()}get secondBet(){return this._secondBetSubject.value}set secondBet(e){this._secondBetSubject.value!==e&&(this._secondBetSubject.next(e),this.save(ap.SecondBet,e))}save(e,i){!1!==this.saveLock&&this.connector.request(Wi.SetPlayerSetting,{settingName:e,value:i})}}return n.\u0275fac=function(e){return new(e||n)(je(Bi),je(fh),je(Fo))},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ll=(()=>{class n{constructor(e,i,r,s){this.seed=e,this.settings=i,this.connector=r,this.ifc=s,this.balanceSubject=new On(0),this.balance$=this.balanceSubject.asObservable(),this.connector.response(mn.NewBalance,200).subscribe(o=>this.onNewBalanceResponse(o)),this.ifc.receive$(pr.SetBalance).subscribe(o=>{this.balance=o.value})}init(e){this.balance=e.balance,this._id=e.userId,this._username=e.username,this._avatar=e.profileImage,this.settings.init(e.settings)}onNewBalanceResponse(e){this.balance=e.newBalance,this.ifc.send(hi.UpdateBalance,{amount:this.balance,additionalOperatorData:e.additionalOperatorData})}get id(){return this._id}get username(){return this._username}get avatar(){return this._avatar}set avatar(e){this._avatar=e}get balance(){return this.balanceSubject.getValue()}set balance(e){this.balanceSubject.next(e)}get clientSeed(){return this.seed.clientSeed}}return n.\u0275fac=function(e){return new(e||n)(je(UR),je(EEe),je(Bi),je(Fo))},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bu=(()=>{class n{constructor(e,i,r,s,o){this.modal=e,this.connector=i,this.message=r,this.ifc=s,this.urlParams=o,this._list=[],this._activateSource=new Qe,this._updateSource=new Qe,this.onActivate$=this._activateSource.asObservable(),this.onUpdate$=this._updateSource.asObservable(),this.connector.response(mn.FreeBetInfo).subscribe(a=>{a.activeFreeBetsInfo&&200===a.code&&("true"===this.urlParams.aviaport&&this.ifc.send(hi.AviaPortUpdateFreeBet,{freeBet:{freeBetId:a.activeFreeBetsInfo.freeBetsId,freeBetsLeft:a.activeFreeBetsInfo.freeBetsLeft,freeBetBetAmount:a.activeFreeBetsInfo.freeBetsBetAmount,freeBetWinAmount:a.activeFreeBetsInfo.freeBetsWinSum,freeBetStartDate:a.activeFreeBetsInfo.freeBetsStartDate,freeBetEndDate:a.activeFreeBetsInfo.freeBetsEndDate,numberOfFreeBets:a.activeFreeBetsInfo.numberOfFreeBets,freeBetMinCashOut:a.activeFreeBetsInfo.freeBetsMinCashOut,isBetIncluded:a.activeFreeBetsInfo.isBetIncluded}}),this.update(a.activeFreeBetsInfo))}),this.connector.response(mn.FreeBetFinish,200).subscribe(()=>{var a;"true"===this.urlParams.aviaport&&this.ifc.send(hi.AviaPortClaimFreeBet,{freeBetId:null===(a=this.activeFreeBet)||void 0===a?void 0:a.freeBetsId}),this.remove(this.activeFreeBet),this.activate()}),this.connector.response(mn.CreateFreeBet,200).subscribe(a=>{const l=a.freeBets;this.message.add({value:Ec.YouHaveGotAFreeBet,context:Tr.success}),this.setList(l,!1)}),this.connector.response(mn.CancelFreeBet,200).subscribe(a=>{this.message.add({value:Ec.YourFreeBetWasCancelledByAdministrator,context:Tr.danger}),this.activate(),a.freeBets.forEach(l=>{const c=this.list.find(u=>u.freeBetsId===l);c&&this.remove(c)})}),this.ifc.receive$(pr.AviaPortSelectFreeBet).subscribe(a=>this.activate(a.freeBetId))}setList(e,i=!0){!Array.isArray(e)||(this._list=e,i&&this.autoActivation(),this._updateSource.next(e[e.length-1]))}autoActivation(){"true"!==this.urlParams.aviaport&&this.activate(this._list.length>0?this._list[0].freeBetsId:void 0)}get list(){return this._list}get freeBetsCount(){return Array.isArray(this._list)?this._list.length:0}get activeFreeBet(){if(void 0!==this._activeId&&this.freeBetsCount>0)return this._list.find(e=>e.freeBetsId===this._activeId)}withdrawFreeBet(e){return 0!==e.freeBetsLeft&&(e.freeBetsLeft--,!0)}isActive(e){return this._activeId===e}update(e){this._list[this._list.findIndex(i=>i.freeBetsId===e.freeBetsId)]=e,this._updateSource.next(e)}add(e){this._list.find(i=>i.freeBetsId===e.freeBetsId)||(this._list.push(e),this._updateSource.next(e))}remove(e){const i=this._list.findIndex(r=>r.freeBetsId===e.freeBetsId);this._list.splice(i,1),this._updateSource.next(e)}activate(e){e!==this._activeId&&(this._activeId=e,this._activateSource.next())}onClaim(){var e;this.connector.request(Wi.FreeBetFinish,{freeBetsId:null===(e=this.activeFreeBet)||void 0===e?void 0:e.freeBetsId})}onManage(){this.modal.open(Wn.freeBets)}}return n.\u0275fac=function(e){return new(e||n)(je(jo),je(Bi),je(Fl),je(Fo),je(kl))},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),S9=(()=>{class n{constructor(){this.history=[]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),C9=(()=>{class n{constructor(){this.container=document.body}copyToClipBoard(e){this.createFake(e),this.select(this.fakeElem),this.copyText(),this.removeFake()}select(e){e.select(),e.setSelectionRange(0,e.value.length)}copyText(){document.execCommand("copy")}createFake(e){const i="rtl"===document.documentElement.getAttribute("dir");this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[i?"right":"left"]="-9999px";const r=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=`${r}px`,this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=e,this.container.appendChild(this.fakeElem)}removeFake(){var e;this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=void 0),null===(e=window.getSelection())||void 0===e||e.removeAllRanges()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var dd=(()=>(function(n){n[n.xs=0]="xs",n[n.sm=576]="sm",n[n.md=768]="md",n[n.lg=992]="lg",n[n.xl=1200]="xl",n[n.xl1300=1300]="xl1300",n[n.xxl=1400]="xxl"}(dd||(dd={})),dd))();function ua(n,t=q_){return function TEe(n){return Je((t,e)=>{let i=!1,r=null,s=null,o=!1;const a=()=>{if(null==s||s.unsubscribe(),s=null,i){i=!1;const c=r;r=null,e.next(c)}o&&e.complete()},l=()=>{s=null,o&&e.complete()};t.subscribe(ue(e,c=>{i=!0,r=c,s||Pt(n(c)).subscribe(s=ue(e,a,l))},()=>{o=!0,(!i||!s||s.closed)&&e.complete()}))})}(()=>Qu(n,t))}let Hy=(()=>{class n{constructor(e){this.zone=e,this.AUDIT_TIME=100,this.resizeSubject=new On(this.getSize()),this._size$=this.resizeSubject.asObservable(),this.zone.runOutsideAngular(()=>{wi(window,"resize").pipe(Ie(()=>this.getSize()),ua(this.AUDIT_TIME)).subscribe(i=>this.zone.run(()=>this.resizeSubject.next(i)))})}get onResize$(){return this._size$}manualEmitResizeEvent(){setTimeout(()=>{this.resizeSubject.next(this.getSize())})}getSize(){return{width:window.innerWidth,height:window.innerHeight}}isSmallScreen(){return this.getSize().width>=dd.md}}return n.\u0275fac=function(e){return new(e||n)(je(Zn))},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),il=(()=>{class n{constructor(e,i){this.window=e,this.ifc=i,this._isOpen=!1,this.openSubject=new On(!1),this.isChatEnabledSubject=new On(!1),this.isChatEnabled$=this.isChatEnabledSubject.asObservable(),this.isOpen$=this.openSubject.asObservable(),this.ifc.receive$(pr.AviaPortToggleChat).subscribe(()=>{this.isOpen=!this.isOpen})}get isChatEnabled(){return this.isChatEnabledSubject.getValue()}set isChatEnabled(e){this.isChatEnabledSubject.next(e)}get isOpen(){return this._isOpen}set isOpen(e){this.isOpen!==e&&(this._isOpen=e,this.openSubject.next(e),this.window.manualEmitResizeEvent())}enableChat(){this.isChatEnabled=!0,this.ifc.send(hi.AviaPortChatInit,{isChatEnabled:!0}),this.initializeChatState()}initializeChatState(){const e=this.window.getSize().width;this.isOpen=this.shouldOpenChat(e)}shouldOpenChat(e){return e>=dd.md&&!(e<dd.xl1300&&e>=dd.lg)}}return n.\u0275fac=function(e){return new(e||n)(je(Hy),je(Fo))},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hd=(()=>{class n{constructor(e,i,r,s){this.app=e,this.clipBoard=i,this.bsMessage=r,this.chatFeatureService=s,this.messages=[],this._top10Gifs=[],this.tagUserSubject=new Qe}initChat(e){var i;!this.app.config.chat.isEnabled||(null===(i=this.app.config.engagementTools)||void 0===i?void 0:i.isExternalChatEnabled)||(e.chatHistory&&(this.messages=function qge(n,t){return n.slice(Math.max(n.length-t,0))}(e.chatHistory,this.app.config.chat.maxMessages)),e.chatSettings&&(this._top10Gifs=Array.isArray(e.chatSettings.top10Gifs)?e.chatSettings.top10Gifs:QG(e.chatSettings.top10Gifs)),this.chatFeatureService.enableChat())}tagUser(e){this.tagUserSubject.next(`@${e} `)}get onTagUser(){return this.tagUserSubject.asObservable()}get top10Gifs(){return this._top10Gifs}shareBet(e,i){this.clipBoard.copyToClipBoard(this.isChatApiV2OrLater?`/share_bet:${e}:${i}`:`/share_bet:${e}`),this.bsMessage.add({value:"copied-for-chat",context:Tr.success,lifeTime:1e3,closable:!1})}get isChatApiV2OrLater(){const e=this.app.config.chatApiVersion;return!!e&&e>=rT.v2}}return n.\u0275fac=function(e){return new(e||n)(je(ln),je(C9),je(Fl),je(il))},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lT=(()=>{class n{constructor(e){this.connector=e,this.inited=!1,this.isSendInitialize=!1,this.stopAutoBetSubject=new Qe,this.stopAutoBet$=this.stopAutoBetSubject.asObservable(),this.sendPostMessage=(i,r)=>{try{parent.postMessage({name:i,status:r},"*")}catch(s){}},this.sendActionPostMessage=(i,r)=>{try{parent.postMessage({action:i,data:r},"*")}catch(s){}}}setup(){this.inited||(this.inited=!0,wi(window,"message").pipe(Bt(e=>"updatebalance"===e.data.name)).subscribe(()=>{this.updateBalanceHandler()}),wi(window,"message").pipe(Bt(e=>"stopAutospins"===e.data.name)).subscribe(()=>{this.stopAutoGameHandler()}))}stopAutoGameHandler(){this.stopAutoBetSubject.next()}updateBalanceHandler(){this.connector.request(Wi.UpdateBalance,null)}sendClosed(){!this.inited||this.sendPostMessage("gameStatus","closed")}sendBackToHome(e){!this.inited||this.sendActionPostMessage("backToHome",e)}sendInitialized(){!this.inited||this.isSendInitialize||(this.isSendInitialize=!0,this.sendPostMessage("gameStatus","initialized"))}}return n.\u0275fac=function(e){return new(e||n)(je(Bi))},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),GR=(()=>{class n{constructor(e){this.zone=e,this.windowGrecaptcha="grecaptcha",this.windowOnLoadCallbackProperty="ngx_captcha_onload_callback",this.globalDomain="recaptcha.net",this.defaultDomain="google.com"}registerCaptchaScript(e,i,r,s){if(this.grecaptchaScriptLoaded())return void this.zone.run(()=>{r(window[this.windowGrecaptcha])});window[this.windowOnLoadCallbackProperty]=()=>this.zone.run(r.bind(this,window[this.windowGrecaptcha]));const o=document.createElement("script");o.innerHTML="",o.src=this.getCaptchaScriptUrl(e,i,s),o.async=!0,o.defer=!0,document.getElementsByTagName("head")[0].appendChild(o)}cleanup(){window[this.windowOnLoadCallbackProperty]=void 0,window[this.windowGrecaptcha]=void 0}grecaptchaScriptLoaded(){return!(!window[this.windowOnLoadCallbackProperty]||!window[this.windowGrecaptcha])}getLanguageParam(e){return e?`&hl=${e}`:""}getCaptchaScriptUrl(e,i,r){return`https://www.${e?this.globalDomain:this.defaultDomain}/recaptcha/api.js?onload=${this.windowOnLoadCallbackProperty}&render=${i}${this.getLanguageParam(r)}`}}return n.\u0275fac=function(e){return new(e||n)(je(Zn))},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})(),E9=(()=>{class n{constructor(e,i){this.scriptService=e,this.zone=i}execute(e,i,r,s,o){this.executeAsPromise(e,i,s).then(r).catch(a=>o?o(a):console.error(a))}executeAsPromise(e,i,r){return new Promise((s,o)=>{this.scriptService.registerCaptchaScript(!(!r||!r.useGlobalDomain),e,c=>{this.zone.runOutsideAngular(()=>{try{c.execute(e,{action:i}).then(u=>this.zone.run(()=>s(u)))}catch(u){o(u)}})})})}}return n.\u0275fac=function(e){return new(e||n)(je(GR),je(Zn))},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})(),wEe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({providers:[GR,E9],imports:[[Ot]]}),n})(),Su=(()=>{class n{constructor(){this.bets=[],this.cancelBetsSubject=new Qe,this.cancelBets$=this.cancelBetsSubject.asObservable(),this.betSettedSubject=new Qe,this.betSetted$=this.betSettedSubject.asObservable()}getBets(){return this.bets}getBet(e){return this.bets.find(i=>i.betId===e)}setBet(e){this.isBetSetted||this.betSettedSubject.next(!0),this.bets=this.bets.filter(i=>i.betId!==e.betId),this.bets.push(e)}removeBet(e){this.bets=this.bets.filter(i=>i.betId!==e),this.isBetSetted||this.betSettedSubject.next(!1)}get isBetSetted(){return this.bets.length>0}restoreBets(e){e&&Array.isArray(e)&&e.forEach(i=>{this.setBet({betId:i.betId,preBet:!1,data:i})})}cancelBets(){this.cancelBetsSubject.next()}isWinCelebrated(e,i){return void 0===i||e>i}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var ph=(()=>(function(n){n[n.Low=1]="Low",n[n.Medium=2]="Medium",n[n.High=10]="High"}(ph||(ph={})),ph))(),Mm=(()=>(function(n){n.Low="#34B4FF",n.Medium="#913EF8",n.High="#C017B4"}(Mm||(Mm={})),Mm))();class MEe{getString(t){return t<ph.Medium?Mm.Low:t<ph.High?Mm.Medium:Mm.High}getHex(t){return po(this.getString(t))}}let cT=(()=>{class n{constructor(e,i){this.connector=e,this.main=i,this._startingValue=1,this.levelColor=new MEe,this.dataSubject=new On({currentMultiplier:1}),this.data$=this.dataSubject.asObservable(),this.connector.response(mn.X,200).pipe(Bt(r=>r.x>this.dataSubject.getValue().currentMultiplier)).subscribe(r=>{this.dataSubject.next({currentMultiplier:r.x})}),this.connector.response(mn.CurrentMultiplier,200).pipe(Bt(r=>r.currentPayout>this.dataSubject.getValue().currentMultiplier)).subscribe(r=>{this.dataSubject.next({currentMultiplier:r.currentPayout})}),this.main.getState(Ji.Run).subscribe(()=>this.dataSubject.next({currentMultiplier:1}))}init(e){this._startingValue=e.currentMultiplier?e.currentMultiplier:1}get startingValue(){const e=this._startingValue;return this._startingValue=1,e}}return n.\u0275fac=function(e){return new(e||n)(je(Bi),je(Zi))},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const{isArray:OEe}=Array;function T9(n){return 1===n.length&&OEe(n[0])?n[0]:n}function w9(...n){return 1===(n=T9(n)).length?Pt(n[0]):new _e(function PEe(n){return t=>{let e=[];for(let i=0;e&&!t.closed&&i<n.length;i++)e.push(Pt(n[i]).subscribe(ue(t,r=>{if(e){for(let s=0;s<e.length;s++)s!==i&&e[s].unsubscribe();e=null}t.next(r)})))}}(n))}function uT(...n){const t=cr(n),e=T9(n);return e.length?new _e(i=>{let r=e.map(()=>[]),s=e.map(()=>!1);i.add(()=>{r=s=null});for(let o=0;!i.closed&&o<e.length;o++)Pt(e[o]).subscribe(ue(i,a=>{if(r[o].push(a),r.every(l=>l.length)){const l=r.map(c=>c.shift());i.next(t?t(...l):l),r.some((c,u)=>!c.length&&s[u])&&i.complete()}},()=>{s[o]=!0,!r[o].length&&i.complete()}));return()=>{r=s=null}}):ht}function gh(...n){const t=ja(n);return Je((e,i)=>{(t?em(n,e,t):em(n,e)).subscribe(i)})}function lp(n,t=Se){return n=null!=n?n:IEe,Je((e,i)=>{let r,s=!0;e.subscribe(ue(i,o=>{const a=t(o);(s||!n(r,a))&&(s=!1,r=a,i.next(o))}))})}function IEe(n,t){return n===t}function jR(...n){const t=cr(n);return Je((e,i)=>{const r=n.length,s=new Array(r);let o=n.map(()=>!1),a=!1;for(let l=0;l<r;l++)Pt(n[l]).subscribe(ue(i,c=>{s[l]=c,!a&&!o[l]&&(o[l]=!0,(a=o.every(Se))&&(o=null))},x));e.subscribe(ue(i,l=>{if(a){const c=[l,...s];i.next(t?t(...c):c)}}))})}new _e(x);let O9=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(z(Do),z(Ei))},n.\u0275dir=At({type:n}),n})(),cp=(()=>{class n extends O9{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Io(n)))(i||n)}}(),n.\u0275dir=At({type:n,features:[Di]}),n})();const da=new Zt("NgValueAccessor"),DEe={provide:da,useExisting:Hn(()=>fd),multi:!0},kEe=new Zt("CompositionEventMode");let fd=(()=>{class n extends O9{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function NEe(){const n=nu()?nu().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(z(Do),z(Ei),z(kEe,8))},n.\u0275dir=At({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&Te("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Jn([DEe]),Di]}),n})();function x9(n){return null!=n&&"number"==typeof n.length}const Ho=new Zt("NgValidators"),mh=new Zt("NgAsyncValidators");function dT(n){return null}function B9(n){return null!=n}function U9(n){const t=r0(n)?ri(n):n;return aP(t),t}function G9(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function j9(n,t){return t.map(e=>e(n))}function H9(n){return n.map(t=>function LEe(n){return!n.validate}(t)?t:e=>t.validate(e))}function HR(n){return null!=n?function V9(n){if(!n)return null;const t=n.filter(B9);return 0==t.length?null:function(e){return G9(j9(e,t))}}(H9(n)):null}function VR(n){return null!=n?function z9(n){if(!n)return null;const t=n.filter(B9);return 0==t.length?null:function(e){return nT(j9(e,t).map(U9)).pipe(Ie(G9))}}(H9(n)):null}function W9(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function zR(n){return n?Array.isArray(n)?n:[n]:[]}function hT(n,t){return Array.isArray(n)?n.includes(t):n===t}function X9(n,t){const e=zR(t);return zR(n).forEach(r=>{hT(e,r)||e.push(r)}),e}function q9(n,t){return zR(t).filter(e=>!hT(n,e))}class K9{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=HR(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=VR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class vh extends K9{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ha extends K9{get formDirective(){return null}get path(){return null}}let fa=(()=>{class n extends class J9{constructor(t){this._cd=t}is(t){var e,i,r;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[t])}}{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(z(vh,2))},n.\u0275dir=At({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&wt("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[Di]}),n})();function Vy(n,t){(function YR(n,t){const e=function $9(n){return n._rawValidators}(n);null!==t.validator?n.setValidators(W9(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=function Y9(n){return n._rawAsyncValidators}(n);null!==t.asyncValidator?n.setAsyncValidators(W9(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();_T(t._rawValidators,r),_T(t._rawAsyncValidators,r)})(n,t),t.valueAccessor.writeValue(n.value),function $Ee(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Q9(n,t)})}(n,t),function XEe(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function YEe(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Q9(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function WEe(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function _T(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Q9(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function KR(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const zy="VALID",vT="INVALID",Om="PENDING",Wy="DISABLED";function ZR(n){return(yT(n)?n.validators:n)||null}function iz(n){return Array.isArray(n)?HR(n):n||null}function QR(n,t){return(yT(t)?t.asyncValidators:n)||null}function rz(n){return Array.isArray(n)?VR(n):n||null}function yT(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const eD=n=>n instanceof nD;function oz(n){return(n=>n instanceof cz)(n)?n.value:n.getRawValue()}function az(n,t){const e=eD(n),i=n.controls;if(!(e?Object.keys(i):i).length)throw new Wt(1e3,"");if(!i[t])throw new Wt(1001,"")}function lz(n,t){eD(n),n._forEachChild((i,r)=>{if(void 0===t[r])throw new Wt(1002,"")})}class tD{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=iz(this._rawValidators),this._composedAsyncValidatorFn=rz(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===zy}get invalid(){return this.status===vT}get pending(){return this.status==Om}get disabled(){return this.status===Wy}get enabled(){return this.status!==Wy}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=iz(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=rz(t)}addValidators(t){this.setValidators(X9(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(X9(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(q9(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(q9(t,this._rawAsyncValidators))}hasValidator(t){return hT(this._rawValidators,t)}hasAsyncValidator(t){return hT(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Om,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Wy,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=zy,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===zy||this.status===Om)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Wy:zy}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Om,this._hasOwnPendingAsyncValidator=!0;const e=U9(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function ZEe(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(e)),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(r=>{i=eD(i)?i.controls.hasOwnProperty(r)?i.controls[r]:null:(n=>n instanceof eTe)(i)&&i.at(r)||null}),i}(this,t,".")}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new nn,this.statusChanges=new nn}_calculateStatus(){return this._allControlsDisabled()?Wy:this.errors?vT:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Om)?Om:this._anyControlsHaveStatus(vT)?vT:zy}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){yT(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class cz extends tD{constructor(t=null,e,i){super(ZR(e),QR(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),yT(e)&&e.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){KR(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){KR(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class nD extends tD{constructor(t,e,i){super(ZR(e),QR(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){lz(this,t),Object.keys(t).forEach(i=>{az(this,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=oz(e),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class eTe extends tD{constructor(t,e,i){super(ZR(e),QR(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){lz(this,t),t.forEach((i,r)=>{az(this,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>oz(t))}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const iTe={provide:vh,useExisting:Hn(()=>Vo)},hz=(()=>Promise.resolve(null))();let Vo=(()=>{class n extends vh{constructor(e,i,r,s,o){super(),this._changeDetectorRef=o,this.control=new cz,this._registered=!1,this.update=new nn,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function qR(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===fd?e=s:function JEe(n){return Object.getPrototypeOf(n.constructor)===cp}(s)?i=s:r=s}),r||i||e||null}(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function XR(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Vy(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){hz.then(()=>{var i;this.control.setValue(e,{emitViewToModelChange:!1}),null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=""===i||i&&"false"!==i;hz.then(()=>{var s;r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),null===(s=this._changeDetectorRef)||void 0===s||s.markForCheck()})}_getPath(e){return this._parent?function pT(n,t){return[...t.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(z(ha,9),z(Ho,10),z(mh,10),z(da,10),z(Sn,8))},n.\u0275dir=At({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Jn([iTe]),Di,Is]}),n})(),pz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({}),n})();const rD=new Zt("NgModelWithFormControlWarning");function Cz(n){return"number"==typeof n?n:parseInt(n,10)}let up=(()=>{class n{constructor(){this._validator=dT}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):dT,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=At({type:n,features:[Is]}),n})();const MTe={provide:Ho,useExisting:Hn(()=>Pm),multi:!0};let Pm=(()=>{class n extends up{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=e=>Cz(e),this.createValidator=e=>function k9(n){return t=>function _h(n){return null==n||0===n.length}(t.value)||!x9(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Io(n)))(i||n)}}(),n.\u0275dir=At({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&ui("minlength",i._enabled?i.minlength:null)},inputs:{minlength:"minlength"},features:[Jn([MTe]),Di]}),n})();const OTe={provide:Ho,useExisting:Hn(()=>xm),multi:!0};let xm=(()=>{class n extends up{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>Cz(e),this.createValidator=e=>function F9(n){return t=>x9(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Io(n)))(i||n)}}(),n.\u0275dir=At({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&ui("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Jn([OTe]),Di]}),n})(),xz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[pz]]}),n})(),pa=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[xz]}),n})(),Iz=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:rD,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[xz]}),n})();const FTe=["*"],ewe=["dialog"];function dp(n){return null!=n}function Im(n){return(n||document.body).getBoundingClientRect()}"undefined"!=typeof Element&&!Element.prototype.closest&&(Element.prototype.closest=function(n){let t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(n))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});const Rz={animation:!0,transitionTimerDelayMs:5},qwe=()=>{},{transitionTimerDelayMs:Kwe}=Rz,Yy=new Map,ga=(n,t,e,i)=>{let r=i.context||{};const s=Yy.get(t);if(s)switch(i.runningTransition){case"continue":return ht;case"stop":n.run(()=>s.transition$.complete()),r=Object.assign(s.context,r),Yy.delete(t)}const o=e(t,i.animation,r)||qwe;if(!i.animation||"none"===window.getComputedStyle(t).transitionProperty)return n.run(()=>o()),hn(void 0).pipe(function Ywe(n){return t=>new _e(e=>t.subscribe({next:o=>n.run(()=>e.next(o)),error:o=>n.run(()=>e.error(o)),complete:()=>n.run(()=>e.complete())}))}(n));const a=new Qe,l=new Qe,c=a.pipe(function xEe(...n){return t=>em(t,hn(...n))}(!0));Yy.set(t,{transition$:a,complete:()=>{l.next(),l.complete()},context:r});const u=function Xwe(n){const{transitionDelay:t,transitionDuration:e}=window.getComputedStyle(n);return 1e3*(parseFloat(t)+parseFloat(e))}(t);return n.runOutsideAngular(()=>{const d=wi(t,"transitionend").pipe(Ur(c),Bt(({target:y})=>y===t));w9(Qu(u+Kwe).pipe(Ur(c)),d,l).pipe(Ur(c)).subscribe(()=>{Yy.delete(t),n.run(()=>{o(),a.next(),a.complete()})})}),a.asObservable()};let ST=(()=>{class n{constructor(){this.animation=Rz.animation}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Bz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot]]}),n})(),Uz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot]]}),n})(),jz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({}),n})(),zz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot]]}),n})(),Wz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({}),n})();var js=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(js||(js={})),js))();const ET=(n,t)=>!!t&&t.some(e=>e.contains(n)),$z=(n,t)=>!t||null!=function $we(n,t){return t&&void 0!==n.closest?n.closest(t):null}(n,t),pMe="undefined"!=typeof navigator&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Yz=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Xz(n){const t=Array.from(n.querySelectorAll(Yz)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}const yMe=/\s+/,qz=new class vMe{getAllStyles(t){return window.getComputedStyle(t)}getStyle(t,e){return this.getAllStyles(t)[e]}isStaticPositioned(t){return"static"===(this.getStyle(t,"position")||"static")}offsetParent(t){let e=t.offsetParent||document.documentElement;for(;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}position(t,e=!0){let i,r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))i=t.getBoundingClientRect(),i={top:i.top,bottom:i.bottom,left:i.left,right:i.right,height:i.height,width:i.width};else{const s=this.offsetParent(t);i=this.offset(t,!1),s!==document.documentElement&&(r=this.offset(s,!1)),r.top+=s.clientTop,r.left+=s.clientLeft}return i.top-=r.top,i.bottom-=r.top,i.left-=r.left,i.right-=r.left,e&&(i.top=Math.round(i.top),i.bottom=Math.round(i.bottom),i.left=Math.round(i.left),i.right=Math.round(i.right)),i}offset(t,e=!0){const i=t.getBoundingClientRect(),r_top=window.scrollY-document.documentElement.clientTop,r_left=window.scrollX-document.documentElement.clientLeft;let s={height:i.height||t.offsetHeight,width:i.width||t.offsetWidth,top:i.top+r_top,bottom:i.bottom+r_top,left:i.left+r_left,right:i.right+r_left};return e&&(s.height=Math.round(s.height),s.width=Math.round(s.width),s.top=Math.round(s.top),s.bottom=Math.round(s.bottom),s.left=Math.round(s.left),s.right=Math.round(s.right)),s}positionElements(t,e,i,r){const[s="top",o="center"]=i.split("-"),a=r?this.offset(t,!1):this.position(t,!1),l=this.getAllStyles(e),c=parseFloat(l.marginTop),u=parseFloat(l.marginBottom),d=parseFloat(l.marginLeft),f=parseFloat(l.marginRight);let y=0,O=0;switch(s){case"top":y=a.top-(e.offsetHeight+c+u);break;case"bottom":y=a.top+a.height;break;case"left":O=a.left-(e.offsetWidth+d+f);break;case"right":O=a.left+a.width}switch(o){case"top":y=a.top;break;case"bottom":y=a.top+a.height-e.offsetHeight;break;case"left":O=a.left;break;case"right":O=a.left+a.width-e.offsetWidth;break;case"center":"top"===s||"bottom"===s?O=a.left+a.width/2-e.offsetWidth/2:y=a.top+a.height/2-e.offsetHeight/2}e.style.transform=`translate(${Math.round(O)}px, ${Math.round(y)}px)`;const I=e.getBoundingClientRect(),N=document.documentElement,k=window.innerHeight||N.clientHeight,B=window.innerWidth||N.clientWidth;return I.left>=0&&I.top>=0&&I.right<=B&&I.bottom<=k}};new Date(1882,10,12),new Date(2174,10,25);let tW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot,pa]]}),n})(),xMe=(()=>{class n{constructor(){this.autoClose=!0,this.placement=["bottom-left","bottom-right","top-left","top-right"]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=At({type:n,selectors:[["",8,"navbar"]]}),n})(),OT=(()=>{class n{constructor(e){this.elementRef=e,this._disabled=!1}set disabled(e){this._disabled=""===e||!0===e}get disabled(){return this._disabled}}return n.\u0275fac=function(e){return new(e||n)(z(Ei))},n.\u0275dir=At({type:n,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:2,hostBindings:function(e,i){2&e&&wt("disabled",i.disabled)},inputs:{disabled:"disabled"}}),n})(),PT=(()=>{class n{constructor(e,i){this.dropdown=e,this.placement="bottom",this.isOpen=!1,this.nativeElement=i.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(z(Hn(()=>bh)),z(Ei))},n.\u0275dir=At({type:n,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(e,i,r){if(1&e&&ls(r,OT,4),2&e){let s;kn(s=Fn())&&(i.menuItems=s)}},hostVars:5,hostBindings:function(e,i){1&e&&Te("keydown.ArrowUp",function(s){return i.dropdown.onKeyDown(s)})("keydown.ArrowDown",function(s){return i.dropdown.onKeyDown(s)})("keydown.Home",function(s){return i.dropdown.onKeyDown(s)})("keydown.End",function(s){return i.dropdown.onKeyDown(s)})("keydown.Enter",function(s){return i.dropdown.onKeyDown(s)})("keydown.Space",function(s){return i.dropdown.onKeyDown(s)})("keydown.Tab",function(s){return i.dropdown.onKeyDown(s)})("keydown.Shift.Tab",function(s){return i.dropdown.onKeyDown(s)}),2&e&&(ui("x-placement",i.placement),wt("dropdown-menu",!0)("show",i.dropdown.isOpen()))}}),n})(),xT=(()=>{class n{constructor(e,i){this.dropdown=e,this.nativeElement=i.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(z(Hn(()=>bh)),z(Ei))},n.\u0275dir=At({type:n,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(e,i){2&e&&ui("aria-expanded",i.dropdown.isOpen())}}),n})(),yD=(()=>{class n extends xT{constructor(e,i){super(e,i)}}return n.\u0275fac=function(e){return new(e||n)(z(Hn(()=>bh)),z(Ei))},n.\u0275dir=At({type:n,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(e,i){1&e&&Te("click",function(){return i.dropdown.toggle()})("keydown.ArrowUp",function(s){return i.dropdown.onKeyDown(s)})("keydown.ArrowDown",function(s){return i.dropdown.onKeyDown(s)})("keydown.Home",function(s){return i.dropdown.onKeyDown(s)})("keydown.End",function(s){return i.dropdown.onKeyDown(s)})("keydown.Tab",function(s){return i.dropdown.onKeyDown(s)})("keydown.Shift.Tab",function(s){return i.dropdown.onKeyDown(s)}),2&e&&ui("aria-expanded",i.dropdown.isOpen())},features:[Jn([{provide:xT,useExisting:Hn(()=>n)}]),Di]}),n})(),bh=(()=>{class n{constructor(e,i,r,s,o,a,l){this._changeDetector=e,this._document=r,this._ngZone=s,this._elementRef=o,this._renderer=a,this._closed$=new Qe,this._bodyContainer=null,this._open=!1,this.openChange=new nn,this.placement=i.placement,this.container=i.container,this.autoClose=i.autoClose,this.display=l?"static":"dynamic",this._zoneSubscription=s.onStable.subscribe(()=>{this._positionMenu()})}ngAfterContentInit(){this._ngZone.onStable.pipe(Ri(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(e){if(e.container&&this._open&&this._applyContainer(this.container),e.placement&&!e.placement.isFirstChange&&this._applyPlacementClasses(),e.dropdownClass){const{currentValue:i,previousValue:r}=e.dropdownClass;this._applyCustomDropdownClass(i,r)}}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&this._anchor.nativeElement.focus())}_setCloseHandlers(){!function _Me(n,t,e,i,r,s,o,a){e&&n.runOutsideAngular((n=>pMe?()=>setTimeout(()=>n(),100):n)(()=>{const c=wi(t,"keydown").pipe(Ur(r),Bt(f=>f.which===js.Escape),gr(f=>f.preventDefault())),u=wi(t,"mousedown").pipe(Ie(f=>{const y=f.target;return 2!==f.button&&!ET(y,o)&&("inside"===e?ET(y,s)&&$z(y,a):"outside"===e?!ET(y,s):$z(y,a)||!ET(y,s))}),Ur(r)),d=wi(t,"mouseup").pipe(jR(u),Bt(([f,y])=>y),fj(0),Ur(r));w9([c.pipe(Ie(f=>0)),d.pipe(Ie(f=>1))]).subscribe(f=>n.run(()=>i(f)))}))}(this._ngZone,this._document,this.autoClose,e=>{this.close(),0===e&&this._anchor.nativeElement.focus()},this._closed$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._closed$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this._resetContainer(),this._closed$.next(),this._zoneSubscription.unsubscribe()}onKeyDown(e){const i=e.which,r=this._getMenuElements();let s=-1,o=null;const a=this._isEventFromToggle(e);if(!a&&r.length&&r.forEach((l,c)=>{l.contains(e.target)&&(o=l),l===this._document.activeElement&&(s=c)}),i!==js.Space&&i!==js.Enter){if(i!==js.Tab){if(a||o){if(this.open(),r.length){switch(i){case js.ArrowDown:s=Math.min(s+1,r.length-1);break;case js.ArrowUp:if(this._isDropup()&&-1===s){s=r.length-1;break}s=Math.max(s-1,0);break;case js.Home:s=0;break;case js.End:s=r.length-1}r[s].focus()}e.preventDefault()}}else if(e.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===e.target)return void("body"!==this.container||e.shiftKey?e.shiftKey&&this.close():(this._renderer.setAttribute(this._menu.nativeElement,"tabindex","0"),this._menu.nativeElement.focus(),this._renderer.removeAttribute(this._menu.nativeElement,"tabindex")));if("body"===this.container){const l=this._menu.nativeElement.querySelectorAll(Yz);e.shiftKey&&e.target===l[0]?(this._anchor.nativeElement.focus(),e.preventDefault()):!e.shiftKey&&e.target===l[l.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else wi(e.target,"focusout").pipe(Ri(1)).subscribe(({relatedTarget:l})=>{this._elementRef.nativeElement.contains(l)||this.close()})}}else o&&(!0===this.autoClose||"inside"===this.autoClose)&&wi(o,"click").pipe(Ri(1)).subscribe(()=>this.close())}_isDropup(){return this._elementRef.nativeElement.classList.contains("dropup")}_isEventFromToggle(e){return this._anchor.nativeElement.contains(e.target)}_getMenuElements(){const e=this._menu;return null==e?[]:e.menuItems.filter(i=>!i.disabled).map(i=>i.elementRef.nativeElement)}_positionMenu(){const e=this._menu;this.isOpen()&&e&&this._applyPlacementClasses("dynamic"===this.display?function bMe(n,t,e,i,r){let s=Array.isArray(e)?e:e.split(yMe);const o=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],a=t.classList,l=y=>{const[O,I]=y.split("-"),N=[];return r&&(N.push(`${r}-${O}`),I&&N.push(`${r}-${O}-${I}`),N.forEach(k=>{a.add(k)})),N};r&&o.forEach(y=>{a.remove(`${r}-${y}`)});let c=s.findIndex(y=>"auto"===y);c>=0&&o.forEach(function(y){null==s.find(O=>-1!==O.search("^"+y))&&s.splice(c++,1,y)});const u=t.style;u.position="absolute",u.top="0",u.left="0",u["will-change"]="transform";let d=null,f=!1;for(d of s){let y=l(d);if(qz.positionElements(n,t,d,i)){f=!0;break}r&&y.forEach(O=>{a.remove(O)})}return f||(d=s[0],l(d),qz.positionElements(n,t,d,i)),d}(this._anchor.nativeElement,this._bodyContainer||this._menu.nativeElement,this.placement,"body"===this.container):this._getFirstPlacement(this.placement))}_getFirstPlacement(e){return Array.isArray(e)?e[0]:e.split(" ")[0]}_resetContainer(){const e=this._renderer;if(this._menu){const r=this._menu.nativeElement;e.appendChild(this._elementRef.nativeElement,r),e.removeStyle(r,"position"),e.removeStyle(r,"transform")}this._bodyContainer&&(e.removeChild(this._document.body,this._bodyContainer),this._bodyContainer=null)}_applyContainer(e=null){if(this._resetContainer(),"body"===e){const i=this._renderer,r=this._menu.nativeElement,s=this._bodyContainer=this._bodyContainer||i.createElement("div");i.setStyle(s,"position","absolute"),i.setStyle(r,"position","static"),i.setStyle(s,"z-index","1050"),i.appendChild(s,r),i.appendChild(this._document.body,s)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(e,i){const r="body"===this.container?this._bodyContainer:this._elementRef.nativeElement;r&&(i&&this._renderer.removeClass(r,i),e&&this._renderer.addClass(r,e))}_applyPlacementClasses(e){const i=this._menu;if(i){e||(e=this._getFirstPlacement(this.placement));const r=this._renderer,s=this._elementRef.nativeElement;r.removeClass(s,"dropup"),r.removeClass(s,"dropdown"),i.placement="static"===this.display?null:e;const o=-1!==e.search("^top")?"dropup":"dropdown";r.addClass(s,o);const a=this._bodyContainer;a&&(r.removeClass(a,"dropup"),r.removeClass(a,"dropdown"),r.addClass(a,o))}}}return n.\u0275fac=function(e){return new(e||n)(z(Sn),z(xMe),z(Er),z(Zn),z(Ei),z(Do),z(nW,8))},n.\u0275dir=At({type:n,selectors:[["","ngbDropdown",""]],contentQueries:function(e,i,r){if(1&e&&(ls(r,PT,5),ls(r,xT,5)),2&e){let s;kn(s=Fn())&&(i._menu=s.first),kn(s=Fn())&&(i._anchor=s.first)}},hostVars:2,hostBindings:function(e,i){2&e&&wt("show",i.isOpen())},inputs:{autoClose:"autoClose",dropdownClass:"dropdownClass",_open:["open","_open"],placement:"placement",container:"container",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],features:[Is]}),n})(),iW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({}),n})();class gp{constructor(t,e,i){this.nodes=t,this.viewRef=e,this.componentRef=i}}let IMe=(()=>{class n{constructor(e,i){this._el=e,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(Ri(1)).subscribe(()=>{ga(this._zone,this._el.nativeElement,(e,i)=>{i&&Im(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return ga(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(e){return new(e||n)(z(Ei),z(Zn))},n.\u0275cmp=rt({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(e,i){2&e&&(df("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),wt("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})();class Mr{close(t){}dismiss(t){}}class AMe{constructor(t,e,i,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new Qe,this._dismissed=new Qe,this._hidden=new Qe,t.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,o)=>{this._resolve=s,this._reject=o}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Ur(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Ur(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function Wwe(n){return n&&n.then}(e)?!1!==e&&this._dismiss(t):e.then(i=>{!1!==i&&this._dismiss(t)},()=>{})}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():hn(void 0);t.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),uT(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Jy=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(Jy||(Jy={})),Jy))();let RMe=(()=>{class n{constructor(e,i,r){this._document=e,this._elRef=i,this._zone=r,this._closed$=new Qe,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new nn,this.shown=new Qe,this.hidden=new Qe}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Ri(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},o=uT(ga(this._zone,e,()=>e.classList.remove("show"),i),ga(this._zone,this._dialogEl.nativeElement,()=>{},i));return o.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),o}_show(){const e={animation:this.animation,runningTransition:"continue"},i=ga(this._zone,this._elRef.nativeElement,(s,o)=>{o&&Im(s),s.classList.add("show")},e);uT(i,ga(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{wi(e,"keydown").pipe(Ur(this._closed$),Bt(r=>r.which===js.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(Jy.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;wi(this._dialogEl.nativeElement,"mousedown").pipe(Ur(this._closed$),gr(()=>i=!1),ca(()=>wi(e,"mouseup").pipe(Ur(this._closed$),Ri(1))),Bt(({target:r})=>e===r)).subscribe(()=>{i=!0}),wi(e,"click").pipe(Ur(this._closed$)).subscribe(({target:r})=>{e===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(Jy.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),r=Xz(e)[0];(i||r||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&ga(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(e){return new(e||n)(z(Er),z(Ei),z(Zn))},n.\u0275cmp=rt({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(e,i){if(1&e&&Lr(ewe,7),2&e){let r;kn(r=Fn())&&(i._dialogEl=r.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,i){2&e&&(ui("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),df("modal d-block"+(i.windowClass?" "+i.windowClass:"")),wt("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:FTe,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,i){1&e&&(s0(),R(0,"div",0,1)(2,"div",2),o0(3),D()()),2&e&&df("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})();const DMe=()=>{};let NMe=(()=>{class n{constructor(e){this._document=e}compensate(){const e=this._getWidth();return this._isPresent(e)?this._adjustBody(e):DMe}_adjustBody(e){const i=this._document.body,r=i.style.paddingRight,s=parseFloat(window.getComputedStyle(i)["padding-right"]);return i.style["padding-right"]=`${s+e}px`,()=>i.style["padding-right"]=r}_isPresent(e){const i=this._document.body.getBoundingClientRect();return window.innerWidth-(i.left+i.right)>=e-.1*e}_getWidth(){const e=this._document.createElement("div");e.className="modal-scrollbar-measure";const i=this._document.body;i.appendChild(e);const r=e.getBoundingClientRect().width-e.clientWidth;return i.removeChild(e),r}}return n.\u0275fac=function(e){return new(e||n)(je(Er))},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kMe=(()=>{class n{constructor(e,i,r,s,o,a){this._applicationRef=e,this._injector=i,this._document=r,this._scrollBar=s,this._rendererFactory=o,this._ngZone=a,this._activeWindowCmptHasChanged=new Qe,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new nn,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const l=this._windowCmpts[this._windowCmpts.length-1];((n,t,e,i=!1)=>{this._ngZone.runOutsideAngular(()=>{const r=wi(t,"focusin").pipe(Ur(e),Ie(s=>s.target));wi(t,"keydown").pipe(Ur(e),Bt(s=>s.which===js.Tab),jR(r)).subscribe(([s,o])=>{const[a,l]=Xz(t);(o===a||o===t)&&s.shiftKey&&(l.focus(),s.preventDefault()),o===l&&!s.shiftKey&&(a.focus(),s.preventDefault())}),i&&wi(t,"click").pipe(Ur(e),jR(r),Ie(s=>s[1])).subscribe(s=>s.focus())})})(0,l.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(l.location.nativeElement)}})}open(e,i,r,s){const o=s.container instanceof HTMLElement?s.container:dp(s.container)?this._document.querySelector(s.container):this._document.body,a=this._rendererFactory.createRenderer(null,null),l=this._scrollBar.compensate(),c=()=>{this._modalRefs.length||(a.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!o)throw new Error(`The specified modal container "${s.container||"body"}" was not found in the DOM.`);const u=new Mr,d=this._getContentRef(e,s.injector||i,r,u,s);let f=!1!==s.backdrop?this._attachBackdrop(e,o):void 0,y=this._attachWindowComponent(e,o,d),O=new AMe(y,d,f,s.beforeDismiss);return this._registerModalRef(O),this._registerWindowCmpt(y),O.result.then(l,l),O.result.then(c,c),u.close=I=>{O.close(I)},u.dismiss=I=>{O.dismiss(I)},this._applyWindowOptions(y.instance,s),1===this._modalRefs.length&&a.addClass(this._document.body,"modal-open"),f&&f.instance&&(this._applyBackdropOptions(f.instance,s),f.changeDetectorRef.detectChanges()),y.changeDetectorRef.detectChanges(),O}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e,i){let s=e.resolveComponentFactory(IMe).create(this._injector);return this._applicationRef.attachView(s.hostView),i.appendChild(s.location.nativeElement),s}_attachWindowComponent(e,i,r){let o=e.resolveComponentFactory(RMe).create(this._injector,r.nodes);return this._applicationRef.attachView(o.hostView),i.appendChild(o.location.nativeElement),o}_applyWindowOptions(e,i){this._windowAttributes.forEach(r=>{dp(i[r])&&(e[r]=i[r])})}_applyBackdropOptions(e,i){this._backdropAttributes.forEach(r=>{dp(i[r])&&(e[r]=i[r])})}_getContentRef(e,i,r,s,o){return r?r instanceof Cr?this._createFromTemplateRef(r,s):function Az(n){return"string"==typeof n}(r)?this._createFromString(r):this._createFromComponent(e,i,r,s,o):new gp([])}_createFromTemplateRef(e,i){const s=e.createEmbeddedView({$implicit:i,close(o){i.close(o)},dismiss(o){i.dismiss(o)}});return this._applicationRef.attachView(s),new gp([s.rootNodes],s)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new gp([[i]])}_createFromComponent(e,i,r,s,o){const a=e.resolveComponentFactory(r),l=Ds.create({providers:[{provide:Mr,useValue:s}],parent:i}),c=a.create(l),u=c.location.nativeElement;return o.scrollable&&u.classList.add("component-host-scrollable"),this._applicationRef.attachView(c.hostView),new gp([[u]],c.hostView,c)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==e&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const r=this._modalRefs.indexOf(e);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(e){return new(e||n)(je(vS),je(Ds),je(Er),je(NMe),je(m_),je(Zn))},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),FMe=(()=>{class n{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(je(ST))},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Zy=(()=>{class n{constructor(e,i,r,s){this._moduleCFR=e,this._injector=i,this._modalStack=r,this._config=s}open(e,i={}){const r=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._moduleCFR,this._injector,e,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(e){return new(e||n)(je(pf),je(Ds),je(kMe),je(FMe))},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({providers:[Zy]}),n})(),lW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot]]}),n})(),_W=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot]]}),n})(),vW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot]]}),n})(),yW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot]]}),n})(),bW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot]]}),n})(),SW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot]]}),n})(),CW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot]]}),n})(),EW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({}),n})();new Zt("live announcer delay",{providedIn:"root",factory:function qMe(){return 100}});let TW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot]]}),n})();const KMe=[Bz,Uz,jz,zz,Wz,tW,iW,rW,lW,_W,vW,yW,bW,SW,CW,EW,TW];let Rc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[KMe,Bz,Uz,jz,zz,Wz,tW,iW,rW,lW,_W,vW,yW,bW,SW,CW,EW,TW]}),n})(),ED=(()=>{class n{constructor(e,i){this.elRef=e,this.multiplierService=i}ngAfterViewInit(){this.elRef.nativeElement.style.color=this.multiplierService.levelColor.getString(this.elRef.nativeElement.textContent.replace("x",""))}}return n.\u0275fac=function(e){return new(e||n)(z(Ei),z(cT))},n.\u0275dir=At({type:n,selectors:[["","appColoredMultiplier",""]]}),n})();const JMe=function(n,t){return{padding:n,borderRadius:t}};let Dc=(()=>{class n{constructor(){this.multiplier=1,this.padding="2px 6px",this.borderRadius="11px"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=rt({type:n,selectors:[["app-bubble-multiplier"]],inputs:{multiplier:"multiplier",padding:"padding",borderRadius:"borderRadius"},decls:3,vars:7,consts:[["appColoredMultiplier","",1,"bubble-multiplier","font-weight-bold",3,"ngStyle"]],template:function(e,i){1&e&&(R(0,"div",0),U(1),j(2,"multiplierPrecision"),D()),2&e&&(F("ngStyle",ta(4,JMe,i.padding,i.borderRadius)),E(1),te(" ",W(2,2,i.multiplier),"x\n"))},directives:[ED,vf],pipes:[uu],styles:[".bubble-multiplier[_ngcontent-%COMP%]{background-color:#00000080}"]}),n})(),Nc=(()=>{class n{constructor(){this.size=""}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=rt({type:n,selectors:[["app-loader"]],inputs:{size:"size"},decls:1,vars:1,consts:[[1,"loader",3,"ngClass"]],template:function(e,i){1&e&&fe(0,"div",0),2&e&&F("ngClass",i.size)},directives:[ys],styles:[".loader[_ngcontent-%COMP%], .loader[_ngcontent-%COMP%]:after{border-radius:50%;width:30px;height:30px}.loader[_ngcontent-%COMP%]{margin:60px auto;font-size:10px;position:relative;text-indent:-9999em;border-top:3px solid rgba(208,2,27,.2);border-right:3px solid rgba(208,2,27,.2);border-bottom:3px solid rgba(208,2,27,.2);border-left:3px solid #d0021b;transform:translateZ(0);animation:load8 1.1s infinite linear}.loader.small[_ngcontent-%COMP%]{margin:5px auto}@keyframes load8{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),n})();function ZMe(n,t){if(1&n&&(R(0,"div",11)(1,"div",12),fe(2,"app-bubble-multiplier",13),D(),R(3,"div",14),U(4),j(5,"date"),D()()),2&n){const e=ne();E(2),F("multiplier",e.fairnessData.result),E(2),te(" ",Ut(5,2,e.fairnessData.roundStartDate,"HH:mm:ss")," ")}}const QMe=function(n){return{value:n}};function eOe(n,t){if(1&n&&(R(0,"div",21)(1,"div",34)(2,"span"),U(3),j(4,"transloco"),D(),R(5,"div",35),fe(6,"img",36),U(7),j(8,"maskedUsername"),D()(),R(9,"div",37)(10,"span"),U(11),j(12,"transloco"),D(),R(13,"div",38),U(14),D()()()),2&n){const e=ne(),i=e.index,r=e.$implicit,s=ne(2);E(3),te(" ",Ut(4,6,"shared.modals.fairness.player",di(13,QMe,i+1))," "),E(3),F("src",s.getAvatar(r),rn)("alt",s.getAvatar(r)),E(1),te(" ",W(8,9,r.username)," "),E(4),Ye(W(12,11,"shared.modals.fairness.seed")),E(3),te(" ",r.seed," ")}}function tOe(n,t){if(1&n&&(R(0,"div"),K(1,eOe,15,15,"div",33),D()),2&n){const e=t.$implicit;ne();const i=Fi(26);E(1),F("ngIf",e)("ngIfElse",i)}}function nOe(n,t){1&n&&(R(0,"div",39),U(1),j(2,"transloco"),D()),2&n&&(E(1),te(" ",W(2,1,"shared.modals.fairness.not enough")," "))}function iOe(n,t){if(1&n){const e=ft();R(0,"div",15)(1,"div",16)(2,"div",17),fe(3,"div",18),R(4,"div",19)(5,"span"),U(6),j(7,"transloco"),D(),R(8,"div",20),U(9),j(10,"transloco"),D()()(),R(11,"div",21)(12,"input",22,23),Te("ngModelChange",function(r){return ot(e),ne().fairnessData.serverSeed=r})("click",function(){ot(e);const r=Fi(13);return ne().onSelect(r)}),D()()(),R(14,"div",24)(15,"div",17),fe(16,"div",25),R(17,"div",19)(18,"span"),U(19),j(20,"transloco"),D(),R(21,"div",20),U(22),j(23,"transloco"),D()()(),K(24,tOe,2,2,"div",26),K(25,nOe,3,3,"ng-template",null,27,No),D(),R(27,"div",28)(28,"div",17),fe(29,"div",29),R(30,"div",19)(31,"span"),U(32),j(33,"transloco"),D(),R(34,"div",20),U(35),j(36,"transloco"),D()()(),R(37,"div",21)(38,"input",22,30),Te("ngModelChange",function(r){return ot(e),ne().fairnessData.seedSHA256=r})("click",function(){ot(e);const r=Fi(39);return ne().onSelect(r)}),D()()(),R(40,"div",31)(41,"div",17)(42,"span"),U(43),j(44,"transloco"),D(),R(45,"span"),U(46),j(47,"transloco"),D(),R(48,"span"),U(49),j(50,"transloco"),D()(),R(51,"div",21)(52,"span"),U(53),D(),R(54,"span"),U(55),D(),R(56,"span"),U(57),D()()(),R(58,"div",32)(59,"div",17)(60,"span"),U(61),j(62,"transloco"),D()(),R(63,"div",21)(64,"span"),U(65),D()(),R(66,"div",17)(67,"span"),U(68),j(69,"transloco"),D()(),R(70,"div",21)(71,"span"),U(72),D()(),R(73,"div",17)(74,"span"),U(75),j(76,"transloco"),D()(),R(77,"div",21)(78,"span"),U(79),D()()()()}if(2&n){const e=ne();E(6),Ye(W(7,23,"shared.modals.fairness.server seed")),E(3),te(" ",W(10,25,"shared.modals.fairness.server tip")," "),E(3),F("readonly",!0)("ngModel",e.fairnessData.serverSeed),E(7),Ye(W(20,27,"shared.modals.fairness.client seed")),E(3),te(" ",W(23,29,"shared.modals.fairness.client tip")," "),E(2),F("ngForOf",e.players),E(8),Ye(W(33,31,"shared.modals.fairness.hash")),E(3),te(" ",W(36,33,"shared.modals.fairness.hash tip")," "),E(3),F("readonly",!0)("ngModel",e.fairnessData.seedSHA256),E(5),Ye(W(44,35,"shared.modals.fairness.hex")),E(3),Ye(W(47,37,"shared.modals.fairness.decimal")),E(3),Ye(W(50,39,"shared.modals.fairness.result")),E(4),Ye(e.fairnessData.partSeedHexNumber),E(2),Ye(e.fairnessData.partSeedDecimalNumber),E(2),Ye(e.fairnessData.result),E(4),Ye(W(62,41,"shared.modals.fairness.hex")),E(4),Ye(e.fairnessData.partSeedHexNumber),E(3),Ye(W(69,43,"shared.modals.fairness.decimal")),E(4),Ye(e.fairnessData.partSeedDecimalNumber),E(3),Ye(W(76,45,"shared.modals.fairness.result")),E(4),Ye(e.fairnessData.result)}}function rOe(n,t){1&n&&(R(0,"div"),fe(1,"app-loader"),D())}let _p=class{constructor(t,e,i){this.activeModal=t,this.modal=e,this.connector=i,this.fairnessData=void 0,this.loaded=!1}ngOnInit(){this.connector.request(Wi.RoundFairness,{roundId:this.betId}),this.connector.response(mn.RoundFairness,200).pipe(Ct(this)).subscribe(t=>{this.fairnessData=t.fairness,this.loaded=!0})}onPFModalOpen(){this.modal.open(Wn.whatIsPf)}onSelect(t){t.select()}get players(){var t,e;const i=null!==(e=null===(t=this.fairnessData)||void 0===t?void 0:t.playerSeeds)&&void 0!==e?e:[];for(let r=i.length;r<3;r++)i.push(null);return i}getAvatar(t){return Mi.avatarPath+t.profileImage+`?v=${Mi.version}`}ngOnDestroy(){this.loaded=!1}};_p.\u0275fac=function(t){return new(t||_p)(z(Mr),z(jo),z(Bi))},_p.\u0275cmp=rt({type:_p,selectors:[["app-fairness"]],decls:19,vars:13,consts:[[1,"modal-header","canSelect"],[1,"text-uppercase"],["class","header__info",4,"ngIf"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"modal-body"],[1,"content-wrapper"],["class","content",4,"ngIf"],[4,"ngIf"],[1,"modal-footer"],[1,"help"],[3,"click"],[1,"header__info"],[1,"bubble-multiplier-wrapper"],[3,"multiplier"],[1,"header__info-time"],[1,"content"],[1,"content-part"],[1,"title"],[1,"icon-server","flex-shrink-0"],[1,"text"],[1,"tip"],[1,"value"],["type","text",1,"value-input",3,"readonly","ngModel","ngModelChange","click"],["serverSeed",""],[1,"content-part","client","pt-3"],[1,"icon-client","flex-shrink-0"],[4,"ngFor","ngForOf"],["notEnoughBlock",""],[1,"content-part","pt-3"],[1,"icon-hash","flex-shrink-0"],["hash",""],[1,"content-part","result","result-line","pt-3"],[1,"content-part","result","result-col","pt-3"],["class","value",4,"ngIf","ngIfElse"],[1,"player"],[1,"user"],[1,"avatar",3,"src","alt"],[1,"seed"],[1,"seed-value","canSelect"],[1,"value","empty"]],template:function(t,e){1&t&&(R(0,"div",0)(1,"span",1),U(2),j(3,"transloco"),D(),K(4,ZMe,6,5,"div",2),R(5,"button",3),Te("click",function(){return e.activeModal.close()}),R(6,"span"),U(7,"\xd7"),D()()(),R(8,"div",4)(9,"div",5),K(10,iOe,80,47,"div",6),K(11,rOe,2,0,"div",7),D()(),R(12,"div",8)(13,"div",9),U(14),j(15,"transloco"),R(16,"span",10),Te("click",function(){return e.onPFModalOpen()}),U(17),j(18,"transloco"),D()()()),2&t&&(E(2),Un(" ",W(3,7,"shared.round")," ",e.betId," "),E(2),F("ngIf",e.loaded),E(6),F("ngIf",e.loaded),E(1),F("ngIf",!e.loaded),E(3),te(" ",W(15,9,"shared.modals.fairness.help")," "),E(3),te(" ",W(18,11,"shared.what_is_provably_fair")," "))},directives:[Nt,Dc,fd,fa,Vo,oi,Nc],pipes:[Gt,Oa,oa],styles:[".header__info[_ngcontent-%COMP%]{font-size:14px;display:flex;justify-content:center;align-items:center;margin-right:auto;margin-left:5px}.header__info[_ngcontent-%COMP%]   .bubble-multiplier-wrapper[_ngcontent-%COMP%]{font-size:12px}.header__info[_ngcontent-%COMP%]   .header__info-time[_ngcontent-%COMP%]{padding-left:5px}.content-wrapper[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{max-width:700px;width:100%;line-height:14px;font-size:14px;display:flex;flex-direction:column;justify-content:space-evenly;height:100%}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;width:100%;align-items:center;margin-bottom:8px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-server[_ngcontent-%COMP%]{width:32px;height:31px;background-image:url(server.d1f55f15e704c606.svg);margin-right:10px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-client[_ngcontent-%COMP%]{width:32px;height:25px;background-image:url(client.1a7adfbd8896f09e.svg);margin-right:10px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-hash[_ngcontent-%COMP%]{min-width:30px;max-width:30px;height:30px;background-image:url(hash.99b8c40ac31b3e06.svg);margin-right:10px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{display:flex;flex-direction:column;color:#fff}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .tip[_ngcontent-%COMP%]{margin-top:3px;color:#ffffff80}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{width:100%;border-radius:6px;background-color:#0707084d;padding:12px 20px;display:flex}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .value-input[_ngcontent-%COMP%]{width:100%;background:transparent;border:none;color:#fff}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{padding:4px 20px;margin-bottom:5px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#ffffff80;margin-right:10px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]{display:flex;min-width:40%;max-width:40%;align-items:center}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{display:flex;font-weight:700;align-items:center}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;border:3px solid #343434;margin-right:7px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .seed[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;white-space:nowrap}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .seed[_ngcontent-%COMP%]   .seed-value[_ngcontent-%COMP%]{width:100%}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%]{padding:12px 20px;justify-content:center;color:#ffffff80}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result-line[_ngcontent-%COMP%]{display:flex}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result-col[_ngcontent-%COMP%]{display:none}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#ffffff80;justify-content:center}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{padding:12px 0;justify-content:center}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:25%;text-align:center}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.modal-footer[_ngcontent-%COMP%]   .help[_ngcontent-%COMP%]{color:#ffffff80;text-align:center}.modal-footer[_ngcontent-%COMP%]   .help[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px;color:#e30c32;cursor:pointer}@media (max-width: 991.98px){.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]{width:auto;min-width:auto;max-width:-moz-fit-content;max-width:fit-content}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .seed[_ngcontent-%COMP%]{margin-top:4px;width:auto}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result-line[_ngcontent-%COMP%]{display:none}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result-col[_ngcontent-%COMP%]{display:flex}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result-col[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{margin-bottom:10px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:auto}}"],data:{animation:[]}}),_p=Ke([Qn()],_p);let sOe=(()=>{class n{constructor(e,i){this.activeModal=e,this.app=i}}return n.\u0275fac=function(e){return new(e||n)(z(Mr),z(ln))},n.\u0275cmp=rt({type:n,selectors:[["app-what-is-pf-modal"]],decls:57,vars:51,consts:[[1,"modal-header"],[1,"text-uppercase"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"modal-body","modal-bottom-radius"],[1,"d-flex","justify-content-center","mb-1"],[1,"fairness-i"],[1,"text-center","mt-2","mb-1"],[1,"top-text","description","p-2","my-3"],[1,"text-center","text-uppercase"],[1,"description","mt-2"],[1,"mt-3"],[1,"d-flex","justify-content-center","my-sm-4"],[1,"pf-scheme"],[1,"description","mt-4"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"span",1),U(2),j(3,"transloco"),D(),R(4,"button",2),Te("click",function(){return i.activeModal.close()}),R(5,"span"),U(6,"\xd7"),D()()(),R(7,"div",3)(8,"div",4),fe(9,"div",5),D(),R(10,"div",6)(11,"span"),U(12),j(13,"transloco"),D()(),R(14,"div",7)(15,"span"),U(16),j(17,"transloco"),D()(),R(18,"div",8),U(19),j(20,"transloco"),D(),R(21,"div"),U(22),j(23,"transloco"),D(),R(24,"div",9),U(25),j(26,"transloco"),D(),R(27,"div",10),U(28),j(29,"transloco"),D(),R(30,"div",9),U(31),j(32,"transloco"),j(33,"transloco"),j(34,"transloco"),D(),R(35,"div",9),U(36),j(37,"transloco"),D(),R(38,"div",11),fe(39,"div",12),D(),R(40,"div",8),U(41),j(42,"transloco"),D(),R(43,"div",13)(44,"div"),U(45),j(46,"transloco"),D(),R(47,"div"),U(48),j(49,"transloco"),D(),R(50,"div"),U(51),j(52,"transloco"),j(53,"transloco"),D(),R(54,"div"),U(55),j(56,"transloco"),D()()()),2&e&&(E(2),te(" ",W(3,17,"shared.what_is_provably_fair"),"? "),E(10),te(" Provably Fair - ",W(13,19,"shared.modals.provably-fair.slogan")," "),E(4),Ye(W(17,21,"shared.modals.provably-fair.top text")),E(3),te(" ",W(20,23,"shared.modals.provably-fair.How does it work")," "),E(3),Ye(W(23,25,"shared.modals.provably-fair.Simple")),E(3),te(" ",W(26,27,"shared.modals.provably-fair.text1")," "),E(3),Ye(W(29,29,"shared.modals.provably-fair.more")),E(3),f_(" ",W(32,31,"shared.modals.provably-fair.text2-1")," ",W(33,33,"shared.modals.provably-fair.text2-2")," ",W(34,35,"shared.modals.provably-fair.text2-3")," "),E(5),te(" ",W(37,37,"shared.modals.provably-fair.text2-4")," "),E(5),te(" ",W(42,39,"shared.modals.provably-fair.video title")," "),E(4),te("- ",W(46,41,"shared.modals.provably-fair.stats-1"),""),E(3),te("- ",W(49,43,"shared.modals.provably-fair.stats-2"),""),E(3),Un(" - ",W(52,45,"shared.modals.provably-fair.settings-1")," ",W(53,47,"shared.modals.provably-fair.settings-2")," "),E(4),te("- ",W(56,49,"shared.modals.provably-fair.settings-3"),""))},pipes:[Gt],styles:[".modal-body[_ngcontent-%COMP%]{background-color:#2d3c27}.modal-body[_ngcontent-%COMP%]   .fairness-i[_ngcontent-%COMP%]{background:url(icon-provabyfair.71eb97eaadfab595.svg) no-repeat center center/contain;width:80px;height:90px}.modal-body[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#9ea0a3}.modal-body[_ngcontent-%COMP%]   .top-text[_ngcontent-%COMP%]{border-radius:6px;background-color:#0000004d}.modal-body[_ngcontent-%COMP%]   .pf-scheme[_ngcontent-%COMP%]{background:url(pf-scheme.8d41a398beb18651.svg) no-repeat center center/contain;width:500px;height:513px}"]}),n})(),oOe=(()=>{class n{constructor(e){this.seed=e,this.finish=new nn,this.seedValue=this.seed.manualSeed,this.isSaveBtnEnabled=!0}handlerSave(){this.seed.manualSeed!==this.seedValue&&(this.seed.manualSeed=this.seedValue),this.finish.emit()}handlerClose(){this.finish.emit()}handlerRandom(){this.seedValue=this.seed.getRandomSeed()}validateSeedValue(e){const i=new RegExp(String.raw`^[A-Za-z0-9-]{5,}$`,"g");this.isSaveBtnEnabled=!!e.match(i)}}return n.\u0275fac=function(e){return new(e||n)(z(UR))},n.\u0275cmp=rt({type:n,selectors:[["app-seed-change"]],outputs:{finish:"finish"},decls:28,vars:17,consts:[[1,"seed-wrapper"],[1,"seed-change"],[1,"seed-header"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],[1,"seed-body"],[1,"seed-body-title"],[1,"seed-value"],["type","text","title","Seed",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-warning","btn-random",3,"click"],[1,"text-uppercase"],[1,"actions"],["type","button",1,"btn","btn-success",3,"disabled","click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1)(2,"div",2)(3,"div"),U(4),j(5,"transloco"),D(),R(6,"button",3),Te("click",function(){return i.handlerClose()}),R(7,"span"),U(8,"\xd7"),D()()(),R(9,"div",4)(10,"div",5),U(11),j(12,"transloco"),D(),R(13,"div",6)(14,"input",7),Te("ngModelChange",function(s){return i.seedValue=s})("ngModelChange",function(s){return i.validateSeedValue(s)}),D(),R(15,"button",8),Te("click",function(){return i.handlerRandom()}),R(16,"span",9),U(17),j(18,"transloco"),D()()(),R(19,"div",10)(20,"button",11),Te("click",function(){return i.handlerSave()}),R(21,"span",9),U(22),j(23,"transloco"),D()(),R(24,"button",12),Te("click",function(){return i.handlerClose()}),R(25,"span",9),U(26),j(27,"transloco"),D()()()()()()),2&e&&(E(4),te(" ",W(5,7,"shared.modals.fairness-settings.seed-change.change seed")," "),E(7),te(" ",W(12,9,"shared.modals.fairness-settings.seed-change.enter new seed")," "),E(3),F("ngModel",i.seedValue),E(3),Ye(W(18,11,"shared.random")),E(3),F("disabled",!i.isSaveBtnEnabled),E(2),Ye(W(23,13,"shared.save")),E(4),Ye(W(27,15,"shared.cancel")))},directives:[fd,fa,Vo],pipes:[Gt],styles:[".seed-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;background:rgba(23,30,35,.8);position:absolute;top:0;left:0}.seed-wrapper[_ngcontent-%COMP%]   .seed-change[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);border-radius:10px;width:310px;height:210px;box-shadow:0 0 50px 4px #000000bf;display:flex;flex-direction:column;align-items:center}.seed-wrapper[_ngcontent-%COMP%]   .seed-change[_ngcontent-%COMP%]   .seed-header[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;border:0;padding:0 10px;min-height:36px;max-height:36px;align-items:center;font-size:16px;background:#2c2d30;border-top-left-radius:8px;border-top-right-radius:8px}.seed-wrapper[_ngcontent-%COMP%]   .seed-change[_ngcontent-%COMP%]   .seed-body[_ngcontent-%COMP%]{background:#1b1c1d;width:100%;height:100%;padding:16px 10px 20px;border-bottom-right-radius:8px;border-bottom-left-radius:8px}.seed-wrapper[_ngcontent-%COMP%]   .seed-change[_ngcontent-%COMP%]   .seed-body-title[_ngcontent-%COMP%]{font-size:14px;margin-bottom:6px}.seed-wrapper[_ngcontent-%COMP%]   .seed-change[_ngcontent-%COMP%]   .seed-body[_ngcontent-%COMP%]   .seed-value[_ngcontent-%COMP%]{position:relative;width:100%;max-width:300px;display:flex;flex-direction:column;align-items:center}.seed-wrapper[_ngcontent-%COMP%]   .seed-change[_ngcontent-%COMP%]   .seed-body[_ngcontent-%COMP%]   .seed-value[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#000;border-radius:22px;border:none;padding:5px 15px;color:#fff;width:100%;height:30px;margin-bottom:12px}.seed-wrapper[_ngcontent-%COMP%]   .seed-change[_ngcontent-%COMP%]   .seed-body[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{padding:0 5px;display:flex;justify-content:space-between;margin-top:18px}.btn[_ngcontent-%COMP%]{width:135px;height:30px;font-size:16px;line-height:1.2}"]}),n})();function aOe(n,t){1&n&&(R(0,"div",32)(1,"div",33),U(2),j(3,"transloco"),D()()),2&n&&(E(2),te(" ",W(3,1,"shared.modals.fairness-settings.alert")," "))}function lOe(n,t){if(1&n){const e=ft();R(0,"app-seed-change",34),Te("finish",function(){return ot(e),ne().changeSeed=!1}),D()}}let mp=class{constructor(t,e,i,r,s,o,a){this.modal=t,this.seed=e,this.bsMessage=i,this.connector=r,this.betControl=s,this.clipboard=o,this.activeModal=a,this.changeSeed=!1,this.serverSeed=void 0,this.loaded=!1,this.betSetted=!1}ngOnInit(){this.betSetted=this.betControl.isBetSetted,this.connector.request(Wi.ServerSeed,null),this.connector.response(mn.ServerSeed,200).pipe(Ct(this)).subscribe(t=>this.serverSeed=t.serverSeedSHA256)}onSelectClientSeedType(t){this.seed.isRandomSeed!==t&&(this.seed.isRandomSeed=t)}copySeedToClipboard(t){this.clipboard.copyToClipBoard(t),this.bsMessage.add({value:"copied",context:Tr.success,lifeTime:1e3,closable:!1})}onPFModalOpen(){this.modal.open(Wn.whatIsPf)}};function cOe(n,t){if(1&n){const e=ft();R(0,"img",7),Te("click",function(){const s=ot(e).$implicit;return ne().onSaveAvatar(s.name)}),D()}if(2&n){const e=t.$implicit,i=ne();wt("active",i.user.avatar===e.name),F("src",i.getAvatar(e.name),rn)("alt",i.getAvatar(e.name))}}mp.\u0275fac=function(t){return new(t||mp)(z(jo),z(UR),z(Fl),z(Bi),z(Su),z(C9),z(Mr))},mp.\u0275cmp=rt({type:mp,selectors:[["app-fairness-settings"]],decls:80,vars:46,consts:[[1,"modal-header"],[1,"modal-title","text-uppercase"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"modal-body"],["class","fairness-disabled",4,"ngIf"],[1,"info"],[1,"info-link",3,"click"],[1,"question-icon"],[1,"client-seed"],[1,"client-seed-title"],[1,"client-seed-title-main"],[1,"client-icon"],[1,"client-seed-title-sub"],[1,"client-seed-type"],[3,"click"],[1,"radio"],[1,"dot"],[1,"block-key"],[1,"key-container","random"],[1,"key"],[1,"current"],[1,"copy-icon",3,"click"],[1,"block-key","d-flex"],[1,"key-container","manual","mr-lg-2","flex-grow-1"],[1,"btn","btn-success","btn-change","text-uppercase",3,"disabled","click"],[1,"server-seed"],[1,"server-seed-title"],[1,"server-icon"],[1,"server-seed-value-block"],[1,"key-container"],[1,"modal-footer"],[3,"finish",4,"ngIf"],[1,"fairness-disabled"],[1,"alert","alert-danger"],[3,"finish"]],template:function(t,e){1&t&&(R(0,"div",0)(1,"div",1),U(2),j(3,"transloco"),D(),R(4,"button",2),Te("click",function(){return e.activeModal.close()}),R(5,"span"),U(6,"\xd7"),D()()(),R(7,"div",3),K(8,aOe,4,3,"div",4),R(9,"div",5)(10,"p"),U(11),j(12,"transloco"),D(),R(13,"p",6),Te("click",function(){return e.onPFModalOpen()}),fe(14,"i",7),U(15),j(16,"transloco"),D()(),R(17,"div",8)(18,"div",9)(19,"div",10),fe(20,"i",11),R(21,"span"),U(22),j(23,"transloco"),D()(),R(24,"div",12)(25,"span"),U(26),j(27,"transloco"),D()()(),R(28,"div",13)(29,"label",14),Te("click",function(){return e.onSelectClientSeedType(!0)}),R(30,"span",15),fe(31,"i",16),D(),R(32,"span"),U(33),j(34,"transloco"),D()(),R(35,"div",17)(36,"div",18)(37,"div",19)(38,"p")(39,"span",20),U(40),j(41,"transloco"),D(),R(42,"span"),U(43),D()()(),R(44,"i",21),Te("click",function(){return e.copySeedToClipboard(e.seed.randomSeed)}),D()()()(),R(45,"div",13)(46,"label",14),Te("click",function(){return e.onSelectClientSeedType(!1)}),R(47,"span",15),fe(48,"i",16),D(),R(49,"span"),U(50),j(51,"transloco"),D()(),R(52,"div",22)(53,"div",23)(54,"div",19)(55,"p")(56,"span",20),U(57),j(58,"transloco"),D(),R(59,"span"),U(60),D()()(),R(61,"i",21),Te("click",function(){return e.copySeedToClipboard(e.seed.manualSeedWithId)}),D()(),R(62,"button",24),Te("click",function(){return e.changeSeed=!0}),R(63,"span"),U(64),j(65,"transloco"),D()()()()(),R(66,"div",25)(67,"div",26),fe(68,"i",27),R(69,"span"),U(70),j(71,"transloco"),D()(),R(72,"div",28)(73,"div",29)(74,"div",19),U(75),D()()()()(),R(76,"div",30),U(77),j(78,"transloco"),D(),K(79,lOe,1,0,"app-seed-change",31)),2&t&&(E(2),te(" ",W(3,22,"shared.provably_fair_settings")," "),E(6),F("ngIf",e.betSetted),E(3),Ye(W(12,24,"shared.modals.fairness-settings.tooltip.text")),E(4),te(" ",W(16,26,"shared.what_is_provably_fair")," "),E(7),Ye(W(23,28,"shared.modals.fairness-settings.client-part.title")),E(4),Ye(W(27,30,"shared.modals.fairness-settings.client-part.text")),E(2),wt("active",e.seed.isRandomSeed),E(5),te(" ",W(34,32,"shared.modals.fairness-settings.client-part.random")," "),E(7),te(" ",W(41,34,"shared.modals.fairness-settings.client-part.current")," "),E(3),Ye(e.seed.randomSeed),E(2),wt("active",!e.seed.isRandomSeed),E(5),te(" ",W(51,36,"shared.modals.fairness-settings.client-part.manual")," "),E(7),te(" ",W(58,38,"shared.modals.fairness-settings.client-part.current")," "),E(3),Ye(e.seed.manualSeedWithId),E(2),F("disabled",e.seed.isRandomSeed),E(2),Ye(W(65,40,"shared.change")),E(6),Ye(W(71,42,"shared.modals.fairness-settings.server seed")),E(5),te(" ",null===e.serverSeed?"loading...":e.serverSeed," "),E(2),te(" ",W(78,44,"shared.modals.fairness-settings.bottom"),"\n"),E(2),F("ngIf",e.changeSeed))},directives:[Nt,oOe],pipes:[Gt],styles:[".modal-body[_ngcontent-%COMP%]{color:#868b8d;padding:unset;font-size:13px}.modal-body[_ngcontent-%COMP%]   .fairness-disabled[_ngcontent-%COMP%]{position:absolute;z-index:1;width:100%;height:100%;background:rgba(0,0,0,.5);display:flex;justify-content:center;align-items:center}.modal-body[_ngcontent-%COMP%]   .fairness-disabled[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{min-width:260px;max-width:360px}p[_ngcontent-%COMP%]{margin-bottom:0}.info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:20px;border-bottom:1px solid rgba(255,255,255,.1);text-align:left;line-height:14px;cursor:pointer}.info[_ngcontent-%COMP%]   .info-link[_ngcontent-%COMP%]{color:#e30c32;display:flex;align-items:center;flex-shrink:0;margin-left:8px}.info[_ngcontent-%COMP%]   .info-link[_ngcontent-%COMP%]   .question-icon[_ngcontent-%COMP%]{background:url(question.8f5a7ef7bad6779b.svg) no-repeat center center/contain;width:16px;height:16px;display:inline-block;flex-shrink:0;cursor:pointer;margin-right:4px}.info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:647px}.info[_ngcontent-%COMP%]   .help[_ngcontent-%COMP%]{color:#38ca07;cursor:pointer;display:flex;align-items:center}.info[_ngcontent-%COMP%]   .help[_ngcontent-%COMP%]   .help-icon[_ngcontent-%COMP%]{min-width:16px;height:16px;margin-left:8px;display:inline-block;background-size:cover;margin-right:5px}.client-seed[_ngcontent-%COMP%]{padding:10px 20px;display:flex;flex-direction:column;align-items:center;border-bottom:1px solid rgba(255,255,255,.1)}.client-seed-title[_ngcontent-%COMP%]{align-self:flex-start;display:flex;flex-direction:column;align-items:center;color:#fff;width:100%}.client-seed-title-main[_ngcontent-%COMP%]{width:100%;display:flex}.client-seed-title-sub[_ngcontent-%COMP%]{width:100%;display:flex;max-width:689px;color:#9b9c9e}.client-seed-title[_ngcontent-%COMP%]   .client-icon[_ngcontent-%COMP%]{background-image:url(client.1a7adfbd8896f09e.svg);width:32px;height:25px;display:inline-block;background-size:cover;margin-right:10px}.client-seed-type[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;margin-top:10px;max-width:689px;border-radius:8px;background-color:#0707084d;padding:10px 10px 10px 20px}.client-seed-type[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:0;display:flex;align-items:center;cursor:pointer;flex-shrink:0}.client-seed-type[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]{display:inline-block;min-width:16px;height:16px;background-color:#0006;border:solid 1px #38ca07;border-radius:50%;margin-right:5px}.client-seed[_ngcontent-%COMP%]   .block-key[_ngcontent-%COMP%]{opacity:.2}.client-seed[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.client-seed[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{display:block;width:8px;height:8px;border-radius:50%;background-color:#38ca07}.client-seed[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{opacity:1;-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.client-seed[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   .block-key[_ngcontent-%COMP%]{opacity:1}.server-seed[_ngcontent-%COMP%]{padding:10px 20px 20px;display:flex;flex-direction:column;align-items:center}.server-seed-title[_ngcontent-%COMP%]{align-self:flex-start;display:flex;align-items:center;color:#fff}.server-seed-title[_ngcontent-%COMP%]   .server-icon[_ngcontent-%COMP%]{background-image:url(server.d1f55f15e704c606.svg);width:32px;height:31px;display:inline-block;background-size:cover;margin-right:10px}.server-seed[_ngcontent-%COMP%]   .server-seed-value-block[_ngcontent-%COMP%]{display:flex;align-items:center;flex-wrap:wrap;justify-content:center;width:100%;margin-top:13px}.server-seed[_ngcontent-%COMP%]   .server-seed-value-block[_ngcontent-%COMP%]   .change[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px;margin-top:7px;max-width:100px;min-width:100px;height:32px;border-radius:40px;background-color:#0006;border:solid 2px #38ca07;font-size:13px;color:#fff;cursor:pointer}.server-seed[_ngcontent-%COMP%]   .server-seed-value-block[_ngcontent-%COMP%]   .change[_ngcontent-%COMP%]:disabled{opacity:.3;cursor:default}.modal-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:20px!important;color:#868b8d;font-size:13px}.modal-footer[_ngcontent-%COMP%]   .game-history[_ngcontent-%COMP%]{color:#38ca07;cursor:pointer}.modal-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center}.key-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;max-width:700px;margin-top:5px;padding:12px 23px 14px 20px;background-color:#000;position:relative;overflow:hidden;color:#fff;border-radius:24px}.key-container.random[_ngcontent-%COMP%]{min-width:400px;max-width:400px}.key-container[_ngcontent-%COMP%]   .key[_ngcontent-%COMP%]{display:flex;align-items:center;overflow:hidden;margin-right:8px;height:20px;white-space:nowrap}.key-container[_ngcontent-%COMP%]   .key[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{height:100%}.key-container[_ngcontent-%COMP%]   .copy-icon[_ngcontent-%COMP%]{background:url(copy.4a0d60bc14e7330f.svg) no-repeat center center/contain;width:16px;height:16px;display:inline-block;flex-shrink:0;cursor:pointer}.key-container[_ngcontent-%COMP%]   .block-copy[_ngcontent-%COMP%]{width:60px;height:100%;border-radius:6px;position:absolute;right:0;top:0;display:flex;align-items:center;justify-content:flex-end}.key-container[_ngcontent-%COMP%]   .block-copy[_ngcontent-%COMP%]   .icon-copy[_ngcontent-%COMP%]{cursor:pointer;width:16px;height:16px;color:#fff;margin-right:13px}.key-container[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]{color:#868b8d}.btn-change[_ngcontent-%COMP%]{height:30px;line-height:1.2}.block-key[_ngcontent-%COMP%]{width:100%;max-width:400px;align-items:center;justify-content:space-between}@media (max-width: 991.98px){.info[_ngcontent-%COMP%]{flex-direction:column}.info[_ngcontent-%COMP%]   .info-link[_ngcontent-%COMP%]{margin-top:10px;margin-left:0}.client-seed[_ngcontent-%COMP%]   .client-seed-type[_ngcontent-%COMP%]{flex-direction:column}.block-key[_ngcontent-%COMP%]{flex-wrap:wrap;width:100%;max-width:100%;justify-content:center}.block-key[_ngcontent-%COMP%]   .btn-change[_ngcontent-%COMP%]{margin-top:10px}.key-container.random[_ngcontent-%COMP%], .key-container.manual[_ngcontent-%COMP%]{min-width:100%;max-width:100%}}"]}),mp=Ke([Qn()],mp);let uOe=(()=>{class n{constructor(e,i,r){this.activeModal=e,this.connector=i,this.user=r,this.avatars=[];for(let s=1;s<=72;s++)this.avatars.push({name:"av-"+s+".png"})}getAvatar(e){return Mi.avatarPath+e+`?v=${Mi.version}`}onSaveAvatar(e){this.user.avatar!==e&&(this.user.avatar=e,this.activeModal.close(),this.connector.request(Wi.ChangeProfileImage,{profileImage:e}))}}return n.\u0275fac=function(e){return new(e||n)(z(Mr),z(Bi),z(Ll))},n.\u0275cmp=rt({type:n,selectors:[["app-game-avatar"]],decls:14,vars:7,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"modal-body"],[1,"content"],["class","game-img mr-2 mb-2",3,"active","src","alt","click",4,"ngFor","ngForOf"],[1,"modal-footer"],[1,"btn","btn-outline-secondary",3,"click"],[1,"game-img","mr-2","mb-2",3,"src","alt","click"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"span"),U(2),j(3,"transloco"),D(),R(4,"button",1),Te("click",function(){return i.activeModal.close()}),R(5,"span"),U(6,"\xd7"),D()()(),R(7,"div",2)(8,"div",3),K(9,cOe,1,4,"img",4),D()(),R(10,"div",5)(11,"button",6),Te("click",function(){return i.activeModal.close()}),U(12),j(13,"transloco"),D()()),2&e&&(E(2),Ye(W(3,3,"shared.modals.game-avatar.title")),E(7),F("ngForOf",i.avatars),E(3),te(" ",W(13,5,"shared.close")," "))},directives:[oi],pipes:[Gt],styles:[".content[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;position:relative;overflow:hidden;justify-content:center}.content[_ngcontent-%COMP%]   .game-img[_ngcontent-%COMP%]{width:70px;height:70px;border-radius:50%;border:4px solid #333;background-position:center;cursor:pointer}.content[_ngcontent-%COMP%]   .game-img.active[_ngcontent-%COMP%]{border:4px solid #428a12;cursor:default}.btn[_ngcontent-%COMP%]{margin:0 auto}"]}),n})();function dOe(n,t){if(1&n){const e=ft();R(0,"div",3)(1,"div",4)(2,"span",5),Te("click",function(){return ot(e),ne().selectClick()}),fe(3,"i",6),D(),R(4,"div",7),U(5),j(6,"transloco"),D()()()}2&n&&(wt("selected",ne().freeBets.isActive()),E(5),te(" ",W(6,3,"shared.modals.free-bets-management.play with cash")," "))}function hOe(n,t){if(1&n){const e=ft();R(0,"span",5),Te("click",function(){ot(e);const r=ne(2);return r.selectClick(r.freeBet.freeBetsId)}),fe(1,"i",6),D()}}function fOe(n,t){if(1&n&&(R(0,"div",18),U(1),D()),2&n){const e=ne(2);E(1),te(" ",e.freeBet.numberOfFreeBets," ")}}function pOe(n,t){if(1&n&&(R(0,"div",19),U(1),D()),2&n){const e=ne(2);E(1),Ye(e.freeBet.freeBetsLeft)}}function gOe(n,t){if(1&n&&(R(0,"div",20)(1,"div",21)(2,"div",22),U(3),j(4,"transloco"),D(),R(5,"div",23),U(6),j(7,"date"),D()(),R(8,"div",24)(9,"div",22),U(10),j(11,"transloco"),D(),R(12,"div",23),U(13),D()(),R(14,"div",24)(15,"div",22),U(16),j(17,"transloco"),D(),R(18,"div",23),U(19),j(20,"date"),D()()()),2&n){const e=ne(2);E(3),te(" ",W(4,6,"shared.modals.free-bets-management.granted")," "),E(3),te(" ",Ut(7,8,e.freeBet.freeBetsStartDate,"dd.MM.yy, HH:mm")," "),E(4),te(" ",W(11,11,"shared.modals.free-bets-management.min cashout coefficient")," "),E(3),Ye(e.freeBet.freeBetsMinCashOut),E(3),te(" ",W(17,13,"shared.modals.free-bets-management.expires")," "),E(3),te(" ",Ut(20,15,e.freeBet.freeBetsEndDate,"dd.MM.yy, HH:mm")," ")}}function _Oe(n,t){if(1&n){const e=ft();R(0,"div",8)(1,"div",4),K(2,hOe,2,0,"span",9),K(3,fOe,2,1,"div",10),K(4,pOe,2,1,"div",11),R(5,"div",12)(6,"div",13)(7,"span"),U(8),j(9,"currencyPrecision"),D()()(),R(10,"div",14)(11,"div",13),U(12),j(13,"currencyPrecision"),D()(),R(14,"div",15),Te("click",function(){return ot(e),ne().toggleDisplayDetails()}),fe(15,"div",16),D()(),K(16,gOe,21,18,"div",17),D()}if(2&n){const e=ne();wt("detailed",e.isDisplayedDetails)("selected",e.freeBets.isActive(e.freeBet.freeBetsId)),E(2),F("ngIf",!e.isArchive),E(1),F("ngIf",e.isArchive),E(1),F("ngIf",!e.isArchive),E(4),te(" ",W(9,12,e.freeBet.freeBetsBetAmount)," "),E(4),te(" ",W(13,14,e.freeBet.freeBetsWinSum)," "),E(3),wt("rotate",e.isDisplayedDetails),E(1),F("ngIf",e.isDisplayedDetails)}}let mOe=(()=>{class n{constructor(e,i,r,s){this.mainService=e,this.freeBets=i,this.activeModal=r,this.app=s,this.itemType=void 0,this.isArchive=!1,this.isDisplayedDetails=!1}selectClick(e){this.freeBets.isActive(e)||(this.freeBets.activate(e),this.activeModal.close())}clickPlayWithCash(){}clickPlayWithFreeBet(){}toggleDisplayDetails(){this.isDisplayedDetails=!this.isDisplayedDetails}}return n.\u0275fac=function(e){return new(e||n)(z(Zi),z(bu),z(Mr),z(ln))},n.\u0275cmp=rt({type:n,selectors:[["app-free-bet-management-item"]],inputs:{itemType:"itemType",isArchive:"isArchive",freeBet:"freeBet"},decls:3,vars:2,consts:[[1,"item-wrapper",3,"ngSwitch"],["class","rounded-block cash-block",3,"selected",4,"ngSwitchCase"],["class","rounded-block",3,"detailed","selected",4,"ngSwitchDefault"],[1,"rounded-block","cash-block"],[1,"main-row"],[1,"radio",3,"click"],[1,"dot"],[1,"cash-block__text"],[1,"rounded-block"],["class","radio",3,"click",4,"ngIf"],["class","quantity archive",4,"ngIf"],["class","quantity",4,"ngIf"],[1,"bet"],[1,"amount"],[1,"total-win"],[1,"arrow-wrapper",3,"click"],[1,"arrow"],["class","details",4,"ngIf"],[1,"quantity","archive"],[1,"quantity"],[1,"details"],[1,"table-row","top-row"],[1,"col-first"],[1,"col-sec"],[1,"table-row"]],template:function(e,i){1&e&&(R(0,"div",0),K(1,dOe,7,5,"div",1),K(2,_Oe,17,16,"div",2),D()),2&e&&(F("ngSwitch",i.itemType),E(1),F("ngSwitchCase","playWithCash"))},directives:[Fs,co,iu,Nt],pipes:[Gt,Xn,Oa],styles:[".item-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;width:100%}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%;height:34px;border-radius:8px;background-color:#0707084d;margin:5px auto 0;border:solid 1px transparent}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]{height:32px;width:100%;display:flex;align-items:center}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]{display:inline-block;min-width:16px;height:16px;background-color:#1b1c1d;border:solid 1px #38ca07;border-radius:50%;margin-left:9px;cursor:pointer}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .quantity[_ngcontent-%COMP%]{width:30%;margin-left:12px;flex-shrink:0}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .quantity.archive[_ngcontent-%COMP%]{margin-left:8%}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{width:30%;flex-shrink:0;height:100%}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{text-align:center;height:100%;display:flex;align-items:center;font-size:12px}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]   .currency[_ngcontent-%COMP%]{margin-left:2px;font-size:9px}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .total-win[_ngcontent-%COMP%]{width:20%;flex-shrink:0;height:100%}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .total-win[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{text-align:center;height:100%;display:flex;align-items:center;font-size:12px}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .total-win[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]   .currency[_ngcontent-%COMP%]{margin-left:2px;font-size:9px}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .arrow-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;width:12%;padding-right:10px;cursor:pointer}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .arrow-wrapper[_ngcontent-%COMP%]:hover   .arrow[_ngcontent-%COMP%]{background:url(dd-h.b73ce3c52613cfd8.svg) no-repeat center center/contain}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .arrow-wrapper[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{width:10px;height:10px;transition:transform .5s;background:url(dd.08ed122e8624a251.svg) no-repeat center center/contain}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .arrow-wrapper[_ngcontent-%COMP%]   .arrow.rotate[_ngcontent-%COMP%]{transform:rotate(180deg)}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-around;width:276px;min-height:70px;border-radius:6px;background-color:#212123;font-size:12px;margin:8px 0 12px}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]{width:100%;display:flex;line-height:1}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   .col-first[_ngcontent-%COMP%]{flex-shrink:0;margin-left:10px;width:50%;font-size:11px;color:#83878e}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   .col-sec[_ngcontent-%COMP%]{display:flex;align-items:center;flex-shrink:0;margin-left:20px;width:35%;color:#fff}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .table-row.top-row[_ngcontent-%COMP%]{margin-top:5px}.item-wrapper[_ngcontent-%COMP%]   .rounded-block.selected[_ngcontent-%COMP%]{border:solid 1px #229607}.item-wrapper[_ngcontent-%COMP%]   .rounded-block.selected[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;cursor:default}.item-wrapper[_ngcontent-%COMP%]   .rounded-block.selected[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{display:block;width:8px;height:8px;border-radius:50%;background-color:#38ca07}.item-wrapper[_ngcontent-%COMP%]   .detailed[_ngcontent-%COMP%]{height:121px}.item-wrapper[_ngcontent-%COMP%]   .cash-block[_ngcontent-%COMP%]{margin-top:10px}.item-wrapper[_ngcontent-%COMP%]   .cash-block[_ngcontent-%COMP%]   .cash-block__text[_ngcontent-%COMP%]{margin-left:12px}"]}),n})();function vOe(n,t){1&n&&fe(0,"app-free-bet-management-item",11),2&n&&F("itemType","playWithCash")}function yOe(n,t){if(1&n){const e=ft();R(0,"div",12)(1,"div"),U(2),j(3,"transloco"),D(),R(4,"div",13),Te("click",function(){return ot(e),ne().onClickArchiveHistory()}),fe(5,"div",14),R(6,"div"),U(7),j(8,"transloco"),D()()()}2&n&&(E(2),te(" ",W(3,2,"shared.modals.free-bets-management.active free bets")," "),E(5),Ye(W(8,4,"shared.archive")))}function bOe(n,t){if(1&n){const e=ft();R(0,"div",15)(1,"div"),U(2),j(3,"transloco"),D(),R(4,"div",13),Te("click",function(){return ot(e),ne().isArchive=!1}),fe(5,"div",16),R(6,"div"),U(7),j(8,"transloco"),D()()()}if(2&n){const e=ne();E(2),Ye(W(3,4,"shared.archive")),E(2),wt("disabled",!e.loaded),E(3),Ye(W(8,6,"shared.back"))}}function SOe(n,t){if(1&n&&(R(0,"div",25),fe(1,"app-free-bet-management-item",26),D()),2&n){const e=t.$implicit,i=ne(2);E(1),F("isArchive",i.isArchive)("freeBet",e)}}function COe(n,t){if(1&n){const e=ft();R(0,"div",27)(1,"div",28),Te("click",function(){ot(e);const r=ne(2);return r.getFreeBetsArchive(r.freeBetsList[r.freeBetsList.length-1].freeBetsId)}),fe(2,"div",29),R(3,"span",30),U(4),j(5,"transloco"),D()()()}2&n&&(E(4),Ye(W(5,1,"shared.load_more")))}function EOe(n,t){1&n&&(R(0,"div"),fe(1,"app-loader",31),D())}function TOe(n,t){if(1&n&&(R(0,"div",17)(1,"div",18)(2,"div",19),U(3),j(4,"transloco"),D(),R(5,"div",20),U(6),j(7,"transloco"),D(),R(8,"div",21),U(9),j(10,"transloco"),D()(),R(11,"div",22),K(12,SOe,2,2,"div",23),K(13,COe,6,3,"div",24),K(14,EOe,2,0,"div",9),D()()),2&n){const e=ne();E(2),wt("archive",e.isArchive),E(1),te(" ",W(4,10,"shared.modals.free-bets-management.quantity")," "),E(3),Un(" ",W(7,12,"shared.bet")," ",e.app.config.currency," "),E(3),Un(" ",W(10,14,"shared.win")," ",e.app.config.currency," "),E(3),F("ngForOf",e.freeBetsList),E(1),F("ngIf",e.isArchive&&e.isMoreArchive&&e.loaded),E(1),F("ngIf",e.isArchive&&!e.loaded)}}function wOe(n,t){1&n&&(R(0,"div"),fe(1,"app-loader"),D())}function MOe(n,t){1&n&&(R(0,"div",35),U(1),j(2,"transloco"),D()),2&n&&(E(1),te(" ",W(2,1,"shared.modals.free-bets-management.no active free bets")," "))}function OOe(n,t){1&n&&(R(0,"div",35),U(1),j(2,"transloco"),D()),2&n&&(E(1),te(" ",W(2,1,"shared.modals.free-bets-management.nothing yet")," "))}function POe(n,t){if(1&n&&(R(0,"div",32),fe(1,"div",33),K(2,MOe,3,3,"div",34),K(3,OOe,3,3,"div",34),D()),2&n){const e=ne();E(2),F("ngIf",!e.isArchive),E(1),F("ngIf",e.isArchive)}}let vp=class{constructor(t,e,i,r){this.app=t,this.activeModal=e,this.freeBets=i,this.connector=r,this.isArchive=!1,this.loaded=!0,this.isMoreArchive=!1,this.freeBetsArchiveList=[]}ngOnInit(){this.connector.response(mn.FreeBetsArchive).pipe(Ct(this)).subscribe(t=>this.freeBetsArchiveResponse(t))}freeBetsArchiveResponse(t){this.loaded=!0,200===t.code&&(this.isMoreArchive=t.isHaveMore,t.freeBetsArchiveInfo&&(this.freeBetsArchiveList?this.freeBetsArchiveList.push(...t.freeBetsArchiveInfo):this.freeBetsArchiveList=t.freeBetsArchiveInfo))}onClickArchiveHistory(){this.isArchive=!0,this.getFreeBetsArchive()}getFreeBetsArchive(t){if(!t&&this.freeBetsArchiveList.length>0)return;this.loaded=!1;const e={};t&&(e.startId=t),this.connector.request(Wi.FreeBetsArchive,e)}get freeBetsList(){return this.isArchive?this.freeBetsArchiveList:this.freeBets.list}get freeBetsCount(){return this.freeBetsList?this.freeBetsList.length:0}};vp.\u0275fac=function(t){return new(t||vp)(z(ln),z(Mr),z(bu),z(Bi))},vp.\u0275cmp=rt({type:vp,selectors:[["app-free-bets-management"]],decls:16,vars:9,consts:[[1,"title","modal-header","canSelect"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"modal-body","px-2"],[1,"content-wrapper"],[1,"content"],["class","free-bet-item",3,"itemType",4,"ngIf"],["class","free-bets-header pl-1",4,"ngIf"],["class","free-bets-header free-bets-header-archive",4,"ngIf"],["class","content__free-bets",4,"ngIf"],[4,"ngIf"],["class","content__none",4,"ngIf"],[1,"free-bet-item",3,"itemType"],[1,"free-bets-header","pl-1"],[1,"archive-btn","pl-1","pr-2",3,"click"],[1,"history-i"],[1,"free-bets-header","free-bets-header-archive"],[1,"close-i"],[1,"content__free-bets"],[1,"free-bets-table-header"],[1,"quantity"],[1,"bet"],[1,"total-win"],[1,"free-bets-list-wrapper"],["class","free-bets-list",4,"ngFor","ngForOf"],["class","load-more-wrapper",4,"ngIf"],[1,"free-bets-list"],[1,"free-bets-list__item",3,"isArchive","freeBet"],[1,"load-more-wrapper"],[1,"load-more",3,"click"],[1,"load-more-i"],[1,"load-more__text"],["type","small"],[1,"content__none"],[1,"free-bet-image"],["class","none-text",4,"ngIf"],[1,"none-text"]],template:function(t,e){1&t&&(R(0,"div",0)(1,"span"),U(2),j(3,"transloco"),D(),R(4,"button",1),Te("click",function(){return e.activeModal.close()}),R(5,"span"),U(6,"\xd7"),D()()(),R(7,"div",2)(8,"div",3)(9,"div",4),K(10,vOe,1,1,"app-free-bet-management-item",5),K(11,yOe,9,6,"div",6),K(12,bOe,9,8,"div",7),K(13,TOe,15,16,"div",8),K(14,wOe,2,0,"div",9),K(15,POe,4,2,"div",10),D()()()),2&t&&(E(2),Ye(W(3,7,"shared.modals.free-bets-management.title")),E(8),F("ngIf",!e.isArchive),E(1),F("ngIf",!e.isArchive),E(1),F("ngIf",e.isArchive),E(1),F("ngIf",e.freeBetsCount>0),E(1),F("ngIf",e.isArchive&&!e.loaded&&0===e.freeBetsCount),E(1),F("ngIf",0===e.freeBetsCount&&e.loaded))},directives:[Nt,mOe,oi,Nc],pipes:[Gt],styles:[".title.modal-header.canSelect[_ngcontent-%COMP%]{padding-left:15px}.content-wrapper[_ngcontent-%COMP%]{position:relative}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center;flex-direction:column}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content__free-bets[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;flex-direction:column}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content__none[_ngcontent-%COMP%]{width:100%;height:100%;padding:30px 0;display:flex;align-items:center;flex-direction:column;justify-content:center}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content__none[_ngcontent-%COMP%]   .free-bet-image[_ngcontent-%COMP%]{width:100px;height:62px;background:url(ticket.1e243c2f0def2ce9.svg) no-repeat center center/contain}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content__none[_ngcontent-%COMP%]   .none-text[_ngcontent-%COMP%]{margin-top:14px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-header[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:space-between;margin-top:12px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-header-archive[_ngcontent-%COMP%]{margin:0 auto}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-header[_ngcontent-%COMP%]   .archive-btn[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:12px;cursor:pointer;color:#b8b8b7;border-radius:17px;border:solid 1px #414148;background-color:#252528}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-header[_ngcontent-%COMP%]   .archive-btn.disabled[_ngcontent-%COMP%]{cursor:auto;opacity:.2;pointer-events:none}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-header[_ngcontent-%COMP%]   .archive-btn[_ngcontent-%COMP%]   .history-i[_ngcontent-%COMP%]{background:url(history.f7bb16bd19899b41.svg) no-repeat center center/contain;width:14px;height:14px;margin-right:3px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-header[_ngcontent-%COMP%]   .archive-btn[_ngcontent-%COMP%]:hover   .history-i[_ngcontent-%COMP%]{background:url(history-h.d34b772939d33f4a.svg) no-repeat center center/contain}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-header[_ngcontent-%COMP%]   .archive-btn[_ngcontent-%COMP%]   .close-i[_ngcontent-%COMP%]{background:url(x-r.4631ab127c326520.svg) no-repeat center center/contain;width:11px;height:11px;margin-right:3px;align-self:center}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-header[_ngcontent-%COMP%]   .archive-btn[_ngcontent-%COMP%]:hover   .close-i[_ngcontent-%COMP%]{background:url(x-r-h.50c61e3b304f4ab0.svg) no-repeat center center/contain}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-table-header[_ngcontent-%COMP%]{margin-top:9px;width:100%;display:flex;font-size:11px;color:#83878e;justify-content:flex-start}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-table-header[_ngcontent-%COMP%]   .quantity[_ngcontent-%COMP%]{width:30%;margin-left:37px;flex-shrink:0}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-table-header[_ngcontent-%COMP%]   .quantity.archive[_ngcontent-%COMP%]{margin-left:8%}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-table-header[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%], .content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-table-header[_ngcontent-%COMP%]   .total-win[_ngcontent-%COMP%]{width:30%;flex-shrink:0}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-list-wrapper[_ngcontent-%COMP%]{height:calc(100% - 40px);width:100%}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-list-wrapper[_ngcontent-%COMP%]   .free-bets-list[_ngcontent-%COMP%]:last-child{width:100%;margin-bottom:5px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-list-wrapper[_ngcontent-%COMP%]   .free-bets-list[_ngcontent-%COMP%]:last-child   .free-bets-list__item[_ngcontent-%COMP%]{width:100%}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-list-wrapper[_ngcontent-%COMP%]   .load-more-wrapper[_ngcontent-%COMP%]{text-align:center}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-list-wrapper[_ngcontent-%COMP%]   .load-more-wrapper[_ngcontent-%COMP%]   .load-more[_ngcontent-%COMP%]{margin:11px 0 5px;display:inline-flex;align-items:center;height:22px;border-radius:13px;border:solid 1px #6f6f6f;background-color:#1e1e1e;color:#b8b8b7;cursor:pointer}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-list-wrapper[_ngcontent-%COMP%]   .load-more-wrapper[_ngcontent-%COMP%]   .load-more[_ngcontent-%COMP%]:hover   .load-more-i[_ngcontent-%COMP%]{background:url(load-h.1b7512b42d0c37e1.svg) no-repeat center center/contain}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-list-wrapper[_ngcontent-%COMP%]   .load-more-wrapper[_ngcontent-%COMP%]   .load-more[_ngcontent-%COMP%]   .load-more-i[_ngcontent-%COMP%]{background:url(load.370ad567de19b0d6.svg) no-repeat center center/contain;margin:0 4px 0 10px;width:14px;height:9px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-list-wrapper[_ngcontent-%COMP%]   .load-more-wrapper[_ngcontent-%COMP%]   .load-more[_ngcontent-%COMP%]   .load-more__text[_ngcontent-%COMP%]{font-size:12px;margin-right:10px}.free-bet-item[_ngcontent-%COMP%]{width:100%;color:#d2d2d2}"]}),vp=Ke([Qn()],vp);var _a=(()=>(function(n){n.EN="en",n.KA="ka",n.RU="ru",n.HY="hy",n.TR="tr",n.BG="bg",n.IT="it",n.ZH="zh",n.KO="ko",n.HR="hr",n.SV="sv",n.FA="fa",n.ES="es",n.TH="th"}(_a||(_a={})),_a))();const wW=n=>{const t={};return t[_a.EN]="https://www.youtube.com/embed/PZejs3XDCSY?playsinline=1&rel=0",t[_a.RU]="https://www.youtube.com/embed/dcThkn7JMV0?playsinline=1&rel=0",t[_a.TR]="https://www.youtube.com/embed/04Kjqzxuv4w?playsinline=1&rel=0",t[_a.BG]="https://www.youtube.com/embed/uqqaznDHThM?playsinline=1&rel=0",t[_a.IT]="https://www.youtube.com/embed/pWRuRU01zV8?playsinline=1&rel=0",t[_a.ZH]="https://www.youtube.com/embed/Q7GDLGcSTu0?playsinline=1&rel=0",t[_a.KO]="https://www.youtube.com/embed/ZVatehIvZb0?playsinline=1&rel=0",t[_a.FA]="https://www.youtube.com/embed/_5DNXyuabns?playsinline=1&rel=0",t[_a.HR]="https://www.youtube.com/embed/jwi2__ybp1o?playsinline=1&rel=0",t[_a.ES]="https://www.youtube.com/embed/kXxVkRHKhQI?playsinline=1&rel=0",t[_a.TH]="https://www.youtube.com/embed/VleLfaBs2JQ?playsinline=1&rel=0",t.hasOwnProperty(n)?t[n]:t[_a.EN]};let MW=(()=>{class n{constructor(){this.clonedBetControlNodeSubject=new PR(1),this.clonedBetControlNode$=this.clonedBetControlNodeSubject.asObservable()}sendClonedBetControlNode(e){this.clonedBetControlNodeSubject.next(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xOe=["betControlTarget"];let yp=class{constructor(t,e,i){this.activeModal=t,this.rules=e,this.cd=i}ngOnInit(){this.rules.clonedBetControlNode$.pipe(Ct(this)).subscribe(t=>this.addClonedBetControlNode(t))}addClonedBetControlNode(t){this.betControlTarget&&(this.betControlTarget.nativeElement.appendChild(t),this.cd.markForCheck())}};function IOe(n,t){if(1&n&&(R(0,"div",30)(1,"div",31),fe(2,"iframe",32),D()()),2&n){const e=ne();E(2),F("src",e.videoURL,X1)}}yp.\u0275fac=function(t){return new(t||yp)(z(Mr),z(MW),z(Sn))},yp.\u0275cmp=rt({type:yp,selectors:[["app-rules-bet-control"]],viewQuery:function(t,e){if(1&t&&Lr(xOe,7),2&t){let i;kn(i=Fn())&&(e.betControlTarget=i.first)}},decls:2,vars:0,consts:[["betControlTarget",""]],template:function(t,e){1&t&&fe(0,"div",null,0)},styles:["div[_ngcontent-%COMP%]{width:100%;height:100%}"],changeDetection:0}),yp=Ke([Qn()],yp);const AOe=function(n){return{multiplierFormula:n}};function ROe(n,t){if(1&n&&(fe(0,"li",33),j(1,"transloco")),2&n){const e=ne();F("innerHTML",Ut(1,1,"shared.modals.rules.game-rules.details.multiplierFormula",di(4,AOe,e.multiplierFormulaHtml)),Y1)}}function DOe(n,t){1&n&&(R(0,"li",21),U(1),j(2,"transloco"),D()),2&n&&(E(1),te(" ",W(2,1,"shared.modals.rules.game-rules.game-functions.bet-cashout.point2")," "))}function NOe(n,t){1&n&&(at(0),fe(1,"br"),U(2),j(3,"transloco"),fe(4,"br"),U(5),j(6,"transloco"),fe(7,"br"),U(8),j(9,"transloco"),fe(10,"br"),U(11),j(12,"transloco"),lt()),2&n&&(E(2),te(" ",W(3,4,"shared.modals.rules.game-rules.game-functions.bet-cashout.point4-example-1")," "),E(3),te(" ",W(6,6,"shared.modals.rules.game-rules.game-functions.bet-cashout.point4-example-2")," "),E(3),te(" ",W(9,8,"shared.modals.rules.game-rules.game-functions.bet-cashout.point4-example-3")," "),E(3),te(" ",W(12,10,"shared.modals.rules.game-rules.game-functions.bet-cashout.point4-example-4")," "))}function kOe(n,t){if(1&n&&(R(0,"ul",20)(1,"li",21),U(2),j(3,"transloco"),D(),R(4,"li",21),U(5),j(6,"transloco"),D(),R(7,"li",21),U(8),j(9,"transloco"),D(),R(10,"li",21),U(11),j(12,"transloco"),D(),R(13,"li",21),U(14),j(15,"transloco"),D(),R(16,"li",21),U(17),j(18,"transloco"),D(),R(19,"li",21),U(20),j(21,"transloco"),D(),R(22,"li",21),U(23),j(24,"transloco"),D()()),2&n){const e=ne(2);E(2),te(" ",W(3,8,"shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point7")," "),E(3),te(" ",W(6,10,"shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point1")," "),E(3),te(" ",W(9,12,"shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point8")," "),E(3),te(" ",W(12,14,"shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point2")," "),E(3),te(" ",W(15,16,"shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point3")," "),E(3),te(" ",W(18,18,"shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point4")," "),E(3),te(" ",W(21,20,e.app.config.gameRulesAutoCashOutType===e.gameRulesAutoCashOutType.Detailed?"shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point5-detailed":"shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point5")," "),E(3),te(" ",W(24,22,"shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point9")," ")}}function FOe(n,t){if(1&n&&(R(0,"ul",20)(1,"li",21),U(2),j(3,"transloco"),D(),R(4,"li",21),U(5),j(6,"transloco"),D(),R(7,"li",21),U(8),j(9,"transloco"),D()()),2&n){const e=ne(2);E(2),te(" ",W(3,3,"shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point7")," "),E(3),te(" ",W(6,5,"shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point6")," "),E(3),te(" ",W(9,7,e.app.config.gameRulesAutoCashOutType===e.gameRulesAutoCashOutType.Detailed?"shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point5-detailed":"shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point5")," ")}}function LOe(n,t){if(1&n&&(R(0,"div",25)(1,"div",19),U(2),j(3,"transloco"),D(),K(4,kOe,25,24,"ul",34),K(5,FOe,10,9,"ul",34),D()),2&n){const e=ne();E(2),te(" ",W(3,3,"shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.title")," "),E(2),F("ngIf",void 0!==e.app.config.autoBetOptions),E(1),F("ngIf",void 0===e.app.config.autoBetOptions)}}function BOe(n,t){1&n&&(R(0,"div",25)(1,"div",19),U(2),j(3,"transloco"),D(),R(4,"ul",20)(5,"li",21),U(6),j(7,"transloco"),D()()()),2&n&&(E(2),te(" ",W(3,2,"shared.modals.rules.game-rules.game-functions.in-game-chat.title")," "),E(4),te(" ",W(7,4,"shared.modals.rules.game-rules.game-functions.in-game-chat.point1")," "))}function UOe(n,t){1&n&&(R(0,"div",25)(1,"div",35),U(2),j(3,"transloco"),D(),R(4,"ul",20)(5,"li",21),U(6),j(7,"transloco"),D()()()),2&n&&(E(2),te(" ",W(3,2,"shared.free_bets")," "),E(4),te(" ",W(7,4,"shared.modals.rules.game-rules.game-functions.free-bets.point1")," "))}function GOe(n,t){1&n&&(R(0,"ul",20)(1,"li",21),U(2),j(3,"transloco"),D()()),2&n&&(E(2),te(" ",W(3,1,"shared.modals.rules.game-rules.game-functions.rain-feature.point1")," "))}function jOe(n,t){1&n&&(R(0,"ul",20)(1,"li",21),U(2),j(3,"transloco"),D()()),2&n&&(E(2),te(" ",W(3,1,"shared.modals.rules.game-rules.game-functions.rain-feature.point2")," "))}function HOe(n,t){if(1&n&&(R(0,"div",25)(1,"div",19),U(2),j(3,"transloco"),D(),K(4,GOe,4,3,"ul",34),K(5,jOe,4,3,"ul",34),D()),2&n){const e=ne();E(2),te(" ",W(3,3,"shared.modals.rules.game-rules.game-functions.rain-feature.title")," "),E(2),F("ngIf",e.app.config.chat.promo.isEnabled),E(1),F("ngIf",e.app.config.chat.rain.isEnabled)}}const VOe=function(n,t){return{minBankValue:n,currency:t}};function zOe(n,t){if(1&n&&(R(0,"div",25)(1,"div",19),U(2),j(3,"transloco"),D(),R(4,"ul",20)(5,"li",21),U(6),j(7,"transloco"),D()()()),2&n){const e=ne();E(2),te(" ",W(3,2,"shared.modals.rules.game-rules.game-functions.minimum_bank_value.title")," "),E(4),te(" ",Ut(7,4,"shared.modals.rules.game-rules.game-functions.minimum_bank_value.point1",ta(7,VOe,e.minBankValue,e.app.config.currency))," ")}}const WOe=function(n,t){return{returnToPlayer:n,numberOfRounds:t}};function $Oe(n,t){if(1&n&&(R(0,"div",25)(1,"div",19),U(2),j(3,"transloco"),D(),R(4,"ul",20)(5,"li",21),U(6),j(7,"transloco"),D()()()),2&n){const e=ne();let i;E(2),te(" ",W(3,2,"shared.modals.rules.game-rules.game-functions.return-to-player.title")," "),E(4),te(" ",Ut(7,4,"shared.modals.rules.game-rules.game-functions.return-to-player.point1",ta(7,WOe,e.app.config.returnToPlayer,100-(null!==(i=e.app.config.returnToPlayer)&&void 0!==i?i:0)))," ")}}function YOe(n,t){1&n&&(R(0,"div",25)(1,"div",19),U(2),j(3,"transloco"),D(),R(4,"ul",20)(5,"li",21),U(6),j(7,"transloco"),D(),R(8,"li",21),U(9),j(10,"transloco"),D()()()),2&n&&(E(2),te(" ",W(3,3,"shared.modals.rules.game-rules.game-functions.multi-rooms.title")," "),E(4),te(" ",W(7,5,"shared.modals.rules.game-rules.game-functions.multi-rooms.point1")," "),E(3),te(" ",W(10,7,"shared.modals.rules.game-rules.game-functions.multi-rooms.point2")," "))}function XOe(n,t){1&n&&(R(0,"li",21),U(1),j(2,"transloco"),D()),2&n&&(E(1),te(" ",W(2,1,"shared.modals.rules.game-rules.game-functions.other.unfinished game")," "))}const qOe=function(n,t){return{maxWin:n,currency:t}};function KOe(n,t){if(1&n&&(R(0,"li",21),U(1),j(2,"transloco"),j(3,"currencyPrecision"),D()),2&n){const e=ne();E(1),te(" ",Ut(2,1,"shared.modals.rules.game-rules.game-functions.other.max_win",ta(6,qOe,W(3,4,e.app.config.maxUserWin),e.app.config.currency))," ")}}const JOe=function(n){return{maxMultiplier:n}};function ZOe(n,t){if(1&n&&(R(0,"li",21),U(1),j(2,"transloco"),j(3,"multiplierPrecision"),D()),2&n){const e=ne();E(1),te(" ",Ut(2,1,"shared.modals.rules.game-rules.game-functions.other.max_user_multiplier",di(6,JOe,W(3,4,e.app.config.maxUserMultiplier)))," ")}}const QOe=function(n){return{min:n}};function ePe(n,t){if(1&n&&(R(0,"li",21),U(1),j(2,"transloco"),D()),2&n){const e=ne();E(1),te(" ",Ut(2,1,"shared.modals.rules.game-rules.game-functions.other.inactivityTime",di(4,QOe,e.app.config.inactivityTimeForDisconnect))," ")}}function tPe(n,t){if(1&n&&(R(0,"div",36)(1,"div")(2,"span"),U(3),j(4,"transloco"),D(),R(5,"span"),U(6),D()()()),2&n){const e=ne();E(3),te(" ",W(4,2,"shared.modals.rules.game-rules.game-functions.version")," "),E(3),Ye(e.app.config.gameVersion)}}const nPe=function(n,t){return{"pt-5":n,"pt-2":t}};let iPe=(()=>{class n{constructor(e,i,r,s,o,a,l,c){this.activeModal=e,this.app=i,this.connector=r,this.modal=s,this.urlParams=o,this.sanitizer=a,this.currencyPrecisionPipe=l,this.multiServer=c,this.videoURL=void 0,this.minBankValue=this.currencyPrecisionPipe.transform(Li.mul(this.app.config.minBet,1.01).toNumber()),this.gameRulesAutoCashOutType=sT,this.multiplierFormulaHtml="\u230a100 \xb7 e<sup>0.000083 \xb7 {ms}</sup>\u230b / 100"}get isEmbeddedVideoHidden(){var e;return null!==(e=this.app.config.isEmbeddedVideoHidden)&&void 0!==e&&e}ngOnInit(){const e=wW(this.urlParams.lang);this.videoURL=this.sanitizer.bypassSecurityTrustResourceUrl(e)}onPFModalOpen(e){e.preventDefault(),this.modal.open(Wn.whatIsPf)}}return n.\u0275fac=function(e){return new(e||n)(z(Mr),z(ln),z(Bi),z(jo),z(kl),z(_x),z(Xn),z(wm))},n.\u0275cmp=rt({type:n,selectors:[["app-rules"]],features:[Jn([Xn])],decls:184,vars:155,consts:[[1,"modal-header","canSelect"],[1,"text-uppercase"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"modal-body"],[1,"text-grey"],["href","#",3,"click"],[1,"mt-4","mb-2","text-uppercase"],["class","youtube",4,"ngIf"],[1,"steps-wrapper"],[1,"pl-2",3,"ngClass"],[1,"steps-container"],[1,"step","step-1"],[1,"step-bg-img"],[1,"step-text","pt-2"],[1,"step","step-2"],[1,"step-text"],[1,"step","step-3"],[1,"mt-3","text-grey"],[1,"rules-list","pt-3"],[1,"rules-list-title"],[1,"list-group"],[1,"list-group-item"],["class","list-group-item",3,"innerHTML",4,"ngIf"],[1,"icon-fair"],[1,"mt-4","mt-5"],[1,"rules-list","pt-2"],["class","list-group-item",4,"ngIf"],[4,"ngIf"],["class","rules-list pt-2",4,"ngIf"],["class","game-version-wrapper border-top mt-4 pt-2 d-flex justify-content-center",4,"ngIf"],[1,"youtube"],[1,"embed-responsive","embed-responsive-16by9"],["frameborder","0","allowfullscreen","","allow","accelerometer; encrypted-media; gyroscope; picture-in-picture",1,"embed-responsive-item",3,"src"],[1,"list-group-item",3,"innerHTML"],["class","list-group",4,"ngIf"],[1,"rules-list-title","text-capitalize"],[1,"game-version-wrapper","border-top","mt-4","pt-2","d-flex","justify-content-center"]],template:function(e,i){if(1&e&&(R(0,"div",0)(1,"span",1),U(2),j(3,"transloco"),D(),R(4,"button",2),Te("click",function(){return i.activeModal.close()}),R(5,"span"),U(6,"\xd7"),D()()(),R(7,"div",3)(8,"p",4),U(9),j(10,"transloco"),D(),R(11,"a",5),Te("click",function(s){return i.onPFModalOpen(s)}),U(12),j(13,"transloco"),D(),R(14,"h6",6),U(15),j(16,"transloco"),D(),K(17,IOe,3,1,"div",7),R(18,"div",8)(19,"h6",9),U(20),j(21,"transloco"),D(),R(22,"div",10)(23,"div",11)(24,"h3"),U(25,"01"),D(),R(26,"div",12),fe(27,"app-rules-bet-control"),D(),R(28,"div",13)(29,"span",1),U(30),j(31,"transloco"),D(),U(32),j(33,"transloco"),D()(),R(34,"div",14)(35,"h3"),U(36,"02"),D(),fe(37,"div",12),R(38,"div",15)(39,"span",1),U(40),j(41,"transloco"),D(),U(42),j(43,"transloco"),D()(),R(44,"div",16)(45,"h3"),U(46,"03"),D(),fe(47,"div",12),R(48,"div",15)(49,"span",1),U(50),j(51,"transloco"),D(),U(52),j(53,"transloco"),D()()(),R(54,"p",17),U(55),j(56,"transloco"),D(),R(57,"div",18)(58,"div",19),U(59),j(60,"transloco"),D(),R(61,"ul",20)(62,"li",21),U(63),j(64,"transloco"),D(),K(65,ROe,2,6,"li",22),R(66,"li",21),U(67),j(68,"transloco"),D(),R(69,"li",21),U(70),j(71,"transloco"),fe(72,"span",23),U(73),j(74,"transloco"),D()()()(),R(75,"h6",24),U(76),j(77,"transloco"),D(),R(78,"div",25)(79,"div",19),U(80),j(81,"transloco"),D(),R(82,"ul",20)(83,"li",21),U(84),j(85,"transloco"),D(),at(86),R(87,"li",21),U(88),j(89,"transloco"),D(),R(90,"li",21),U(91),j(92,"transloco"),D(),lt(),K(93,DOe,3,3,"li",26),R(94,"li",21),U(95),j(96,"transloco"),D(),R(97,"li",21),U(98),j(99,"transloco"),K(100,NOe,13,12,"ng-container",27),D()()(),K(101,LOe,6,5,"div",28),R(102,"div",25)(103,"div",19),U(104),j(105,"transloco"),D(),R(106,"ul",20)(107,"li",21),U(108),j(109,"transloco"),D(),R(110,"li",21),U(111),j(112,"transloco"),D(),R(113,"li",21),U(114),j(115,"transloco"),D()()(),K(116,BOe,8,6,"div",28),K(117,UOe,8,6,"div",28),K(118,HOe,6,5,"div",28),R(119,"div",25)(120,"div",19),U(121),j(122,"transloco"),D(),R(123,"ul",20)(124,"li",21),U(125),j(126,"transloco"),R(127,"a",5),Te("click",function(s){return i.onPFModalOpen(s)}),U(128),j(129,"transloco"),D()(),R(130,"li",21),U(131),j(132,"transloco"),D(),R(133,"li",21),U(134),j(135,"transloco"),fe(136,"span",23),U(137),j(138,"transloco"),D()()(),K(139,zOe,8,10,"div",28),K(140,$Oe,8,10,"div",28),R(141,"div",25)(142,"div",19),U(143),j(144,"transloco"),D(),R(145,"ul",20)(146,"li",21),U(147),j(148,"transloco"),D(),R(149,"li",21),U(150),j(151,"transloco"),D(),R(152,"li",21),U(153),j(154,"transloco"),D(),R(155,"li",21),U(156),j(157,"transloco"),D(),R(158,"li",21),U(159),j(160,"transloco"),D(),R(161,"li",21),U(162),j(163,"transloco"),D(),R(164,"li",21),U(165),j(166,"transloco"),D()()(),K(167,YOe,11,9,"div",28),R(168,"div",25)(169,"div",19),U(170),j(171,"transloco"),D(),R(172,"ul",20)(173,"li",21),U(174),j(175,"transloco"),D(),R(176,"li",21),U(177),j(178,"transloco"),D(),K(179,XOe,3,3,"li",26),K(180,KOe,4,9,"li",26),K(181,ZOe,4,8,"li",26),K(182,ePe,3,6,"li",26),D()(),K(183,tPe,7,4,"div",29),D()),2&e){let r;E(2),Ye(W(3,62,"shared.game_rules")),E(7),te(" ",W(10,64,"shared.modals.rules.game-rules.main-text")," "),E(3),te(" ",W(13,66,"shared.modals.rules.game-rules.link")," "),E(3),te(" ",W(16,68,"shared.how_to_play")," "),E(2),F("ngIf",!i.isEmbeddedVideoHidden),E(2),F("ngClass",ta(152,nPe,!i.isEmbeddedVideoHidden,i.isEmbeddedVideoHidden)),E(1),te(" ",W(21,70,"shared.modals.rules.game-rules.steps.title")," "),E(10),Ye(W(31,72,"shared.bet")),E(2),te(" ",W(33,74,"shared.modals.rules.game-rules.steps.first-step")," "),E(8),Ye(W(41,76,"shared.watch")),E(2),te(" ",W(43,78,"shared.modals.rules.game-rules.steps.second-step")," "),E(8),te(" ",W(51,80,"shared.cash_out")," "),E(2),te(" ",W(53,82,"shared.modals.rules.game-rules.steps.third-step")," "),E(3),te(" ",W(56,84,"shared.modals.rules.game-rules.steps.text")," "),E(4),te(" ",W(60,86,"shared.modals.rules.game-rules.details.title")," "),E(4),te(" ",W(64,88,"shared.modals.rules.game-rules.details.point1")," "),E(2),F("ngIf",i.app.config.isGameRulesHaveMultiplierFormula),E(2),te(" ",W(68,90,"shared.modals.rules.game-rules.details.point2")," "),E(3),te(" ",W(71,92,"shared.modals.rules.game-rules.details.point3-1")," "),E(3),te(" ",W(74,94,"shared.modals.rules.game-rules.details.point3-2")," "),E(3),te(" ",W(77,96,"shared.modals.rules.game-rules.game-functions.title")," "),E(4),te(" ",W(81,98,"shared.modals.rules.game-rules.game-functions.bet-cashout.title")," "),E(4),te(" ",W(85,100,"shared.modals.rules.game-rules.game-functions.bet-cashout.point1")," "),E(4),te(" ",W(89,102,"shared.modals.rules.game-rules.game-functions.bet-cashout.point5")," "),E(3),te(" ",W(92,104,"shared.modals.rules.game-rules.game-functions.bet-cashout.point6")," "),E(2),F("ngIf",i.app.config.isMultipleBetsEnabled),E(2),te(" ",W(96,106,"shared.modals.rules.game-rules.game-functions.bet-cashout.point3")," "),E(3),te(" ",W(99,108,"shared.modals.rules.game-rules.game-functions.bet-cashout.point4")," "),E(2),F("ngIf",i.app.config.showCrashExampleInRules),E(1),F("ngIf",i.app.isAutoBetFeatureEnabled),E(3),te(" ",W(105,110,"shared.modals.rules.game-rules.game-functions.live-bets-statistics.title")," "),E(4),te(" ",W(109,112,"shared.modals.rules.game-rules.game-functions.live-bets-statistics.point1")," "),E(3),te(" ",W(112,114,"shared.modals.rules.game-rules.game-functions.live-bets-statistics.point2")," "),E(3),te(" ",W(115,116,"shared.modals.rules.game-rules.game-functions.live-bets-statistics.point3")," "),E(2),F("ngIf",i.app.config.chat.isEnabled),E(1),F("ngIf",i.app.isFreeBetsEnabled),E(1),F("ngIf",i.app.config.chat.rain.isEnabled||i.app.config.chat.promo.isEnabled),E(3),te(" ",W(122,118,"shared.modals.rules.game-rules.game-functions.randomization.title")," "),E(4),te(" ",W(126,120,"shared.modals.rules.game-rules.game-functions.randomization.point1")," "),E(3),te(" ",W(129,122,"shared.modals.rules.game-rules.link")," "),E(3),te(" ",W(132,124,"shared.modals.rules.game-rules.game-functions.randomization.point2")," "),E(3),te(" ",W(135,126,"shared.modals.rules.game-rules.game-functions.randomization.point3-1")," "),E(3),te(" ",W(138,128,"shared.modals.rules.game-rules.game-functions.randomization.point3-2")," "),E(2),F("ngIf",i.app.config.isGameRulesHaveMinimumBankValue),E(1),F("ngIf",(null!==(r=i.app.config.returnToPlayer)&&void 0!==r?r:0)>0),E(3),te(" ",W(144,130,"shared.modals.rules.game-rules.game-functions.game-menu.title")," "),E(4),te(" ",W(148,132,"shared.modals.rules.game-rules.game-functions.game-menu.point1")," "),E(3),te(" ",W(151,134,"shared.modals.rules.game-rules.game-functions.game-menu.point2")," "),E(3),te(" ",W(154,136,"shared.modals.rules.game-rules.game-functions.game-menu.point3")," "),E(3),te(" ",W(157,138,"shared.modals.rules.game-rules.game-functions.game-menu.point4")," "),E(3),te(" ",W(160,140,"shared.modals.rules.game-rules.game-functions.game-menu.point5")," "),E(3),te(" ",W(163,142,"shared.modals.rules.game-rules.game-functions.game-menu.point6")," "),E(3),te(" ",W(166,144,"shared.modals.rules.game-rules.game-functions.game-menu.point7")," "),E(2),F("ngIf",i.multiServer.isMultiServer),E(3),te(" ",W(171,146,"shared.modals.rules.game-rules.game-functions.other.title")," "),E(4),te(" ",W(175,148,"shared.modals.rules.game-rules.game-functions.other.point1")," "),E(3),te(" ",W(178,150,"shared.modals.rules.game-rules.game-functions.other.point2")," "),E(2),F("ngIf",i.app.config.isRuleUnfinishedGame),E(1),F("ngIf",i.app.config.isGameRulesHaveMaxWin),E(1),F("ngIf",i.app.config.maxUserMultiplier),E(1),F("ngIf",i.app.config.inactivityTimeForDisconnect),E(1),F("ngIf",i.app.config.gameVersion)}},directives:[Nt,ys,yp],pipes:[Gt,Xn,uu],styles:[".modal-body[_ngcontent-%COMP%]{padding:16px 12px}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{margin:0;border:0;background:transparent url(right-red-arrow.14ee00bd9966ab35.svg) no-repeat 0 3px;padding:2px 0 2px 14px;color:#d2d2d2}a[_ngcontent-%COMP%]{color:red}.youtube[_ngcontent-%COMP%]{display:block}.icon-fair[_ngcontent-%COMP%]{background-image:url(icon-provabyfair.71eb97eaadfab595.svg);background-repeat:no-repeat;min-width:14px;height:16px;display:inline-block;background-size:contain;transform:translateY(4px)}.steps-wrapper[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;flex-wrap:wrap}.steps-wrapper[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:700;font-size:24px;margin-top:20px}.steps-wrapper[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]{flex:0 0 240px}.steps-wrapper[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   .step-bg-img[_ngcontent-%COMP%]{width:320px;height:160px;border-radius:20px;border:1px solid #4e4e4e;background-size:100% 100%;overflow:hidden;pointer-events:none}.steps-wrapper[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   .step-text[_ngcontent-%COMP%]{margin-top:10px;background:url(01-bet.825ca2bc7c7b97a6.svg) no-repeat top left;background-size:36px 36px;padding-left:40px;min-height:36px;font-weight:700}.steps-wrapper[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   .step-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:red}.steps-wrapper[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]   .step.step-2[_ngcontent-%COMP%]   .step-bg-img[_ngcontent-%COMP%]{background:url(rules-step-02.e4c4ded206c4c071.png) no-repeat center center/cover}.steps-wrapper[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]   .step.step-3[_ngcontent-%COMP%]   .step-bg-img[_ngcontent-%COMP%]{background:url(rules-step-03.e6c43f8198532fff.png) no-repeat center center/cover}.rules-list[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.rules-list[_ngcontent-%COMP%]   .rules-list-title[_ngcontent-%COMP%]{margin-left:-20px;margin-bottom:10px}.text-grey[_ngcontent-%COMP%]{color:#d2d2d2}.game-version-wrapper[_ngcontent-%COMP%]{border-color:#fff3!important}"],changeDetection:0}),n})();function rPe(n,t){if(1&n&&(R(0,"div",10)(1,"div",11),fe(2,"iframe",12),D()()),2&n){const e=ne();E(2),F("src",e.videoURL,X1)}}let sPe=(()=>{class n{constructor(e,i,r,s,o){this.activeModal=e,this.sanitizer=i,this.modal=r,this.urlParams=s,this.app=o,this.videoURL=void 0}get isEmbeddedVideoHidden(){var e;return null!==(e=this.app.config.isEmbeddedVideoHidden)&&void 0!==e&&e}ngOnInit(){const e=wW(this.urlParams.lang);this.videoURL=this.sanitizer.bypassSecurityTrustResourceUrl(e)}onShowRules(){this.modal.open(Wn.rules),this.activeModal.close()}}return n.\u0275fac=function(e){return new(e||n)(z(Mr),z(_x),z(jo),z(kl),z(ln))},n.\u0275cmp=rt({type:n,selectors:[["app-quick-help-modal"]],decls:31,vars:16,consts:[[1,"modal-header","text-uppercase"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"modal-body"],["class","youtube",4,"ngIf"],[1,"step"],[1,"bullet","bullet-1"],[1,"bullet","bullet-2"],[1,"bullet","bullet-3"],[1,"modal-footer","p-0"],[1,"btn","btn-link","btn-sm","mx-auto",3,"click"],[1,"youtube"],[1,"embed-responsive","embed-responsive-16by9"],["frameborder","0","allowfullscreen","","allow","accelerometer; encrypted-media; gyroscope; picture-in-picture",1,"embed-responsive-item",3,"src"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"span"),U(2),j(3,"transloco"),D(),R(4,"button",1),Te("click",function(){return i.activeModal.close()}),R(5,"span"),U(6,"\xd7"),D()()(),R(7,"div",2),K(8,rPe,3,1,"div",3),R(9,"div",4)(10,"div",5),U(11,"01"),D(),R(12,"p"),U(13),j(14,"transloco"),D()(),R(15,"div",4)(16,"div",6),U(17,"02"),D(),R(18,"p"),U(19),j(20,"transloco"),D()(),R(21,"div",4)(22,"div",7),U(23,"03"),D(),R(24,"p"),U(25),j(26,"transloco"),D()()(),R(27,"div",8)(28,"button",9),Te("click",function(){return i.onShowRules()}),U(29),j(30,"transloco"),D()()),2&e&&(E(2),te("",W(3,6,"shared.how_to_play"),"?"),E(6),F("ngIf",!i.isEmbeddedVideoHidden),E(5),Ye(W(14,8,"shared.modals.quick-help.step1")),E(6),Ye(W(20,10,"shared.modals.quick-help.step2")),E(6),Ye(W(26,12,"shared.modals.quick-help.step3")),E(4),te(" ",W(30,14,"shared.modals.quick-help.details")," "))},directives:[Nt],pipes:[Gt],styles:[".modal-header[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]{background:#e69308!important}.modal-body[_ngcontent-%COMP%]{background:#f5a623}.modal-header[_ngcontent-%COMP%]{color:#965419!important;font-weight:700}.modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{color:#49290c!important}.step[_ngcontent-%COMP%]{display:flex;color:#5f3816;margin-top:15px}.step[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;background:url(01-bet.825ca2bc7c7b97a6.svg) no-repeat right;background-size:40px 40px;min-width:65px;max-width:65px;height:40px;font-size:18px;font-weight:700}.step[_ngcontent-%COMP%]   .bullet.bullet-2[_ngcontent-%COMP%]{background:url(02-watch.ea80a7e88f9b36d2.svg) no-repeat right;background-size:40px 40px}.step[_ngcontent-%COMP%]   .bullet.bullet-3[_ngcontent-%COMP%]{background:url(03-cashout.a17abd692baf4849.svg) no-repeat right;background-size:40px 40px}.step[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding-left:15px;margin-bottom:0}.btn-link[_ngcontent-%COMP%]{color:#5f3816!important}.youtube[_ngcontent-%COMP%]{display:block;width:calc(100% + 2rem);margin-left:-1rem;margin-right:-1rem}"]}),n})();var Qy=(()=>(function(n){n.RealityCheck="reality_check"}(Qy||(Qy={})),Qy))(),bp=(()=>(function(n){n.Continue="CONTINUE",n.Stop="STOP"}(bp||(bp={})),bp))();function oPe(n,t){1&n&&(R(0,"p",7),U(1),j(2,"transloco"),D()),2&n&&(E(1),te(" ",W(2,1,"shared.modals.notification.alderney_message")," "))}function aPe(n,t){1&n&&fe(0,"p",8),2&n&&F("innerHTML",ne().params.message,Y1)}function lPe(n,t){if(1&n){const e=ft();R(0,"p",9)(1,"button",10),Te("click",function(){return ot(e),ne().onOpenAccountHistory()}),U(2),j(3,"transloco"),D()()}2&n&&(E(2),te(" ",W(3,1,"shared.modals.notification.account_history")," "))}function cPe(n,t){if(1&n){const e=ft();R(0,"div",11)(1,"button",12),Te("click",function(){ot(e);const r=ne();return r.onRealityCheck(r.realityCheckAction.Continue)}),U(2),j(3,"transloco"),D(),R(4,"button",13),Te("click",function(){ot(e);const r=ne();return r.onRealityCheck(r.realityCheckAction.Stop)}),U(5),j(6,"transloco"),D()()}2&n&&(E(2),te(" ",W(3,2,"shared.continue")," "),E(3),te(" ",W(6,4,"shared.stop")," "))}function uPe(n,t){if(1&n){const e=ft();R(0,"div",11)(1,"button",14),Te("click",function(){return ot(e),ne().activeModal.close()}),U(2),j(3,"transloco"),D()()}if(2&n){const e=ne();E(1),F("disabled",e.isAcknowledgeDisabled),E(1),te(" ",W(3,2,"shared.acknowledge")," ")}}let Sp=class{constructor(t,e,i,r,s,o,a,l){this.activeModal=t,this.connector=e,this.modal=i,this.frontEndProxyService=r,this.betControls=s,this.ifc=o,this.app=a,this.urlParams=l,this.realityCheckAction=bp,this.isAcknowledgeDisabled=!0}ngOnInit(){this.onInitIRC(),this.onInitAlderney()}onInitIRC(){this.isInternalRealityCheck&&this.betControls.cancelBets()}onInitAlderney(){this.isAlderney&&Qu(5e3).pipe(Ct(this)).subscribe(()=>this.isAcknowledgeDisabled=!1)}get isRCButtonsVisible(){return this.isRealityCheck||this.isInternalRealityCheck}get isRealityCheck(){return this.params.type===ed.RealityCheck}get isInternalRealityCheck(){return this.params.type===ed.InternalRealityCheck}get isAlderney(){return this.params.type===ed.Alderney}onRealityCheck(t){if(this.activeModal.close(),this.connector.request(Wi.NotificationCallback,{notificationType:Qy.RealityCheck,action:t}),t===bp.Stop&&(this.frontEndProxyService.sendClosed(),this.connector.shutdown(sa.RealityCheck),this.urlParams.returnUrl)){if(this.app.config.backToHomeActionType===Em.IfcEvent)return void this.frontEndProxyService.sendBackToHome(this.urlParams.returnUrl);window.open(this.urlParams.returnUrl,"_top")}}onOpenAccountHistory(){this.app.config.accountHistoryActionType===Cm.IfcEvent?this.ifc.send(hi.AccountHistory,{accountHistoryUrl:this.urlParams.accountHistoryUrl}):this.urlParams.accountHistoryUrl?window.open(this.urlParams.accountHistoryUrl,"_blank"):this.modal.open(Wn.myBetsHistory)}};Sp.\u0275fac=function(t){return new(t||Sp)(z(Mr),z(Bi),z(jo),z(lT),z(Su),z(Fo),z(ln),z(kl))},Sp.\u0275cmp=rt({type:Sp,selectors:[["app-notification-modal"]],inputs:{params:"params"},decls:10,vars:8,consts:[[1,"modal-header"],[1,"text-uppercase"],[1,"modal-body","modal-bottom-radius"],["class","text-center p-4",4,"ngIf"],["class","text-center p-4",3,"innerHTML",4,"ngIf"],["class","text-center",4,"ngIf"],["class","modal-footer d-flex justify-content-center",4,"ngIf"],[1,"text-center","p-4"],[1,"text-center","p-4",3,"innerHTML"],[1,"text-center"],[1,"btn","btn-secondary","btn-sm","px-4",3,"click"],[1,"modal-footer","d-flex","justify-content-center"],[1,"btn","btn-success","btn-sm","text-uppercase",3,"click"],[1,"btn","btn-danger","btn-sm","ml-1","text-uppercase",3,"click"],[1,"btn","btn-success","btn-sm","ml-1","text-uppercase",3,"disabled","click"]],template:function(t,e){1&t&&(R(0,"div",0)(1,"span",1),U(2),j(3,"transloco"),D()(),R(4,"div",2),K(5,oPe,3,3,"p",3),K(6,aPe,1,1,"p",4),K(7,lPe,4,3,"p",5),D(),K(8,cPe,7,6,"div",6),K(9,uPe,4,4,"div",6)),2&t&&(E(2),Ye(W(3,6,"shared.notification")),E(3),F("ngIf",e.isAlderney),E(1),F("ngIf",e.isRCButtonsVisible),E(1),F("ngIf",e.isRCButtonsVisible),E(1),F("ngIf",e.isRCButtonsVisible),E(1),F("ngIf",e.isAlderney))},directives:[Nt],pipes:[Gt],styles:[".progress[_ngcontent-%COMP%]{width:160px;height:4px;border-radius:2px;background-color:#262830;margin:0 auto}.progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{width:100%;height:4px;border-radius:2px;transition-property:transform;transition-timing-function:linear}.progress[_ngcontent-%COMP%]   .bg-danger[_ngcontent-%COMP%]{background-color:#e50539!important;box-shadow:0 2px 4px #d0021b}.modal-body[_ngcontent-%COMP%]{white-space:pre-wrap}"]}),Sp=Ke([Qn()],Sp);let Rm=(()=>{class n{constructor(){this.isMessageSendingBlockedSubject=new On(!1),this.isMessageSendingBlocked$=this.isMessageSendingBlockedSubject.asObservable()}set isMessageSendingBlocked(e){this.isMessageSendingBlockedSubject.next(e)}get isMessageSendingBlocked(){return this.isMessageSendingBlockedSubject.value}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Cp=(()=>(function(n){n.Player="PLAYER",n.Moderator="MODERATOR",n.Bot="BOT",n.Server="SERVER"}(Cp||(Cp={})),Cp))(),Bl=(()=>(function(n){n.Ban="BAN",n.ShareBet="SHARE_BET",n.Rain="RAIN",n.Gif="GIF",n.Text="TEXT",n.Restricted="RESTRICTED"}(Bl||(Bl={})),Bl))(),Pi=(()=>(function(n){n.Init="/user/queue/init",n.BalanceUpdate="/user/queue/balance.update",n.ChallengesInit="/user/queue/challenges.init",n.Join="/app/challenges.join",n.TakePrize="/app/challenges.take.prize",n.Leaderboard="/user/queue/challenges.leaderboard",n.ChallengesAnnounce="/user/queue/challenges.announce",n.ChallengeStatus="/user/queue/challenges.status",n.PlayerStatus="/user/queue/challenges.player.status",n.Prize="/user/queue/challenges.prize.left",n.Progress="/user/queue/challenges.progress",n.JoinCount="/user/queue/challenges.join.count",n.ChatInit="/user/queue/chat.init",n.GifsSearch="/user/queue/chat.gifs.search",n.MessageSend="/user/queue/chat.message.send",n.RainClaim="/user/queue/chat.rain.claim",n.MessageLike="/user/queue/chat.message.like",n.MessageUnlike="/user/queue/chat.message.unlike",n.MessageAdd="/user/queue/chat.message.add",n.MessageDelete="/user/queue/chat.message.delete",n.PlayersOnline="/user/queue/chat.players.online"}(Pi||(Pi={})),Pi))(),yo=(()=>(function(n){n.Init="/app/init",n.ChallengeInit="/app/challenges.init",n.Join="/app/challenges.join",n.TakePrize="/app/challenges.take.prize",n.Leaderboard="/app/challenges.leaderboard",n.ChatInit="/app/chat.init",n.MessageSend="/app/chat.message.send",n.MessageLike="/app/chat.message.like",n.MessageUnlike="/app/chat.message.unlike",n.GifsSearch="/app/chat.gifs.search",n.RainClaim="/app/chat.rain.claim"}(yo||(yo={})),yo))();const OW=["Chat access is restricted for players with balance below {amount} {currency}.","Chat access is restricted for players with wager amount over the last {duration} days below {amount} {currency}.","Chat access is restricted for players whose account has been active for less than {duration} days.","Message blocked for breaking chat rules. Further violations may result in a ban.","You have been banned from chat. Reason: {reason}.","You have been banned from chat until {date}. Reason: {reason}."];var hPe=A(209),fPe=A.n(hPe);function PW(n,t,e,i,r,s,o){try{var a=n[s](o),l=a.value}catch(c){return void e(c)}a.done?t(l):Promise.resolve(l).then(i,r)}function xW(n){return function(){var t=this,e=arguments;return new Promise(function(i,r){var s=n.apply(t,e);function o(l){PW(s,i,r,o,a,"next",l)}function a(l){PW(s,i,r,o,a,"throw",l)}o(void 0)})}}const eb_LF="\n",eb_NULL="\0";class Sh{constructor(t){const{command:e,headers:i,body:r,binaryBody:s,escapeHeaderValues:o,skipContentLengthHeader:a}=t;this.command=e,this.headers=Object.assign({},i||{}),s?(this._binaryBody=s,this.isBinaryBody=!0):(this._body=r||"",this.isBinaryBody=!1),this.escapeHeaderValues=o||!1,this.skipContentLengthHeader=a||!1}get body(){return!this._body&&this.isBinaryBody&&(this._body=(new TextDecoder).decode(this._binaryBody)),this._body||""}get binaryBody(){return!this._binaryBody&&!this.isBinaryBody&&(this._binaryBody=(new TextEncoder).encode(this._body)),this._binaryBody}static fromRawFrame(t,e){const i={},r=s=>s.replace(/^\s+|\s+$/g,"");for(const s of t.headers.reverse()){s.indexOf(":");const a=r(s[0]);let l=r(s[1]);e&&"CONNECT"!==t.command&&"CONNECTED"!==t.command&&(l=Sh.hdrValueUnEscape(l)),i[a]=l}return new Sh({command:t.command,headers:i,binaryBody:t.binaryBody,escapeHeaderValues:e})}toString(){return this.serializeCmdAndHeaders()}serialize(){const t=this.serializeCmdAndHeaders();return this.isBinaryBody?Sh.toUnit8Array(t,this._binaryBody).buffer:t+this._body+eb_NULL}serializeCmdAndHeaders(){const t=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(const e of Object.keys(this.headers||{})){const i=this.headers[e];t.push(this.escapeHeaderValues&&"CONNECT"!==this.command&&"CONNECTED"!==this.command?`${e}:${Sh.hdrValueEscape(`${i}`)}`:`${e}:${i}`)}return(this.isBinaryBody||!this.isBodyEmpty()&&!this.skipContentLengthHeader)&&t.push(`content-length:${this.bodyLength()}`),t.join(eb_LF)+eb_LF+eb_LF}isBodyEmpty(){return 0===this.bodyLength()}bodyLength(){const t=this.binaryBody;return t?t.length:0}static sizeOfUTF8(t){return t?(new TextEncoder).encode(t).length:0}static toUnit8Array(t,e){const i=(new TextEncoder).encode(t),r=new Uint8Array([0]),s=new Uint8Array(i.length+e.length+r.length);return s.set(i),s.set(e,i.length),s.set(r,i.length+e.length),s}static marshall(t){return new Sh(t).serialize()}static hdrValueEscape(t){return t.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")}static hdrValueUnEscape(t){return t.replace(/\\r/g,"\r").replace(/\\n/g,"\n").replace(/\\c/g,":").replace(/\\\\/g,"\\")}}class gPe{constructor(t,e){this.onFrame=t,this.onIncomingPing=e,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}parseChunk(t,e=!1){let i;if(i="string"==typeof t?this._encoder.encode(t):new Uint8Array(t),e&&0!==i[i.length-1]){const r=new Uint8Array(i.length+1);r.set(i,0),r[i.length]=0,i=r}for(let r=0;r<i.length;r++)this._onByte(i[r])}_collectFrame(t){if(0!==t&&13!==t){if(10===t)return void this.onIncomingPing();this._onByte=this._collectCommand,this._reinjectByte(t)}}_collectCommand(t){if(13!==t){if(10===t)return this._results.command=this._consumeTokenAsUTF8(),void(this._onByte=this._collectHeaders);this._consumeByte(t)}}_collectHeaders(t){if(13!==t){if(10===t)return void this._setupCollectBody();this._onByte=this._collectHeaderKey,this._reinjectByte(t)}}_reinjectByte(t){this._onByte(t)}_collectHeaderKey(t){if(58===t)return this._headerKey=this._consumeTokenAsUTF8(),void(this._onByte=this._collectHeaderValue);this._consumeByte(t)}_collectHeaderValue(t){if(13!==t){if(10===t)return this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,void(this._onByte=this._collectHeaders);this._consumeByte(t)}}_setupCollectBody(){const t=this._results.headers.filter(e=>"content-length"===e[0])[0];t?(this._bodyBytesRemaining=parseInt(t[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated}_collectBodyNullTerminated(t){0!==t?this._consumeByte(t):this._retrievedBody()}_collectBodyFixedSize(t){0!=this._bodyBytesRemaining--?this._consumeByte(t):this._retrievedBody()}_retrievedBody(){this._results.binaryBody=this._consumeTokenAsRaw();try{this.onFrame(this._results)}catch(t){console.log("Ignoring an exception thrown by a frame handler. Original exception: ",t)}this._initState()}_consumeByte(t){this._token.push(t)}_consumeTokenAsUTF8(){return this._decoder.decode(this._consumeTokenAsRaw())}_consumeTokenAsRaw(){const t=new Uint8Array(this._token);return this._token=[],t}_initState(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame}}var gd,Ul;!function(n){n[n.CONNECTING=0]="CONNECTING",n[n.OPEN=1]="OPEN",n[n.CLOSING=2]="CLOSING",n[n.CLOSED=3]="CLOSED"}(gd=gd||(gd={})),function(n){n[n.ACTIVE=0]="ACTIVE",n[n.DEACTIVATING=1]="DEACTIVATING",n[n.INACTIVE=2]="INACTIVE"}(Ul=Ul||(Ul={}));class ma{constructor(t){this.versions=t}supportedVersions(){return this.versions.join(",")}protocolVersions(){return this.versions.map(t=>`v${t.replace(".","")}.stomp`)}}ma.V1_0="1.0",ma.V1_1="1.1",ma.V1_2="1.2",ma.default=new ma([ma.V1_2,ma.V1_1,ma.V1_0]);class mPe{constructor(t,e,i){this._client=t,this._webSocket=e,this._connected=!1,this._serverFrameHandlers={CONNECTED:r=>{this.debug(`connected to server ${r.headers.server}`),this._connected=!0,this._connectedVersion=r.headers.version,this._connectedVersion===ma.V1_2&&(this._escapeHeaderValues=!0),this._setupHeartbeat(r.headers),this.onConnect(r)},MESSAGE:r=>{const s=r.headers.subscription,o=this._subscriptions[s]||this.onUnhandledMessage,a=r,l=this,c=this._connectedVersion===ma.V1_2?a.headers.ack:a.headers["message-id"];a.ack=(u={})=>l.ack(c,s,u),a.nack=(u={})=>l.nack(c,s,u),o(a)},RECEIPT:r=>{const s=this._receiptWatchers[r.headers["receipt-id"]];s?(s(r),delete this._receiptWatchers[r.headers["receipt-id"]]):this.onUnhandledReceipt(r)},ERROR:r=>{this.onStompError(r)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.debug=i.debug,this.stompVersions=i.stompVersions,this.connectHeaders=i.connectHeaders,this.disconnectHeaders=i.disconnectHeaders,this.heartbeatIncoming=i.heartbeatIncoming,this.heartbeatOutgoing=i.heartbeatOutgoing,this.splitLargeFrames=i.splitLargeFrames,this.maxWebSocketChunkSize=i.maxWebSocketChunkSize,this.forceBinaryWSFrames=i.forceBinaryWSFrames,this.logRawCommunication=i.logRawCommunication,this.appendMissingNULLonIncoming=i.appendMissingNULLonIncoming,this.discardWebsocketOnCommFailure=i.discardWebsocketOnCommFailure,this.onConnect=i.onConnect,this.onDisconnect=i.onDisconnect,this.onStompError=i.onStompError,this.onWebSocketClose=i.onWebSocketClose,this.onWebSocketError=i.onWebSocketError,this.onUnhandledMessage=i.onUnhandledMessage,this.onUnhandledReceipt=i.onUnhandledReceipt,this.onUnhandledFrame=i.onUnhandledFrame}get connectedVersion(){return this._connectedVersion}get connected(){return this._connected}start(){const t=new gPe(e=>{const i=Sh.fromRawFrame(e,this._escapeHeaderValues);this.logRawCommunication||this.debug(`<<< ${i}`),(this._serverFrameHandlers[i.command]||this.onUnhandledFrame)(i)},()=>{this.debug("<<< PONG")});this._webSocket.onmessage=e=>{if(this.debug("Received data"),this._lastServerActivityTS=Date.now(),this.logRawCommunication){const i=e.data instanceof ArrayBuffer?(new TextDecoder).decode(e.data):e.data;this.debug(`<<< ${i}`)}t.parseChunk(e.data,this.appendMissingNULLonIncoming)},this._webSocket.onclose=e=>{this.debug(`Connection closed to ${this._webSocket.url}`),this._cleanUp(),this.onWebSocketClose(e)},this._webSocket.onerror=e=>{this.onWebSocketError(e)},this._webSocket.onopen=()=>{const e=Object.assign({},this.connectHeaders);this.debug("Web Socket Opened..."),e["accept-version"]=this.stompVersions.supportedVersions(),e["heart-beat"]=[this.heartbeatOutgoing,this.heartbeatIncoming].join(","),this._transmit({command:"CONNECT",headers:e})}}_setupHeartbeat(t){if(t.version!==ma.V1_1&&t.version!==ma.V1_2||!t["heart-beat"])return;const[e,i]=t["heart-beat"].split(",").map(r=>parseInt(r,10));if(0!==this.heartbeatOutgoing&&0!==i){const r=Math.max(this.heartbeatOutgoing,i);this.debug(`send PING every ${r}ms`),this._pinger=setInterval(()=>{this._webSocket.readyState===gd.OPEN&&(this._webSocket.send(eb_LF),this.debug(">>> PING"))},r)}if(0!==this.heartbeatIncoming&&0!==e){const r=Math.max(this.heartbeatIncoming,e);this.debug(`check PONG every ${r}ms`),this._ponger=setInterval(()=>{const s=Date.now()-this._lastServerActivityTS;s>2*r&&(this.debug(`did not receive server activity for the last ${s}ms`),this._closeOrDiscardWebsocket())},r)}}_closeOrDiscardWebsocket(){this.discardWebsocketOnCommFailure?(this.debug("Discarding websocket, the underlying socket may linger for a while"),this.discardWebsocket()):(this.debug("Issuing close on the websocket"),this._closeWebsocket())}forceDisconnect(){this._webSocket&&(this._webSocket.readyState===gd.CONNECTING||this._webSocket.readyState===gd.OPEN)&&this._closeOrDiscardWebsocket()}_closeWebsocket(){this._webSocket.onmessage=()=>{},this._webSocket.close()}discardWebsocket(){"function"!=typeof this._webSocket.terminate&&function _Pe(n,t){n.terminate=function(){const e=()=>{};this.onerror=e,this.onmessage=e,this.onopen=e;const i=new Date,r=Math.random().toString().substring(2,8),s=this.onclose;this.onclose=o=>{const a=(new Date).getTime()-i.getTime();t(`Discarded socket (#${r})  closed after ${a}ms, with code/reason: ${o.code}/${o.reason}`)},this.close(),null==s||s.call(n,{code:4001,reason:`Quick discarding socket (#${r}) without waiting for the shutdown sequence.`,wasClean:!1})}}(this._webSocket,t=>this.debug(t)),this._webSocket.terminate()}_transmit(t){const{command:e,headers:i,body:r,binaryBody:s,skipContentLengthHeader:o}=t,a=new Sh({command:e,headers:i,body:r,binaryBody:s,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:o});let l=a.serialize();if(this.debug(this.logRawCommunication?`>>> ${l}`:`>>> ${a}`),this.forceBinaryWSFrames&&"string"==typeof l&&(l=(new TextEncoder).encode(l)),"string"==typeof l&&this.splitLargeFrames){let c=l;for(;c.length>0;){const u=c.substring(0,this.maxWebSocketChunkSize);c=c.substring(this.maxWebSocketChunkSize),this._webSocket.send(u),this.debug(`chunk sent = ${u.length}, remaining = ${c.length}`)}}else this._webSocket.send(l)}dispose(){if(this.connected)try{const t=Object.assign({},this.disconnectHeaders);t.receipt||(t.receipt="close-"+this._counter++),this.watchForReceipt(t.receipt,e=>{this._closeWebsocket(),this._cleanUp(),this.onDisconnect(e)}),this._transmit({command:"DISCONNECT",headers:t})}catch(t){this.debug(`Ignoring error during disconnect ${t}`)}else(this._webSocket.readyState===gd.CONNECTING||this._webSocket.readyState===gd.OPEN)&&this._closeWebsocket()}_cleanUp(){this._connected=!1,this._pinger&&(clearInterval(this._pinger),this._pinger=void 0),this._ponger&&(clearInterval(this._ponger),this._ponger=void 0)}publish(t){const{destination:e,headers:i,body:r,binaryBody:s,skipContentLengthHeader:o}=t,a=Object.assign({destination:e},i);this._transmit({command:"SEND",headers:a,body:r,binaryBody:s,skipContentLengthHeader:o})}watchForReceipt(t,e){this._receiptWatchers[t]=e}subscribe(t,e,i={}){(i=Object.assign({},i)).id||(i.id="sub-"+this._counter++),i.destination=t,this._subscriptions[i.id]=e,this._transmit({command:"SUBSCRIBE",headers:i});const r=this;return{id:i.id,unsubscribe:s=>r.unsubscribe(i.id,s)}}unsubscribe(t,e={}){e=Object.assign({},e),delete this._subscriptions[t],e.id=t,this._transmit({command:"UNSUBSCRIBE",headers:e})}begin(t){const e=t||"tx-"+this._counter++;this._transmit({command:"BEGIN",headers:{transaction:e}});const i=this;return{id:e,commit(){i.commit(e)},abort(){i.abort(e)}}}commit(t){this._transmit({command:"COMMIT",headers:{transaction:t}})}abort(t){this._transmit({command:"ABORT",headers:{transaction:t}})}ack(t,e,i={}){i=Object.assign({},i),this._connectedVersion===ma.V1_2?i.id=t:i["message-id"]=t,i.subscription=e,this._transmit({command:"ACK",headers:i})}nack(t,e,i={}){return i=Object.assign({},i),this._connectedVersion===ma.V1_2?i.id=t:i["message-id"]=t,i.subscription=e,this._transmit({command:"NACK",headers:i})}}class vPe{constructor(t={}){this.stompVersions=ma.default,this.connectionTimeout=0,this.reconnectDelay=5e3,this.heartbeatIncoming=1e4,this.heartbeatOutgoing=1e4,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8192,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this.discardWebsocketOnCommFailure=!1,this.state=Ul.INACTIVE;const e=()=>{};this.debug=e,this.beforeConnect=e,this.onConnect=e,this.onDisconnect=e,this.onUnhandledMessage=e,this.onUnhandledReceipt=e,this.onUnhandledFrame=e,this.onStompError=e,this.onWebSocketClose=e,this.onWebSocketError=e,this.logRawCommunication=!1,this.onChangeState=e,this.connectHeaders={},this._disconnectHeaders={},this.configure(t)}get webSocket(){var t;return null==(t=this._stompHandler)?void 0:t._webSocket}get disconnectHeaders(){return this._disconnectHeaders}set disconnectHeaders(t){this._disconnectHeaders=t,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)}get connected(){return!!this._stompHandler&&this._stompHandler.connected}get connectedVersion(){return this._stompHandler?this._stompHandler.connectedVersion:void 0}get active(){return this.state===Ul.ACTIVE}_changeState(t){this.state=t,this.onChangeState(t)}configure(t){Object.assign(this,t)}activate(){const t=()=>{this.active?this.debug("Already ACTIVE, ignoring request to activate"):(this._changeState(Ul.ACTIVE),this._connect())};this.state===Ul.DEACTIVATING?(this.debug("Waiting for deactivation to finish before activating"),this.deactivate().then(()=>{t()})):t()}_connect(){var t=this;return xW(function*(){if(yield t.beforeConnect(),t._stompHandler)return void t.debug("There is already a stompHandler, skipping the call to connect");if(!t.active)return void t.debug("Client has been marked inactive, will not attempt to connect");t.connectionTimeout>0&&(t._connectionWatcher&&clearTimeout(t._connectionWatcher),t._connectionWatcher=setTimeout(()=>{t.connected||(t.debug(`Connection not established in ${t.connectionTimeout}ms, closing socket`),t.forceDisconnect())},t.connectionTimeout)),t.debug("Opening Web Socket...");const e=t._createWebSocket();t._stompHandler=new mPe(t,e,{debug:t.debug,stompVersions:t.stompVersions,connectHeaders:t.connectHeaders,disconnectHeaders:t._disconnectHeaders,heartbeatIncoming:t.heartbeatIncoming,heartbeatOutgoing:t.heartbeatOutgoing,splitLargeFrames:t.splitLargeFrames,maxWebSocketChunkSize:t.maxWebSocketChunkSize,forceBinaryWSFrames:t.forceBinaryWSFrames,logRawCommunication:t.logRawCommunication,appendMissingNULLonIncoming:t.appendMissingNULLonIncoming,discardWebsocketOnCommFailure:t.discardWebsocketOnCommFailure,onConnect:i=>{if(t._connectionWatcher&&(clearTimeout(t._connectionWatcher),t._connectionWatcher=void 0),!t.active)return t.debug("STOMP got connected while deactivate was issued, will disconnect now"),void t._disposeStompHandler();t.onConnect(i)},onDisconnect:i=>{t.onDisconnect(i)},onStompError:i=>{t.onStompError(i)},onWebSocketClose:i=>{t._stompHandler=void 0,t.state===Ul.DEACTIVATING&&t._changeState(Ul.INACTIVE),t.onWebSocketClose(i),t.active&&t._schedule_reconnect()},onWebSocketError:i=>{t.onWebSocketError(i)},onUnhandledMessage:i=>{t.onUnhandledMessage(i)},onUnhandledReceipt:i=>{t.onUnhandledReceipt(i)},onUnhandledFrame:i=>{t.onUnhandledFrame(i)}}),t._stompHandler.start()})()}_createWebSocket(){let t;if(this.webSocketFactory)t=this.webSocketFactory();else{if(!this.brokerURL)throw new Error("Either brokerURL or webSocketFactory must be provided");t=new WebSocket(this.brokerURL,this.stompVersions.protocolVersions())}return t.binaryType="arraybuffer",t}_schedule_reconnect(){this.reconnectDelay>0&&(this.debug(`STOMP: scheduling reconnection in ${this.reconnectDelay}ms`),this._reconnector=setTimeout(()=>{this._connect()},this.reconnectDelay))}deactivate(t={}){var e=this;return xW(function*(){var o;const i=t.force||!1,r=e.active;let s;if(e.state===Ul.INACTIVE)return e.debug("Already INACTIVE, nothing more to do"),Promise.resolve();if(e._changeState(Ul.DEACTIVATING),e._reconnector&&(clearTimeout(e._reconnector),e._reconnector=void 0),!e._stompHandler||e.webSocket.readyState===gd.CLOSED)return e._changeState(Ul.INACTIVE),Promise.resolve();{const a=e._stompHandler.onWebSocketClose;s=new Promise((l,c)=>{e._stompHandler.onWebSocketClose=u=>{a(u),l()}})}return i?null==(o=e._stompHandler)||o.discardWebsocket():r&&e._disposeStompHandler(),s})()}forceDisconnect(){this._stompHandler&&this._stompHandler.forceDisconnect()}_disposeStompHandler(){this._stompHandler&&this._stompHandler.dispose()}publish(t){this._checkConnection(),this._stompHandler.publish(t)}_checkConnection(){if(!this.connected)throw new TypeError("There is no underlying STOMP connection")}watchForReceipt(t,e){this._checkConnection(),this._stompHandler.watchForReceipt(t,e)}subscribe(t,e,i={}){return this._checkConnection(),this._stompHandler.subscribe(t,e,i)}unsubscribe(t,e={}){this._checkConnection(),this._stompHandler.unsubscribe(t,e)}begin(t){return this._checkConnection(),this._stompHandler.begin(t)}commit(t){this._checkConnection(),this._stompHandler.commit(t)}abort(t){this._checkConnection(),this._stompHandler.abort(t)}ack(t,e,i={}){this._checkConnection(),this._stompHandler.ack(t,e,i)}nack(t,e,i={}){this._checkConnection(),this._stompHandler.nack(t,e,i)}}var Ra=(()=>(function(n){n.None="none",n.Connected="connected",n.Reconnecting="reconnecting",n.Disconnected="disconnected"}(Ra||(Ra={})),Ra))(),RT=(()=>(function(n){n[n.PolicyViolation=1008]="PolicyViolation"}(RT||(RT={})),RT))();let Da=(()=>{class n{constructor(e){this.message=e,this.responseSubject=new PR(1),this.stateSubject=new On({state:Ra.None}),this.state$=this.stateSubject.asObservable().pipe(gr(i=>function f_e(n){Ks({type:"ws",level:"info",category:"ws.et.state",message:n.state})}(i))),this.maxReconnectCount=3,this.reconnectCount=0}response(e){return this.responseSubject.pipe(Bt(i=>i.response===e),Ie(i=>i.data))}request(e,i){(function h_e(n,t){Ks({type:"ws",level:"info",category:"ws.et.send",data:{action:n,data:t}})})(e,i),console.log("%c[ Stomp REQUEST] "+e,"background: #222; color: #caa817",i),this.stompClient.publish({destination:e,body:JSON.stringify(i)})}init(e,i,r){var s;(null===(s=this.stompClient)||void 0===s?void 0:s.active)&&this.stompClient.deactivate(),console.log({host:e}),this.stompClient=new vPe({heartbeatIncoming:2e4,heartbeatOutgoing:1e4,reconnectDelay:3e3}),this.stompClient.webSocketFactory=()=>new(fPe())(`${e}/?${new URLSearchParams(i).toString()}`,null,{transports:"websocket",timeout:8e3}),this.stompClient.beforeConnect=()=>{if(this.reconnectCount>=this.maxReconnectCount)return this.stompClient.deactivate(),void this.stateSubject.next({state:Ra.Disconnected});this.incrementReconnectCount()},this.stompClient.activate(),this.stompClient.onConnect=()=>{console.log("[ Stomp ] onConnect"),this.resetReconnectCount(),this.stateSubject.next({state:Ra.Connected}),r.forEach(o=>{this.stompClient.subscribe(o,a=>{const l=JSON.parse(a.body);(function d_e(n,t){Ks({type:"ws",level:"info",category:"ws.et.receive",data:{action:n,data:t}})})(o,l),console.log("%c[ Stomp RESPONSE ] "+o,"background: #222; color: #bada55",l),this.responseSubject.next({response:o,data:l}),this.handleError(l)},{id:o})}),this.request(yo.Init,null)},this.stompClient.onWebSocketClose=o=>(console.log("[ Stomp ] onWebSocketClose",o),this.stateSubject.getValue().state===Ra.None||o.code===RT.PolicyViolation?(this.stompClient.deactivate(),void this.stateSubject.next({state:Ra.Disconnected})):void this.stateSubject.next({state:Ra.Reconnecting})),this.stompClient.onDisconnect=o=>{console.log("[ Stomp ] onDisconnect",o),this.stateSubject.next({state:Ra.Disconnected})}}handleError(e){var i;"object"==typeof e&&"code"in e&&200!==e.code&&!OW.includes(null!==(i=e.errorMessage)&&void 0!==i?i:"")&&this.message.add({value:e.errorMessage,errorMessageParams:"errorMessageParams"in e?e.errorMessageParams:{},context:Tr.danger})}incrementReconnectCount(){this.reconnectCount++}resetReconnectCount(){this.reconnectCount=0}}return n.\u0275fac=function(e){return new(e||n)(je(Fl))},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tb=(()=>{class n{constructor(){this.restrictionConfig={isChatMinimumBalanceCheckEnabled:!1,isChatMinimumLifetimeCheckEnabled:!1,isChatMinimumWagerCheckEnabled:!1,minBalanceInPlayerCurrency:0,minWagerInPlayerCurrency:0,minWagerPeriodInDays:0,minLifetimePeriodInDays:0},this.isFreeBetsEnabled=!1,this.maxMessageLength=0,this.maxMessages=0,this.sendMessageDelay=0,this.rainConfig=void 0,this.topGifs=void 0}init(e){Object.assign(this,e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})(),nb=(()=>{class n{constructor(e){this.zone=e,this.newMessagesAddedSubject=new On(!1),this.newMessagesAdded$=this.newMessagesAddedSubject.asObservable()}set scrollNativeElement(e){this._scrollNativeElement=e,wi(this._scrollNativeElement,"scroll").pipe(ua(500)).subscribe(()=>{this.newMessagesAddedSubject.getValue()&&this.newMessagesAddedSubject.next(!this.isScrollAtBottom)})}onScrollToBottom(){this.newMessagesAddedSubject.next(!1),this.scrollToBottom()}keepUpScroll(){this.isScrollAtBottom?(this.newMessagesAddedSubject.next(!1),this.scrollToBottom()):this.newMessagesAddedSubject.next(!0)}scrollToBottom(e=0){this._scrollNativeElement&&this.zone.runOutsideAngular(()=>{setTimeout(()=>{this._scrollNativeElement.scrollTop=this._scrollNativeElement.scrollHeight},e)})}get isScrollAtBottom(){var e,i,r;return!this._scrollNativeElement||Math.abs((null===(e=this._scrollNativeElement)||void 0===e?void 0:e.scrollHeight)-(null===(i=this._scrollNativeElement)||void 0===i?void 0:i.clientHeight)-(null===(r=this._scrollNativeElement)||void 0===r?void 0:r.scrollTop))<=1}}return n.\u0275fac=function(e){return new(e||n)(je(Zn))},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})(),Ep=(()=>{class n{constructor(e,i,r,s,o,a){this.chatFeatureService=e,this.stomp=i,this.bsMessage=r,this.chatConfig=s,this.scrollService=o,this.antiSpamService=a,this._messagesSubject=new On([]),this.messages$=this._messagesSubject.asObservable(),this.stomp.response(Pi.ChatInit).pipe(Bt(l=>200===l.code)).subscribe(l=>this.onInit(l)),this.stomp.response(Pi.MessageAdd).subscribe(l=>this.onMessageAdd(l)),this.stomp.response(Pi.MessageDelete).subscribe(l=>this.onMessageDelete(l.messageIds)),this.stomp.response(Pi.MessageSend).subscribe(l=>this.onMessageSend(l))}get messages(){return this._messagesSubject.getValue()}onInit(e){this.playerId=e.playerId,this.chatConfig.init(Object.assign({},e.config)),this._messagesSubject.next(function dPe(n,t){return n.slice(Math.max(n.length-t,0))}(e.messages,this.chatConfig.maxMessages))}sendMessage(e){this.antiSpamService.isMessageSendingBlocked=!0,this.stomp.request(yo.MessageSend,e)}shareBet(e,i,r=this.playerId){this.sendMessage({type:Bl.ShareBet,betId:e,betOwnerId:r,roundId:i,text:""})}onMessageAdd(e){this.addMessageToChat(e),!this.chatFeatureService.isOpen&&e.type===Bl.Rain&&this.notifyAboutRain()}onMessageDelete(e){this._messagesSubject.next(this.messages.filter(i=>!e.includes(i.id)))}onMessageSend(e){if(OW.includes(e.errorMessage)){const i={id:Date.now(),text:e.errorMessage,params:e.errorMessageParams,type:Bl.Restricted,senderType:Cp.Moderator};this.addMessageToChat(i)}}notifyAboutRain(){this.bsMessage.add({value:"rain-has-been-dropped",lifeTime:5e3,context:Tr.success,callback:()=>{setTimeout(()=>{this.chatFeatureService.isOpen=!0},300)}})}addMessageToChat(e){const i=[...this.messages,e].slice(-this.chatConfig.maxMessages);this._messagesSubject.next(i),this.scrollService.keepUpScroll()}}return n.\u0275fac=function(e){return new(e||n)(je(il),je(Da),je(Fl),je(tb),je(nb),je(Rm))},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})();function yPe(n,t){if(1&n&&(R(0,"div",2),U(1),D()),2&n){const e=ne();E(1),Ye(e.freeBetLabel)}}const bPe=function(n){return{"long-precision":n}};function SPe(n,t){if(1&n&&(R(0,"div",3),U(1),j(2,"currencyPrecision"),D()),2&n){const e=ne();F("ngClass",di(4,bPe,e.app.isLongPrecision)),E(1),te(" ",W(2,2,e.amount),"\n")}}let Dm=(()=>{class n{constructor(e){this.app=e}get freeBetLabel(){return this.app.isBrandAdjarabet?"AVIA BET":"FREE BET"}}return n.\u0275fac=function(e){return new(e||n)(z(ln))},n.\u0275cmp=rt({type:n,selectors:[["app-bet-amount"]],inputs:{amount:"amount",isFreeBet:"isFreeBet"},decls:2,vars:2,consts:[["class","free-bet",4,"ngIf"],[3,"ngClass",4,"ngIf"],[1,"free-bet"],[3,"ngClass"]],template:function(e,i){1&e&&(K(0,yPe,2,1,"div",0),K(1,SPe,3,6,"div",1)),2&e&&(F("ngIf",i.isFreeBet),E(1),F("ngIf",!i.isFreeBet))},directives:[Nt,ys],pipes:[Xn],styles:[".free-bet[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;padding:1px 7px;font-size:10px;color:#f5a623;border:solid 1px #f5a623;border-radius:11px}.long-precision[_ngcontent-%COMP%]{font-size:12px}"]}),n})();function CPe(n,t){if(1&n&&(R(0,"div",13),U(1),j(2,"currencyPrecision"),D()),2&n){const e=ne();E(1),te(" ",W(2,1,e.bet.startBalance)," ")}}function EPe(n,t){if(1&n&&(R(0,"div",14),U(1),D()),2&n){const e=ne();E(1),te(" ",e.bet.betId," ")}}function TPe(n,t){if(1&n&&(R(0,"span"),U(1),j(2,"currencyPrecision"),D()),2&n){const e=ne();E(1),te(" ",W(2,1,e.bet.winAmount),"")}}const wPe=function(n){return{disabled:n}};let MPe=(()=>{class n{constructor(e,i,r,s,o,a){this.app=e,this.chatAntiSpamService=i,this.main=r,this.chatFeatureService=s,this.oldChat=o,this.chatMessageService=a}onShareBet(e,i){var r;(null===(r=this.app.config.engagementTools)||void 0===r?void 0:r.isExternalChatEnabled)?this.chatMessageService.shareBet(e,i):this.oldChat.shareBet(e,i)}}return n.\u0275fac=function(e){return new(e||n)(z(ln),z(Rm),z(Zi),z(il),z(hd),z(Ep))},n.\u0275cmp=rt({type:n,selectors:[["app-bet-item"]],inputs:{bet:"bet"},decls:20,vars:25,consts:[[1,"bet-item","d-flex","align-items-center"],[1,"date","pl-1"],["class","start-balance pl-2",4,"ngIf"],[1,"bet","d-flex"],["class","bet-id",4,"ngIf"],[3,"amount","isFreeBet"],[1,"multiplier","d-flex","align-items-center","pl-2"],[3,"multiplier"],[1,"cash-out","pr-2"],[4,"ngIf"],[1,"d-flex","align-items-center","tools","pr-1"],[1,"fairness-i","disabled-on-game-focused",3,"click"],[1,"share-i","ml-1",3,"ngClass","click"],[1,"start-balance","pl-2"],[1,"bet-id"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1)(2,"div"),U(3),j(4,"date"),D(),R(5,"div"),U(6),j(7,"date"),D()(),K(8,CPe,3,3,"div",2),R(9,"div",3),K(10,EPe,2,1,"div",4),fe(11,"app-bet-amount",5),D(),R(12,"div",6),fe(13,"app-bubble-multiplier",7),D(),R(14,"div",8),K(15,TPe,3,3,"span",9),D(),R(16,"div",10)(17,"div",11),Te("click",function(){return i.main.checkFairness(i.bet.roundId)}),D(),R(18,"div",12),Te("click",function(){return i.onShareBet(i.bet.roundBetId,i.bet.roundId)}),j(19,"async"),D()()()),2&e&&(wt("long-precision",i.app.isLongPrecision)("celebrated",i.bet.winAmount),E(3),Ye(Ut(4,15,i.bet.cashOutDate,"HH:mm")),E(3),Ye(Ut(7,18,i.bet.cashOutDate,"dd-MM-yy")),E(2),F("ngIf",i.app.config.isBetsHistoryStartBalanceEnabled),E(2),F("ngIf",i.app.config.isShowBetControlNumber),E(1),F("amount",i.bet.bet)("isFreeBet",i.bet.isFreeBet),E(2),F("multiplier",i.bet.payout||i.bet.maxMultiplier),E(2),F("ngIf",i.bet.winAmount),E(1),wt("disabled",!i.main.canCheckFairness(i.bet.roundId)),E(2),F("ngClass",di(23,wPe,!i.chatFeatureService.isChatEnabled||W(19,21,i.chatAntiSpamService.isMessageSendingBlocked$))))},directives:[Nt,Dm,Dc,ys],pipes:[Oa,Xn,Pr],styles:[".bet-item[_ngcontent-%COMP%]{height:34px;margin-top:2px;border-radius:8px;background-color:#101112;border:solid 1px #101112;font-size:14px;color:#fff}.bet-item.celebrated[_ngcontent-%COMP%]{border-color:#427f00;background-color:#123405}.bet-item.celebrated[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{opacity:1}.bet-item.long-precision[_ngcontent-%COMP%]{font-size:12px}.bet-item[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{min-width:62px;max-width:62px;font-size:12px;color:#bbbfc5;line-height:1}.bet-item[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{min-width:28%;opacity:.5;justify-content:flex-end;white-space:nowrap}.bet-item[_ngcontent-%COMP%]   .multiplier[_ngcontent-%COMP%]{font-size:12px;min-width:18%}.bet-item[_ngcontent-%COMP%]   .cash-out[_ngcontent-%COMP%]{flex:1;text-align:right}.tools[_ngcontent-%COMP%]{min-width:40px;max-width:40px;height:40px}.tools[_ngcontent-%COMP%]   .fairness-i[_ngcontent-%COMP%]{background:url(icon-provabyfair.71eb97eaadfab595.svg) no-repeat center center/contain;width:14px;height:16px;cursor:pointer}.tools[_ngcontent-%COMP%]   .share-i[_ngcontent-%COMP%]{background:url(share.658297c40a9fcd66.svg) no-repeat center center/contain;width:16px;height:14px;cursor:pointer}.tools[_ngcontent-%COMP%]   .share-i.disabled[_ngcontent-%COMP%]{cursor:auto;pointer-events:none;opacity:.8}.tools.disabled[_ngcontent-%COMP%]{cursor:auto;pointer-events:none;opacity:.5}"]}),n})();function OPe(n,t){1&n&&fe(0,"app-bet-item",18),2&n&&F("bet",t.$implicit)}function PPe(n,t){if(1&n&&(R(0,"div",9)(1,"div",10)(2,"div",11),U(3),j(4,"transloco"),D(),R(5,"div",12),U(6),j(7,"transloco"),D(),R(8,"div",13),U(9,"X"),D(),R(10,"div",14),U(11),j(12,"transloco"),D(),fe(13,"div",15),D(),R(14,"div",16),at(15),K(16,OPe,1,1,"app-bet-item",17),lt(),D()()),2&n){const e=ne();E(3),te(" ",W(4,6,"game.bets-widget.date")," "),E(3),Un(" ",W(7,8,"shared.bet")," ",e.app.config.currency," "),E(5),Un(" ",W(12,10,"shared.cash_out")," ",e.app.config.currency," "),E(5),F("ngForOf",e.betHistory)}}function xPe(n,t){if(1&n&&(R(0,"th",23),U(1),D()),2&n){const e=ne(2).$implicit,i=ne();E(1),Un(" ",e("shared.Start_balance")," ",i.app.config.currency," ")}}function IPe(n,t){if(1&n&&(R(0,"th",23),U(1),D()),2&n){const e=ne(2).$implicit,i=ne();E(1),Un(" ",e("shared.End balance")," ",i.app.config.currency," ")}}function APe(n,t){if(1&n&&(R(0,"td")(1,"div",37),U(2),j(3,"currencyPrecision"),D()()),2&n){const e=ne().$implicit;E(2),te(" ",W(3,1,e.startBalance)," ")}}function RPe(n,t){if(1&n&&(R(0,"div",38),U(1),D()),2&n){const e=ne().$implicit;E(1),te(" ",e.betId," ")}}function DPe(n,t){if(1&n&&(R(0,"span"),U(1),j(2,"currencyPrecision"),D()),2&n){const e=ne().$implicit;E(1),te(" ",W(2,1,e.winAmount),"")}}function NPe(n,t){if(1&n&&(R(0,"td")(1,"span",39),U(2),j(3,"currencyPrecision"),D()()),2&n){const e=ne().$implicit;E(2),Ye(W(3,1,e.endBalance))}}const kPe=function(n){return{disabled:n}};function FPe(n,t){if(1&n){const e=ft();R(0,"tr")(1,"td")(2,"div",27)(3,"div"),U(4),j(5,"date"),D(),R(6,"div"),U(7),j(8,"date"),D()()(),K(9,APe,4,3,"td",8),R(10,"td",28),K(11,RPe,2,1,"div",29),D(),R(12,"td",12),fe(13,"app-bet-amount",30),D(),R(14,"td")(15,"div",31),fe(16,"app-bubble-multiplier",32),D()(),R(17,"td"),K(18,DPe,3,3,"span",8),D(),K(19,NPe,4,3,"td",8),R(20,"td")(21,"div",33)(22,"div",34)(23,"div",35),Te("click",function(){const s=ot(e).$implicit;return ne(3).main.checkFairness(s.roundId)}),D(),R(24,"div",36),Te("click",function(){const s=ot(e).$implicit;return ne(3).onShareBet(s.roundBetId,s.roundId)}),j(25,"async"),D()()()()()}if(2&n){const e=t.$implicit,i=ne(3);wt("celebrated",e.winAmount),E(4),Ye(Ut(5,14,e.cashOutDate,"HH:mm")),E(3),Ye(Ut(8,17,e.cashOutDate,"dd-MM-yy")),E(2),F("ngIf",i.app.config.isBetsHistoryStartBalanceEnabled),E(2),F("ngIf",i.app.config.isShowBetControlNumber),E(2),F("amount",e.bet)("isFreeBet",e.isFreeBet),E(3),F("multiplier",e.payout||e.maxMultiplier),E(2),F("ngIf",e.winAmount),E(1),F("ngIf",i.app.config.isBetsHistoryEndBalanceEnabled),E(3),wt("disabled",!i.main.canCheckFairness(e.roundId)),E(2),F("ngClass",di(22,kPe,!i.chatFeatureService.isChatEnabled||W(25,20,i.chatAntiSpamService.isMessageSendingBlocked$)))}}function LPe(n,t){if(1&n&&(R(0,"div",20)(1,"div",21)(2,"table",22)(3,"thead")(4,"tr")(5,"th",23),U(6),D(),K(7,xPe,2,2,"th",24),fe(8,"th",25),R(9,"th",23),U(10),D(),R(11,"th",23),U(12,"X"),D(),R(13,"th",23),U(14),D(),K(15,IPe,2,2,"th",24),fe(16,"th",23),D()(),R(17,"tbody"),K(18,FPe,26,24,"tr",26),D()()()()),2&n){const e=ne().$implicit,i=ne();E(6),Ye(e("game.bets-widget.date")),E(1),F("ngIf",i.app.config.isBetsHistoryStartBalanceEnabled),E(3),Un(" ",e("shared.bet")," ",i.app.config.currency," "),E(4),Un(" ",e("shared.cash_out")," ",i.app.config.currency," "),E(1),F("ngIf",i.app.config.isBetsHistoryEndBalanceEnabled),E(3),F("ngForOf",i.betHistory)}}function BPe(n,t){if(1&n&&(at(0),K(1,LPe,19,8,"div",19),lt()),2&n){const e=ne();E(1),F("ngIf",e.hasAdditionalColumns)}}function UPe(n,t){if(1&n){const e=ft();R(0,"button",40),Te("click",function(){return ot(e),ne().onLoadMore()}),U(1),j(2,"transloco"),D()}2&n&&(F("disabled",0===ne().lastBetId),E(1),te(" ",W(2,2,"shared.load_more")," "))}function GPe(n,t){1&n&&(R(0,"div"),fe(1,"app-loader"),D())}let Tp=class{constructor(t,e,i,r,s,o,a,l,c){this.cd=t,this.app=e,this.activeModal=i,this.connector=r,this.main=s,this.chatFeatureService=o,this.chatAntiSpamService=a,this.chatMessageService=l,this.oldChat=c,this.betHistory=[],this.loaded=!1,this.lastBetId=0}ngOnInit(){this.getMyBetsStatistics(),this.connector.response(mn.BetHistory,200).pipe(Bt(()=>!this.loaded),Ct(this)).subscribe(t=>{this.lastBetId=t.hasOwnProperty("lastBetId")?t.lastBetId:0,this.betHistory=this.betHistory.concat(t.bets),this.loaded=!0,this.cd.detectChanges()})}getMyBetsStatistics(t=0){this.loaded=!1,this.connector.request(Wi.BetHistory,0===t?null:{lastBetId:t})}onShareBet(t,e){var i;(null===(i=this.app.config.engagementTools)||void 0===i?void 0:i.isExternalChatEnabled)?this.chatMessageService.shareBet(t,e):this.oldChat.shareBet(t,e)}onLoadMore(){this.getMyBetsStatistics(this.lastBetId)}get hasAdditionalColumns(){return this.app.config.isBetsHistoryStartBalanceEnabled||this.app.config.isBetsHistoryEndBalanceEnabled||this.app.config.isShowBetControlNumber}};function jPe(n,t){if(1&n&&(R(0,"li",5)(1,"div")(2,"span"),U(3),j(4,"transloco"),D(),R(5,"span"),U(6," X:"),D()(),R(7,"span",6),U(8),j(9,"multiplierPrecision"),D()()),2&n){const e=ne();E(3),te(" ",W(4,2,"shared.modals.game-limits.maximum-multiplier-for-one-bet")," "),E(5),te(" ",W(9,4,e.app.config.maxUserMultiplier)," ")}}Tp.\u0275fac=function(t){return new(t||Tp)(z(Sn),z(ln),z(Mr),z(Bi),z(Zi),z(il),z(Rm),z(Ep),z(hd))},Tp.\u0275cmp=rt({type:Tp,selectors:[["app-my-bets-history"]],decls:13,vars:6,consts:[[1,"modal-header"],[1,"text-uppercase"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"modal-body","px-1","py-2"],["class","bet-list pb-2",4,"ngIf"],[4,"transloco"],[1,"text-center","pt-1"],["type","button","class","btn btn-secondary px-3 btn-sm",3,"disabled","click",4,"ngIf"],[4,"ngIf"],[1,"bet-list","pb-2"],[1,"legend","d-flex","align-items-center"],[1,"date","pl-1"],[1,"bet"],[1,"multiplier","pl-2"],[1,"cash-out","pl-1","pr-2"],[1,"tools"],[1,"bet-list-body"],[3,"bet",4,"ngFor","ngForOf"],[3,"bet"],["class","wrap-table",4,"ngIf"],[1,"wrap-table"],[1,"table-responsive"],[1,"table-custom"],["scope","col"],["scope","col",4,"ngIf"],["scope","col",1,"number-bet"],[3,"celebrated",4,"ngFor","ngForOf"],[1,"date"],[1,"bet-id-wrapper"],["class","bet-id",4,"ngIf"],[3,"amount","isFreeBet"],[1,"multiplier"],[3,"multiplier"],[1,"tools-wrapper"],[1,"d-flex","align-items-center","tools","pr-1"],[1,"fairness-i","disabled-on-game-focused",3,"click"],[1,"share-i","ml-1",3,"ngClass","click"],[1,"start-balance"],[1,"bet-id"],[1,"end-balance"],["type","button",1,"btn","btn-secondary","px-3","btn-sm",3,"disabled","click"]],template:function(t,e){1&t&&(R(0,"div",0)(1,"span",1),U(2),j(3,"transloco"),D(),R(4,"button",2),Te("click",function(){return e.activeModal.close()}),R(5,"span"),U(6,"\xd7"),D()()(),R(7,"div",3),K(8,PPe,17,12,"div",4),K(9,BPe,2,1,"ng-container",5),R(10,"div",6),K(11,UPe,3,4,"button",7),K(12,GPe,2,0,"div",8),D()()),2&t&&(E(2),Ye(W(3,4,"shared.my_bet_history")),E(6),F("ngIf",!e.hasAdditionalColumns),E(3),F("ngIf",e.loaded),E(1),F("ngIf",!e.loaded))},directives:[Nt,oi,MPe,BR,Dm,Dc,ys,Nc],pipes:[Gt,Oa,Xn,Pr],styles:[".bet-list[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;overflow-x:auto}.bet-list[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]{font-size:11px;color:#7b7b7b;min-height:20px;max-height:20px}.bet-list[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{min-width:55px;max-width:55px}.bet-list[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{min-width:30%;text-align:right;white-space:nowrap;padding-left:10px}.bet-list[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .cash-out[_ngcontent-%COMP%]{flex:1;text-align:right;white-space:nowrap}.bet-list[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]{min-width:40px;max-width:40px}.bet-list[_ngcontent-%COMP%]   .bet-list-body[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;position:relative}table[_ngcontent-%COMP%]{border-collapse:separate;border-spacing:0 2px;width:100%}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:11px;font-weight:400;color:#7b7b7b;line-height:24px;white-space:nowrap;padding:0 5px}table[_ngcontent-%COMP%]   .start-balance[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   .end-balance[_ngcontent-%COMP%]{opacity:.5}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{font-size:12px;color:#bbbfc5;line-height:1}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .bet-id-wrapper[_ngcontent-%COMP%]{text-align:right}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .bet-id-wrapper[_ngcontent-%COMP%]   .bet-id[_ngcontent-%COMP%]{color:#ffffff80;text-align:center;width:16px;height:16px;border-radius:5px;font-size:10px;background:#202020}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{opacity:.5}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .tools-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .tools-wrapper[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]{min-width:40px;max-width:40px;height:40px;display:inline-block}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .tools-wrapper[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .fairness-i[_ngcontent-%COMP%]{background:url(icon-provabyfair.71eb97eaadfab595.svg) no-repeat center center/contain;width:14px;height:16px;cursor:pointer}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .tools-wrapper[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .share-i[_ngcontent-%COMP%]{background:url(share.658297c40a9fcd66.svg) no-repeat center center/contain;width:16px;height:14px;cursor:pointer}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .tools-wrapper[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .share-i.disabled[_ngcontent-%COMP%]{cursor:auto;pointer-events:none;opacity:.8}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .tools-wrapper[_ngcontent-%COMP%]   .tools.disabled[_ngcontent-%COMP%]{cursor:auto;pointer-events:none;opacity:.5}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:34px;font-size:14px;color:#fff;background-color:#101112}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#101112;padding:0 5px;white-space:nowrap}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .bet-id-wrapper[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .multiplier[_ngcontent-%COMP%]{max-width:-moz-fit-content;max-width:fit-content}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:not(:first-child):not(:last-child){border-left:none;border-right:none}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-left:1px solid #101112;border-top:1px solid #101112;border-bottom:1px solid #101112;border-top-left-radius:8px;border-bottom-left-radius:8px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-right:1px solid #101112;border-top:1px solid #101112;border-bottom:1px solid #101112;border-top-right-radius:8px;border-bottom-right-radius:8px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:not(:first-child):not(:last-child){border-top:1px solid #101112;border-bottom:1px solid #101112}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .celebrated[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#123405}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .celebrated[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-left:1px solid #427f00;border-top:1px solid #427f00;border-bottom:1px solid #427f00;border-top-left-radius:8px;border-bottom-left-radius:8px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .celebrated[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-right:1px solid #427f00;border-top:1px solid #427f00;border-bottom:1px solid #427f00;border-top-right-radius:8px;border-bottom-right-radius:8px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .celebrated[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:not(:first-child):not(:last-child){border-top:1px solid #427f00;border-bottom:1px solid #427f00}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   .celebrated[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{opacity:1}"],changeDetection:0}),Tp=Ke([Qn()],Tp);let HPe=(()=>{class n{constructor(e,i){this.activeModal=e,this.app=i}}return n.\u0275fac=function(e){return new(e||n)(z(Mr),z(ln))},n.\u0275cmp=rt({type:n,selectors:[["app-game-limits"]],decls:40,vars:25,consts:[[1,"modal-header","canSelect"],[1,"text-uppercase"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"modal-body","py-4"],[1,"list-group"],[1,"list-group-item","pl-2","pr-1"],[1,"badge","badge-success","px-2","font-weight-normal"],["class","list-group-item pl-2 pr-1",4,"ngIf"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"span",1),U(2),j(3,"transloco"),D(),R(4,"button",2),Te("click",function(){return i.activeModal.close()}),R(5,"span"),U(6,"\xd7"),D()()(),R(7,"div",3)(8,"ul",4)(9,"li",5)(10,"div")(11,"span"),U(12),j(13,"transloco"),D(),R(14,"span"),U(15),D()(),R(16,"span",6),U(17),j(18,"currencyPrecision"),D()(),R(19,"li",5)(20,"div")(21,"span"),U(22),j(23,"transloco"),D(),R(24,"span"),U(25),D()(),R(26,"span",6),U(27),j(28,"currencyPrecision"),D()(),R(29,"li",5)(30,"div")(31,"span"),U(32),j(33,"transloco"),D(),R(34,"span"),U(35),D()(),R(36,"span",6),U(37),j(38,"currencyPrecision"),D()(),K(39,jPe,10,6,"li",7),D()()),2&e&&(E(2),Ye(W(3,11,"shared.game_limits")),E(10),Ye(W(13,13,"shared.modals.game-limits.min-bet")),E(3),te(" ",i.app.config.currency,":"),E(2),te(" ",W(18,15,i.app.config.minBet)," "),E(5),Ye(W(23,17,"shared.modals.game-limits.max-bet")),E(3),te(" ",i.app.config.currency,":"),E(2),te(" ",W(28,19,i.app.config.maxBet)," "),E(5),Ye(W(33,21,"shared.modals.game-limits.max-win-one-bet")),E(3),te(" ",i.app.config.currency,":"),E(2),te(" ",W(38,23,i.app.config.maxUserWin)," "),E(2),F("ngIf",i.app.config.maxUserMultiplier))},directives:[Nt],pipes:[Gt,Xn,uu],styles:[".list-group[_ngcontent-%COMP%]{border-radius:8px;color:#fff}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{background-color:transparent;border:1px solid rgba(255,255,255,.1);display:flex;justify-content:space-between;align-items:center;font-size:14px;line-height:14px;height:34px}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]   span.badge.badge-success[_ngcontent-%COMP%]{border-radius:11px;background-color:#123405;border:1px solid #427f00;font-size:14px}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]:not(:first-child){border-top:0}"]}),n})(),ib=(()=>{class n{constructor(e){this.cd=e,this.toggle=new nn,this.disabled=!1,this.checked=!1,this.onModelChange=()=>{},this.onModelTouched=()=>{}}onClick(){this.disabled||(this.checked=!this.checked,this.onModelChange(this.checked),this.toggle.emit(this.checked))}writeValue(e){this.checked=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e}}return n.\u0275fac=function(e){return new(e||n)(z(Sn))},n.\u0275cmp=rt({type:n,selectors:[["app-ui-switcher"]],inputs:{disabled:"disabled"},outputs:{toggle:"toggle"},features:[Jn([{provide:da,useExisting:Hn(()=>n),multi:!0}])],decls:2,vars:4,consts:[[1,"input-switch",3,"click"],[1,"oval"]],template:function(e,i){1&e&&(R(0,"div",0),Te("click",function(){return i.onClick()}),fe(1,"span",1),D()),2&e&&wt("off",!i.checked)("disabled",i.disabled)},styles:[".input-switch[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;padding:0 2px;justify-content:flex-end;width:36px;height:18px;border-radius:9px;border:solid 1px #60ae05;background-color:#229607}.input-switch[_ngcontent-%COMP%]   span.oval[_ngcontent-%COMP%]{min-width:14px;max-width:14px;height:14px;box-shadow:inset 0 0 7px #00000029;background-color:#fff;border:solid 2px #a3b98a;border-radius:50%}.input-switch[_ngcontent-%COMP%]   span.text[_ngcontent-%COMP%]{width:100%;text-align:center}.input-switch.off[_ngcontent-%COMP%]{border:1px solid rgba(255,255,255,.51);background:none;justify-content:flex-start}.input-switch.disabled[_ngcontent-%COMP%]{cursor:default!important;opacity:.5!important}"]}),n})();function VPe(n,t){if(1&n){const e=ft();R(0,"li",5)(1,"div")(2,"span"),U(3),j(4,"transloco"),D()(),R(5,"app-ui-switcher",6),Te("toggle",function(r){const o=ot(e).$implicit;return ne().user.settings.changeOther(o,r)}),D()()}if(2&n){const e=t.$implicit,i=ne();E(3),Ye(W(4,2,"shared.modals.other_settings."+i.translations.get(e))),E(2),F("ngModel",i.user.settings.getOther(e))}}let zPe=(()=>{class n{constructor(e,i,r){this.activeModal=e,this.app=i,this.user=r,this.translations=new Map([[Ic.HideLiveBetsAndStatistics,"Hide_Live_Bets_and_Statistics"],[Ic.HideMyActivity,"Hide_My_Activity"]])}}return n.\u0275fac=function(e){return new(e||n)(z(Mr),z(ln),z(Ll))},n.\u0275cmp=rt({type:n,selectors:[["app-other-settings"]],decls:10,vars:4,consts:[[1,"modal-header","canSelect"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"modal-body","py-2","px-2"],[1,"list-group"],["class","list-group-item d-flex justify-content-between align-items-center px-0",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","justify-content-between","align-items-center","px-0"],[3,"ngModel","toggle"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"span"),U(2),j(3,"transloco"),D(),R(4,"button",1),Te("click",function(){return i.activeModal.close()}),R(5,"span"),U(6,"\xd7"),D()()(),R(7,"div",2)(8,"ul",3),K(9,VPe,6,4,"li",4),D()()),2&e&&(E(2),Ye(W(3,2,"shared.modals.other_settings.title")),E(7),F("ngForOf",i.user.settings.otherKeys))},directives:[oi,ib,fa,Vo],pipes:[Gt],styles:[".list-group[_ngcontent-%COMP%]{color:#fff}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{background-color:transparent;border-top:1px solid rgba(255,255,255,.1);font-size:14px;height:34px}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]   span.badge.badge-success[_ngcontent-%COMP%]{border-radius:11px;background-color:#123405;border:1px solid #427f00;font-size:14px}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]:first-child{border-top:0}"]}),n})();const WPe=function(n,t){return{minBalanceInPlayerCurrency:n,currency:t}};function $Pe(n,t){if(1&n&&(R(0,"li",6),U(1),D()),2&n){const e=ne().$implicit,i=ne();E(1),te(" ",e("game.chat-widget.modals.chat-rules.point7",ta(1,WPe,i.minBalanceInPlayerCurrency,i.currency))," ")}}const YPe=function(n,t,e){return{minWagerPeriodInDays:n,minWagerInPlayerCurrency:t,currency:e}};function XPe(n,t){if(1&n&&(R(0,"li",6),U(1),D()),2&n){const e=ne().$implicit,i=ne();E(1),te(" ",e("game.chat-widget.modals.chat-rules.point8",y_(1,YPe,i.minWagerPeriodInDays,i.minWagerInPlayerCurrency,i.currency))," ")}}const qPe=function(n){return{minLifetimePeriodInDays:n}};function KPe(n,t){if(1&n&&(R(0,"li",6),U(1),D()),2&n){const e=ne().$implicit,i=ne();E(1),te(" ",e("game.chat-widget.modals.chat-rules.point9",di(1,qPe,i.minLifetimePeriodInDays))," ")}}function JPe(n,t){if(1&n){const e=ft();at(0),R(1,"div",1)(2,"span"),U(3),D(),R(4,"button",2),Te("click",function(){return ot(e),ne().activeModal.close()}),R(5,"span"),U(6,"\xd7"),D()()(),R(7,"div",3)(8,"div",4)(9,"ul",5)(10,"li",6),U(11),D(),R(12,"li",6),U(13),D(),R(14,"li",6),U(15),D(),R(16,"li",6),U(17),D(),R(18,"li",6),U(19),D(),R(20,"li",6),U(21),D(),K(22,$Pe,2,4,"li",7),K(23,XPe,2,5,"li",7),K(24,KPe,2,3,"li",7),D()()(),lt()}if(2&n){const e=t.$implicit,i=ne();E(3),Ye(e("game.chat-widget.modals.chat-rules.title")),E(8),te(" ",e("game.chat-widget.modals.chat-rules.point1")," "),E(2),te(" ",e("game.chat-widget.modals.chat-rules.point2")," "),E(2),te(" ",e("game.chat-widget.modals.chat-rules.point3")," "),E(2),te(" ",e("game.chat-widget.modals.chat-rules.point4")," "),E(2),te(" ",e("game.chat-widget.modals.chat-rules.point5")," "),E(2),te(" ",e("game.chat-widget.modals.chat-rules.point6")," "),E(1),F("ngIf",i.isChatMinimumBalanceCheckEnabled),E(1),F("ngIf",i.isChatMinimumWagerCheckEnabled),E(1),F("ngIf",i.isChatMinimumLifetimeCheckEnabled)}}let ZPe=(()=>{class n{constructor(e,i,r,s){this.activeModal=e,this.chatConfig=i,this.app=r,this.currencyPrecisionPipe=s}get isChatMinimumBalanceCheckEnabled(){return this.chatConfig.restrictionConfig.isChatMinimumBalanceCheckEnabled}get isChatMinimumWagerCheckEnabled(){return this.chatConfig.restrictionConfig.isChatMinimumWagerCheckEnabled}get isChatMinimumLifetimeCheckEnabled(){return this.chatConfig.restrictionConfig.isChatMinimumLifetimeCheckEnabled}get minBalanceInPlayerCurrency(){return this.currencyPrecisionPipe.transform(this.chatConfig.restrictionConfig.minBalanceInPlayerCurrency)}get minWagerPeriodInDays(){return this.chatConfig.restrictionConfig.minWagerPeriodInDays}get minWagerInPlayerCurrency(){return this.currencyPrecisionPipe.transform(this.chatConfig.restrictionConfig.minWagerInPlayerCurrency)}get minLifetimePeriodInDays(){return this.chatConfig.restrictionConfig.minLifetimePeriodInDays}get currency(){return this.app.config.currency}}return n.\u0275fac=function(e){return new(e||n)(z(Mr),z(tb),z(ln),z(Xn))},n.\u0275cmp=rt({type:n,selectors:[["app-chat-rules"]],features:[Jn([Xn])],decls:1,vars:0,consts:[[4,"transloco"],[1,"modal-header","canSelect"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"modal-body"],[1,"rules-list","pt-2"],[1,"list-group"],[1,"list-group-item"],["class","list-group-item",4,"ngIf"]],template:function(e,i){1&e&&K(0,JPe,25,10,"ng-container",0)},directives:[BR,Nt],styles:[".list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{margin:0;border:0;background:transparent url(right-red-arrow.14ee00bd9966ab35.svg) no-repeat 0 3px;padding:2px 0 2px 14px;color:#d2d2d2}.rules-list[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.rules-list[_ngcontent-%COMP%]   .rules-list-title[_ngcontent-%COMP%]{margin-left:-20px;margin-bottom:10px}.text-grey[_ngcontent-%COMP%]{color:#d2d2d2}.game-version-wrapper[_ngcontent-%COMP%]{border-color:#fff3!important}"],changeDetection:0}),n})();const QPe=function(n){return{value:n}};let exe=(()=>{class n{constructor(e,i,r,s){this.mainService=e,this.freeBets=i,this.activeModal=r,this.app=s,this.chosen=!1,this.serverChosen=new nn}chooseServer(){this.serverChosen.emit(this.server.id)}}return n.\u0275fac=function(e){return new(e||n)(z(Zi),z(bu),z(Mr),z(ln))},n.\u0275cmp=rt({type:n,selectors:[["app-change-server-item"]],inputs:{server:"server",chosen:"chosen"},outputs:{serverChosen:"serverChosen"},decls:8,vars:8,consts:[[1,"item-wrapper"],[1,"rounded-block"],[1,"main-row",3,"click"],[1,"radio"],[1,"dot"],[1,"server-name"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1)(2,"div",2),Te("click",function(){return i.chooseServer()}),R(3,"span",3),fe(4,"i",4),D(),R(5,"div",5),U(6),j(7,"transloco"),D()()()()),2&e&&(E(1),wt("chosen",i.chosen),E(5),te(" ",Ut(7,3,"shared.Room #",di(6,QPe,i.server.id))," "))},pipes:[Gt],styles:["[_nghost-%COMP%]{width:100%}.item-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;width:100%}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%;height:34px;border-radius:8px;background-color:#0707084d;margin:8px auto 0;border:solid 1px transparent;cursor:pointer}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]{height:32px;width:100%;display:flex;align-items:center}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]{display:inline-block;min-width:16px;height:16px;background-color:#1b1c1d;border:solid 1px #38ca07;border-radius:50%;margin-left:9px}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .server-name[_ngcontent-%COMP%]{margin-left:12px}.item-wrapper[_ngcontent-%COMP%]   .rounded-block.chosen[_ngcontent-%COMP%]{border:solid 1px #229607;pointer-events:none;cursor:default}.item-wrapper[_ngcontent-%COMP%]   .rounded-block.chosen[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.item-wrapper[_ngcontent-%COMP%]   .rounded-block.chosen[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{display:block;width:8px;height:8px;border-radius:50%;background-color:#38ca07}"],changeDetection:0}),n})();function txe(n,t){if(1&n){const e=ft();at(0),R(1,"app-change-server-item",6),Te("serverChosen",function(r){return ot(e),ne().userChooseServer(r)}),D(),lt()}if(2&n){const e=t.$implicit,i=ne();let r;E(1),F("server",e)("chosen",e.id===(null!==(r=i.chosenServerId)&&void 0!==r?r:i.multiServer.currentServerId))}}let nxe=(()=>{class n{constructor(e,i,r,s){this.activeModal=e,this.app=i,this.connector=r,this.multiServer=s}userChooseServer(e){this.chosenServerId=e}change(){this.connector.userChooseServer(this.chosenServerId),this.activeModal.close()}}return n.\u0275fac=function(e){return new(e||n)(z(Mr),z(ln),z(Bi),z(wm))},n.\u0275cmp=rt({type:n,selectors:[["app-change-server"]],decls:15,vars:12,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"modal-body"],[1,"text"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-success",3,"click"],[3,"server","chosen","serverChosen"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"span"),U(2),j(3,"transloco"),D(),R(4,"button",1),Te("click",function(){return i.activeModal.close()}),R(5,"span"),U(6,"\xd7"),D()()(),R(7,"div",2)(8,"p",3),U(9),j(10,"transloco"),D(),K(11,txe,2,2,"ng-container",4),R(12,"button",5),Te("click",function(){return i.change()}),U(13),j(14,"transloco"),D()()),2&e&&(E(2),Ye(W(3,6,"shared.modals.Change Room.title")),E(7),Ye(W(10,8,"shared.modals.Change Room.text")),E(2),F("ngForOf",i.app.clientConfig.servers),E(1),wt("disabled",!i.chosenServerId||i.chosenServerId===i.multiServer.currentServerId),E(1),te(" ",W(14,10,"shared.CHANGE")," "))},directives:[oi,exe],pipes:[Gt],styles:[".modal-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:150px;width:100%}.modal-body[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin-bottom:7px}.modal-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:14px;margin-top:54px;opacity:1}.modal-body[_ngcontent-%COMP%]   .btn.disabled[_ngcontent-%COMP%]{opacity:.4;pointer-events:none;cursor:default}"],changeDetection:0}),n})(),ixe=(()=>{class n{constructor(e,i,r,s){this.ngbModal=e,this.modal=i,this.urlParams=r,this.ifc=s,this.activeInstances=[]}init(){this.ngbModal.activeInstances.subscribe(e=>this.activeInstances=e),this.modal.onOpen$.subscribe(e=>this.open(e.key,e.params))}open(e,i=null){switch(e){case Wn.bugReport:break;case Wn.fairness:this.openModal(_p,{size:"lg"},{betId:i});break;case Wn.fairnessSettings:this.openModal(mp,{size:"lg"});break;case Wn.freeBets:if("true"===this.urlParams.aviaport){this.ifc.send(hi.AviaPortShowFreeBetModal);break}this.openModal(vp);break;case Wn.avatar:this.openModal(uOe,{size:"lg"});break;case Wn.rules:this.openModal(iPe,{size:"xl"});break;case Wn.whatIsPf:this.openModal(sOe,{size:"xl"});break;case Wn.quickHelp:this.openModal(sPe,{size:"lg"});break;case Wn.notification:this.ngbModal.hasOpenModals()&&this.ngbModal.dismissAll(),this.openModal(Sp,{backdrop:"static"},{params:i});break;case Wn.myBetsHistory:this.openModal(Tp);break;case Wn.gameLimits:this.openModal(HPe);break;case Wn.otherSettings:this.openModal(zPe);break;case Wn.chatRules:this.openModal(ZPe);break;case Wn.changeServer:this.openModal(nxe)}}openModal(e,i={},r={}){if(this.activeInstances.some(a=>a.componentInstance instanceof e))return;const o=this.ngbModal.open(e,i);Object.entries(r).forEach(([a,l])=>{o.componentInstance[a]=l})}}return n.\u0275fac=function(e){return new(e||n)(je(Zy),je(jo),je(kl),je(Fo))},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rxe=(()=>{class n{constructor(e,i,r,s,o){this.main=e,this.app=i,this.betControls=r,this.connector=s,this.message=o,this.isFirstToastShown=!1,this.isSecondToastShown=!1,this.lastDate=Date.now()}init(){this.main.getState(Ji.Bet).pipe(Bt(()=>this.isInactivityTimePass())).subscribe(()=>this.onBetState()),this.main.getState(Ji.Run).subscribe(()=>this.onRunState())}onBetState(){return this.isFirstToastShown?this.isSecondToastShown?void 0:(this.message.add({value:Ec.SecondInactivityMessage,context:Tr.warning}),void(this.isSecondToastShown=!0)):(this.message.add({value:Ec.FirstInactivityMessage,context:Tr.warning}),void(this.isFirstToastShown=!0))}onRunState(){this.betControls.isBetSetted?this.reset():this.isFirstToastShown&&this.isSecondToastShown&&this.connector.shutdown(sa.Inactivity)}isInactivityTimePass(){return Date.now()-this.lastDate>=this.toMilliseconds(this.app.config.inactivityTimeForDisconnect)}toMilliseconds(e){return 6e4*e}reset(){this.isFirstToastShown=!1,this.isSecondToastShown=!1,this.lastDate=Date.now()}}return n.\u0275fac=function(e){return new(e||n)(je(Zi),je(ln),je(Su),je(Bi),je(Fl))},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function sxe(n,t){if(1&n&&(R(0,"div",34),U(1),D()),2&n){const e=ne(2);E(1),te(" ",e.freeBets.freeBetsCount," ")}}function oxe(n,t){if(1&n){const e=ft();R(0,"div",31),Te("click",function(){return ot(e),ne().onFreeBetsManagementOpen()}),R(1,"div",12)(2,"div",13),fe(3,"div",32),D(),R(4,"div",24),U(5),j(6,"transloco"),D(),K(7,sxe,2,1,"div",33),D()()}if(2&n){const e=ne();F("disabled",e.isBetSetted),E(5),te(" ",W(6,3,"shared.free_bets")," "),E(2),F("ngIf",e.freeBets.freeBetsCount>0)}}function axe(n,t){if(1&n){const e=ft();R(0,"div",22),Te("click",function(){return ot(e),ne().onOtherSettingsOpen()}),R(1,"div",12)(2,"div",13),fe(3,"div",35),D(),R(4,"div",36),U(5),j(6,"transloco"),D()()()}2&n&&(E(5),te(" ",W(6,1,"shared.Other_Settings")," "))}const lxe=function(n){return{value:n}};function cxe(n,t){if(1&n){const e=ft();R(0,"div",22),Te("click",function(){return ot(e),ne().onChangeServer()}),R(1,"div",12)(2,"div",13),fe(3,"div",37),D(),R(4,"div",36),U(5),j(6,"transloco"),D()()()}if(2&n){const e=ne();E(5),te(" ",Ut(6,1,"shared.Game Room: Room #",di(4,lxe,e.multiServer.currentServerId))," ")}}function uxe(n,t){if(1&n){const e=ft();R(0,"a",38),Te("click",function(){return ot(e),ne().onBackToHome()}),fe(1,"div",39),R(2,"span"),U(3),j(4,"transloco"),D()()}2&n&&(E(3),Ye(W(4,1,"shared.home")))}let wp=class{constructor(t,e,i,r,s,o,a,l,c,u,d){var f;this.connector=t,this.app=e,this.user=i,this.betControl=r,this.freeBets=s,this.proxy=o,this.ifc=a,this.cd=l,this.modal=c,this.urlParams=u,this.multiServer=d,this.returnUrl=null!==(f=this.urlParams.returnUrl)&&void 0!==f?f:""}ngOnInit(){this.ifc.receive$(pr.OpenHelp).pipe(Ct(this)).subscribe(()=>this.onRulesOpen()),this.ifc.receive$(pr.SetSound).pipe(Ct(this)).subscribe(t=>this.setSetting(pr.SetSound,t.value)),this.ifc.receive$(pr.SetMusic).pipe(Ct(this)).subscribe(t=>this.setSetting(pr.SetMusic,t.value)),this.ifc.receive$(pr.SetAnimation).pipe(Ct(this)).subscribe(t=>this.setSetting(pr.SetAnimation,t.value))}setSetting(t,e){switch(t){case pr.SetSound:this.user.settings.sound=e;break;case pr.SetMusic:this.user.settings.music=e;break;case pr.SetAnimation:this.user.settings.animation=e}this.cd.detectChanges()}get isBetSetted(){return this.betControl.isBetSetted}get avatar(){return Mi.avatarPath+this.user.avatar+`?v=${Mi.version}`}onChangeAvatar(){this.modal.open(Wn.avatar)}onFreeBetsManagementOpen(){!1===this.betControl.isBetSetted&&this.modal.open(Wn.freeBets)}onFairnessOpen(){this.modal.open(Wn.fairnessSettings)}onRulesOpen(){this.modal.open(Wn.rules)}onMyBetsHistoryOpen(){this.app.config.accountHistoryActionType===Cm.IfcEvent?this.ifc.send(hi.AccountHistory,{accountHistoryUrl:this.returnUrl}):this.app.config.accountHistoryActionType===Cm.NewTab&&this.urlParams.accountHistoryUrl?window.open(this.urlParams.accountHistoryUrl,"_blank"):this.urlParams.accountHistoryUrl?window.open(this.urlParams.accountHistoryUrl,"_top"):this.modal.open(Wn.myBetsHistory)}onGameLimitsOpen(){this.modal.open(Wn.gameLimits)}onOpenHelp(){this.modal.open(Wn.quickHelp)}onOtherSettingsOpen(){this.modal.open(Wn.otherSettings)}onBackToHome(){if(this.app.config.backToHomeActionType===Em.IfcEvent)return this.proxy.sendBackToHome(this.returnUrl),void this.ifc.send(hi.BackToHome,{returnUrl:this.returnUrl});window.open(this.returnUrl,"_top")}onChangeServer(){this.modal.open(Wn.changeServer)}};function dxe(n,t){if(1&n&&(R(0,"a",15),fe(1,"img",16),D()),2&n){const e=ne(2);wt("disabled",null===e.urlParams.returnUrl),F("href",e.homeUrl,rn),E(1),F("src",e.brandLogo,rn)}}function hxe(n,t){if(1&n){const e=ft();R(0,"button",17),Te("click",function(){return ot(e),ne(2).onOpenHelp()}),fe(1,"div",18),R(2,"div",19),U(3),j(4,"transloco"),D()()}2&n&&(E(3),te(" ",W(4,1,"shared.how_to_play"),"? "))}function fxe(n,t){1&n&&Xs(0)}function pxe(n,t){if(1&n){const e=ft();R(0,"div",20),Te("click",function(){ot(e);const r=ne(2);return r.chatFeatureService.isOpen=!r.chatFeatureService.isOpen}),fe(1,"div",21),D()}}function gxe(n,t){if(1&n&&(R(0,"div",3)(1,"div",4),K(2,dxe,2,4,"a",5),fe(3,"div",6),K(4,hxe,5,3,"button",7),D(),R(5,"div",8)(6,"div",9)(7,"div",10)(8,"div")(9,"span",11),U(10),j(11,"currencyPrecision"),j(12,"async"),D(),R(13,"span",12),U(14),D()()(),K(15,fxe,1,0,"ng-container",13),D(),K(16,pxe,2,0,"div",14),j(17,"async"),D()()),2&n){const e=ne(),i=Fi(3);E(2),F("ngIf",e.app.clientConfig.brandLogo),E(1),wt("game-logo-ab",e.app.isBrandAdjarabet),E(1),F("ngIf",!0===e.app.config.quickHelp),E(3),wt("long-precision",e.app.isLongPrecision),E(3),te(" ",W(11,10,W(12,12,e.userBalance$))," "),E(4),Ye(e.app.config.currency),E(1),F("ngTemplateOutlet",i),E(1),F("ngIf",W(17,14,e.chatFeatureService.isChatEnabled$)&&!e.chatFeatureService.isOpen)}}function _xe(n,t){1&n&&Xs(0)}function mxe(n,t){if(1&n&&(R(0,"div",22),K(1,_xe,1,0,"ng-container",13),D()),2&n){ne();const e=Fi(3);E(1),F("ngTemplateOutlet",e)}}function vxe(n,t){if(1&n&&(R(0,"div",28),U(1),D()),2&n){const e=ne(2);E(1),te(" ",e.freeBets.freeBetsCount," ")}}function yxe(n,t){if(1&n&&(R(0,"div",23)(1,"div",24),fe(2,"div",25),K(3,vxe,2,1,"div",26),R(4,"div",27),fe(5,"app-settings-menu"),D()()()),2&n){const e=ne();F("placement","bottom-right"),E(3),F("ngIf",e.freeBets.freeBetsCount>0)}}wp.\u0275fac=function(t){return new(t||wp)(z(Bi),z(ln),z(Ll),z(Su),z(bu),z(lT),z(Fo),z(Sn),z(jo),z(kl),z(wm))},wp.\u0275cmp=rt({type:wp,selectors:[["app-settings-menu"]],decls:85,vars:40,consts:[[1,"user"],[1,"first-block","p-2"],[1,"user-info"],[1,"avatar"],[3,"src","alt"],[1,"name"],["ngbDropdownItem","",1,"avatar-change",3,"click"],[1,"avatar-logo"],[1,"change-text"],[1,"second-block"],[1,"list-menu","pb-3"],[1,"list-menu-item"],[1,"title"],[1,"icon-wrapper"],[1,"sound-icon"],[1,"title-text"],[1,"switch"],[3,"ngModel","ngModelChange"],[1,"music-icon"],[1,"animation-icon"],[1,"list-menu"],["ngbDropdownItem","","class","list-menu-item info-item",3,"disabled","click",4,"ngIf"],["ngbDropdownItem","",1,"list-menu-item","info-item",3,"click"],[1,"icon","history-icon"],[1,"title-text-info","text-capitalize"],[1,"icon","limits-icon"],[1,"icon","help-icon"],[1,"icon","rule-icon"],[1,"icon","fair-icon"],["class","list-menu-item info-item","ngbDropdownItem","",3,"click",4,"ngIf"],["class","logout","href","javascript:void(0)",3,"click",4,"ngIf"],["ngbDropdownItem","",1,"list-menu-item","info-item",3,"disabled","click"],[1,"icon","star-icon"],["class","badge badge-danger badge-notification",4,"ngIf"],[1,"badge","badge-danger","badge-notification"],[1,"icon","other-icon"],[1,"title-text-info"],[1,"icon","multi-server-icon"],["href","javascript:void(0)",1,"logout",3,"click"],[1,"home-icon"]],template:function(t,e){1&t&&(R(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),fe(4,"img",4),D(),R(5,"div",5),U(6),D()(),R(7,"div",6),Te("click",function(){return e.onChangeAvatar()}),fe(8,"div",7),R(9,"div",8)(10,"div"),U(11),j(12,"transloco"),D(),R(13,"div"),U(14),j(15,"transloco"),D()()()(),R(16,"div",9)(17,"div",10)(18,"div",11)(19,"div",12)(20,"div",13),fe(21,"div",14),D(),R(22,"span",15),U(23),j(24,"transloco"),D()(),R(25,"div",16)(26,"app-ui-switcher",17),Te("ngModelChange",function(r){return e.user.settings.sound=r}),D()()(),R(27,"div",11)(28,"div",12)(29,"div",13),fe(30,"div",18),D(),R(31,"span",15),U(32),j(33,"transloco"),D()(),R(34,"div",16)(35,"app-ui-switcher",17),Te("ngModelChange",function(r){return e.user.settings.music=r}),D()()(),R(36,"div",11)(37,"div",12)(38,"div",13),fe(39,"div",19),D(),R(40,"span",15),U(41),j(42,"transloco"),D()(),R(43,"div",16)(44,"app-ui-switcher",17),Te("ngModelChange",function(r){return e.user.settings.animation=r}),D()()()(),R(45,"div",20),K(46,oxe,8,5,"div",21),R(47,"div",22),Te("click",function(){return e.onMyBetsHistoryOpen()}),R(48,"div",12)(49,"div",13),fe(50,"div",23),D(),R(51,"div",24),U(52),j(53,"transloco"),D()()(),R(54,"div",22),Te("click",function(){return e.onGameLimitsOpen()}),R(55,"div",12)(56,"div",13),fe(57,"div",25),D(),R(58,"div",24),U(59),j(60,"transloco"),D()()(),R(61,"div",22),Te("click",function(){return e.onOpenHelp()}),R(62,"div",12)(63,"div",13),fe(64,"div",26),D(),R(65,"div",24),U(66),j(67,"transloco"),D()()(),R(68,"div",22),Te("click",function(){return e.onRulesOpen()}),R(69,"div",12)(70,"div",13),fe(71,"div",27),D(),R(72,"div",24),U(73),j(74,"transloco"),D()()(),R(75,"div",22),Te("click",function(){return e.onFairnessOpen()}),R(76,"div",12)(77,"div",13),fe(78,"div",28),D(),R(79,"div",24),U(80),j(81,"transloco"),D()()(),K(82,axe,7,3,"div",29),K(83,cxe,7,6,"div",29),D()(),K(84,uxe,5,3,"a",30),D()),2&t&&(E(4),F("src",e.avatar,rn)("alt",e.avatar),E(2),Ye(e.user.username),E(5),Ye(W(12,20,"shared.change")),E(3),Ye(W(15,22,"shared.avatar")),E(9),Ye(W(24,24,"shared.sound")),E(3),F("ngModel",e.user.settings.sound),E(6),Ye(W(33,26,"shared.music")),E(3),F("ngModel",e.user.settings.music),E(6),Ye(W(42,28,"shared.animation")),E(3),F("ngModel",e.user.settings.animation),E(2),F("ngIf",e.app.isFreeBetsEnabled),E(6),te(" ",W(53,30,"shared.my_bet_history")," "),E(7),te(" ",W(60,32,"shared.game_limits")," "),E(7),te(" ",W(67,34,"shared.how_to_play")," "),E(7),te(" ",W(74,36,"shared.game_rules")," "),E(7),te(" ",W(81,38,"shared.provably_fair_settings")," "),E(2),F("ngIf",e.user.settings.isOtherEnabled),E(1),F("ngIf",e.multiServer.isMultiServer),E(1),F("ngIf",e.urlParams.returnUrl))},directives:[OT,ib,fa,Vo,Nt],pipes:[Gt],styles:[".user[_ngcontent-%COMP%]{width:100%;max-width:320px;border-radius:6px;background:#2c2d30;box-shadow:10px 10px 20px #000000b3}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;position:relative}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:16px;line-height:16px;font-weight:700;color:#fff;width:50%}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:40px;height:40px;min-width:40px;min-height:40px;border-radius:50%;position:relative}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{margin-left:10px}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .avatar-change[_ngcontent-%COMP%]{background:#252528;display:flex;justify-content:center;align-items:center;font-size:12px;color:#83878e;cursor:pointer;padding:6px 15px 6px 10px;width:auto;border:solid 1px #414148;border-radius:21px}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .avatar-change[_ngcontent-%COMP%]   .avatar-logo[_ngcontent-%COMP%]{background:url(av.4789b256e5464f98.svg) no-repeat center center/contain;width:20px;height:20px}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .avatar-change[_ngcontent-%COMP%]   .change-text[_ngcontent-%COMP%]{margin-left:4px;display:flex;flex-direction:column;justify-content:center;align-items:center;line-height:1}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .avatar-change[_ngcontent-%COMP%]   .change-text[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:14px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;color:#fff;padding-bottom:14px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu[_ngcontent-%COMP%]{min-width:124px;font-size:14px;line-height:12px;display:flex;flex-direction:column;justify-content:center;align-items:center}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]{width:100%;background-color:#1b1c1d;border-top:solid 1px rgba(255,255,255,.1);display:flex;height:45px;align-items:center;padding:7px 10px;justify-content:space-between}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]:first-child{border-top:0;height:44px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item.dropdown-toggle[_ngcontent-%COMP%]{white-space:normal}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item.dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item.info-item[_ngcontent-%COMP%]{cursor:pointer}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item.info-item.disabled[_ngcontent-%COMP%]{opacity:.5}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item.border-bottom[_ngcontent-%COMP%]{border-bottom:solid 1px rgba(255,255,255,.1)!important}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;color:#fff}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title-text-info[_ngcontent-%COMP%]{font-size:14px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{width:24px;display:flex;justify-content:center;margin-right:4px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .sound-icon[_ngcontent-%COMP%]{background:url(sound.354a395bdd5bff4a.svg) no-repeat center center/contain;width:15px;height:16px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .music-icon[_ngcontent-%COMP%]{background:url(music.4cfceb698f352c5c.svg) no-repeat center center/contain;width:16px;height:18px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .animation-icon[_ngcontent-%COMP%]{background:url(animation.ab8f69f184d5fae8.svg) no-repeat center center/contain;width:18px;height:16px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .star-icon[_ngcontent-%COMP%]{background:url(star-menu.e1cef8dadb898f11.svg) no-repeat center center/contain;width:16px;height:15px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .fair-icon[_ngcontent-%COMP%]{background:url(pf.0c5beb8137f06e6d.svg) no-repeat center center/contain;width:13px;height:16px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .rule-icon[_ngcontent-%COMP%]{background:url(rules.f240a948b3e6f2f6.svg) no-repeat center center/contain;width:16px;height:15px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .help-icon[_ngcontent-%COMP%]{background:url(question-gray.10476c54b3bdaed7.svg) no-repeat center center/contain;width:16px;height:16px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .history-icon[_ngcontent-%COMP%]{background:url(history-grey.42f4d875e3b84de6.svg) no-repeat center center/contain;width:16px;height:15px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .limits-icon[_ngcontent-%COMP%]{background:url(limits.5c82c8e4688aa90d.svg) no-repeat center center/contain;width:16px;height:10px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .other-icon[_ngcontent-%COMP%]{background:url(other-settings.9ac24a8403a5c08f.svg) no-repeat center center/contain;width:16px;height:16px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .multi-server-icon[_ngcontent-%COMP%]{background:url(multi-server.c9e1d3c5d7ebef88.svg) no-repeat center center;width:20px;height:20px;margin:0 5px 5px 0}.user[_ngcontent-%COMP%]   .logout[_ngcontent-%COMP%]{font-size:12px;line-height:12px;color:#9ea0a3;display:flex;justify-content:center;align-items:center;padding-bottom:16px;cursor:pointer}.user[_ngcontent-%COMP%]   .logout[_ngcontent-%COMP%]   .home-icon[_ngcontent-%COMP%]{width:16px;height:14px;background-image:url(home.6b1098bdadd19cef.svg);margin-right:5px}.user[_ngcontent-%COMP%]   .logout[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-top:2px}.badge-notification[_ngcontent-%COMP%]{margin-left:4px}"]}),wp=Ke([Qn()],wp);let Mp=class{constructor(t,e,i,r,s,o,a,l,c){this.mainService=t,this.chatFeatureService=e,this.modal=i,this.cd=r,this.freeBets=s,this.ifc=o,this.userService=a,this.app=l,this.urlParams=c,this.userBalance$=this.userService.balance$.pipe(Ie(u=>u>=0?u:0))}ngOnInit(){this.chatFeatureService.isOpen$.pipe(Ct(this)).subscribe(()=>this.cd.detectChanges()),this.freeBets.onUpdate$.pipe(Ct(this)).subscribe(()=>{this.cd.detectChanges()}),this.ifc.receive$(pr.AviaPortToggleGameMenu).pipe(Ct(this)).subscribe(()=>{this.onToggleGameMenu(),this.cd.detectChanges()})}get homeUrl(){return this.urlParams.returnUrl?this.urlParams.returnUrl:"#"}get brandLogo(){return`${Mi.brandPath}${this.app.clientConfig.brandLogo}?v=${Mi.version}`}onOpenHelp(){this.modal.open(Wn.quickHelp)}onToggleGameMenu(){this.gameMenu.isOpen()?this.gameMenu.close():(this.gameMenu.open(),this.urlParams.aviaport&&(this.chatFeatureService.isOpen=!1))}};Mp.\u0275fac=function(t){return new(t||Mp)(z(Zi),z(il),z(jo),z(Sn),z(bu),z(Fo),z(Ll),z(ln),z(kl))},Mp.\u0275cmp=rt({type:Mp,selectors:[["app-header"]],viewQuery:function(t,e){if(1&t&&Lr(bh,5),2&t){let i;kn(i=Fn())&&(e.gameMenu=i.first)}},decls:4,vars:2,consts:[["class","header h-100 d-flex justify-content-between align-items-center",4,"ngIf"],["class","hidden-header",4,"ngIf"],["userMenu",""],[1,"header","h-100","d-flex","justify-content-between","align-items-center"],[1,"first-block","h-100","d-flex","align-items-center"],["target","_top","class","main-page-btn position-relative ml-1 ml-md-2",3,"href","disabled",4,"ngIf"],[1,"game-logo","h-100","ml-1","ml-md-2"],["class","btn btn-sm btn-quick-help disabled-on-game-focused shadow-none p-0 px-1",3,"click",4,"ngIf"],[1,"second-block","d-flex"],[1,"d-flex","h-100"],[1,"balance","px-2","d-flex","justify-content-end","align-items-center"],[1,"amount","font-weight-bold"],[1,"currency"],[4,"ngTemplateOutlet"],["class","chat-i-wrapper h-100 px-2",3,"click",4,"ngIf"],["target","_top",1,"main-page-btn","position-relative","ml-1","ml-md-2",3,"href"],["alt","home",1,"d-block","h-100","w-100",3,"src"],[1,"btn","btn-sm","btn-quick-help","disabled-on-game-focused","shadow-none","p-0","px-1",3,"click"],[1,"question-i","d-inline-block","align-middle"],[1,"d-none","d-md-inline-block","align-middle","pl-1"],[1,"chat-i-wrapper","h-100","px-2",3,"click"],[1,"chat-i","h-100"],[1,"hidden-header"],["ngbDropdown","",1,"user-wrapper","h-100",3,"placement"],["ngbDropdownToggle","",1,"user","w-100","h-100","px-2","d-flex","align-items-center","position-relative","disabled-on-game-focused"],[1,"burger-i","h-100"],["class","badge badge-danger badge-notification position-absolute",4,"ngIf"],["ngbDropdownMenu","",1,"user-menu-dropdown"],[1,"badge","badge-danger","badge-notification","position-absolute"]],template:function(t,e){1&t&&(K(0,gxe,18,16,"div",0),K(1,mxe,2,1,"div",1),K(2,yxe,6,2,"ng-template",null,2,No)),2&t&&(F("ngIf",!e.urlParams.aviaport),E(1),F("ngIf",e.urlParams.aviaport))},directives:[Nt,Yd,bh,yD,PT,wp],pipes:[Gt,Xn,Pr],styles:[".header[_ngcontent-%COMP%]{background-color:#1b1c1d}.header[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]{justify-content:space-evenly}.header[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .main-page-btn[_ngcontent-%COMP%]{width:18px;height:18px;cursor:pointer}.header[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .main-page-btn.disabled[_ngcontent-%COMP%]{cursor:default;pointer-events:none}.header[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .main-page-btn[_ngcontent-%COMP%]:hover{opacity:.9}@media (min-width: 768px){.header[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .main-page-btn[_ngcontent-%COMP%]{width:20px;height:20px}}.header[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .game-logo[_ngcontent-%COMP%]{width:72px;background:url(aviator-logo.c6b742d995765be3.svg) no-repeat center center/contain}.header[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .game-logo.game-logo-ab[_ngcontent-%COMP%]{background:url(aviator-logo-ab.3b29606fcc84f707.svg) no-repeat center center/contain}@media (min-width: 768px){.header[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .game-logo[_ngcontent-%COMP%]{width:84px}}.header[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .btn-quick-help[_ngcontent-%COMP%]{text-shadow:none;margin-left:2px}.header[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .btn-quick-help[_ngcontent-%COMP%]   .question-i[_ngcontent-%COMP%]{width:20px;height:20px;background:url(question-gray.10476c54b3bdaed7.svg) no-repeat center center}@media (min-width: 768px){.header[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .btn-quick-help[_ngcontent-%COMP%]{margin-left:20px;color:#5f3816;background-color:#e69308}.header[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .btn-quick-help[_ngcontent-%COMP%]   .question-i[_ngcontent-%COMP%]{width:16px;height:16px;background-image:url(question-brown.57a6d4fa3c236ecd.svg)}}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]{height:26px}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .balance[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-size:16px;color:#28a909}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .balance[_ngcontent-%COMP%]   .currency[_ngcontent-%COMP%]{color:#9b9c9e;font-size:12px}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .balance.long-precision[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-size:14px}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .balance.long-precision[_ngcontent-%COMP%]   .currency[_ngcontent-%COMP%]{font-size:10px}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .user-wrapper[_ngcontent-%COMP%]{border-left:1px solid #464648}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .user-wrapper[_ngcontent-%COMP%]   .burger-i[_ngcontent-%COMP%]{width:18px;background:url(burger.b484be02230ea764.svg) no-repeat center center}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .user-wrapper[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{cursor:pointer}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .user-wrapper[_ngcontent-%COMP%]   .user.dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .user-wrapper[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .badge-notification[_ngcontent-%COMP%]{top:0;right:0}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .user-wrapper.show[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]:before{opacity:0}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .chat-i-wrapper[_ngcontent-%COMP%]{border-left:1px solid #464648}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .chat-i-wrapper[_ngcontent-%COMP%]   .chat-i[_ngcontent-%COMP%]{width:19px;cursor:pointer;background:url(chat.0b0f791b80419a8c.svg) no-repeat center center}.hidden-header[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;position:relative;height:0;width:100%;padding-right:8px}.hidden-header[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]{top:8px;visibility:hidden}.user-menu-dropdown[_ngcontent-%COMP%]{width:320px}.dropdown-menu.show[_ngcontent-%COMP%]{background-color:transparent;background-color:initial;color:inherit;border:unset;padding:0;margin:0}"],changeDetection:0}),Mp=Ke([Qn()],Mp);var Nm=(()=>(function(n){n.AllBets="All Bets",n.MyBets="My Bets",n.Top="Top"}(Nm||(Nm={})),Nm))();const bxe=["slider"],Sxe=function(n){return{width:n}};function Cxe(n,t){if(1&n){const e=ft();at(0),R(1,"button",4),Te("click",function(){const s=ot(e).$implicit;return ne().onClickTab(s)}),U(2),j(3,"transloco"),D(),lt()}if(2&n){const e=t.$implicit,i=ne();E(1),wt("active",i.activeTab===e),F("ngStyle",di(6,Sxe,i.tabWidth+"px")),E(1),te(" ",W(3,4,i.translatePath+"."+e)," ")}}const Exe=function(n,t){return{width:n,background:t}};let DT=(()=>{class n{constructor(e,i){this.renderer=e,this.cd=i,this.tabWidth=100,this.disabled=!1,this.height=20,this.slidingColor="rgb(44, 45, 48)",this.toggle=new nn,this.activeTab="",this.borderWidth=2,this.onModelChange=()=>{},this.onModelTouched=()=>{}}onClickTab(e){this.disabled||this.activeTab!==e&&(this.toggle.emit(e),this.writeValue(e))}findSlidingPosition(e,i,r){return i*r.indexOf(e)+"px"}setPositionSlider(){const e=this.findSlidingPosition(this.activeTab,this.tabWidth,this.tabs);["webkitTransform","MozTransform","msTransform","OTransform","transform"].forEach(r=>{this.renderer.setStyle(this.slider.nativeElement,r,`translate(${e})`)})}writeValue(e){!e||(this.activeTab=e,this.onModelChange(this.activeTab),this.setPositionSlider(),this.cd.markForCheck())}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e}}return n.\u0275fac=function(e){return new(e||n)(z(Do),z(Sn))},n.\u0275cmp=rt({type:n,selectors:[["app-navigation-switcher"]],viewQuery:function(e,i){if(1&e&&Lr(bxe,7),2&e){let r;kn(r=Fn())&&(i.slider=r.first)}},inputs:{tabWidth:"tabWidth",disabled:"disabled",height:"height",tabs:"tabs",translatePath:"translatePath",slidingColor:"slidingColor"},outputs:{toggle:"toggle"},features:[Jn([{provide:da,useExisting:Hn(()=>n),multi:!0}])],decls:4,vars:7,consts:[[1,"navigation-switcher"],[1,"slider",3,"ngStyle"],["slider",""],[4,"ngFor","ngForOf"],["tabindex","-1",1,"tab",3,"ngStyle","click"]],template:function(e,i){1&e&&(R(0,"div",0),fe(1,"div",1,2),K(3,Cxe,4,8,"ng-container",3),D()),2&e&&(wt("disabled",i.disabled),E(1),F("ngStyle",ta(4,Exe,i.tabWidth+"px",i.slidingColor)),E(2),F("ngForOf",i.tabs))},directives:[vf,oi],pipes:[Gt],styles:[".navigation-switcher[_ngcontent-%COMP%]{height:100%;background:#141516;border-radius:10px;border:solid 1px #141516;position:relative}.navigation-switcher.disabled[_ngcontent-%COMP%]{opacity:.5}.navigation-switcher.disabled[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{cursor:default;pointer-events:none}.navigation-switcher[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{height:100%;position:absolute;border-radius:10px;transition:transform .5s ease}.navigation-switcher[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{height:100%;position:relative;text-align:center;background:none;border:none;color:#9ea0a3;padding:0}.navigation-switcher[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:not(.active):hover{color:#d0021b;cursor:pointer}.navigation-switcher[_ngcontent-%COMP%]   .tab.active[_ngcontent-%COMP%]{color:#fff;cursor:default}"]}),n})();function Txe(n,t){if(1&n){const e=ft();R(0,"div",11),Te("click",function(){ot(e);const r=ne();return r.main.checkFairness(r.roundInfo.roundId)}),fe(1,"app-bubble-multiplier",12),D()}if(2&n){const e=ne();E(1),F("multiplier",e.roundInfo.multiplier)}}let wxe=(()=>{class n{constructor(e,i){this.app=e,this.main=i,this.isPreviousHand=!1,this.loadedRoundInfo=!1,this.previousHand=new nn}setPreviousHand(){this.previousHand.emit(!this.isPreviousHand)}}return n.\u0275fac=function(e){return new(e||n)(z(ln),z(Zi))},n.\u0275cmp=rt({type:n,selectors:[["app-header"]],inputs:{roundInfo:"roundInfo",total:"total",isPreviousHand:"isPreviousHand",loadedRoundInfo:"loadedRoundInfo"},outputs:{previousHand:"previousHand"},decls:26,vars:21,consts:[[1,"all-bets-block","d-flex","justify-content-between","align-items-center","px-2","pb-1"],[1,"text-uppercase"],["class","multiplier disabled-on-game-focused",3,"click",4,"ngIf"],[1,"previous-hand","d-flex","justify-content-between","align-items-center",3,"click"],[1,"history-i"],[1,"text","ml-1"],[1,"spacer"],[1,"legend","d-flex","align-items-center","mx-2"],[1,"user"],[1,"bet"],[1,"cash-out"],[1,"multiplier","disabled-on-game-focused",3,"click"],[3,"multiplier"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div")(2,"div",1),U(3),j(4,"transloco"),D(),R(5,"div"),U(6),D()(),K(7,Txe,2,1,"div",2),R(8,"div",3),Te("click",function(){return i.setPreviousHand()}),fe(9,"div",4),R(10,"span",5),U(11),j(12,"transloco"),D()()(),fe(13,"div",6),R(14,"div",7)(15,"span",8),U(16),j(17,"transloco"),D(),R(18,"span",9),U(19),j(20,"transloco"),D(),R(21,"span"),U(22,"X"),D(),R(23,"span",10),U(24),j(25,"transloco"),D()()),2&e&&(E(3),te(" ",W(4,11,"game.bets-widget.All Bets")," "),E(3),Ye(i.total),E(1),F("ngIf",i.isPreviousHand&&i.loadedRoundInfo&&!!i.roundInfo),E(1),wt("on",i.isPreviousHand),E(3),Ye(W(12,13,"game.bets-widget.Previous Round")),E(5),Ye(W(17,15,"game.bets-widget.user")),E(3),Un(" ",W(20,17,"shared.bet")," ",i.app.config.currency," "),E(5),Un(" ",W(25,19,"shared.cash_out")," ",i.app.config.currency," "))},directives:[Nt,Dc],pipes:[Gt],styles:[".all-bets-block[_ngcontent-%COMP%]{font-size:14px;line-height:1.2}.all-bets-block[_ngcontent-%COMP%]   .multiplier[_ngcontent-%COMP%]{cursor:pointer;font-size:12px}.all-bets-block[_ngcontent-%COMP%]   .previous-hand[_ngcontent-%COMP%]{height:20px;font-size:12px;padding:0 8px 0 3px;white-space:nowrap;color:#9ea0a3;border-radius:17px;border:solid 1px #414148;background-color:#252528;cursor:pointer}.all-bets-block[_ngcontent-%COMP%]   .previous-hand[_ngcontent-%COMP%]:hover   .history-i[_ngcontent-%COMP%]{background:url(history-h.d34b772939d33f4a.svg) no-repeat center center/contain}.all-bets-block[_ngcontent-%COMP%]   .previous-hand[_ngcontent-%COMP%]   .history-i[_ngcontent-%COMP%]{color:#fff;width:17px;height:16px;background:url(history.f7bb16bd19899b41.svg) no-repeat center center/contain}.all-bets-block[_ngcontent-%COMP%]   .previous-hand.on[_ngcontent-%COMP%]{border:solid 1px #e90000;background-color:#600}.all-bets-block[_ngcontent-%COMP%]   .previous-hand.on[_ngcontent-%COMP%]   .history-i[_ngcontent-%COMP%]{margin-left:5px;right:7px;height:12px;width:12px;background:url(close.9967d3df9ff555ef.svg) no-repeat center center/contain}.spacer[_ngcontent-%COMP%]{height:2px;background-color:#141516}.legend[_ngcontent-%COMP%]{font-size:11px;color:#7b7b7b;height:20px}.legend[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{width:19%}.legend[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{min-width:35%;padding-right:10px;text-align:right;white-space:nowrap}.legend[_ngcontent-%COMP%]   .cash-out[_ngcontent-%COMP%]{flex:1;text-align:right;white-space:nowrap}"],changeDetection:0}),n})();function NT(n,t=0){return function Oxe(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}const rb={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=rb;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(s=>{e=void 0,n(s)});return new g(()=>null==e?void 0:e(r))},requestAnimationFrame(...n){const{delegate:t}=rb;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=rb;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0},Axe=new class Ixe extends jI{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class xxe extends UI{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=rb.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(rb.cancelAnimationFrame(e),t._scheduled=void 0)}});let TD,Rxe=1;const kT={};function AW(n){return n in kT&&(delete kT[n],!0)}const Dxe={setImmediate(n){const t=Rxe++;return kT[t]=!0,TD||(TD=Promise.resolve()),TD.then(()=>AW(t)&&n()),t},clearImmediate(n){AW(n)}},{setImmediate:Nxe,clearImmediate:kxe}=Dxe,FT={setImmediate(...n){const{delegate:t}=FT;return((null==t?void 0:t.setImmediate)||Nxe)(...n)},clearImmediate(n){const{delegate:t}=FT;return((null==t?void 0:t.clearImmediate)||kxe)(n)},delegate:void 0},Bxe=new class Lxe extends jI{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class Fxe extends UI{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=FT.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(FT.clearImmediate(e),t._scheduled=void 0)}});function RW(n){return!!n&&(n instanceof _e||S(n.lift)&&S(n.subscribe))}let wD;try{wD="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){wD=!1}let LT,Op,DW=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?E0(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!wD)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(je(S_))},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ob(){if("object"!=typeof document||!document)return 0;if(null==LT){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),LT=0,0===n.scrollLeft&&(n.scrollLeft=1,LT=0===n.scrollLeft?1:2),n.remove()}return LT}const Vxe=new Zt("cdk-dir-doc",{providedIn:"root",factory:function zxe(){return Y3(Er)}}),Wxe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let kW=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new nn,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function $xe(n){const t=(null==n?void 0:n.toLowerCase())||"";return"auto"===t&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?Wxe.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(je(Vxe,8))},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),FW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({}),n})();class qxe extends class Yxe{}{constructor(t){super(),this._data=t}connect(){return RW(this._data)?this._data:hn(this._data)}disconnect(){}}class Kxe{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(t,e,i,r,s){t.forEachOperation((o,a,l)=>{let c,u;null==o.previousIndex?(c=this._insertView(()=>i(o,a,l),l,e,r(o)),u=c?1:0):null==l?(this._detachAndCacheView(a,e),u=3):(c=this._moveView(a,l,e,r(o)),u=2),s&&s({context:null==c?void 0:c.context,operation:u,record:o})})}detach(){for(const t of this._viewCache)t.destroy();this._viewCache=[]}_insertView(t,e,i,r){const s=this._insertViewFromCache(e,i);if(s)return void(s.context.$implicit=r);const o=t();return i.createEmbeddedView(o.templateRef,o.context,o.index)}_detachAndCacheView(t,e){const i=e.detach(t);this._maybeCacheView(i,e)}_moveView(t,e,i,r){const s=i.get(t);return i.move(s,e),s.context.$implicit=r,s}_maybeCacheView(t,e){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(t);else{const i=e.indexOf(t);-1===i?t.destroy():e.remove(i)}}_insertViewFromCache(t,e){const i=this._viewCache.pop();return i&&e.insert(i,t),i||null}}const LW=new Zt("_ViewRepeater"),Jxe=["contentWrapper"],Zxe=["*"],BW=new Zt("VIRTUAL_SCROLL_STRATEGY");class Qxe{constructor(t,e,i){this._scrolledIndexChange=new Qe,this.scrolledIndexChange=this._scrolledIndexChange.pipe(lp()),this._viewport=null,this._itemSize=t,this._minBufferPx=e,this._maxBufferPx=i}attach(t){this._viewport=t,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(t,e,i){this._itemSize=t,this._minBufferPx=e,this._maxBufferPx=i,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(t,e){this._viewport&&this._viewport.scrollToOffset(t*this._itemSize,e)}_updateTotalContentSize(){!this._viewport||this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const t=this._viewport.getRenderedRange(),e={start:t.start,end:t.end},i=this._viewport.getViewportSize(),r=this._viewport.getDataLength();let s=this._viewport.measureScrollOffset(),o=this._itemSize>0?s/this._itemSize:0;if(e.end>r){const l=Math.ceil(i/this._itemSize),c=Math.max(0,Math.min(o,r-l));o!=c&&(o=c,s=c*this._itemSize,e.start=Math.floor(o)),e.end=Math.max(0,Math.min(r,e.start+l))}const a=s-e.start*this._itemSize;if(a<this._minBufferPx&&0!=e.start){const l=Math.ceil((this._maxBufferPx-a)/this._itemSize);e.start=Math.max(0,e.start-l),e.end=Math.min(r,Math.ceil(o+(i+this._minBufferPx)/this._itemSize))}else{const l=e.end*this._itemSize-(s+i);if(l<this._minBufferPx&&e.end!=r){const c=Math.ceil((this._maxBufferPx-l)/this._itemSize);c>0&&(e.end=Math.min(r,e.end+c),e.start=Math.max(0,Math.floor(o-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(e),this._viewport.setRenderedContentOffset(this._itemSize*e.start),this._scrolledIndexChange.next(Math.floor(o))}}function eIe(n){return n._scrollStrategy}let tIe=(()=>{class n{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new Qxe(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=NT(e)}get minBufferPx(){return this._minBufferPx}set minBufferPx(e){this._minBufferPx=NT(e)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(e){this._maxBufferPx=NT(e)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=At({type:n,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[Jn([{provide:BW,useFactory:eIe,deps:[Hn(()=>n)]}]),Is]}),n})(),UW=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new Qe,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new _e(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(ua(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):hn()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Bt(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=function Pxe(n){return n instanceof Ei?n.nativeElement:n}(i),s=e.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>wi(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(je(Zn),je(DW),je(Er,8))},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),GW=(()=>{class n{constructor(e,i,r,s){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=s,this._destroyed=new Qe,this._elementScrolled=new _e(o=>this.ngZone.runOutsideAngular(()=>wi(this.elementRef.nativeElement,"scroll").pipe(Ur(this._destroyed)).subscribe(o)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&0!=ob()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==ob()?e.left=e.right:1==ob()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;!function jxe(){if(null==Op){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Op=!1,Op;if("scrollBehavior"in document.documentElement.style)Op=!0;else{const n=Element.prototype.scrollTo;Op=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Op}()?(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left)):i.scrollTo(e)}measureScrollOffset(e){const i="left",r="right",s=this.elementRef.nativeElement;if("top"==e)return s.scrollTop;if("bottom"==e)return s.scrollHeight-s.clientHeight-s.scrollTop;const o=this.dir&&"rtl"==this.dir.value;return"start"==e?e=o?r:i:"end"==e&&(e=o?i:r),o&&2==ob()?e==i?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:o&&1==ob()?e==i?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:e==i?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(z(Ei),z(UW),z(Zn),z(kW,8))},n.\u0275dir=At({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),rIe=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new Qe,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(ua(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(je(DW),je(Zn),je(Er,8))},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const oIe="undefined"!=typeof requestAnimationFrame?Axe:Bxe;let jW=(()=>{class n extends GW{constructor(e,i,r,s,o,a,l){super(e,a,r,o),this.elementRef=e,this._changeDetectorRef=i,this._scrollStrategy=s,this._detachedSubject=new Qe,this._renderedRangeSubject=new Qe,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new _e(c=>this._scrollStrategy.scrolledIndexChange.subscribe(u=>Promise.resolve().then(()=>this.ngZone.run(()=>c.next(u))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=g.EMPTY,this._viewportChanges=l.change().subscribe(()=>{this.checkViewportSize()})}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=function Mxe(n){return null!=n&&"false"!=`${n}`}(e)}ngOnInit(){super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.elementScrolled().pipe(gh(null),ua(0,oIe)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()}))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(e){this.ngZone.runOutsideAngular(()=>{this._forOf=e,this._forOf.dataStream.pipe(Ur(this._detachedSubject)).subscribe(i=>{const r=i.length;r!==this._dataLength&&(this._dataLength=r,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}setTotalContentSize(e){this._totalContentSize!==e&&(this._totalContentSize=e,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(e){(function sIe(n,t){return n.start==t.start&&n.end==t.end})(this._renderedRange,e)||(this.appendOnly&&(e={start:0,end:Math.max(this._renderedRange.end,e.end)}),this._renderedRangeSubject.next(this._renderedRange=e),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(e,i="to-start"){const s="horizontal"==this.orientation,o=s?"X":"Y";let l=`translate${o}(${Number((s&&this.dir&&"rtl"==this.dir.value?-1:1)*e)}px)`;this._renderedContentOffset=e=this.appendOnly&&"to-start"===i?0:e,"to-end"===i&&(l+=` translate${o}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=l&&(this._renderedContentTransform=l,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(e,i="auto"){const r={behavior:i};"horizontal"===this.orientation?r.start=e:r.top=e,this.scrollTo(r)}scrollToIndex(e,i="auto"){this._scrollStrategy.scrollToIndex(e,i)}measureScrollOffset(e){return super.measureScrollOffset(e||("horizontal"===this.orientation?"start":"top"))}measureRenderedContentSize(){const e=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?e.offsetWidth:e.offsetHeight}measureRangeSize(e){return this._forOf?this._forOf.measureRangeSize(e,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){const e=this.elementRef.nativeElement;this._viewportSize="horizontal"===this.orientation?e.clientWidth:e.clientHeight}_markChangeDetectionNeeded(e){e&&this._runAfterChangeDetection.push(e),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const e=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const i of e)i()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(e){return new(e||n)(z(Ei),z(Sn),z(Zn),z(BW,8),z(kW,8),z(UW),z(rIe))},n.\u0275cmp=rt({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(e,i){if(1&e&&Lr(Jxe,7),2&e){let r;kn(r=Fn())&&(i._contentWrapper=r.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(e,i){2&e&&wt("cdk-virtual-scroll-orientation-horizontal","horizontal"===i.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==i.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},features:[Jn([{provide:GW,useExisting:n}]),Di],ngContentSelectors:Zxe,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(e,i){1&e&&(s0(),R(0,"div",0,1),o0(2),D(),fe(3,"div",2)),2&e&&(E(3),pc("width",i._totalContentWidth)("height",i._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0}[dir=rtl] .cdk-virtual-scroll-spacer{right:0;left:auto;transform-origin:100% 0}\n"],encapsulation:2,changeDetection:0}),n})();function HW(n,t,e){if(!e.getBoundingClientRect)return 0;const r=e.getBoundingClientRect();return"horizontal"===n?"start"===t?r.left:r.right:"start"===t?r.top:r.bottom}let aIe=(()=>{class n{constructor(e,i,r,s,o,a){this._viewContainerRef=e,this._template=i,this._differs=r,this._viewRepeater=s,this._viewport=o,this.viewChange=new Qe,this._dataSourceChanges=new Qe,this.dataStream=this._dataSourceChanges.pipe(gh(null),function Uxe(){return Je((n,t)=>{let e,i=!1;n.subscribe(ue(t,r=>{const s=e;e=r,i&&t.next([s,r]),i=!0}))})}(),ca(([l,c])=>this._changeDataSource(l,c)),n9(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new Qe,this.dataStream.subscribe(l=>{this._data=l,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe(Ur(this._destroyed)).subscribe(l=>{this._renderedRange=l,a.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(e){this._cdkVirtualForOf=e,function Xxe(n){return n&&"function"==typeof n.connect}(e)?this._dataSourceChanges.next(e):this._dataSourceChanges.next(new qxe(RW(e)?e:Array.from(e||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(e){this._needsUpdate=!0,this._cdkVirtualForTrackBy=e?(i,r)=>e(i+(this._renderedRange?this._renderedRange.start:0),r):void 0}set cdkVirtualForTemplate(e){e&&(this._needsUpdate=!0,this._template=e)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(e){this._viewRepeater.viewCacheSize=NT(e)}measureRangeSize(e,i){if(e.start>=e.end)return 0;const r=e.start-this._renderedRange.start,s=e.end-e.start;let o,a;for(let l=0;l<s;l++){const c=this._viewContainerRef.get(l+r);if(c&&c.rootNodes.length){o=a=c.rootNodes[0];break}}for(let l=s-1;l>-1;l--){const c=this._viewContainerRef.get(l+r);if(c&&c.rootNodes.length){a=c.rootNodes[c.rootNodes.length-1];break}}return o&&a?HW(i,"end",a)-HW(i,"start",o):0}ngDoCheck(){if(this._differ&&this._needsUpdate){const e=this._differ.diff(this._renderedItems);e?this._applyChanges(e):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){!this._renderedRange||(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((e,i)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(e,i):i)),this._needsUpdate=!0)}_changeDataSource(e,i){return e&&e.disconnect(this),this._needsUpdate=!0,i?i.connect(this):hn()}_updateContext(){const e=this._data.length;let i=this._viewContainerRef.length;for(;i--;){const r=this._viewContainerRef.get(i);r.context.index=this._renderedRange.start+i,r.context.count=e,this._updateComputedContextProperties(r.context),r.detectChanges()}}_applyChanges(e){this._viewRepeater.applyChanges(e,this._viewContainerRef,(s,o,a)=>this._getEmbeddedViewArgs(s,a),s=>s.item),e.forEachIdentityChange(s=>{this._viewContainerRef.get(s.currentIndex).context.$implicit=s.item});const i=this._data.length;let r=this._viewContainerRef.length;for(;r--;){const s=this._viewContainerRef.get(r);s.context.index=this._renderedRange.start+r,s.context.count=i,this._updateComputedContextProperties(s.context)}}_updateComputedContextProperties(e){e.first=0===e.index,e.last=e.index===e.count-1,e.even=e.index%2==0,e.odd=!e.even}_getEmbeddedViewArgs(e,i){return{templateRef:this._template,context:{$implicit:e.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:i}}}return n.\u0275fac=function(e){return new(e||n)(z(Ja),z(Cr),z(y0),z(LW),z(jW,4),z(Zn))},n.\u0275dir=At({type:n,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},features:[Jn([{provide:LW,useClass:Kxe}])]}),n})(),VW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({}),n})(),lIe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[FW,VW],FW,VW]}),n})();function cIe(n,t){1&n&&fe(0,"app-bubble-multiplier",9),2&n&&F("multiplier",ne().bet.payout)}let uIe=(()=>{class n{constructor(e){this.app=e}}return n.\u0275fac=function(e){return new(e||n)(z(ln))},n.\u0275cmp=rt({type:n,selectors:[["app-bet-item"]],inputs:{bet:"bet"},decls:13,vars:13,consts:[[1,"bet-item","d-flex","align-items-center"],[1,"user","d-flex","align-items-center"],[1,"avatar","mr-1",3,"src","alt"],[1,"username"],[1,"bet","d-flex","justify-content-end"],[3,"amount","isFreeBet"],[1,"multiplier-block","d-flex","align-items-center"],[3,"multiplier",4,"ngIf"],[1,"cash-out"],[3,"multiplier"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1),fe(2,"img",2),R(3,"div",3),U(4),j(5,"maskedUsername"),D()(),R(6,"div",4),fe(7,"app-bet-amount",5),D(),R(8,"div",6),K(9,cIe,1,1,"app-bubble-multiplier",7),D(),R(10,"div",8),U(11),j(12,"currencyPrecision"),D()()),2&e&&(wt("celebrated",i.bet.winAmount),E(2),F("src",i.app.getAvatarUrl(i.bet.profileImage),rn)("alt",i.app.getAvatarUrl(i.bet.profileImage)),E(2),Ye(W(5,9,i.bet.username)),E(3),F("amount",i.bet.bet)("isFreeBet",i.bet.isFreeBet),E(2),F("ngIf",i.bet.payout),E(2),te(" ",W(12,11,i.bet.winAmount)," "))},directives:[Dm,Nt,Dc],pipes:[oa,Xn],styles:[".bet-item[_ngcontent-%COMP%]{height:34px;margin-top:2px;border-radius:8px;background-color:#101112;border:solid 1px #101112;font-size:14px;color:#bbbfc5}.bet-item.celebrated[_ngcontent-%COMP%]{border-color:#427f00;background-color:#123405;color:#fff}.bet-item.celebrated[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{color:#fff}.bet-item[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{width:19%}.bet-item[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin-left:2px;width:30px;height:30px}.bet-item[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{font-size:13px;color:#9ea0a3}.bet-item[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{min-width:35%;padding-right:10px}.bet-item[_ngcontent-%COMP%]   .multiplier-block[_ngcontent-%COMP%]{font-size:12px}.bet-item[_ngcontent-%COMP%]   .cash-out[_ngcontent-%COMP%]{flex:1;padding-right:5px;text-align:right}"]}),n})();function dIe(n,t){1&n&&fe(0,"app-loader")}function hIe(n,t){1&n&&fe(0,"app-bet-item",6),2&n&&F("bet",t.$implicit)}function fIe(n,t){if(1&n&&(R(0,"cdk-virtual-scroll-viewport",4),K(1,hIe,1,1,"app-bet-item",5),D()),2&n){const e=ne();F("itemSize",e.betItemTotalHeight),E(1),F("cdkVirtualForOf",e.bets)("cdkVirtualForTemplateCacheSize",0)}}let Pp=class{constructor(t,e,i,r,s){this.mainService=t,this.cd=e,this.connector=i,this.user=r,this.app=s,this.isPreviousHand=!1,this.loaded=!1,this._bets=[],this.roundInfo=void 0,this.auditDuration=100,this.betItemTotalHeight=36,this.isUpdateCurrentBetsReceived=!1,this._numberOfBets=0}ngOnInit(){this.loadBets(),this.connector.response(mn.Bet,200).pipe(Bt(()=>!this.isPreviousHand),Bt(()=>!this.isUpdateCurrentBetsReceived),Bt(()=>!this.user.settings.getOther(Ic.HideMyActivity)),gr(t=>this._bets.push(t)),ua(this.auditDuration),Ct(this)).subscribe(()=>{this.setNumberOfBets(this.bets.length),this.sortBets(),this.cd.detectChanges()}),this.connector.response(mn.CancelBet,200).pipe(Bt(()=>!this.isPreviousHand),Bt(()=>!this.isUpdateCurrentBetsReceived),Bt(()=>!this.user.settings.getOther(Ic.HideMyActivity)),gr(t=>this._bets=this._bets.filter(e=>!(e.player_id===t.player_id&&e.betId===t.betId))),ua(this.auditDuration),Ct(this)).subscribe(()=>{this.setNumberOfBets(this.bets.length),this.sortBets(),this.cd.detectChanges()}),this.connector.response(mn.CashOut,200).pipe(Bt(()=>!this.isPreviousHand),Bt(()=>!this.isUpdateCurrentBetsReceived),Bt(()=>!this.user.settings.getOther(Ic.HideMyActivity)),gr(t=>this.displayCashOuts(t.cashouts,t.multiplier)),ua(this.auditDuration),Ct(this)).subscribe(()=>{this.sortBets(),this.cd.detectChanges()}),this.connector.response(mn.UpdateCurrentBets,200).pipe(Bt(()=>!this.isPreviousHand),gr(t=>this._bets=t.bets),ua(this.auditDuration),Ct(this)).subscribe(t=>{this.isUpdateCurrentBetsReceived=!0,this.setNumberOfBets(t.betsCount),this.sortBets(),this.cd.detectChanges()}),this.connector.response(mn.UpdateCurrentCashOuts,200).pipe(Bt(()=>!this.isPreviousHand),ua(this.auditDuration),Ct(this)).subscribe(t=>{this.isUpdateCurrentBetsReceived=!0,this.displayCashOuts(t.cashouts),this.cd.detectChanges()}),this.connector.response(mn.CurrentBetsInfo).pipe(Ct(this)).subscribe(t=>{var e;if(200!==t.code)return this.loaded=!0,void this.cd.detectChanges();this.loaded=!0,this._bets=t.bets,this.setNumberOfBets(null!==(e=t.betsCount)&&void 0!==e?e:this.bets.length),"cashOuts"in t&&Array.isArray(t.cashOuts)&&this.displayCashOuts(t.cashOuts),this.sortBets(),this.cd.detectChanges()}),this.connector.response(mn.PreviousRoundInfo).pipe(Ct(this)).subscribe(t=>{if(200!==t.code)return this.loaded=!0,void this.cd.detectChanges();this.loaded=!0,this._bets=t.bets,this.setNumberOfBets(this.bets.length),this.roundInfo=t.roundInfo,this.cd.detectChanges()}),this.mainService.getState(Ji.Bet).pipe(Ct(this)).subscribe(()=>{this.isPreviousHand||(this._bets=[],this.setNumberOfBets(this.bets.length),this.cd.detectChanges())})}onPreviousHand(t){this.isPreviousHand!==t&&(this.isPreviousHand=t,this.loadBets())}get bets(){const t=this.app.config.minBet,e=this.app.config.maxBet;return this._bets.filter(i=>i.bet>=t&&i.bet<=e)}get numberOfBets(){return this._numberOfBets}get isShareEnabled(){return this.app.config.chat.isEnabled&&this.isPreviousHand}setNumberOfBets(t){this.loaded&&(this._numberOfBets=t)}loadBets(){this.loaded=!1,this.isPreviousHand?this.loadPreviousRoundInfo():this.loadCurrentBetsInfo()}loadPreviousRoundInfo(){this.connector.request(Wi.PreviousRoundInfo,null)}loadCurrentBetsInfo(){this.connector.request(Wi.CurrentBetsInfo,null)}displayCashOuts(t,e){t.forEach(i=>{this._bets.forEach(r=>{r.player_id===i.player_id&&r.betId===i.betId&&(r.payout="multiplier"in i?i.multiplier:e,r.winAmount=i.winAmount)})})}sortBets(){this._bets.sort((t,e)=>e.bet-t.bet)}};function pIe(n,t){if(1&n&&(R(0,"div",11),U(1),j(2,"currencyPrecision"),D()),2&n){const e=ne();E(1),te(" ",W(2,1,e.bet.winAmount)," ")}}Pp.\u0275fac=function(t){return new(t||Pp)(z(Zi),z(Sn),z(Bi),z(Ll),z(ln))},Pp.\u0275cmp=rt({type:Pp,selectors:[["app-all-bets-tab"]],decls:4,vars:6,consts:[[1,"d-flex","h-100","flex-column"],[1,"header-wrapper",3,"total","roundInfo","loadedRoundInfo","isPreviousHand","previousHand"],[4,"ngIf"],["class","h-100 scroll-y","minBufferPx","300","maxBufferPx","600",3,"itemSize",4,"ngIf"],["minBufferPx","300","maxBufferPx","600",1,"h-100","scroll-y",3,"itemSize"],[3,"bet",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTemplateCacheSize"],[3,"bet"]],template:function(t,e){1&t&&(R(0,"div",0)(1,"app-header",1),Te("previousHand",function(r){return e.onPreviousHand(r)}),D(),K(2,dIe,1,0,"app-loader",2),K(3,fIe,2,3,"cdk-virtual-scroll-viewport",3),D()),2&t&&(E(1),F("total",e.numberOfBets)("roundInfo",e.roundInfo)("loadedRoundInfo",e.loaded)("isPreviousHand",e.isPreviousHand),E(1),F("ngIf",!e.loaded),E(1),F("ngIf",e.loaded))},directives:[wxe,Nt,Nc,jW,tIe,aIe,uIe],styles:[""],changeDetection:0}),Pp=Ke([Qn()],Pp);const gIe=function(n,t){return{celebrated:n,"bet-item_long-precision":t}},_Ie=function(n){return{disabled:n}};let mIe=(()=>{class n{constructor(e,i,r,s,o,a){this.app=e,this.chatAntiSpamService=i,this.main=r,this.chatFeatureService=s,this.chatMessageService=o,this.oldChat=a}onShareBet(e,i){var r;(null===(r=this.app.config.engagementTools)||void 0===r?void 0:r.isExternalChatEnabled)?this.chatMessageService.shareBet(e,i):this.oldChat.shareBet(e,i)}}return n.\u0275fac=function(e){return new(e||n)(z(ln),z(Rm),z(Zi),z(il),z(Ep),z(hd))},n.\u0275cmp=rt({type:n,selectors:[["app-bet-item"]],inputs:{bet:"bet"},decls:18,vars:23,consts:[[1,"bet-item","d-flex","align-items-center",3,"ngClass"],[1,"date","pl-1"],[1,"d-flex","w-100","align-items-center"],[1,"bet","d-flex","justify-content-end"],[3,"amount","isFreeBet"],[1,"multiplier-block","d-flex","align-items-center"],[3,"multiplier"],["class","cash-out",4,"ngIf"],[1,"d-flex","align-items-center","tools","pr-1"],[1,"fairness-i","disabled-on-game-focused",3,"click"],[1,"share-i","ml-1",3,"ngClass","click"],[1,"cash-out"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1)(2,"div"),U(3),j(4,"date"),D(),R(5,"div"),U(6),j(7,"date"),D()(),R(8,"div",2)(9,"div",3),fe(10,"app-bet-amount",4),D(),R(11,"div",5),fe(12,"app-bubble-multiplier",6),D(),K(13,pIe,3,3,"div",7),D(),R(14,"div",8)(15,"div",9),Te("click",function(){return i.main.checkFairness(i.bet.roundId)}),D(),R(16,"div",10),Te("click",function(){return i.onShareBet(i.bet.roundBetId,i.bet.roundId)}),j(17,"async"),D()()()),2&e&&(F("ngClass",ta(18,gIe,i.bet.winAmount,i.app.isLongPrecision)),E(3),Ye(Ut(4,10,i.bet.cashOutDate,"HH:mm")),E(3),Ye(Ut(7,13,i.bet.cashOutDate,"dd-MM-yy")),E(4),F("amount",i.bet.bet)("isFreeBet",i.bet.isFreeBet),E(2),F("multiplier",i.bet.payout||i.bet.maxMultiplier),E(1),F("ngIf",i.bet.winAmount),E(1),wt("disabled",!i.main.canCheckFairness(i.bet.roundId)),E(2),F("ngClass",di(21,_Ie,!i.chatFeatureService.isChatEnabled||W(17,16,i.chatAntiSpamService.isMessageSendingBlocked$))))},directives:[ys,Dm,Dc,Nt],pipes:[Oa,Xn,Pr],styles:[".bet-item[_ngcontent-%COMP%]{height:34px;margin-top:2px;border-radius:8px;background-color:#101112;border:solid 1px #101112;font-size:14px;color:#fff}@media (min-width: 992px){.bet-item.bet-item_long-precision[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{min-width:50px;max-width:50px}.bet-item.bet-item_long-precision[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){font-size:9px}.bet-item.bet-item_long-precision[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{min-width:33%}.bet-item.bet-item_long-precision[_ngcontent-%COMP%]   .cash-out[_ngcontent-%COMP%]{font-size:12px}}@media (min-width: 1200px){.bet-item.bet-item_long-precision[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{min-width:62px;max-width:62px}.bet-item.bet-item_long-precision[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){font-size:12px}.bet-item.bet-item_long-precision[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{min-width:42%}.bet-item.bet-item_long-precision[_ngcontent-%COMP%]   .cash-out[_ngcontent-%COMP%]{font-size:14px}}.bet-item.celebrated[_ngcontent-%COMP%]{border-color:#427f00;background-color:#123405}.bet-item.celebrated[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{opacity:1}.bet-item[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{min-width:62px;max-width:62px;font-size:12px;color:#bbbfc5;line-height:1}.bet-item[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{min-width:42%;padding-right:10px;opacity:.5}.bet-item[_ngcontent-%COMP%]   .multiplier-block[_ngcontent-%COMP%]{font-size:12px}.bet-item[_ngcontent-%COMP%]   .cash-out[_ngcontent-%COMP%]{flex:1;padding-right:10px;text-align:right}.bet-item[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]{min-width:40px;max-width:40px}.bet-item[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .fairness-i[_ngcontent-%COMP%]{background:url(icon-provabyfair.71eb97eaadfab595.svg) no-repeat center center/contain;width:14px;height:16px;cursor:pointer}.bet-item[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .share-i[_ngcontent-%COMP%]{background:url(share.658297c40a9fcd66.svg) no-repeat center center/contain;width:16px;height:14px;cursor:pointer}.bet-item[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .share-i.disabled[_ngcontent-%COMP%]{cursor:auto;pointer-events:none;opacity:.8}.bet-item[_ngcontent-%COMP%]   .tools.disabled[_ngcontent-%COMP%]{cursor:auto;pointer-events:none;opacity:.5}"]}),n})();function vIe(n,t){1&n&&fe(0,"app-bet-item",9),2&n&&F("bet",t.$implicit)}function yIe(n,t){if(1&n&&(at(0),K(1,vIe,1,1,"app-bet-item",8),lt()),2&n){const e=ne();E(1),F("ngForOf",e.betHistory)}}function bIe(n,t){1&n&&(R(0,"div"),fe(1,"app-loader"),D())}let xp=class{constructor(t,e,i,r,s){this.connector=t,this.mainService=e,this.app=i,this.cd=r,this.user=s,this.isRequested=!1,this.betHistory=[],this.loaded=!1}ngOnInit(){this.getMyBetsStatistics(),this.connector.response(mn.BetHistory,200).pipe(Bt(()=>this.isRequested),Ct(this)).subscribe(t=>{this.betHistory=t.bets,this.loaded=!0,this.isRequested=!1,this.cd.detectChanges()}),this.mainService.getState(Ji.Bet).pipe(Ct(this)).subscribe(()=>this.getMyBetsStatistics()),this.connector.response(mn.CashOut,200).pipe(Ct(this)).subscribe(t=>{t.cashouts.forEach(e=>{this.user.id===e.player_id&&this.getMyBetsStatistics()})})}getMyBetsStatistics(){this.isRequested=!0,this.connector.request(Wi.BetHistory,null)}get isShareEnabled(){return this.app.config.chat.isEnabled}};xp.\u0275fac=function(t){return new(t||xp)(z(Bi),z(Zi),z(ln),z(Sn),z(Ll))},xp.\u0275cmp=rt({type:xp,selectors:[["app-my-bets-tab"]],decls:17,vars:13,consts:[[1,"legend","px-2","d-flex","align-items-center","w-100"],[1,"date"],[1,"d-flex","w-100"],[1,"bet"],[1,"cash-out"],[1,"tools","h-100"],[1,"h-100","scroll-y"],[4,"ngIf"],[3,"bet",4,"ngFor","ngForOf"],[3,"bet"]],template:function(t,e){1&t&&(R(0,"div",0)(1,"div",1),U(2),j(3,"transloco"),D(),R(4,"div",2)(5,"span",3),U(6),j(7,"transloco"),D(),R(8,"span"),U(9,"X"),D(),R(10,"span",4),U(11),j(12,"transloco"),D()(),fe(13,"div",5),D(),R(14,"div",6),K(15,yIe,2,1,"ng-container",7),K(16,bIe,2,0,"div",7),D()),2&t&&(E(2),Ye(W(3,7,"game.bets-widget.date")),E(4),Un(" ",W(7,9,"shared.bet")," ",e.app.config.currency," "),E(5),Un(" ",W(12,11,"shared.cash_out")," ",e.app.config.currency," "),E(4),F("ngIf",e.loaded),E(1),F("ngIf",!e.loaded))},directives:[Nt,oi,mIe,Nc],pipes:[Gt],styles:[".legend[_ngcontent-%COMP%]{font-size:11px;color:#7b7b7b;min-height:20px;max-height:20px}.legend[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{min-width:60px;max-width:60px}.legend[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{min-width:42%;padding-right:10px;text-align:right;white-space:nowrap}.legend[_ngcontent-%COMP%]   .cash-out[_ngcontent-%COMP%]{flex:1;padding:0 10px;text-align:right;white-space:nowrap}.legend[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]{min-width:35px;max-width:35px}"],changeDetection:0}),xp=Ke([Qn()],xp);var zo=(()=>(function(n){n.HugeWins="HugeWins",n.BiggestWins="BiggestWins",n.Multipliers="Multipliers"}(zo||(zo={})),zo))(),ab=(()=>(function(n){n.Day="Day",n.Month="Month",n.Year="Year"}(ab||(ab={})),ab))(),Fm=(()=>(function(n){n.Day="day",n.Month="month",n.Year="year"}(Fm||(Fm={})),Fm))(),lb=(()=>(function(n){n.HugeWins="HugeWins",n.BiggestWins="BiggestWins"}(lb||(lb={})),lb))();function SIe(n,t){if(1&n&&(R(0,"div",7)(1,"div",8)(2,"span"),U(3),j(4,"transloco"),D()(),R(5,"span",20),U(6),j(7,"currencyPrecision"),D()()),2&n){const e=ne();E(3),Un("",W(4,3,"shared.win")," ",e.app.config.currency,":"),E(3),te(" ",W(7,5,e.bet.winAmount)," ")}}function CIe(n,t){1&n&&(R(0,"span"),U(1),j(2,"transloco"),D()),2&n&&(E(1),te(" ",W(2,1,"shared.cashed_out"),": "))}function EIe(n,t){1&n&&(R(0,"span"),U(1),j(2,"transloco"),D()),2&n&&(E(1),te(" ",W(2,1,"shared.multiplier"),": "))}function TIe(n,t){if(1&n&&(R(0,"div",7)(1,"div",8)(2,"span"),U(3),j(4,"transloco"),D()(),R(5,"span",9),U(6),j(7,"currencyPrecision"),D()()),2&n){const e=ne();E(3),Un("",W(4,3,"shared.win")," ",e.app.config.currency,":"),E(3),te(" ",W(7,5,e.bet.winAmount)," ")}}const wIe=function(n){return{disabled:n}};let MIe=(()=>{class n{constructor(e,i,r,s,o,a){this.app=e,this.chatAntiSpamService=i,this.chatFeatureService=r,this.main=s,this.chatMessageService=o,this.oldChat=a,this.winsTab=lb}isTab(e){return this.tab===e}onShareBet(e,i,r){var s;(null===(s=this.app.config.engagementTools)||void 0===s?void 0:s.isExternalChatEnabled)?this.chatMessageService.shareBet(e,i,r):this.oldChat.shareBet(e,i)}}return n.\u0275fac=function(e){return new(e||n)(z(ln),z(Rm),z(il),z(Zi),z(Ep),z(hd))},n.\u0275cmp=rt({type:n,selectors:[["app-wins-bet-item"]],inputs:{bet:"bet",tab:"tab"},decls:44,vars:36,consts:[[1,"bet-item","mt-1"],[1,"main","position-relative","d-flex","align-items-center"],[1,"position-absolute","ml-4"],[1,"avatar",3,"src","alt"],[1,"username"],[1,"d-flex","w-100","justify-content-center","align-items-center"],[1,"w-100"],[1,"d-flex","align-items-center"],[1,"w-50","d-flex","justify-content-end","ml-3"],[1,"amount","ml-1"],["class","d-flex align-items-center",4,"ngIf"],[4,"ngIf"],[1,"ml-1",3,"multiplier"],[1,"fairness-i","position-absolute","mr-2","mt-2","disabled-on-game-focused",3,"click"],[1,"bottom","d-flex","justify-content-between","align-items-center"],[1,"d-flex"],[1,"ml-2","mr-3"],[1,"round-multiplier"],[1,"share","d-flex","justify-content-center","align-items-center","mr-1",3,"ngClass","click"],[1,"share-i","position-absolute"],[1,"amount","celebrated","ml-1","px-2"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1)(2,"div",2),fe(3,"img",3),R(4,"div",4),U(5),j(6,"maskedUsername"),D()(),R(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"span"),U(12),j(13,"transloco"),D()(),R(14,"span",9),U(15),j(16,"currencyPrecision"),D()(),K(17,SIe,8,7,"div",10),R(18,"div",7)(19,"div",8),K(20,CIe,3,3,"span",11),K(21,EIe,3,3,"span",11),D(),fe(22,"app-bubble-multiplier",12),D(),K(23,TIe,8,7,"div",10),D()(),R(24,"div",13),Te("click",function(){return i.main.checkFairness(i.bet.roundId)}),D()(),R(25,"div",14)(26,"div",15)(27,"div",16)(28,"span"),U(29),j(30,"date"),D(),R(31,"span"),U(32),j(33,"transloco"),j(34,"date"),D()(),R(35,"div")(36,"span"),U(37),j(38,"transloco"),D(),R(39,"span",17),U(40),D()()(),R(41,"div",18),Te("click",function(){return i.onShareBet(i.bet.roundBetId,i.bet.roundId,i.bet.playerId)}),j(42,"async"),fe(43,"div",19),D()()()),2&e&&(E(3),F("src",i.app.getAvatarUrl(i.bet.profileImage),rn)("alt",i.app.getAvatarUrl(i.bet.profileImage)),E(2),Ye(W(6,16,i.bet.username)),E(7),Un("",W(13,18,"shared.bet")," ",i.app.config.currency,":"),E(3),te(" ",W(16,20,i.bet.bet)," "),E(2),F("ngIf",i.isTab(i.winsTab.BiggestWins)),E(3),F("ngIf",i.isTab(i.winsTab.HugeWins)),E(1),F("ngIf",i.isTab(i.winsTab.BiggestWins)),E(1),F("multiplier",i.bet.payout),E(1),F("ngIf",i.isTab(i.winsTab.HugeWins)),E(6),Ye(Ut(30,22,i.bet.endDate,"dd ")),E(3),te(" ",W(33,25,"shared.date.month."+Ut(34,27,i.bet.endDate,"LLL"))," "),E(5),te("",W(38,30,"shared.round"),":"),E(3),te(" ",i.bet.maxMultiplier,"x"),E(1),F("ngClass",di(34,wIe,!i.chatFeatureService.isChatEnabled||W(42,32,i.chatAntiSpamService.isMessageSendingBlocked$))))},directives:[Nt,Dc,ys],pipes:[oa,Gt,Xn,Oa,Pr],styles:[".bet-item[_ngcontent-%COMP%]{color:#9ea0a3;font-size:12px}.bet-item[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]{height:80px;background:#101112}.bet-item[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:30px;height:30px}.bet-item[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{font-size:13px}.bet-item[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-size:14px;color:#fff}.bet-item[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .amount.celebrated[_ngcontent-%COMP%]{border-radius:11px;border:solid 1px #427f00;background-color:#123405}.bet-item[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .fairness-i[_ngcontent-%COMP%]{background:url(icon-provabyfair.71eb97eaadfab595.svg) no-repeat center center/contain;min-width:14px;max-width:14px;height:16px;cursor:pointer;right:0;top:0}.bet-item[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]{height:28px;background:#000000}.bet-item[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .round-multiplier[_ngcontent-%COMP%]{color:#fff}.bet-item[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .share[_ngcontent-%COMP%]{width:50px;height:20px;border-radius:17px;border:solid 1px #414148;background-color:#252528;cursor:pointer}.bet-item[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .share[_ngcontent-%COMP%]   .share-i[_ngcontent-%COMP%]{background:url(share-wide.399839e5d2ccf634.svg) no-repeat center center/contain;width:34px;height:14px}.bet-item[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .share.disabled[_ngcontent-%COMP%]{cursor:auto;pointer-events:none;opacity:.8}"]}),n})(),OIe=(()=>{class n{constructor(e){this.main=e}}return n.\u0275fac=function(e){return new(e||n)(z(Zi))},n.\u0275cmp=rt({type:n,selectors:[["app-multipliers-bet-item-first"]],inputs:{bet:"bet"},decls:17,vars:17,consts:[[1,"bet-item","d-flex","align-items-center","justify-content-center","position-relative"],[1,"fairness-i","position-absolute","mr-2","mt-2","disabled-on-game-focused",3,"click"],[1,"d-flex","justify-content-center"],[1,"multiplier","w-100","d-flex","align-items-center"],[3,"padding","borderRadius","multiplier"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1),Te("click",function(){return i.main.checkFairness(i.bet.roundId)}),D(),R(2,"div")(3,"div",2)(4,"div")(5,"span"),U(6),j(7,"date"),D(),R(8,"span"),U(9),j(10,"transloco"),j(11,"date"),D(),R(12,"span"),U(13),j(14,"date"),D()()(),R(15,"div",3),fe(16,"app-bubble-multiplier",4),D()()()),2&e&&(E(6),Ye(Ut(7,6,i.bet.endDate,"dd ")),E(3),te(" ",W(10,9,"shared.date.month."+Ut(11,11,i.bet.endDate,"LLL"))," "),E(4),Ye(Ut(14,14,i.bet.endDate," HH:mm:ss")),E(3),F("padding","2px 16px")("borderRadius","16px")("multiplier",i.bet.maxMultiplier))},directives:[Dc],pipes:[Oa,Gt],styles:[".bet-item[_ngcontent-%COMP%]{height:90px;margin-top:2px;background-color:#101112;font-size:12px;color:#9ea0a3}.bet-item[_ngcontent-%COMP%]   .multiplier[_ngcontent-%COMP%]{font-size:24px}.bet-item[_ngcontent-%COMP%]   .fairness-i[_ngcontent-%COMP%]{background:url(icon-provabyfair.71eb97eaadfab595.svg) no-repeat center center/contain;min-width:14px;max-width:14px;height:16px;cursor:pointer;position:absolute;right:0;top:0}"]}),n})(),PIe=(()=>{class n{constructor(e){this.main=e}}return n.\u0275fac=function(e){return new(e||n)(z(Zi))},n.\u0275cmp=rt({type:n,selectors:[["app-multipliers-bet-item"]],inputs:{bet:"bet"},decls:15,vars:15,consts:[[1,"bet-item","d-flex","align-items-center"],[1,"date","ml-2"],[1,"w-100","d-flex","justify-content-between","align-items-center"],[3,"multiplier"],[1,"fairness-i","mr-2","disabled-on-game-focused",3,"click"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1)(2,"span"),U(3),j(4,"date"),D(),R(5,"span"),U(6),j(7,"transloco"),j(8,"date"),D(),R(9,"span"),U(10),j(11,"date"),D()(),R(12,"div",2),fe(13,"app-bubble-multiplier",3),R(14,"div",4),Te("click",function(){return i.main.checkFairness(i.bet.roundId)}),D()()()),2&e&&(E(3),Ye(Ut(4,4,i.bet.endDate,"dd ")),E(3),Ye(W(7,7,"shared.date.month."+Ut(8,9,i.bet.endDate,"LLL"))),E(4),Ye(Ut(11,12,i.bet.endDate," HH:mm:ss")),E(3),F("multiplier",i.bet.maxMultiplier))},directives:[Dc],pipes:[Oa,Gt],styles:[".bet-item[_ngcontent-%COMP%]{height:34px;margin-top:2px;background-color:#101112;font-size:12px;color:#9ea0a3}.bet-item[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{min-width:45%;max-width:45%}.bet-item[_ngcontent-%COMP%]   .fairness-i[_ngcontent-%COMP%]{background:url(icon-provabyfair.71eb97eaadfab595.svg) no-repeat center center/contain;min-width:14px;max-width:14px;height:16px;cursor:pointer}"]}),n})();function xIe(n,t){if(1&n&&(R(0,"div"),fe(1,"app-wins-bet-item",3),D()),2&n){const e=t.$implicit,i=ne(3);E(1),F("tab",i.winsTab.BiggestWins)("bet",e)}}function IIe(n,t){if(1&n&&(R(0,"div"),K(1,xIe,2,2,"div",2),D()),2&n){const e=ne(2);E(1),F("ngForOf",e.topWins)}}function AIe(n,t){if(1&n&&(R(0,"div"),fe(1,"app-wins-bet-item",3),D()),2&n){const e=t.$implicit,i=ne(3);E(1),F("tab",i.winsTab.HugeWins)("bet",e)}}function RIe(n,t){if(1&n&&(R(0,"div"),K(1,AIe,2,2,"div",2),D()),2&n){const e=ne(2);E(1),F("ngForOf",e.topWins)}}function DIe(n,t){if(1&n&&(R(0,"div"),fe(1,"app-multipliers-bet-item",4),D()),2&n){const e=t.$implicit;E(1),F("bet",e)}}function NIe(n,t){if(1&n&&(R(0,"div"),fe(1,"app-multipliers-bet-item-first",4),K(2,DIe,2,1,"div",2),j(3,"slice"),D()),2&n){const e=ne(2);E(1),F("bet",e.topRounds[0]),E(1),F("ngForOf",Ut(3,2,e.topRounds,1))}}function kIe(n,t){if(1&n&&(R(0,"div"),K(1,IIe,2,1,"div",1),K(2,RIe,2,1,"div",1),K(3,NIe,4,5,"div",1),D()),2&n){const e=ne();E(1),F("ngIf",e.isBiggestWins),E(1),F("ngIf",e.isHugeWins),E(1),F("ngIf",e.isCoefficients&&e.topRounds.length>0)}}function FIe(n,t){1&n&&(R(0,"div"),fe(1,"app-loader"),D())}let Ip=class{constructor(t,e,i,r){this.connector=t,this.cd=e,this.mainService=i,this.app=r,this.options={type:zo.HugeWins,period:Fm.Day},this.loaded=!1,this.winsTab=lb,this.topRounds=[],this._topWins=[],this.responses={[zo.HugeWins]:mn.GetHugeWinsInfo,[zo.BiggestWins]:mn.GetTopWinsInfo,[zo.Multipliers]:mn.GetTopRoundsInfo},this.requests={[zo.HugeWins]:Wi.GetHugeWinsInfo,[zo.BiggestWins]:Wi.GetTopWinsInfo,[zo.Multipliers]:Wi.GetTopRoundsInfo}}ngOnChanges(t){t.options.currentValue!==t.options.previousValue&&null!==this.options&&this.loadData()}loadData(){var t;null===(t=this.statistics$)||void 0===t||t.unsubscribe(),this.loaded=!1,this.topRounds=[],this._topWins=[],this.connector.request(this.requests[this.options.type],{period:this.options.period}),this.statistics$=this.connector.response(this.responses[this.options.type]).pipe(Ct(this)).subscribe(e=>{"topRounds"in e&&(this.topRounds=e.topRounds),"topWins"in e&&(this._topWins=e.topWins),this.loaded=!0,this.cd.detectChanges()}),this.cd.detectChanges()}get topWins(){const t=this.app.config.minBet,e=this.app.config.maxBet;return this._topWins.filter(i=>i.bet>=t&&i.bet<=e)}get isHugeWins(){return this.options.type===zo.HugeWins}get isBiggestWins(){return this.options.type===zo.BiggestWins}get isCoefficients(){return this.options.type===zo.Multipliers}};function LIe(n,t){1&n&&(R(0,"div",9)(1,"span",10),U(2),j(3,"transloco"),D(),R(4,"div",11)(5,"span",12),U(6,"X"),D(),R(7,"span",13),U(8),j(9,"transloco"),D()()()),2&n&&(E(2),Ye(W(3,2,"game.bets-widget.date")),E(6),Ye(W(9,4,"game.bets-widget.fairness")))}Ip.\u0275fac=function(t){return new(t||Ip)(z(Bi),z(Sn),z(Zi),z(ln))},Ip.\u0275cmp=rt({type:Ip,selectors:[["app-top-list"]],inputs:{options:"options"},features:[Is],decls:3,vars:2,consts:[[1,"top-items-list","position-relative","scroll-y"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"tab","bet"],[3,"bet"]],template:function(t,e){1&t&&(R(0,"div",0),K(1,kIe,4,3,"div",1),K(2,FIe,2,0,"div",1),D()),2&t&&(E(1),F("ngIf",e.loaded),E(1),F("ngIf",!e.loaded))},directives:[Nt,oi,MIe,OIe,PIe,Nc],pipes:[W5],styles:[".top-items-list[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;overflow:hidden}.top-items-list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{border-radius:17px;background-image:linear-gradient(82deg,#000000,#0f1214);border:solid 1px #000000;font-size:12px;display:flex;color:#fff;justify-content:space-between;padding:9px 9px 4px 3px;align-items:center;margin-bottom:3px}.top-items-list[_ngcontent-%COMP%]   .item.huge-wins-wrapper[_ngcontent-%COMP%]{height:70px}.top-items-list[_ngcontent-%COMP%]   .item.biggest-wins-wrapper[_ngcontent-%COMP%]{height:80px}"],changeDetection:0}),Ip=Ke([Qn()],Ip);let BIe=(()=>{class n{constructor(){this.activeTab=zo.HugeWins,this.topTab=zo,this.activePeriodTab=ab.Day,this.periodTabs=Object.values(ab),this.topListOptions={type:zo.HugeWins,period:Fm.Day}}onShowTab(e){this.activeTab!==e&&(this.activeTab=e,this.updateListOptions())}onChangePeriodTab(e){this.activePeriodTab=e,this.updateListOptions()}isActiveTab(e){return this.activeTab===e}updateListOptions(){this.topListOptions={type:this.activeTab,period:Fm[this.activePeriodTab]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=rt({type:n,selectors:[["app-top-tab"]],decls:15,vars:20,consts:[[1,"top-tab"],[1,"opt-wrapper","d-flex","justify-content-center","align-items-center","mb-1"],[1,"opt"],[1,"first-type",3,"click"],[1,"second-type",3,"click"],[1,"third-type",3,"click"],[1,"navigation-switcher-wrapper","mb-1",3,"ngModel","tabs","translatePath","toggle"],["class","legend d-flex align-items-center mx-2",4,"ngIf"],[1,"top-list-wrapper",3,"options"],[1,"legend","d-flex","align-items-center","mx-2"],[1,"date","ml-2"],[1,"d-flex","w-100","justify-content-between","align-items-center"],[1,"multiplier"],[1,"fairness"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),Te("click",function(){return i.onShowTab(i.topTab.HugeWins)}),U(4),j(5,"transloco"),D(),R(6,"button",4),Te("click",function(){return i.onShowTab(i.topTab.BiggestWins)}),U(7),j(8,"transloco"),D(),R(9,"button",5),Te("click",function(){return i.onShowTab(i.topTab.Multipliers)}),U(10),j(11,"transloco"),D()()(),R(12,"app-navigation-switcher",6),Te("toggle",function(s){return i.onChangePeriodTab(s)}),D(),K(13,LIe,10,6,"div",7),fe(14,"app-top-list",8),D()),2&e&&(E(3),wt("active",i.isActiveTab(i.topTab.HugeWins)),E(1),te(" ",W(5,14,"game.bets-widget.top.huge wins")," "),E(2),wt("active",i.isActiveTab(i.topTab.BiggestWins)),E(1),te(" ",W(8,16,"game.bets-widget.top.biggest wins")," "),E(2),wt("active",i.isActiveTab(i.topTab.Multipliers)),E(1),te(" ",W(11,18,"game.bets-widget.top.coefficients")," "),E(2),F("ngModel",i.activePeriodTab)("tabs",i.periodTabs)("translatePath","game.bets-widget.top"),E(1),F("ngIf",i.isActiveTab(i.topTab.Multipliers)),E(1),F("options",i.topListOptions))},directives:[DT,fa,Vo,Nt,Ip],pipes:[Gt],styles:[".top-tab[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}.top-tab[_ngcontent-%COMP%]   .opt-wrapper[_ngcontent-%COMP%]{min-height:24px;max-height:24px;line-height:1}.top-tab[_ngcontent-%COMP%]   .opt-wrapper[_ngcontent-%COMP%]   .opt[_ngcontent-%COMP%]{display:flex;justify-content:center}.top-tab[_ngcontent-%COMP%]   .opt-wrapper[_ngcontent-%COMP%]   .opt[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:100%;border-radius:20px;background:none;color:#fff;font-size:13px;border:1px solid transparent;padding:4px 2px}.top-tab[_ngcontent-%COMP%]   .opt-wrapper[_ngcontent-%COMP%]   .opt[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{border-color:#e50539}.top-tab[_ngcontent-%COMP%]   .opt-wrapper[_ngcontent-%COMP%]   .opt[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.active):hover{color:#d0021b;cursor:pointer}.top-tab[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#fff;font-size:13px;text-align:center;margin-bottom:2px;margin-top:4px}.top-tab[_ngcontent-%COMP%]   .child-tab[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;font-size:12px}.navigation-switcher-wrapper[_ngcontent-%COMP%]{min-height:24px;max-height:24px;display:flex;justify-content:center;font-size:12px}.top-list-wrapper[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;min-height:0}.legend[_ngcontent-%COMP%]{font-size:11px;color:#7b7b7b;min-height:20px;max-height:20px}.legend[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{min-width:45%;max-width:45%}"],changeDetection:0}),n})();function UIe(n,t){if(1&n){const e=ft();R(0,"div",7),Te("click",function(){ot(e);const r=ne(2);return r.modal.open(r.modalKey.otherSettings)}),R(1,"u"),U(2),j(3,"transloco"),D()()}2&n&&(E(2),te(" ",W(3,1,"shared.Settings")," "))}function GIe(n,t){if(1&n&&(at(0),R(1,"div",4),fe(2,"div",5),R(3,"span"),U(4),j(5,"transloco"),D(),K(6,UIe,4,3,"div",6),D(),lt()),2&n){const e=ne();E(4),te(" ",W(5,2,"shared.This_functionality_is_disabled"),""),E(2),F("ngIf",e.isTabsHiddenByUser)}}function jIe(n,t){1&n&&fe(0,"app-all-bets-tab",9)}function HIe(n,t){1&n&&fe(0,"app-my-bets-tab",9)}function VIe(n,t){1&n&&fe(0,"app-top-tab",9)}function zIe(n,t){if(1&n&&(at(0),K(1,jIe,1,0,"app-all-bets-tab",8),K(2,HIe,1,0,"app-my-bets-tab",8),K(3,VIe,1,0,"app-top-tab",8),lt()),2&n){const e=ne();E(1),F("ngIf",e.isActive(e.betsWidgetTab.AllBets)),E(1),F("ngIf",e.isActive(e.betsWidgetTab.MyBets)),E(1),F("ngIf",e.isActive(e.betsWidgetTab.Top))}}let WIe=(()=>{class n{constructor(e,i,r,s){this.app=e,this.user=i,this.modal=r,this.cd=s,this.activeTab=Nm.AllBets,this.betsWidgetTab=Nm,this.betsWidgetTabs=Object.values(Nm),this.isTabsHiddenByUser=this.user.settings.getOther(Ic.HideLiveBetsAndStatistics),this.modalKey=Wn}ngOnInit(){this.user.settings.other$.pipe(Bt(e=>e.name===Ic.HideLiveBetsAndStatistics)).subscribe(e=>{this.isTabsHiddenByUser=e.value,this.cd.detectChanges()})}isActive(e){return this.activeTab===e}get isTabsHidden(){return this.app.config.isLiveBetsAndStatisticsHidden||this.isTabsHiddenByUser}}return n.\u0275fac=function(e){return new(e||n)(z(ln),z(Ll),z(jo),z(Sn))},n.\u0275cmp=rt({type:n,selectors:[["app-bets-widget"]],decls:5,vars:5,consts:[[1,"bets-block"],[1,"bets-block-nav","d-flex","justify-content-center","align-items-center","my-1"],[1,"navigation-switcher-wrapper",3,"ngModel","translatePath","tabs","ngModelChange"],[4,"ngIf"],[1,"disabled-block","d-flex","flex-column","align-items-center","justify-content-start"],[1,"disabled-block-image"],["style","cursor: pointer",3,"click",4,"ngIf"],[2,"cursor","pointer",3,"click"],["class","data-list",4,"ngIf"],[1,"data-list"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1)(2,"app-navigation-switcher",2),Te("ngModelChange",function(s){return i.activeTab=s}),D()(),K(3,GIe,7,4,"ng-container",3),K(4,zIe,4,3,"ng-container",3),D()),2&e&&(E(2),F("ngModel",i.activeTab)("translatePath","game.bets-widget")("tabs",i.betsWidgetTabs),E(1),F("ngIf",i.isTabsHidden),E(1),F("ngIf",!i.isTabsHidden))},directives:[DT,fa,Vo,Nt,Pp,xp,BIe],pipes:[Gt],styles:["[_nghost-%COMP%]{display:flex;width:inherit;height:100%;min-height:0}.bets-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%;background:#1b1c1d;border-radius:10px 10px 0 0}.bets-block[_ngcontent-%COMP%]   .bets-block-nav[_ngcontent-%COMP%]{min-height:24px;max-height:24px;font-size:12px}.bets-block[_ngcontent-%COMP%]   .bets-block-nav[_ngcontent-%COMP%]   .navigation-switcher-wrapper[_ngcontent-%COMP%]{height:24px}.bets-block[_ngcontent-%COMP%]   .data-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;min-height:0}.disabled-block[_ngcontent-%COMP%]{color:#96979b;font-size:14px}.disabled-block[_ngcontent-%COMP%]   u[_ngcontent-%COMP%]{color:#fff}.disabled-block[_ngcontent-%COMP%]   .disabled-block-image[_ngcontent-%COMP%]{width:44px;height:37px;margin:75px 0 10px;background:url(not-visible.cc9a74671114ce5f.svg) no-repeat center center/contain}"],changeDetection:0}),n})();function $Ie(n,t){1&n&&(R(0,"a",8),fe(1,"div",9),D()),2&n&&F("href","https://spribe.co",rn)}function YIe(n,t){1&n&&fe(0,"div",10)}let XIe=(()=>{class n{constructor(e,i){this.modal=e,this.app=i}onWhatIsPf(){this.modal.open(Wn.whatIsPf)}}return n.\u0275fac=function(e){return new(e||n)(z(jo),z(ln))},n.\u0275cmp=rt({type:n,selectors:[["app-spribe-footer"]],decls:14,vars:5,consts:[[1,"footer","px-2"],[1,"provably-fair-block"],[1,"provably-fair","disabled-on-game-focused",3,"click"],[1,"i-fair"],[1,"text-provably-fair"],[1,"logo-block","disabled-on-game-focused"],["target","_blank",3,"href",4,"ngIf"],["class","i-logo no-pointer",4,"ngIf"],["target","_blank",3,"href"],[1,"i-logo"],[1,"i-logo","no-pointer"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1)(2,"span"),U(3),j(4,"transloco"),D(),R(5,"div",2),Te("click",function(){return i.onWhatIsPf()}),fe(6,"div",3),R(7,"span",4),U(8,"Provably Fair"),D()()(),R(9,"div",5)(10,"span"),U(11,"Powered by"),D(),K(12,$Ie,2,1,"a",6),K(13,YIe,1,0,"div",7),D()()),2&e&&(E(3),Ye(W(4,3,"shared.ui-components.spribe-footer.this game is")),E(9),F("ngIf",!i.app.config.isLogoUrlHidden),E(1),F("ngIf",i.app.config.isLogoUrlHidden))},directives:[Nt],pipes:[Gt],styles:["[_nghost-%COMP%]{width:100%;display:flex;min-height:25px;max-height:25px}.footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;background-color:#000;border:1px solid #2a2b2e;font-size:11px;color:#5e6269}.footer[_ngcontent-%COMP%]   .provably-fair-block[_ngcontent-%COMP%]{display:flex;height:16px}.footer[_ngcontent-%COMP%]   .provably-fair-block[_ngcontent-%COMP%]   .provably-fair[_ngcontent-%COMP%]{display:flex;cursor:pointer;align-items:center}.footer[_ngcontent-%COMP%]   .provably-fair-block[_ngcontent-%COMP%]   .provably-fair[_ngcontent-%COMP%]   .i-fair[_ngcontent-%COMP%]{background:url(icon-provabyfair.71eb97eaadfab595.svg) no-repeat center center/contain;width:14px;height:16px;margin:0 4px 0 6px}.footer[_ngcontent-%COMP%]   .provably-fair-block[_ngcontent-%COMP%]   .provably-fair[_ngcontent-%COMP%]   .text-provably-fair[_ngcontent-%COMP%]{font-size:12px;color:#bbbfc5;line-height:1px}.footer[_ngcontent-%COMP%]   .logo-block[_ngcontent-%COMP%]{display:flex;height:14px}.footer[_ngcontent-%COMP%]   .logo-block[_ngcontent-%COMP%]   .i-logo[_ngcontent-%COMP%]{background:url(logo.21150cff6aca56a1.svg) no-repeat center center/contain;width:34px;height:14px;margin-left:4px;cursor:pointer}.footer[_ngcontent-%COMP%]   .logo-block[_ngcontent-%COMP%]   .i-logo.no-pointer[_ngcontent-%COMP%]{cursor:default}"],changeDetection:0}),n})();var BT=(()=>(function(n){n.PurplePink="purple-pink",n.Green="green",n.Teal="teal",n.Purple="purple",n.Red="red",n.Orange="orange"}(BT||(BT={})),BT))(),_d=(()=>(function(n){n.RACE="RACE",n.MISSION="MISSION",n.TOURNAMENT="TOURNAMENT"}(_d||(_d={})),_d))(),kc=(()=>(function(n){n.FreeBet="FREE_BET",n.Special="SPECIAL"}(kc||(kc={})),kc))(),md=(()=>(function(n){n.Single="SINGLE",n.Range="RANGE"}(md||(md={})),md))(),yr=(()=>(function(n){n.Announced="ANNOUNCED",n.Active="ACTIVE",n.Finished="FINISHED",n.Paused="PAUSED",n.Closed="CLOSED",n.Canceled="CANCELED"}(yr||(yr={})),yr))(),$i=(()=>(function(n){n.None="NONE",n.Joined="JOINED",n.Won="WON",n.Rewarded="REWARDED",n.Kicked="KICKED",n.OperatorKicked="OPERATOR_KICKED"}($i||($i={})),$i))(),Ui=(()=>(function(n){n.RACE="xRace",n.MISSION="xMission",n.TOURNAMENT="xTournament"}(Ui||(Ui={})),Ui))();const zW={[_d.RACE]:Ui.RACE,[_d.MISSION]:Ui.MISSION,[_d.TOURNAMENT]:Ui.TOURNAMENT},WW={name:"",startDate:0,endDate:0,minBet:0,currency:"",currencyPrecision:0,isCurrencyNameHidden:!1,isNetwork:!1,leaderBoardSize:100,challengeId:0,type:_d.RACE,typeUi:zW[_d.RACE]},qIe={config:WW,challengeStatus:yr.Closed,playerStatus:$i.None,progress:{tasks:[],total:0},prizes:[],joinCount:0};let bo=(()=>{class n{constructor(e,i){this.stomp=e,this.app=i,this.updateDataSubject=new On(qIe),this.updateData$=this.updateDataSubject.asObservable(),this.updateStateSubject=new On({isChallengeAvailable:!1,joinCount:0}),this.updateState$=this.updateStateSubject.asObservable(),this._config=Object.assign({},WW),this.stomp.response(Pi.ChallengesInit).pipe(Bt(r=>r.challenges.length>0),Ie(r=>r.challenges[0])).subscribe(r=>this.handleChallengeUpdate(r)),this.stomp.response(Pi.ChallengesAnnounce).subscribe(r=>this.handleChallengeUpdate(r)),this.stomp.response(Pi.JoinCount).subscribe(r=>{this.updateStateSubject.next(Object.assign(Object.assign({},this.updateStateSubject.getValue()),{joinCount:r.joinCount}))}),this.stomp.response(Pi.PlayerStatus).subscribe(r=>{this.updateStateSubject.next(Object.assign(Object.assign({},this.updateStateSubject.getValue()),{isChallengeAvailable:r.status!==$i.Kicked&&r.status!==$i.OperatorKicked}))}),this.stomp.response(Pi.ChallengeStatus).subscribe(r=>{this.updateStateSubject.next(Object.assign(Object.assign({},this.updateStateSubject.getValue()),{isChallengeAvailable:r.status!==yr.Closed&&r.status!==yr.Canceled}))}),this.stomp.state$.subscribe(r=>{this.updateStateSubject.next(Object.assign(Object.assign({},this.updateStateSubject.getValue()),{isChallengeAvailable:r.state!==Ra.Disconnected}))})}get update(){return this.updateStateSubject.getValue()}handleChallengeUpdate(e){var i,r;this._config={name:e.config.name,startDate:e.config.startDate,endDate:e.config.endDate,minBet:e.config.minBet,isCurrencyNameHidden:this.app.config.isCurrencyNameHidden,currency:this.app.config.isCurrencyNameHidden?"":this.app.config.currency,currencyPrecision:this.app.config.betPrecision,isNetwork:null!==(i=e.config.isNetwork)&&void 0!==i&&i,leaderBoardSize:e.config.leaderBoardSize||100,challengeId:e.config.challengeId,type:e.config.type,typeUi:zW[e.config.type],backgroundImage:null!==(r=e.config.backgroundImage)&&void 0!==r?r:BT.PurplePink},this.updateDataSubject.next(e),this.updateStateSubject.next({isChallengeAvailable:!0,joinCount:e.joinCount})}get config(){return this._config}}return n.\u0275fac=function(e){return new(e||n)(je(Da),je(ln))},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})();function vd(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function $W(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.__proto__=t}var OD,Vr,Eu,RD,DD,QW,n$,Hm,XT,rl={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Lm={duration:.5,overwrite:!1,delay:0},Gl=1e8,sr=1e-8,PD=2*Math.PI,KIe=PD/4,JIe=0,YW=Math.sqrt,ZIe=Math.cos,QIe=Math.sin,eo=function(t){return"string"==typeof t},to=function(t){return"function"==typeof t},yd=function(t){return"number"==typeof t},xD=function(t){return void 0===t},bd=function(t){return"object"==typeof t},Na=function(t){return!1!==t},XW=function(){return"undefined"!=typeof window},UT=function(t){return to(t)||eo(t)},qW="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},Wo=Array.isArray,ID=/(?:-?\.?\d|\.)+/gi,KW=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Bm=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,AD=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,JW=/[+-]=-?[.\d]+/,ZW=/[^,'"\[\]\s]+/gi,eAe=/[\d.+\-=]+(?:e[-+]\d*)*/i,sl={},GT={},e$=function(t){return(GT=Um(t,sl))&&wu},ND=function(t,e){return console.warn("Invalid property",t,"set to",e,"Missing plugin? gsap.registerPlugin()")},jT=function(t,e){return!e&&console.warn(t)},t$=function(t,e){return t&&(sl[t]=e)&&GT&&(GT[t]=e)||sl},cb=function(){return 0},kD={},Ch=[],FD={},ol={},LD={},i$=30,HT=[],BD="",UD=function(t){var i,r,e=t[0];if(bd(e)||to(e)||(t=[t]),!(i=(e._gsap||{}).harness)){for(r=HT.length;r--&&!HT[r].targetTest(e););i=HT[r]}for(r=t.length;r--;)t[r]&&(t[r]._gsap||(t[r]._gsap=new I$(t[r],i)))||t.splice(r,1);return t},Ap=function(t){return t._gsap||UD(Vl(t))[0]._gsap},r$=function(t,e,i){return(i=t[e])&&to(i)?t[e]():xD(i)&&t.getAttribute&&t.getAttribute(e)||i},ka=function(t,e){return(t=t.split(",")).forEach(e)||t},Ms=function(t){return Math.round(1e5*t)/1e5||0},$o=function(t){return Math.round(1e7*t)/1e7||0},tAe=function(t,e){for(var i=e.length,r=0;t.indexOf(e[r])<0&&++r<i;);return r<i},VT=function(){var i,r,t=Ch.length,e=Ch.slice(0);for(FD={},Ch.length=0,i=0;i<t;i++)(r=e[i])&&r._lazy&&(r.render(r._lazy[0],r._lazy[1],!0)._lazy=0)},s$=function(t,e,i,r){Ch.length&&VT(),t.render(e,i,r),Ch.length&&VT()},o$=function(t){var e=parseFloat(t);return(e||0===e)&&(t+"").match(ZW).length<2?e:eo(t)?t.trim():t},a$=function(t){return t},jl=function(t,e){for(var i in e)i in t||(t[i]=e[i]);return t},Um=function(t,e){for(var i in e)t[i]=e[i];return t},l$=function n(t,e){for(var i in e)"__proto__"!==i&&"constructor"!==i&&"prototype"!==i&&(t[i]=bd(e[i])?n(t[i]||(t[i]={}),e[i]):e[i]);return t},zT=function(t,e){var r,i={};for(r in t)r in e||(i[r]=t[r]);return i},ub=function(t){var e=t.parent||Vr,i=t.keyframes?function(t){return function(e,i){for(var r in i)r in e||"duration"===r&&t||"ease"===r||(e[r]=i[r])}}(Wo(t.keyframes)):jl;if(Na(t.inherit))for(;e;)i(t,e.vars.defaults),e=e.parent||e._dp;return t},WT=function(t,e,i,r){void 0===i&&(i="_first"),void 0===r&&(r="_last");var s=e._prev,o=e._next;s?s._next=o:t[i]===e&&(t[i]=o),o?o._prev=s:t[r]===e&&(t[r]=s),e._next=e._prev=e.parent=null},Sd=function(t,e){t.parent&&(!e||t.parent.autoRemoveChildren)&&t.parent.remove(t),t._act=0},Rp=function(t,e){if(t&&(!e||e._end>t._dur||e._start<0))for(var i=t;i;)i._dirty=1,i=i.parent;return t},sAe=function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t},oAe=function n(t){return!t||t._ts&&n(t.parent)},c$=function(t){return t._repeat?Gm(t._tTime,t=t.duration()+t._rDelay)*t:0},Gm=function(t,e){var i=Math.floor(t/=e);return t&&i===t?i-1:i},$T=function(t,e){return(t-e._start)*e._ts+(e._ts>=0?0:e._dirty?e.totalDuration():e._tDur)},YT=function(t){return t._end=$o(t._start+(t._tDur/Math.abs(t._ts||t._rts||sr)||0))},u$=function(t,e){var i=t._dp;return i&&i.smoothChildTiming&&t._ts&&(t._start=$o(i._time-(t._ts>0?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),YT(t),i._dirty||Rp(i,t)),t},d$=function(t,e){var i;if((e._time||e._initted&&!e._dur)&&(i=$T(t.rawTime(),e),(!e._dur||hb(0,e.totalDuration(),i)-e._tTime>sr)&&e.render(i,!0)),Rp(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(i=t;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;t._zTime=-sr}},Tu=function(t,e,i,r){return e.parent&&Sd(e),e._start=$o((yd(i)?i:i||t!==Vr?Hl(t,i,e):t._time)+e._delay),e._end=$o(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),function(t,e,i,r,s){void 0===i&&(i="_first"),void 0===r&&(r="_last");var a,o=t[r];if(s)for(a=e[s];o&&o[s]>a;)o=o._prev;o?(e._next=o._next,o._next=e):(e._next=t[i],t[i]=e),e._next?e._next._prev=e:t[r]=e,e._prev=o,e.parent=e._dp=t}(t,e,"_first","_last",t._sort?"_start":0),GD(e)||(t._recent=e),r||d$(t,e),t},h$=function(t,e){return(sl.ScrollTrigger||ND("scrollTrigger",e))&&sl.ScrollTrigger.create(e,t)},f$=function(t,e,i,r){return xAe(t,e),t._initted?!i&&t._pt&&(t._dur&&!1!==t.vars.lazy||!t._dur&&t.vars.lazy)&&n$!==Wl.frame?(Ch.push(t),t._lazy=[e,r],1):void 0:1},aAe=function n(t){var e=t.parent;return e&&e._ts&&e._initted&&!e._lock&&(e.rawTime()<0||n(e))},GD=function(t){var e=t.data;return"isFromStart"===e||"isStart"===e},jm=function(t,e,i,r){var s=t._repeat,o=$o(e)||0,a=t._tTime/t._tDur;return a&&!r&&(t._time*=o/t._dur),t._dur=o,t._tDur=s?s<0?1e10:$o(o*(s+1)+t._rDelay*s):o,a>0&&!r?u$(t,t._tTime=t._tDur*a):t.parent&&YT(t),i||Rp(t.parent,t),t},p$=function(t){return t instanceof La?Rp(t):jm(t,t._dur)},uAe={_start:0,endTime:cb,totalDuration:cb},Hl=function n(t,e,i){var a,l,c,r=t.labels,s=t._recent||uAe,o=t.duration()>=Gl?s.endTime(!1):t._dur;return eo(e)&&(isNaN(e)||e in r)?(l=e.charAt(0),c="%"===e.substr(-1),a=e.indexOf("="),"<"===l||">"===l?(a>=0&&(e=e.replace(/=/,"")),("<"===l?s._start:s.endTime(s._repeat>=0))+(parseFloat(e.substr(1))||0)*(c?(a<0?s:i).totalDuration()/100:1)):a<0?(e in r||(r[e]=o),r[e]):(l=parseFloat(e.charAt(a-1)+e.substr(a+1)),c&&i&&(l=l/100*(Wo(i)?i[0]:i).totalDuration()),a>1?n(t,e.substr(0,a-1),i)+l:o+l)):null==e?o:+e},db=function(t,e,i){var a,l,r=yd(e[1]),s=(r?2:1)+(t<2?0:1),o=e[s];if(r&&(o.duration=e[1]),o.parent=i,t){for(a=o,l=i;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=Na(l.vars.inherit)&&l.parent;o.immediateRender=Na(a.immediateRender),t<2?o.runBackwards=1:o.startAt=e[s-1]}return new no(e[0],o,e[s+1])},Eh=function(t,e){return t||0===t?e(t):e},hb=function(t,e,i){return i<t?t:i>e?e:i},Fa=function(t,e){return eo(t)&&(e=eAe.exec(t))?t.substr(e.index+e[0].length):""},jD=[].slice,g$=function(t,e){return t&&bd(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&bd(t[0]))&&!t.nodeType&&t!==Eu},Vl=function(t,e,i){return!eo(t)||i||!RD&&Vm()?Wo(t)?function(t,e,i){return void 0===i&&(i=[]),t.forEach(function(r){var s;return eo(r)&&!e||g$(r,1)?(s=i).push.apply(s,Vl(r)):i.push(r)})||i}(t,i):g$(t)?jD.call(t,0):t?[t]:[]:jD.call((e||DD).querySelectorAll(t),0)},_$=function(t){return t.sort(function(){return.5-Math.random()})},m$=function(t){if(to(t))return t;var e=bd(t)?t:{each:t},i=Dp(e.ease),r=e.from||0,s=parseFloat(e.base)||0,o={},a=r>0&&r<1,l=isNaN(r)||a,c=e.axis,u=r,d=r;return eo(r)?u=d={center:.5,edges:.5,end:1}[r]||0:!a&&l&&(u=r[0],d=r[1]),function(f,y,O){var k,B,G,Y,J,Z,ge,pe,ae,I=(O||e).length,N=o[I];if(!N){if(!(ae="auto"===e.grid?0:(e.grid||[1,Gl])[1])){for(ge=-Gl;ge<(ge=O[ae++].getBoundingClientRect().left)&&ae<I;);ae--}for(N=o[I]=[],k=l?Math.min(ae,I)*u-.5:r%ae,B=ae===Gl?0:l?I*d/ae-.5:r/ae|0,ge=0,pe=Gl,Z=0;Z<I;Z++)G=Z%ae-k,Y=B-(Z/ae|0),N[Z]=J=c?Math.abs("y"===c?Y:G):YW(G*G+Y*Y),J>ge&&(ge=J),J<pe&&(pe=J);"random"===r&&_$(N),N.max=ge-pe,N.min=pe,N.v=I=(parseFloat(e.amount)||parseFloat(e.each)*(ae>I?I-1:c?"y"===c?I/ae:ae:Math.max(ae,I/ae))||0)*("edges"===r?-1:1),N.b=I<0?s-I:s,N.u=Fa(e.amount||e.each)||0,i=i&&I<0?O$(i):i}return I=(N[f]-N.min)/N.max||0,$o(N.b+(i?i(I):I)*N.v)+N.u}},HD=function(t){var e=Math.pow(10,((t+"").split(".")[1]||"").length);return function(i){var r=Math.round(parseFloat(i)/t)*t*e;return(r-r%1)/e+(yd(i)?0:Fa(i))}},v$=function(t,e){var r,s,i=Wo(t);return!i&&bd(t)&&(r=i=t.radius||Gl,t.values?(t=Vl(t.values),(s=!yd(t[0]))&&(r*=r)):t=HD(t.increment)),Eh(e,i?to(t)?function(o){return s=t(o),Math.abs(s-o)<=r?s:o}:function(o){for(var f,y,a=parseFloat(s?o.x:o),l=parseFloat(s?o.y:0),c=Gl,u=0,d=t.length;d--;)(f=s?(f=t[d].x-a)*f+(y=t[d].y-l)*y:Math.abs(t[d]-a))<c&&(c=f,u=d);return u=!r||c<=r?t[u]:o,s||u===o||yd(o)?u:u+Fa(o)}:HD(t))},y$=function(t,e,i,r){return Eh(Wo(t)?!e:!0===i?!!(i=0):!r,function(){return Wo(t)?t[~~(Math.random()*t.length)]:(i=i||1e-5)&&(r=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((t-i/2+Math.random()*(e-t+.99*i))/i)*i*r)/r})},b$=function(t,e,i){return Eh(i,function(r){return t[~~e(r)]})},fb=function(t){for(var r,s,o,a,e=0,i="";~(r=t.indexOf("random(",e));)o=t.indexOf(")",r),a="["===t.charAt(r+7),s=t.substr(r+7,o-r-7).match(a?ZW:ID),i+=t.substr(e,r-e)+y$(a?s:+s[0],a?0:+s[1],+s[2]||1e-5),e=o+1;return i+t.substr(e,t.length-e)},S$=function(t,e,i,r,s){var o=e-t,a=r-i;return Eh(s,function(l){return i+((l-t)/o*a||0)})},C$=function(t,e,i){var o,a,l,r=t.labels,s=Gl;for(o in r)(a=r[o]-e)<0==!!i&&a&&s>(a=Math.abs(a))&&(l=o,s=a);return l},zl=function(t,e,i){var o,a,r=t.vars,s=r[e];if(s)return o=r[e+"Params"],a=r.callbackScope||t,i&&Ch.length&&VT(),o?s.apply(a,o):s.call(a)},pb=function(t){return Sd(t),t.scrollTrigger&&t.scrollTrigger.kill(!1),t.progress()<1&&zl(t,"onInterrupt"),t},bAe=function(t){var e=(t=!t.name&&t.default||t).name,i=to(t),r=e&&!i&&t.init?function(){this._props=[]}:t,s={init:cb,render:qD,add:$D,kill:FAe,modifier:kAe,rawVars:0},o={targetTest:0,get:0,getSetter:XD,aliases:{},register:0};if(Vm(),t!==r){if(ol[e])return;jl(r,jl(zT(t,s),o)),Um(r.prototype,Um(s,zT(t,o))),ol[r.prop=e]=r,t.targetTest&&(HT.push(r),kD[e]=1),e=("css"===e?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}t$(e,r),t.register&&t.register(wu,r,Ba)},or=255,gb={aqua:[0,or,or],lime:[0,or,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,or],navy:[0,0,128],white:[or,or,or],olive:[128,128,0],yellow:[or,or,0],orange:[or,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[or,0,0],pink:[or,192,203],cyan:[0,or,or],transparent:[or,or,or,0]},VD=function(t,e,i){return(6*(t+=t<0?1:t>1?-1:0)<1?e+(i-e)*t*6:t<.5?i:3*t<2?e+(i-e)*(2/3-t)*6:e)*or+.5|0},E$=function(t,e,i){var s,o,a,l,c,u,d,f,y,O,r=t?yd(t)?[t>>16,t>>8&or,t&or]:0:gb.black;if(!r){if(","===t.substr(-1)&&(t=t.substr(0,t.length-1)),gb[t])r=gb[t];else if("#"===t.charAt(0)){if(t.length<6&&(s=t.charAt(1),o=t.charAt(2),a=t.charAt(3),t="#"+s+s+o+o+a+a+(5===t.length?t.charAt(4)+t.charAt(4):"")),9===t.length)return[(r=parseInt(t.substr(1,6),16))>>16,r>>8&or,r&or,parseInt(t.substr(7),16)/255];r=[(t=parseInt(t.substr(1),16))>>16,t>>8&or,t&or]}else if("hsl"===t.substr(0,3))if(r=O=t.match(ID),e){if(~t.indexOf("="))return r=t.match(KW),i&&r.length<4&&(r[3]=1),r}else l=+r[0]%360/360,c=+r[1]/100,s=2*(u=+r[2]/100)-(o=u<=.5?u*(c+1):u+c-u*c),r.length>3&&(r[3]*=1),r[0]=VD(l+1/3,s,o),r[1]=VD(l,s,o),r[2]=VD(l-1/3,s,o);else r=t.match(ID)||gb.transparent;r=r.map(Number)}return e&&!O&&(s=r[0]/or,o=r[1]/or,a=r[2]/or,u=((d=Math.max(s,o,a))+(f=Math.min(s,o,a)))/2,d===f?l=c=0:(y=d-f,c=u>.5?y/(2-d-f):y/(d+f),l=d===s?(o-a)/y+(o<a?6:0):d===o?(a-s)/y+2:(s-o)/y+4,l*=60),r[0]=~~(l+.5),r[1]=~~(100*c+.5),r[2]=~~(100*u+.5)),i&&r.length<4&&(r[3]=1),r},T$=function(t){var e=[],i=[],r=-1;return t.split(Th).forEach(function(s){var o=s.match(Bm)||[];e.push.apply(e,o),i.push(r+=o.length+1)}),e.c=i,e},w$=function(t,e,i){var l,c,u,d,r="",s=(t+r).match(Th),o=e?"hsla(":"rgba(",a=0;if(!s)return t;if(s=s.map(function(f){return(f=E$(f,e,1))&&o+(e?f[0]+","+f[1]+"%,"+f[2]+"%,"+f[3]:f.join(","))+")"}),i&&(u=T$(t),(l=i.c).join(r)!==u.c.join(r)))for(d=(c=t.replace(Th,"1").split(Bm)).length-1;a<d;a++)r+=c[a]+(~l.indexOf(a)?s.shift()||o+"0,0,0,0)":(u.length?u:s.length?s:i).shift());if(!c)for(d=(c=t.split(Th)).length-1;a<d;a++)r+=c[a]+s[a];return r+c[d]},Th=function(){var t,n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(t in gb)n+="|"+t+"\\b";return new RegExp(n+")","gi")}(),SAe=/hsl[a]?\(/,M$=function(t){var i,e=t.join(" ");if(Th.lastIndex=0,Th.test(e))return i=SAe.test(e),t[1]=w$(t[1],i),t[0]=w$(t[0],i,T$(t[1])),!0},Wl=function(){var l,c,u,d,f,y,n=Date.now,t=500,e=33,i=n(),r=i,s=1e3/240,o=s,a=[],O=function I(N){var G,Y,J,Z,k=n()-r,B=!0===N;if(k>t&&(i+=k-e),((G=(J=(r+=k)-i)-o)>0||B)&&(Z=++d.frame,f=J-1e3*d.time,d.time=J/=1e3,o+=G+(G>=s?4:s-G),Y=1),B||(l=c(I)),Y)for(y=0;y<a.length;y++)a[y](J,f,Z,N)};return d={time:0,frame:0,tick:function(){O(!0)},deltaRatio:function(N){return f/(1e3/(N||60))},wake:function(){QW&&(!RD&&XW()&&(Eu=RD=window,DD=Eu.document||{},sl.gsap=wu,(Eu.gsapVersions||(Eu.gsapVersions=[])).push(wu.version),e$(GT||Eu.GreenSockGlobals||!Eu.gsap&&Eu||{}),u=Eu.requestAnimationFrame),l&&d.sleep(),c=u||function(N){return setTimeout(N,o-1e3*d.time+1|0)},XT=1,O(2))},sleep:function(){(u?Eu.cancelAnimationFrame:clearTimeout)(l),XT=0,c=cb},lagSmoothing:function(N,k){t=N||1/sr,e=Math.min(k,t,0)},fps:function(N){o=1e3*d.time+(s=1e3/(N||240))},add:function(N){a.indexOf(N)<0&&a.push(N),Vm()},remove:function(N,k){~(k=a.indexOf(N))&&a.splice(k,1)&&y>=k&&y--},_listeners:a}}(),Vm=function(){return!XT&&Wl.wake()},vi={},CAe=/^[\d.\-M][\d.\-,\s]/,EAe=/["']/g,TAe=function(t){for(var a,l,c,e={},i=t.substr(1,t.length-3).split(":"),r=i[0],s=1,o=i.length;s<o;s++)l=i[s],a=s!==o-1?l.lastIndexOf(","):l.length,c=l.substr(0,a),e[r]=isNaN(c)?c.replace(EAe,"").trim():+c,r=l.substr(a+1).trim();return e},O$=function(t){return function(e){return 1-t(1-e)}},P$=function n(t,e){for(var r,i=t._first;i;)i instanceof La?n(i,e):i.vars.yoyoEase&&(!i._yoyo||!i._repeat)&&i._yoyo!==e&&(i.timeline?n(i.timeline,e):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=e)),i=i._next},Dp=function(t,e){return t&&(to(t)?t:vi[t]||function(t){var e=(t+"").split("("),i=vi[e[0]];return i&&e.length>1&&i.config?i.config.apply(null,~t.indexOf("{")?[TAe(e[1])]:function(t){var e=t.indexOf("(")+1,i=t.indexOf(")"),r=t.indexOf("(",e);return t.substring(e,~r&&r<i?t.indexOf(")",i+1):i)}(t).split(",").map(o$)):vi._CE&&CAe.test(t)?vi._CE("",t):i}(t))||e},Np=function(t,e,i,r){void 0===i&&(i=function(l){return 1-e(1-l)}),void 0===r&&(r=function(l){return l<.5?e(2*l)/2:1-e(2*(1-l))/2});var o,s={easeIn:e,easeOut:i,easeInOut:r};return ka(t,function(a){for(var l in vi[a]=sl[a]=s,vi[o=a.toLowerCase()]=i,s)vi[o+("easeIn"===l?".in":"easeOut"===l?".out":".inOut")]=vi[a+"."+l]=s[l]}),s},x$=function(t){return function(e){return e<.5?(1-t(1-2*e))/2:.5+t(2*(e-.5))/2}},zD=function n(t,e,i){var r=e>=1?e:1,s=(i||(t?.3:.45))/(e<1?e:1),o=s/PD*(Math.asin(1/r)||0),a=function(u){return 1===u?1:r*Math.pow(2,-10*u)*QIe((u-o)*s)+1},l="out"===t?a:"in"===t?function(c){return 1-a(1-c)}:x$(a);return s=PD/s,l.config=function(c,u){return n(t,c,u)},l},WD=function n(t,e){void 0===e&&(e=1.70158);var i=function(o){return o?--o*o*((e+1)*o+e)+1:0},r="out"===t?i:"in"===t?function(s){return 1-i(1-s)}:x$(i);return r.config=function(s){return n(t,s)},r};ka("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,t){var e=t<5?t+1:t;Np(n+",Power"+(e-1),t?function(i){return Math.pow(i,e)}:function(i){return i},function(i){return 1-Math.pow(1-i,e)},function(i){return i<.5?Math.pow(2*i,e)/2:1-Math.pow(2*(1-i),e)/2})}),vi.Linear.easeNone=vi.none=vi.Linear.easeIn,Np("Elastic",zD("in"),zD("out"),zD()),function(n,t){var s=function(a){return a<.36363636363636365?n*a*a:a<.7272727272727273?n*Math.pow(a-1.5/t,2)+.75:a<.9090909090909092?n*(a-=2.25/t)*a+.9375:n*Math.pow(a-2.625/t,2)+.984375};Np("Bounce",function(o){return 1-s(1-o)},s)}(7.5625,2.75),Np("Expo",function(n){return n?Math.pow(2,10*(n-1)):0}),Np("Circ",function(n){return-(YW(1-n*n)-1)}),Np("Sine",function(n){return 1===n?1:1-ZIe(n*KIe)}),Np("Back",WD("in"),WD("out"),WD()),vi.SteppedEase=vi.steps=sl.SteppedEase={config:function(t,e){void 0===t&&(t=1);var i=1/t,r=t+(e?0:1),s=e?1:0;return function(a){return((r*hb(0,.99999999,a)|0)+s)*i}}},Lm.ease=vi["quad.out"],ka("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return BD+=n+","+n+"Params,"});var I$=function(t,e){this.id=JIe++,t._gsap=this,this.target=t,this.harness=e,this.get=e?e.get:r$,this.set=e?e.getSetter:XD},_b=function(){function n(e){this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat===1/0?-2:e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,jm(this,+e.duration,1,1),this.data=e.data,XT||Wl.wake()}var t=n.prototype;return t.delay=function(i){return i||0===i?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+i-this._delay),this._delay=i,this):this._delay},t.duration=function(i){return arguments.length?this.totalDuration(this._repeat>0?i+(i+this._rDelay)*this._repeat:i):this.totalDuration()&&this._dur},t.totalDuration=function(i){return arguments.length?(this._dirty=0,jm(this,this._repeat<0?i:(i-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(i,r){if(Vm(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(u$(this,i),!s._dp||s.parent||d$(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&i<this._tDur||this._ts<0&&i>0||!this._tDur&&!i)&&Tu(this._dp,this,this._start-this._delay)}return(this._tTime!==i||!this._dur&&!r||this._initted&&Math.abs(this._zTime)===sr||!i&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=i),s$(this,i,r)),this},t.time=function(i,r){return arguments.length?this.totalTime(Math.min(this.totalDuration(),i+c$(this))%(this._dur+this._rDelay)||(i?this._dur:0),r):this._time},t.totalProgress=function(i,r){return arguments.length?this.totalTime(this.totalDuration()*i,r):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},t.progress=function(i,r){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?i:1-i)+c$(this),r):this.duration()?Math.min(1,this._time/this._dur):this.ratio},t.iteration=function(i,r){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(i-1)*s,r):this._repeat?Gm(this._tTime,s)+1:1},t.timeScale=function(i){if(!arguments.length)return this._rts===-sr?0:this._rts;if(this._rts===i)return this;var r=this.parent&&this._ts?$T(this.parent._time,this):this._tTime;return this._rts=+i||0,this._ts=this._ps||i===-sr?0:this._rts,sAe(this.totalTime(hb(-this._delay,this._tDur,r),!0)),YT(this),this},t.paused=function(i){return arguments.length?(this._ps!==i&&(this._ps=i,i?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Vm(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==sr&&(this._tTime-=sr)))),this):this._ps},t.startTime=function(i){if(arguments.length){this._start=i;var r=this.parent||this._dp;return r&&(r._sort||!this.parent)&&Tu(r,this,i-this._delay),this}return this._start},t.endTime=function(i){return this._start+(Na(i)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(i){var r=this.parent||this._dp;return r?i&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?$T(r.rawTime(i),this):this._tTime:this._tTime},t.globalTime=function(i){for(var r=this,s=arguments.length?i:r.rawTime();r;)s=r._start+s/(r._ts||1),r=r._dp;return s},t.repeat=function(i){return arguments.length?(this._repeat=i===1/0?-2:i,p$(this)):-2===this._repeat?1/0:this._repeat},t.repeatDelay=function(i){if(arguments.length){var r=this._time;return this._rDelay=i,p$(this),r?this.time(r):this}return this._rDelay},t.yoyo=function(i){return arguments.length?(this._yoyo=i,this):this._yoyo},t.seek=function(i,r){return this.totalTime(Hl(this,i),Na(r))},t.restart=function(i,r){return this.play().totalTime(i?-this._delay:0,Na(r))},t.play=function(i,r){return null!=i&&this.seek(i,r),this.reversed(!1).paused(!1)},t.reverse=function(i,r){return null!=i&&this.seek(i||this.totalDuration(),r),this.reversed(!0).paused(!1)},t.pause=function(i,r){return null!=i&&this.seek(i,r),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(i){return arguments.length?(!!i!==this.reversed()&&this.timeScale(-this._rts||(i?-sr:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-sr,this},t.isActive=function(){var s,i=this.parent||this._dp,r=this._start;return!(i&&!(this._ts&&this._initted&&i.isActive()&&(s=i.rawTime(!0))>=r&&s<this.endTime(!0)-sr))},t.eventCallback=function(i,r,s){var o=this.vars;return arguments.length>1?(r?(o[i]=r,s&&(o[i+"Params"]=s),"onUpdate"===i&&(this._onUpdate=r)):delete o[i],this):o[i]},t.then=function(i){var r=this;return new Promise(function(s){var o=to(i)?i:a$,a=function(){var c=r.then;r.then=null,to(o)&&(o=o(r))&&(o.then||o===r)&&(r.then=c),s(o),r.then=c};r._initted&&1===r.totalProgress()&&r._ts>=0||!r._tTime&&r._ts<0?a():r._prom=a})},t.kill=function(){pb(this)},n}();jl(_b.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-sr,_prom:0,_ps:!1,_rts:1});var La=function(n){function t(i,r){var s;return void 0===i&&(i={}),(s=n.call(this,i)||this).labels={},s.smoothChildTiming=!!i.smoothChildTiming,s.autoRemoveChildren=!!i.autoRemoveChildren,s._sort=Na(i.sortChildren),Vr&&Tu(i.parent||Vr,vd(s),r),i.reversed&&s.reverse(),i.paused&&s.paused(!0),i.scrollTrigger&&h$(vd(s),i.scrollTrigger),s}$W(t,n);var e=t.prototype;return e.to=function(r,s,o){return db(0,arguments,this),this},e.from=function(r,s,o){return db(1,arguments,this),this},e.fromTo=function(r,s,o,a){return db(2,arguments,this),this},e.set=function(r,s,o){return s.duration=0,s.parent=this,ub(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new no(r,s,Hl(this,o),1),this},e.call=function(r,s,o){return Tu(this,no.delayedCall(0,r,s),o)},e.staggerTo=function(r,s,o,a,l,c,u){return o.duration=s,o.stagger=o.stagger||a,o.onComplete=c,o.onCompleteParams=u,o.parent=this,new no(r,o,Hl(this,l)),this},e.staggerFrom=function(r,s,o,a,l,c,u){return o.runBackwards=1,ub(o).immediateRender=Na(o.immediateRender),this.staggerTo(r,s,o,a,l,c,u)},e.staggerFromTo=function(r,s,o,a,l,c,u,d){return a.startAt=o,ub(a).immediateRender=Na(a.immediateRender),this.staggerTo(r,s,a,l,c,u,d)},e.render=function(r,s,o){var f,y,O,I,N,k,B,G,Y,J,Z,ge,a=this._time,l=this._dirty?this.totalDuration():this._tDur,c=this._dur,u=r<=0?0:$o(r),d=this._zTime<0!=r<0&&(this._initted||!c);if(this!==Vr&&u>l&&r>=0&&(u=l),u!==this._tTime||o||d){if(a!==this._time&&c&&(u+=this._time-a,r+=this._time-a),f=u,Y=this._start,k=!(G=this._ts),d&&(c||(a=this._zTime),(r||!s)&&(this._zTime=r)),this._repeat){if(Z=this._yoyo,N=c+this._rDelay,this._repeat<-1&&r<0)return this.totalTime(100*N+r,s,o);if(f=$o(u%N),u===l?(I=this._repeat,f=c):((I=~~(u/N))&&I===u/N&&(f=c,I--),f>c&&(f=c)),J=Gm(this._tTime,N),!a&&this._tTime&&J!==I&&(J=I),Z&&1&I&&(f=c-f,ge=1),I!==J&&!this._lock){var pe=Z&&1&J,ae=pe===(Z&&1&I);if(I<J&&(pe=!pe),a=pe?0:c,this._lock=1,this.render(a||(ge?0:$o(I*N)),s,!c)._lock=0,this._tTime=u,!s&&this.parent&&zl(this,"onRepeat"),this.vars.repeatRefresh&&!ge&&(this.invalidate()._lock=1),a&&a!==this._time||k!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(c=this._dur,l=this._tDur,ae&&(this._lock=2,this.render(a=pe?c:-1e-4,!0),this.vars.repeatRefresh&&!ge&&this.invalidate()),this._lock=0,!this._ts&&!k)return this;P$(this,ge)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(B=function(t,e,i){var r;if(i>e)for(r=t._first;r&&r._start<=i;){if("isPause"===r.data&&r._start>e)return r;r=r._next}else for(r=t._last;r&&r._start>=i;){if("isPause"===r.data&&r._start<e)return r;r=r._prev}}(this,$o(a),$o(f)),B&&(u-=f-(f=B._start))),this._tTime=u,this._time=f,this._act=!G,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=r,a=0),!a&&f&&!s&&(zl(this,"onStart"),this._tTime!==u))return this;if(f>=a&&r>=0)for(y=this._first;y;){if(O=y._next,(y._act||f>=y._start)&&y._ts&&B!==y){if(y.parent!==this)return this.render(r,s,o);if(y.render(y._ts>0?(f-y._start)*y._ts:(y._dirty?y.totalDuration():y._tDur)+(f-y._start)*y._ts,s,o),f!==this._time||!this._ts&&!k){B=0,O&&(u+=this._zTime=-sr);break}}y=O}else{y=this._last;for(var de=r<0?r:f;y;){if(O=y._prev,(y._act||de<=y._end)&&y._ts&&B!==y){if(y.parent!==this)return this.render(r,s,o);if(y.render(y._ts>0?(de-y._start)*y._ts:(y._dirty?y.totalDuration():y._tDur)+(de-y._start)*y._ts,s,o),f!==this._time||!this._ts&&!k){B=0,O&&(u+=this._zTime=de?-sr:sr);break}}y=O}}if(B&&!s&&(this.pause(),B.render(f>=a?0:-sr)._zTime=f>=a?1:-1,this._ts))return this._start=Y,YT(this),this.render(r,s,o);this._onUpdate&&!s&&zl(this,"onUpdate",!0),(u===l&&l>=this.totalDuration()||!u&&a)&&(Y===this._start||Math.abs(G)!==Math.abs(this._ts))&&(this._lock||((r||!c)&&(u===l&&this._ts>0||!u&&this._ts<0)&&Sd(this,1),!s&&(!(r<0)||a)&&(u||a||!l)&&(zl(this,u===l&&r>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(u<l&&this.timeScale()>0)&&this._prom())))}return this},e.add=function(r,s){var o=this;if(yd(s)||(s=Hl(this,s,r)),!(r instanceof _b)){if(Wo(r))return r.forEach(function(a){return o.add(a,s)}),this;if(eo(r))return this.addLabel(r,s);if(!to(r))return this;r=no.delayedCall(0,r)}return this!==r?Tu(this,r,s):this},e.getChildren=function(r,s,o,a){void 0===r&&(r=!0),void 0===s&&(s=!0),void 0===o&&(o=!0),void 0===a&&(a=-Gl);for(var l=[],c=this._first;c;)c._start>=a&&(c instanceof no?s&&l.push(c):(o&&l.push(c),r&&l.push.apply(l,c.getChildren(!0,s,o)))),c=c._next;return l},e.getById=function(r){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===r)return s[o]},e.remove=function(r){return eo(r)?this.removeLabel(r):to(r)?this.killTweensOf(r):(WT(this,r),r===this._recent&&(this._recent=this._last),Rp(this))},e.totalTime=function(r,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=$o(Wl.time-(this._ts>0?r/this._ts:(this.totalDuration()-r)/-this._ts))),n.prototype.totalTime.call(this,r,s),this._forcing=0,this):this._tTime},e.addLabel=function(r,s){return this.labels[r]=Hl(this,s),this},e.removeLabel=function(r){return delete this.labels[r],this},e.addPause=function(r,s,o){var a=no.delayedCall(0,s||cb,o);return a.data="isPause",this._hasPause=1,Tu(this,a,Hl(this,r))},e.removePause=function(r){var s=this._first;for(r=Hl(this,r);s;)s._start===r&&"isPause"===s.data&&Sd(s),s=s._next},e.killTweensOf=function(r,s,o){for(var a=this.getTweensOf(r,o),l=a.length;l--;)wh!==a[l]&&a[l].kill(r,s);return this},e.getTweensOf=function(r,s){for(var u,o=[],a=Vl(r),l=this._first,c=yd(s);l;)l instanceof no?tAe(l._targets,a)&&(c?(!wh||l._initted&&l._ts)&&l.globalTime(0)<=s&&l.globalTime(l.totalDuration())>s:!s||l.isActive())&&o.push(l):(u=l.getTweensOf(a,s)).length&&o.push.apply(o,u),l=l._next;return o},e.tweenTo=function(r,s){s=s||{};var y,o=this,a=Hl(o,r),c=s.startAt,u=s.onStart,d=s.onStartParams,f=s.immediateRender,O=no.to(o,jl({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale())||sr,onStart:function(){if(o.pause(),!y){var N=s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale());O._dur!==N&&jm(O,N,0,1).render(O._time,!0,!0),y=1}u&&u.apply(O,d||[])}},s));return f?O.render(0):O},e.tweenFromTo=function(r,s,o){return this.tweenTo(s,jl({startAt:{time:Hl(this,r)}},o))},e.recent=function(){return this._recent},e.nextLabel=function(r){return void 0===r&&(r=this._time),C$(this,Hl(this,r))},e.previousLabel=function(r){return void 0===r&&(r=this._time),C$(this,Hl(this,r),1)},e.currentLabel=function(r){return arguments.length?this.seek(r,!0):this.previousLabel(this._time+sr)},e.shiftChildren=function(r,s,o){void 0===o&&(o=0);for(var c,a=this._first,l=this.labels;a;)a._start>=o&&(a._start+=r,a._end+=r),a=a._next;if(s)for(c in l)l[c]>=o&&(l[c]+=r);return Rp(this)},e.invalidate=function(){var r=this._first;for(this._lock=0;r;)r.invalidate(),r=r._next;return n.prototype.invalidate.call(this)},e.clear=function(r){void 0===r&&(r=!0);for(var o,s=this._first;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),r&&(this.labels={}),Rp(this)},e.totalDuration=function(r){var c,u,d,s=0,o=this,a=o._last,l=Gl;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-r:r));if(o._dirty){for(d=o.parent;a;)c=a._prev,a._dirty&&a.totalDuration(),(u=a._start)>l&&o._sort&&a._ts&&!o._lock?(o._lock=1,Tu(o,a,u-a._delay,1)._lock=0):l=u,u<0&&a._ts&&(s-=u,(!d&&!o._dp||d&&d.smoothChildTiming)&&(o._start+=u/o._ts,o._time-=u,o._tTime-=u),o.shiftChildren(-u,!1,-1/0),l=0),a._end>s&&a._ts&&(s=a._end),a=c;jm(o,o===Vr&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},t.updateRoot=function(r){if(Vr._ts&&(s$(Vr,$T(r,Vr)),n$=Wl.frame),Wl.frame>=i$){i$+=rl.autoSleep||120;var s=Vr._first;if((!s||!s._ts)&&rl.autoSleep&&Wl._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||Wl.sleep()}}},t}(_b);jl(La.prototype,{_lock:0,_hasPause:0,_forcing:0});var wh,OAe=function(t,e,i,r,s,o,a){var d,f,y,O,I,N,k,B,l=new Ba(this._pt,t,e,0,1,F$,null,s),c=0,u=0;for(l.b=i,l.e=r,i+="",(k=~(r+="").indexOf("random("))&&(r=fb(r)),o&&(o(B=[i,r],t,e),i=B[0],r=B[1]),f=i.match(AD)||[];d=AD.exec(r);)O=d[0],I=r.substring(c,d.index),y?y=(y+1)%5:"rgba("===I.substr(-5)&&(y=1),O!==f[u++]&&(N=parseFloat(f[u-1])||0,l._pt={_next:l._pt,p:I||1===u?I:",",s:N,c:"="===O.charAt(1)?parseFloat(O.substr(2))*("-"===O.charAt(0)?-1:1):parseFloat(O)-N,m:y&&y<4?Math.round:0},c=AD.lastIndex);return l.c=c<r.length?r.substring(c,r.length):"",l.fp=a,(JW.test(r)||k)&&(l.e=0),this._pt=l,l},$D=function(t,e,i,r,s,o,a,l,c){to(r)&&(r=r(s||0,t,o));var y,u=t[e],d="get"!==i?i:to(u)?c?t[e.indexOf("set")||!to(t["get"+e.substr(3)])?e:"get"+e.substr(3)](c):t[e]():u,f=to(u)?c?RAe:N$:YD;if(eo(r)&&(~r.indexOf("random(")&&(r=fb(r)),"="===r.charAt(1)&&((y=parseFloat(d)+parseFloat(r.substr(2))*("-"===r.charAt(0)?-1:1)+(Fa(d)||0))||0===y)&&(r=y)),d!==r)return isNaN(d*r)||""===r?(!u&&!(e in t)&&ND(e,r),OAe.call(this,t,e,d,r,f,l||rl.stringFilter,c)):(y=new Ba(this._pt,t,e,+d||0,r-(d||0),"boolean"==typeof u?NAe:k$,0,f),c&&(y.fp=c),a&&y.modifier(a,this,t),this._pt=y)},A$=function(t,e,i,r,s,o){var a,l,c,u;if(ol[t]&&!1!==(a=new ol[t]).init(s,a.rawVars?e[t]:function(t,e,i,r,s){if(to(t)&&(t=mb(t,s,e,i,r)),!bd(t)||t.style&&t.nodeType||Wo(t)||qW(t))return eo(t)?mb(t,s,e,i,r):t;var a,o={};for(a in t)o[a]=mb(t[a],s,e,i,r);return o}(e[t],r,s,o,i),i,r,o)&&(i._pt=l=new Ba(i._pt,s,t,0,1,a.render,a,0,a.priority),i!==Hm))for(c=i._ptLookup[i._targets.indexOf(s)],u=a._props.length;u--;)c[a._props[u]]=l;return a},xAe=function n(t,e){var Z,ge,pe,ae,de,xe,ve,ye,Re,Oe,be,Ee,De,i=t.vars,r=i.ease,s=i.startAt,o=i.immediateRender,a=i.lazy,l=i.onUpdate,c=i.onUpdateParams,u=i.callbackScope,d=i.runBackwards,f=i.yoyoEase,y=i.keyframes,O=i.autoRevert,I=t._dur,N=t._startAt,k=t._targets,B=t.parent,G=B&&"nested"===B.data?B.parent._targets:k,Y="auto"===t._overwrite&&!OD,J=t.timeline;if(J&&(!y||!r)&&(r="none"),t._ease=Dp(r,Lm.ease),t._yEase=f?O$(Dp(!0===f?r:f,Lm.ease)):0,f&&t._yoyo&&!t._repeat&&(f=t._yEase,t._yEase=t._ease,t._ease=f),t._from=!J&&!!i.runBackwards,!J||y&&!i.stagger){if(Ee=(ye=k[0]?Ap(k[0]).harness:0)&&i[ye.prop],Z=zT(i,kD),N&&Sd(N.render(-1,!0)),s)if(Sd(t._startAt=no.set(k,jl({data:"isStart",overwrite:!1,parent:B,immediateRender:!0,lazy:Na(a),startAt:null,delay:0,onUpdate:l,onUpdateParams:c,callbackScope:u,stagger:0},s))),e<0&&!o&&!O&&t._startAt.render(-1,!0),o){if(e>0&&!O&&(t._startAt=0),I&&e<=0)return void(e&&(t._zTime=e))}else!1===O&&(t._startAt=0);else if(d&&I)if(N)!O&&(t._startAt=0);else if(e&&(o=!1),pe=jl({overwrite:!1,data:"isFromStart",lazy:o&&Na(a),immediateRender:o,stagger:0,parent:B},Z),Ee&&(pe[ye.prop]=Ee),Sd(t._startAt=no.set(k,pe)),e<0&&t._startAt.render(-1,!0),t._zTime=e,o){if(!e)return}else n(t._startAt,sr);for(t._pt=0,a=I&&Na(a)||a&&!I,ge=0;ge<k.length;ge++){if(ve=(de=k[ge])._gsap||UD(k)[ge]._gsap,t._ptLookup[ge]=Oe={},FD[ve.id]&&Ch.length&&VT(),be=G===k?ge:G.indexOf(de),ye&&!1!==(Re=new ye).init(de,Ee||Z,t,be,G)&&(t._pt=ae=new Ba(t._pt,de,Re.name,0,1,Re.render,Re,0,Re.priority),Re._props.forEach(function(nt){Oe[nt]=ae}),Re.priority&&(xe=1)),!ye||Ee)for(pe in Z)ol[pe]&&(Re=A$(pe,Z,t,be,de,G))?Re.priority&&(xe=1):Oe[pe]=ae=$D.call(t,de,pe,"get",Z[pe],be,G,0,i.stringFilter);t._op&&t._op[ge]&&t.kill(de,t._op[ge]),Y&&t._pt&&(wh=t,Vr.killTweensOf(de,Oe,t.globalTime(e)),De=!t.parent,wh=0),t._pt&&a&&(FD[ve.id]=1)}xe&&L$(t),t._onInit&&t._onInit(t)}t._onUpdate=l,t._initted=(!t._op||t._pt)&&!De,y&&e<=0&&J.render(Gl,!0,!0)},AAe=function(t,e,i,r){var o,a,s=e.ease||r||"power1.inOut";if(Wo(e))a=i[t]||(i[t]=[]),e.forEach(function(l,c){return a.push({t:c/(e.length-1)*100,v:l,e:s})});else for(o in e)a=i[o]||(i[o]=[]),"ease"===o||a.push({t:parseFloat(t),v:e[o],e:s})},mb=function(t,e,i,r,s){return to(t)?t.call(e,i,r,s):eo(t)&&~t.indexOf("random(")?fb(t):t},R$=BD+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase",D$={};ka(R$+",id,stagger,delay,duration,paused,scrollTrigger",function(n){return D$[n]=1});var no=function(n){function t(i,r,s,o){var a;"number"==typeof r&&(s.duration=r,r=s,s=null);var Y,J,Z,ge,pe,ae,de,xe,l=(a=n.call(this,o?r:ub(r))||this).vars,c=l.duration,u=l.delay,d=l.immediateRender,f=l.stagger,y=l.overwrite,O=l.keyframes,I=l.defaults,N=l.scrollTrigger,k=l.yoyoEase,B=r.parent||Vr,G=(Wo(i)||qW(i)?yd(i[0]):"length"in r)?[i]:Vl(i);if(a._targets=G.length?UD(G):jT("GSAP target "+i+" not found. https://greensock.com",!rl.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=y,O||f||UT(c)||UT(u)){if(r=a.vars,(Y=a.timeline=new La({data:"nested",defaults:I||{}})).kill(),Y.parent=Y._dp=vd(a),Y._start=0,f||UT(c)||UT(u)){if(ge=G.length,de=f&&m$(f),bd(f))for(pe in f)~R$.indexOf(pe)&&(xe||(xe={}),xe[pe]=f[pe]);for(J=0;J<ge;J++)(Z=zT(r,D$)).stagger=0,k&&(Z.yoyoEase=k),xe&&Um(Z,xe),ae=G[J],Z.duration=+mb(c,vd(a),J,ae,G),Z.delay=(+mb(u,vd(a),J,ae,G)||0)-a._delay,!f&&1===ge&&Z.delay&&(a._delay=u=Z.delay,a._start+=u,Z.delay=0),Y.to(ae,Z,de?de(J,ae,G):0),Y._ease=vi.none;Y.duration()?c=u=0:a.timeline=0}else if(O){ub(jl(Y.vars.defaults,{ease:"none"})),Y._ease=Dp(O.ease||r.ease||"none");var ye,Re,Oe,ve=0;if(Wo(O))O.forEach(function(be){return Y.to(G,be,">")});else{for(pe in Z={},O)"ease"===pe||"easeEach"===pe||AAe(pe,O[pe],Z,O.easeEach);for(pe in Z)for(ye=Z[pe].sort(function(be,Ee){return be.t-Ee.t}),ve=0,J=0;J<ye.length;J++)(Oe={ease:(Re=ye[J]).e,duration:(Re.t-(J?ye[J-1].t:0))/100*c})[pe]=Re.v,Y.to(G,Oe,ve),ve+=Oe.duration;Y.duration()<c&&Y.to({},{duration:c-Y.duration()})}}c||a.duration(c=Y.duration())}else a.timeline=0;return!0===y&&!OD&&(wh=vd(a),Vr.killTweensOf(G),wh=0),Tu(B,vd(a),s),r.reversed&&a.reverse(),r.paused&&a.paused(!0),(d||!c&&!O&&a._start===$o(B._time)&&Na(d)&&oAe(vd(a))&&"nested"!==B.data)&&(a._tTime=-sr,a.render(Math.max(0,-u))),N&&h$(vd(a),N),a}$W(t,n);var e=t.prototype;return e.render=function(r,s,o){var d,f,y,O,I,N,k,B,G,a=this._time,l=this._tDur,c=this._dur,u=r>l-sr&&r>=0?l:r<sr?0:r;if(c){if(u!==this._tTime||!r||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!=r<0){if(d=u,B=this.timeline,this._repeat){if(O=c+this._rDelay,this._repeat<-1&&r<0)return this.totalTime(100*O+r,s,o);if(d=$o(u%O),u===l?(y=this._repeat,d=c):((y=~~(u/O))&&y===u/O&&(d=c,y--),d>c&&(d=c)),(N=this._yoyo&&1&y)&&(G=this._yEase,d=c-d),I=Gm(this._tTime,O),d===a&&!o&&this._initted)return this;y!==I&&(B&&this._yEase&&P$(B,N),this.vars.repeatRefresh&&!N&&!this._lock&&(this._lock=o=1,this.render($o(O*y),!0).invalidate()._lock=0))}if(!this._initted){if(f$(this,r<0?r:d,o,s))return this._tTime=0,this;if(c!==this._dur)return this.render(r,s,o)}if(this._tTime=u,this._time=d,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=k=(G||this._ease)(d/c),this._from&&(this.ratio=k=1-k),d&&!a&&!s&&(zl(this,"onStart"),this._tTime!==u))return this;for(f=this._pt;f;)f.r(k,f.d),f=f._next;B&&B.render(r<0?r:!d&&N?-sr:B._dur*B._ease(d/this._dur),s,o)||this._startAt&&(this._zTime=r),this._onUpdate&&!s&&(r<0&&this._startAt&&this._startAt.render(r,!0,o),zl(this,"onUpdate")),this._repeat&&y!==I&&this.vars.onRepeat&&!s&&this.parent&&zl(this,"onRepeat"),(u===this._tDur||!u)&&this._tTime===u&&(r<0&&this._startAt&&!this._onUpdate&&this._startAt.render(r,!0,!0),(r||!c)&&(u===this._tDur&&this._ts>0||!u&&this._ts<0)&&Sd(this,1),!s&&(!(r<0)||a)&&(u||a)&&(zl(this,u===l?"onComplete":"onReverseComplete",!0),this._prom&&!(u<l&&this.timeScale()>0)&&this._prom()))}}else!function(t,e,i,r){var c,u,d,s=t.ratio,o=e<0||!e&&(!t._start&&aAe(t)&&(t._initted||!GD(t))||(t._ts<0||t._dp._ts<0)&&!GD(t))?0:1,a=t._rDelay,l=0;if(a&&t._repeat&&(l=hb(0,t._tDur,e),u=Gm(l,a),t._yoyo&&1&u&&(o=1-o),u!==Gm(t._tTime,a)&&(s=1-o,t.vars.repeatRefresh&&t._initted&&t.invalidate())),o!==s||r||t._zTime===sr||!e&&t._zTime){if(!t._initted&&f$(t,e,r,i))return;for(d=t._zTime,t._zTime=e||(i?sr:0),i||(i=e&&!d),t.ratio=o,t._from&&(o=1-o),t._time=0,t._tTime=l,c=t._pt;c;)c.r(o,c.d),c=c._next;t._startAt&&e<0&&t._startAt.render(e,!0,!0),t._onUpdate&&!i&&zl(t,"onUpdate"),l&&t._repeat&&!i&&t.parent&&zl(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===o&&(o&&Sd(t,1),i||(zl(t,o?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=e)}(this,r,s,o);return this},e.targets=function(){return this._targets},e.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),n.prototype.invalidate.call(this)},e.kill=function(r,s){if(void 0===s&&(s="all"),!(r||s&&"all"!==s))return this._lazy=this._pt=0,this.parent?pb(this):this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(r,s,wh&&!0!==wh.vars.overwrite)._first||pb(this),this.parent&&o!==this.timeline.totalDuration()&&jm(this,this._dur*this.timeline._tDur/o,0,1),this}var d,f,y,O,I,N,k,a=this._targets,l=r?Vl(r):a,c=this._ptLookup,u=this._pt;if((!s||"all"===s)&&function(t,e){for(var i=t.length,r=i===e.length;r&&i--&&t[i]===e[i];);return i<0}(a,l))return"all"===s&&(this._pt=0),pb(this);for(d=this._op=this._op||[],"all"!==s&&(eo(s)&&(I={},ka(s,function(B){return I[B]=1}),s=I),s=function(t,e){var s,o,a,l,i=t[0]?Ap(t[0]).harness:0,r=i&&i.aliases;if(!r)return e;for(o in s=Um({},e),r)if(o in s)for(a=(l=r[o].split(",")).length;a--;)s[l[a]]=s[o];return s}(a,s)),k=a.length;k--;)if(~l.indexOf(a[k]))for(I in f=c[k],"all"===s?(d[k]=s,O=f,y={}):(y=d[k]=d[k]||{},O=s),O)(N=f&&f[I])&&((!("kill"in N.d)||!0===N.d.kill(I))&&WT(this,N,"_pt"),delete f[I]),"all"!==y&&(y[I]=1);return this._initted&&!this._pt&&u&&pb(this),this},t.to=function(r,s){return new t(r,s,arguments[2])},t.from=function(r,s){return db(1,arguments)},t.delayedCall=function(r,s,o,a){return new t(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:r,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},t.fromTo=function(r,s,o){return db(2,arguments)},t.set=function(r,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new t(r,s)},t.killTweensOf=function(r,s,o){return Vr.killTweensOf(r,s,o)},t}(_b);jl(no.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),ka("staggerTo,staggerFrom,staggerFromTo",function(n){no[n]=function(){var t=new La,e=jD.call(arguments,0);return e.splice("staggerFromTo"===n?5:4,0,0),t[n].apply(t,e)}});var YD=function(t,e,i){return t[e]=i},N$=function(t,e,i){return t[e](i)},RAe=function(t,e,i,r){return t[e](r.fp,i)},DAe=function(t,e,i){return t.setAttribute(e,i)},XD=function(t,e){return to(t[e])?N$:xD(t[e])&&t.setAttribute?DAe:YD},k$=function(t,e){return e.set(e.t,e.p,Math.round(1e6*(e.s+e.c*t))/1e6,e)},NAe=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},F$=function(t,e){var i=e._pt,r="";if(!t&&e.b)r=e.b;else if(1===t&&e.e)r=e.e;else{for(;i;)r=i.p+(i.m?i.m(i.s+i.c*t):Math.round(1e4*(i.s+i.c*t))/1e4)+r,i=i._next;r+=e.c}e.set(e.t,e.p,r,e)},qD=function(t,e){for(var i=e._pt;i;)i.r(t,i.d),i=i._next},kAe=function(t,e,i,r){for(var o,s=this._pt;s;)o=s._next,s.p===r&&s.modifier(t,e,i),s=o},FAe=function(t){for(var i,r,e=this._pt;e;)r=e._next,e.p===t&&!e.op||e.op===t?WT(this,e,"_pt"):e.dep||(i=1),e=r;return!i},LAe=function(t,e,i,r){r.mSet(t,e,r.m.call(r.tween,i,r.mt),r)},L$=function(t){for(var i,r,s,o,e=t._pt;e;){for(i=e._next,r=s;r&&r.pr>e.pr;)r=r._next;(e._prev=r?r._prev:o)?e._prev._next=e:s=e,(e._next=r)?r._prev=e:o=e,e=i}t._pt=s},Ba=function(){function n(e,i,r,s,o,a,l,c,u){this.t=i,this.s=s,this.c=o,this.p=r,this.r=a||k$,this.d=l||this,this.set=c||YD,this.pr=u||0,this._next=e,e&&(e._prev=this)}return n.prototype.modifier=function(i,r,s){this.mSet=this.mSet||this.set,this.set=LAe,this.m=i,this.mt=s,this.tween=r},n}();ka(BD+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return kD[n]=1}),sl.TweenMax=sl.TweenLite=no,sl.TimelineLite=sl.TimelineMax=La,Vr=new La({sortChildren:!1,defaults:Lm,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),rl.stringFilter=M$;var qT={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];e.forEach(function(r){return bAe(r)})},timeline:function(t){return new La(t)},getTweensOf:function(t,e){return Vr.getTweensOf(t,e)},getProperty:function(t,e,i,r){eo(t)&&(t=Vl(t)[0]);var s=Ap(t||{}).get,o=i?a$:o$;return"native"===i&&(i=""),t&&(e?o((ol[e]&&ol[e].get||s)(t,e,i,r)):function(a,l,c){return o((ol[a]&&ol[a].get||s)(t,a,l,c))})},quickSetter:function(t,e,i){if((t=Vl(t)).length>1){var r=t.map(function(u){return wu.quickSetter(u,e,i)}),s=r.length;return function(u){for(var d=s;d--;)r[d](u)}}var o=ol[e],a=Ap(t=t[0]||{}),l=a.harness&&(a.harness.aliases||{})[e]||e,c=o?function(u){var d=new o;Hm._pt=0,d.init(t,i?u+i:u,Hm,0,[t]),d.render(1,d),Hm._pt&&qD(1,Hm)}:a.set(t,l);return o?c:function(u){return c(t,l,i?u+i:u,a,1)}},isTweening:function(t){return Vr.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=Dp(t.ease,Lm.ease)),l$(Lm,t||{})},config:function(t){return l$(rl,t||{})},registerEffect:function(t){var e=t.name,i=t.effect,s=t.defaults,o=t.extendTimeline;(t.plugins||"").split(",").forEach(function(a){return a&&!ol[a]&&!sl[a]&&jT(e+" effect requires "+a+" plugin.")}),LD[e]=function(a,l,c){return i(Vl(a),jl(l||{},s),c)},o&&(La.prototype[e]=function(a,l,c){return this.add(LD[e](a,bd(l)?l:(c=l)&&{},this),c)})},registerEase:function(t,e){vi[t]=Dp(e)},parseEase:function(t,e){return arguments.length?Dp(t,e):vi},getById:function(t){return Vr.getById(t)},exportRoot:function(t,e){void 0===t&&(t={});var r,s,i=new La(t);for(i.smoothChildTiming=Na(t.smoothChildTiming),Vr.remove(i),i._dp=0,i._time=i._tTime=Vr._time,r=Vr._first;r;)s=r._next,(e||!(!r._dur&&r instanceof no&&r.vars.onComplete===r._targets[0]))&&Tu(i,r,r._start-r._delay),r=s;return Tu(Vr,i,0),i},utils:{wrap:function n(t,e,i){var r=e-t;return Wo(t)?b$(t,n(0,t.length),e):Eh(i,function(s){return(r+(s-t)%r)%r+t})},wrapYoyo:function n(t,e,i){var r=e-t,s=2*r;return Wo(t)?b$(t,n(0,t.length-1),e):Eh(i,function(o){return t+((o=(s+(o-t)%s)%s||0)>r?s-o:o)})},distribute:m$,random:y$,snap:v$,normalize:function(t,e,i){return S$(t,e,0,1,i)},getUnit:Fa,clamp:function(t,e,i){return Eh(i,function(r){return hb(t,e,r)})},splitColor:E$,toArray:Vl,selector:function(t){return t=Vl(t)[0]||jT("Invalid scope")||{},function(e){var i=t.current||t.nativeElement||t;return Vl(e,i.querySelectorAll?i:i===t?jT("Invalid scope")||DD.createElement("div"):t)}},mapRange:S$,pipe:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return function(r){return e.reduce(function(s,o){return o(s)},r)}},unitize:function(t,e){return function(i){return t(parseFloat(i))+(e||Fa(i))}},interpolate:function n(t,e,i,r){var s=isNaN(t+e)?0:function(y){return(1-y)*t+y*e};if(!s){var l,c,u,d,f,o=eo(t),a={};if(!0===i&&(r=1)&&(i=null),o)t={p:t},e={p:e};else if(Wo(t)&&!Wo(e)){for(u=[],f=(d=t.length)-2,c=1;c<d;c++)u.push(n(t[c-1],t[c]));d--,s=function(O){O*=d;var I=Math.min(f,~~O);return u[I](O-I)},i=e}else r||(t=Um(Wo(t)?[]:{},t));if(!u){for(l in e)$D.call(a,t,l,"get",e[l]);s=function(O){return qD(O,a)||(o?t.p:t)}}}return Eh(i,s)},shuffle:_$},install:e$,effects:LD,ticker:Wl,updateRoot:La.updateRoot,plugins:ol,globalTimeline:Vr,core:{PropTween:Ba,globals:t$,Tween:no,Timeline:La,Animation:_b,getCache:Ap,_removeLinkedListItem:WT,suppressOverwrites:function(t){return OD=t}}};ka("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return qT[n]=no[n]}),Wl.add(La.updateRoot),Hm=qT.to({},{duration:0});var BAe=function(t,e){for(var i=t._pt;i&&i.p!==e&&i.op!==e&&i.fp!==e;)i=i._next;return i},KD=function(t,e){return{name:t,rawVars:1,init:function(r,s,o){o._onInit=function(a){var l,c;if(eo(s)&&(l={},ka(s,function(u){return l[u]=1}),s=l),e){for(c in l={},s)l[c]=e(s[c]);s=l}!function(t,e){var r,s,o,i=t._targets;for(r in e)for(s=i.length;s--;)(o=t._ptLookup[s][r])&&(o=o.d)&&(o._pt&&(o=BAe(o,r)),o&&o.modifier&&o.modifier(e[r],t,i[s],r))}(a,s)}}}},wu=qT.registerPlugin({name:"attr",init:function(t,e,i,r,s){var o,a;for(o in e)(a=this.add(t,"setAttribute",(t.getAttribute(o)||0)+"",e[o],r,s,0,0,o))&&(a.op=o),this._props.push(o)}},{name:"endArray",init:function(t,e){for(var i=e.length;i--;)this.add(t,i,t[i]||0,e[i])}},KD("roundProps",HD),KD("modifiers"),KD("snap",v$))||qT;no.version=La.version=wu.version="3.9.1",QW=1,XW()&&Vm();var B$,Mh,zm,JD,kp,U$,W$,Oh={},Fp=180/Math.PI,Wm=Math.PI/180,$m=Math.atan2,G$=1e8,j$=/([A-Z])/g,HAe=/(?:left|right|width|margin|padding|x)/i,VAe=/[\s,\(]\S/,Ph={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},H$=function(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},zAe=function(t,e){return e.set(e.t,e.p,1===t?e.e:Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},WAe=function(t,e){return e.set(e.t,e.p,t?Math.round(1e4*(e.s+e.c*t))/1e4+e.u:e.b,e)},$Ae=function(t,e){var i=e.s+e.c*t;e.set(e.t,e.p,~~(i+(i<0?-.5:.5))+e.u,e)},V$=function(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)},z$=function(t,e){return e.set(e.t,e.p,1!==t?e.b:e.e,e)},YAe=function(t,e,i){return t.style[e]=i},XAe=function(t,e,i){return t.style.setProperty(e,i)},qAe=function(t,e,i){return t._gsap[e]=i},KAe=function(t,e,i){return t._gsap.scaleX=t._gsap.scaleY=i},JAe=function(t,e,i,r,s){var o=t._gsap;o.scaleX=o.scaleY=i,o.renderTransform(s,o)},ZAe=function(t,e,i,r,s){var o=t._gsap;o[e]=i,o.renderTransform(s,o)},So="transform",xh=So+"Origin",ZD=function(t,e){var i=Mh.createElementNS?Mh.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):Mh.createElement(t);return i.style?i:Mh.createElement(t)},Cd=function n(t,e,i){var r=getComputedStyle(t);return r[e]||r.getPropertyValue(e.replace(j$,"-$1").toLowerCase())||r.getPropertyValue(e)||!i&&n(t,Ym(e)||e,1)||""},$$="O,Moz,ms,Ms,Webkit".split(","),Ym=function(t,e,i){var s=(e||kp).style,o=5;if(t in s&&!i)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);o--&&!($$[o]+t in s););return o<0?null:(3===o?"ms":o>=0?$$[o]:"")+t},QD=function(){"undefined"!=typeof window&&window.document&&(B$=window,zm=(Mh=B$.document).documentElement,kp=ZD("div")||{style:{}},ZD("div"),So=Ym(So),xh=So+"Origin",kp.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",W$=!!Ym("perspective"),JD=1)},eN=function n(t){var o,e=ZD("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,r=this.nextSibling,s=this.style.cssText;if(zm.appendChild(e),e.appendChild(this),this.style.display="block",t)try{o=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=n}catch(a){}else this._gsapBBox&&(o=this._gsapBBox());return i&&(r?i.insertBefore(this,r):i.appendChild(this)),zm.removeChild(e),this.style.cssText=s,o},Y$=function(t,e){for(var i=e.length;i--;)if(t.hasAttribute(e[i]))return t.getAttribute(e[i])},X$=function(t){var e;try{e=t.getBBox()}catch(i){e=eN.call(t,!0)}return e&&(e.width||e.height)||t.getBBox===eN||(e=eN.call(t,!0)),!e||e.width||e.x||e.y?e:{x:+Y$(t,["x","cx","x1"])||0,y:+Y$(t,["y","cy","y1"])||0,width:0,height:0}},q$=function(t){return!(!t.getCTM||t.parentNode&&!t.ownerSVGElement||!X$(t))},vb=function(t,e){if(e){var i=t.style;e in Oh&&e!==xh&&(e=So),i.removeProperty?(("ms"===e.substr(0,2)||"webkit"===e.substr(0,6))&&(e="-"+e),i.removeProperty(e.replace(j$,"-$1").toLowerCase())):i.removeAttribute(e)}},Ih=function(t,e,i,r,s,o){var a=new Ba(t._pt,e,i,0,1,o?z$:V$);return t._pt=a,a.b=r,a.e=s,t._props.push(i),a},K$={deg:1,rad:1,turn:1},Ah=function n(t,e,i,r){var O,I,N,k,s=parseFloat(i)||0,o=(i+"").trim().substr((s+"").length)||"px",a=kp.style,l=HAe.test(e),c="svg"===t.tagName.toLowerCase(),u=(c?"client":"offset")+(l?"Width":"Height"),d=100,f="px"===r,y="%"===r;return r===o||!s||K$[r]||K$[o]?s:("px"!==o&&!f&&(s=n(t,e,i,"px")),k=t.getCTM&&q$(t),!y&&"%"!==o||!Oh[e]&&!~e.indexOf("adius")?(a[l?"width":"height"]=d+(f?o:r),I=~e.indexOf("adius")||"em"===r&&t.appendChild&&!c?t:t.parentNode,k&&(I=(t.ownerSVGElement||{}).parentNode),(!I||I===Mh||!I.appendChild)&&(I=Mh.body),(N=I._gsap)&&y&&N.width&&l&&N.time===Wl.time?Ms(s/N.width*d):((y||"%"===o)&&(a.position=Cd(t,"position")),I===t&&(a.position="static"),I.appendChild(kp),O=kp[u],I.removeChild(kp),a.position="absolute",l&&y&&((N=Ap(I)).time=Wl.time,N.width=I[u]),Ms(f?O*s/d:O&&s?d/O*s:0))):(O=k?t.getBBox()[l?"width":"height"]:t[u],Ms(y?s/O*d:s/100*O)))},Lp=function(t,e,i,r){var s;return JD||QD(),e in Ph&&"transform"!==e&&~(e=Ph[e]).indexOf(",")&&(e=e.split(",")[0]),Oh[e]&&"transform"!==e?(s=bb(t,r),s="transformOrigin"!==e?s[e]:s.svg?s.origin:JT(Cd(t,xh))+" "+s.zOrigin+"px"):(!(s=t.style[e])||"auto"===s||r||~(s+"").indexOf("calc("))&&(s=KT[e]&&KT[e](t,e,i)||Cd(t,e)||r$(t,e)||("opacity"===e?1:0)),i&&!~(s+"").trim().indexOf(" ")?Ah(t,e,s,i)+i:s},QAe=function(t,e,i,r){if(!i||"none"===i){var s=Ym(e,t,1),o=s&&Cd(t,s,1);o&&o!==i?(e=s,i=o):"borderColor"===e&&(i=Cd(t,"borderTopColor"))}var u,d,f,y,O,I,N,k,B,G,Y,J,a=new Ba(this._pt,t.style,e,0,1,F$),l=0,c=0;if(a.b=i,a.e=r,i+="","auto"==(r+="")&&(t.style[e]=r,r=Cd(t,e)||r,t.style[e]=i),M$(u=[i,r]),r=u[1],f=(i=u[0]).match(Bm)||[],(r.match(Bm)||[]).length){for(;d=Bm.exec(r);)N=d[0],B=r.substring(l,d.index),O?O=(O+1)%5:("rgba("===B.substr(-5)||"hsla("===B.substr(-5))&&(O=1),N!==(I=f[c++]||"")&&(y=parseFloat(I)||0,Y=I.substr((y+"").length),(J="="===N.charAt(1)?+(N.charAt(0)+"1"):0)&&(N=N.substr(2)),k=parseFloat(N),G=N.substr((k+"").length),l=Bm.lastIndex-G.length,G||(G=G||rl.units[e]||Y,l===r.length&&(r+=G,a.e+=G)),Y!==G&&(y=Ah(t,e,I,G)||0),a._pt={_next:a._pt,p:B||1===c?B:",",s:y,c:J?J*k:k-y,m:O&&O<4||"zIndex"===e?Math.round:0});a.c=l<r.length?r.substring(l,r.length):""}else a.r="display"===e&&"none"===r?z$:V$;return JW.test(r)&&(a.e=0),this._pt=a,a},J$={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},e2e=function(t){var e=t.split(" "),i=e[0],r=e[1]||"50%";return("top"===i||"bottom"===i||"left"===r||"right"===r)&&(t=i,i=r,r=t),e[0]=J$[i]||i,e[1]=J$[r]||r,e.join(" ")},t2e=function(t,e){if(e.tween&&e.tween._time===e.tween._dur){var a,l,c,i=e.t,s=e.u,o=i._gsap;if("all"===s||!0===s)i.style.cssText="",l=1;else for(c=(s=s.split(",")).length;--c>-1;)Oh[a=s[c]]&&(l=1,a="transformOrigin"===a?xh:So),vb(i,a);l&&(vb(i,So),o&&(o.svg&&i.removeAttribute("transform"),bb(i,1),o.uncache=1))}},KT={clearProps:function(t,e,i,r,s){if("isFromStart"!==s.data){var o=t._pt=new Ba(t._pt,e,i,0,0,t2e);return o.u=r,o.pr=-10,o.tween=s,t._props.push(i),1}}},yb=[1,0,0,1,0,0],Z$={},Q$=function(t){return"matrix(1, 0, 0, 1, 0, 0)"===t||"none"===t||!t},eY=function(t){var e=Cd(t,So);return Q$(e)?yb:e.substr(7).match(KW).map(Ms)},tN=function(t,e){var o,a,l,c,i=t._gsap||Ap(t),r=t.style,s=eY(t);return i.svg&&t.getAttribute("transform")?"1,0,0,1,0,0"===(s=[(l=t.transform.baseVal.consolidate().matrix).a,l.b,l.c,l.d,l.e,l.f]).join(",")?yb:s:(s===yb&&!t.offsetParent&&t!==zm&&!i.svg&&(l=r.display,r.display="block",(!(o=t.parentNode)||!t.offsetParent)&&(c=1,a=t.nextSibling,zm.appendChild(t)),s=eY(t),l?r.display=l:vb(t,"display"),c&&(a?o.insertBefore(t,a):o?o.appendChild(t):zm.removeChild(t))),e&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},nN=function(t,e,i,r,s,o){var Z,ge,ae,a=t._gsap,l=s||tN(t,!0),c=a.xOrigin||0,u=a.yOrigin||0,d=a.xOffset||0,f=a.yOffset||0,y=l[0],O=l[1],I=l[2],N=l[3],k=l[4],B=l[5],G=e.split(" "),Y=parseFloat(G[0])||0,J=parseFloat(G[1])||0;i?l!==yb&&(ge=y*N-O*I)&&(ae=Y*(-O/ge)+J*(y/ge)-(y*B-O*k)/ge,Y=Y*(N/ge)+J*(-I/ge)+(I*B-N*k)/ge,J=ae):(Y=(Z=X$(t)).x+(~G[0].indexOf("%")?Y/100*Z.width:Y),J=Z.y+(~(G[1]||G[0]).indexOf("%")?J/100*Z.height:J)),r||!1!==r&&a.smooth?(a.xOffset=d+((k=Y-c)*y+(B=J-u)*I)-k,a.yOffset=f+(k*O+B*N)-B):a.xOffset=a.yOffset=0,a.xOrigin=Y,a.yOrigin=J,a.smooth=!!r,a.origin=e,a.originIsAbsolute=!!i,t.style[xh]="0px 0px",o&&(Ih(o,a,"xOrigin",c,Y),Ih(o,a,"yOrigin",u,J),Ih(o,a,"xOffset",d,a.xOffset),Ih(o,a,"yOffset",f,a.yOffset)),t.setAttribute("data-svg-origin",Y+" "+J)},bb=function(t,e){var i=t._gsap||new I$(t);if("x"in i&&!e&&!i.uncache)return i;var c,u,d,f,y,O,I,N,k,B,G,Y,J,Z,ge,pe,ae,de,xe,ve,ye,Re,Oe,be,Ee,De,nt,me,Ve,et,st,Tt,r=t.style,s=i.scaleX<0,o="px",a="deg",l=Cd(t,xh)||"0";return c=u=d=O=I=N=k=B=G=0,f=y=1,i.svg=!(!t.getCTM||!q$(t)),Z=tN(t,i.svg),i.svg&&(be=(!i.uncache||"0px 0px"===l)&&!e&&t.getAttribute("data-svg-origin"),nN(t,be||l,!!be||i.originIsAbsolute,!1!==i.smooth,Z)),Y=i.xOrigin||0,J=i.yOrigin||0,Z!==yb&&(de=Z[0],xe=Z[1],ve=Z[2],ye=Z[3],c=Re=Z[4],u=Oe=Z[5],6===Z.length?(f=Math.sqrt(de*de+xe*xe),y=Math.sqrt(ye*ye+ve*ve),O=de||xe?$m(xe,de)*Fp:0,(k=ve||ye?$m(ve,ye)*Fp+O:0)&&(y*=Math.abs(Math.cos(k*Wm))),i.svg&&(c-=Y-(Y*de+J*ve),u-=J-(Y*xe+J*ye))):(et=Z[7],nt=Z[8],me=Z[9],st=Z[11],c=Z[12],u=Z[13],d=Z[14],I=(ge=$m(Tt=Z[6],Ve=Z[10]))*Fp,ge&&(be=Re*(pe=Math.cos(-ge))+nt*(ae=Math.sin(-ge)),Ee=Oe*pe+me*ae,De=Tt*pe+Ve*ae,nt=Re*-ae+nt*pe,me=Oe*-ae+me*pe,Ve=Tt*-ae+Ve*pe,st=et*-ae+st*pe,Re=be,Oe=Ee,Tt=De),N=(ge=$m(-ve,Ve))*Fp,ge&&(pe=Math.cos(-ge),st=ye*(ae=Math.sin(-ge))+st*pe,de=be=de*pe-nt*ae,xe=Ee=xe*pe-me*ae,ve=De=ve*pe-Ve*ae),O=(ge=$m(xe,de))*Fp,ge&&(be=de*(pe=Math.cos(ge))+xe*(ae=Math.sin(ge)),Ee=Re*pe+Oe*ae,xe=xe*pe-de*ae,Oe=Oe*pe-Re*ae,de=be,Re=Ee),I&&Math.abs(I)+Math.abs(O)>359.9&&(I=O=0,N=180-N),f=Ms(Math.sqrt(de*de+xe*xe+ve*ve)),y=Ms(Math.sqrt(Oe*Oe+Tt*Tt)),ge=$m(Re,Oe),k=Math.abs(ge)>2e-4?ge*Fp:0,G=st?1/(st<0?-st:st):0),i.svg&&(be=t.getAttribute("transform"),i.forceCSS=t.setAttribute("transform","")||!Q$(Cd(t,So)),be&&t.setAttribute("transform",be))),Math.abs(k)>90&&Math.abs(k)<270&&(s?(f*=-1,k+=O<=0?180:-180,O+=O<=0?180:-180):(y*=-1,k+=k<=0?180:-180)),i.x=c-((i.xPercent=c&&(i.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-c)?-50:0)))?t.offsetWidth*i.xPercent/100:0)+o,i.y=u-((i.yPercent=u&&(i.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-u)?-50:0)))?t.offsetHeight*i.yPercent/100:0)+o,i.z=d+o,i.scaleX=Ms(f),i.scaleY=Ms(y),i.rotation=Ms(O)+a,i.rotationX=Ms(I)+a,i.rotationY=Ms(N)+a,i.skewX=k+a,i.skewY=B+a,i.transformPerspective=G+o,(i.zOrigin=parseFloat(l.split(" ")[2])||0)&&(r[xh]=JT(l)),i.xOffset=i.yOffset=0,i.force3D=rl.force3D,i.renderTransform=i.svg?i2e:W$?tY:n2e,i.uncache=0,i},JT=function(t){return(t=t.split(" "))[0]+" "+t[1]},iN=function(t,e,i){var r=Fa(e);return Ms(parseFloat(e)+parseFloat(Ah(t,"x",i+"px",r)))+r},n2e=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,tY(t,e)},Bp="0deg",Sb="0px",Up=") ",tY=function(t,e){var i=e||this,r=i.xPercent,s=i.yPercent,o=i.x,a=i.y,l=i.z,c=i.rotation,u=i.rotationY,d=i.rotationX,f=i.skewX,y=i.skewY,O=i.scaleX,I=i.scaleY,N=i.transformPerspective,k=i.force3D,B=i.target,G=i.zOrigin,Y="",J="auto"===k&&t&&1!==t||!0===k;if(G&&(d!==Bp||u!==Bp)){var ae,Z=parseFloat(u)*Wm,ge=Math.sin(Z),pe=Math.cos(Z);Z=parseFloat(d)*Wm,ae=Math.cos(Z),o=iN(B,o,ge*ae*-G),a=iN(B,a,-Math.sin(Z)*-G),l=iN(B,l,pe*ae*-G+G)}N!==Sb&&(Y+="perspective("+N+Up),(r||s)&&(Y+="translate("+r+"%, "+s+"%) "),(J||o!==Sb||a!==Sb||l!==Sb)&&(Y+=l!==Sb||J?"translate3d("+o+", "+a+", "+l+") ":"translate("+o+", "+a+Up),c!==Bp&&(Y+="rotate("+c+Up),u!==Bp&&(Y+="rotateY("+u+Up),d!==Bp&&(Y+="rotateX("+d+Up),(f!==Bp||y!==Bp)&&(Y+="skew("+f+", "+y+Up),(1!==O||1!==I)&&(Y+="scale("+O+", "+I+Up),B.style[So]=Y||"translate(0, 0)"},i2e=function(t,e){var J,Z,ge,pe,ae,i=e||this,r=i.xPercent,s=i.yPercent,o=i.x,a=i.y,l=i.rotation,c=i.skewX,u=i.skewY,d=i.scaleX,f=i.scaleY,y=i.target,O=i.xOrigin,I=i.yOrigin,N=i.xOffset,k=i.yOffset,B=i.forceCSS,G=parseFloat(o),Y=parseFloat(a);l=parseFloat(l),c=parseFloat(c),(u=parseFloat(u))&&(c+=u=parseFloat(u),l+=u),l||c?(l*=Wm,c*=Wm,J=Math.cos(l)*d,Z=Math.sin(l)*d,ge=Math.sin(l-c)*-f,pe=Math.cos(l-c)*f,c&&(u*=Wm,ae=Math.tan(c-u),ge*=ae=Math.sqrt(1+ae*ae),pe*=ae,u&&(ae=Math.tan(u),J*=ae=Math.sqrt(1+ae*ae),Z*=ae)),J=Ms(J),Z=Ms(Z),ge=Ms(ge),pe=Ms(pe)):(J=d,pe=f,Z=ge=0),(G&&!~(o+"").indexOf("px")||Y&&!~(a+"").indexOf("px"))&&(G=Ah(y,"x",o,"px"),Y=Ah(y,"y",a,"px")),(O||I||N||k)&&(G=Ms(G+O-(O*J+I*ge)+N),Y=Ms(Y+I-(O*Z+I*pe)+k)),(r||s)&&(ae=y.getBBox(),G=Ms(G+r/100*ae.width),Y=Ms(Y+s/100*ae.height)),y.setAttribute("transform",ae="matrix("+J+","+Z+","+ge+","+pe+","+G+","+Y+")"),B&&(y.style[So]=ae)},r2e=function(t,e,i,r,s,o){var f,y,a=360,l=eo(s),c=parseFloat(s)*(l&&~s.indexOf("rad")?Fp:1),u=o?c*o:c-r,d=r+u+"deg";return l&&("short"===(f=s.split("_")[1])&&(u%=a)!=u%180&&(u+=u<0?a:-a),"cw"===f&&u<0?u=(u+a*G$)%a-~~(u/a)*a:"ccw"===f&&u>0&&(u=(u-a*G$)%a-~~(u/a)*a)),t._pt=y=new Ba(t._pt,e,i,r,u,zAe),y.e=d,y.u="deg",t._props.push(i),y},nY=function(t,e){for(var i in e)t[i]=e[i];return t},s2e=function(t,e,i){var a,l,c,u,d,f,O,r=nY({},i._gsap),o=i.style;for(l in r.svg?(c=i.getAttribute("transform"),i.setAttribute("transform",""),o[So]=e,a=bb(i,1),vb(i,So),i.setAttribute("transform",c)):(c=getComputedStyle(i)[So],o[So]=e,a=bb(i,1),o[So]=c),Oh)(c=r[l])!==(u=a[l])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(l)<0&&(d=Fa(c)!==(O=Fa(u))?Ah(i,l,c,O):parseFloat(c),f=parseFloat(u),t._pt=new Ba(t._pt,a,l,d,f-d,H$),t._pt.u=O||0,t._props.push(l));nY(a,r)};ka("padding,margin,Width,Radius",function(n,t){var e="Top",i="Right",r="Bottom",s="Left",o=(t<3?[e,i,r,s]:[e+s,e+i,r+i,r+s]).map(function(a){return t<2?n+a:"border"+a+n});KT[t>1?"border"+n:n]=function(a,l,c,u,d){var f,y;if(arguments.length<4)return f=o.map(function(O){return Lp(a,O,c)}),5===(y=f.join(" ")).split(f[0]).length?f[0]:y;f=(u+"").split(" "),y={},o.forEach(function(O,I){return y[O]=f[I]=f[I]||f[(I-1)/2|0]}),a.init(l,y,d)}});var iY={name:"css",register:QD,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,i,r,s){var c,u,d,f,y,O,I,N,k,B,G,Y,J,Z,ge,o=this._props,a=t.style,l=i.vars.startAt;for(I in JD||QD(),e)if("autoRound"!==I&&(u=e[I],!ol[I]||!A$(I,e,i,r,t,s)))if(O=KT[I],"function"==(y=typeof u)&&(y=typeof(u=u.call(i,r,t,s))),"string"===y&&~u.indexOf("random(")&&(u=fb(u)),O)O(this,t,I,u,i)&&(ge=1);else if("--"===I.substr(0,2))c=(getComputedStyle(t).getPropertyValue(I)+"").trim(),u+="",Th.lastIndex=0,Th.test(c)||(N=Fa(c),k=Fa(u)),k?N!==k&&(c=Ah(t,I,c,k)+k):N&&(u+=N),this.add(a,"setProperty",c,u,r,s,0,0,I),o.push(I);else if("undefined"!==y){if(l&&I in l?(c="function"==typeof l[I]?l[I].call(i,r,t,s):l[I],eo(c)&&~c.indexOf("random(")&&(c=fb(c)),Fa(c+"")||(c+=rl.units[I]||Fa(Lp(t,I))||""),"="===(c+"").charAt(1)&&(c=Lp(t,I))):c=Lp(t,I),f=parseFloat(c),(B="string"===y&&"="===u.charAt(1)?+(u.charAt(0)+"1"):0)&&(u=u.substr(2)),d=parseFloat(u),I in Ph&&("autoAlpha"===I&&(1===f&&"hidden"===Lp(t,"visibility")&&d&&(f=0),Ih(this,a,"visibility",f?"inherit":"hidden",d?"inherit":"hidden",!d)),"scale"!==I&&"transform"!==I&&~(I=Ph[I]).indexOf(",")&&(I=I.split(",")[0])),G=I in Oh)if(Y||((J=t._gsap).renderTransform&&!e.parseTransform||bb(t,e.parseTransform),Z=!1!==e.smoothOrigin&&J.smooth,(Y=this._pt=new Ba(this._pt,a,So,0,1,J.renderTransform,J,0,-1)).dep=1),"scale"===I)this._pt=new Ba(this._pt,J,"scaleY",J.scaleY,(B?B*d:d-J.scaleY)||0),o.push("scaleY",I),I+="X";else{if("transformOrigin"===I){u=e2e(u),J.svg?nN(t,u,0,Z,0,this):((k=parseFloat(u.split(" ")[2])||0)!==J.zOrigin&&Ih(this,J,"zOrigin",J.zOrigin,k),Ih(this,a,I,JT(c),JT(u)));continue}if("svgOrigin"===I){nN(t,u,1,Z,0,this);continue}if(I in Z$){r2e(this,J,I,f,u,B);continue}if("smoothOrigin"===I){Ih(this,J,"smooth",J.smooth,u);continue}if("force3D"===I){J[I]=u;continue}if("transform"===I){s2e(this,u,t);continue}}else I in a||(I=Ym(I)||I);if(G||(d||0===d)&&(f||0===f)&&!VAe.test(u)&&I in a)d||(d=0),(N=(c+"").substr((f+"").length))!==(k=Fa(u)||(I in rl.units?rl.units[I]:N))&&(f=Ah(t,I,c,k)),this._pt=new Ba(this._pt,G?J:a,I,f,B?B*d:d-f,G||"px"!==k&&"zIndex"!==I||!1===e.autoRound?H$:$Ae),this._pt.u=k||0,N!==k&&"%"!==k&&(this._pt.b=c,this._pt.r=WAe);else if(I in a)QAe.call(this,t,I,c,u);else{if(!(I in t)){ND(I,u);continue}this.add(t,I,c||t[I],u,r,s)}o.push(I)}ge&&L$(this)},get:Lp,aliases:Ph,getSetter:function(t,e,i){var r=Ph[e];return r&&r.indexOf(",")<0&&(e=r),e in Oh&&e!==xh&&(t._gsap.x||Lp(t,"x"))?i&&U$===i?"scale"===e?KAe:qAe:(U$=i||{})&&("scale"===e?JAe:ZAe):t.style&&!xD(t.style[e])?YAe:~e.indexOf("-")?XAe:XD(t,e)},core:{_removeProperty:vb,_getMatrix:tN}};wu.utils.checkPrefix=Ym,function(n,t,e,i){var r=ka(n+","+t+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",function(s){Oh[s]=1});ka(t,function(s){rl.units[s]="deg",Z$[s]=1}),Ph[r[13]]=n+","+t,ka("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",function(s){var o=s.split(":");Ph[o[1]]=r[o[0]]})}("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY"),ka("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){rl.units[n]="px"}),wu.registerPlugin(iY);var jn,Xm,kr,Yo,Ed,hs,rY,rN,Cb,ZT,QT,sN,va,ew,oN,ya,sY,oY,qm,aY,aN,lY,lN,nv,bY,vN,io=wu.registerPlugin(iY)||wu,Eb=1,Gp=[],jp=[],Rh=Date.now,cN=Rh(),Fc=0,cY=1,tw=function(t){return t},Mu=function(t){return Cb(t)[0]||(Lc(t)&&!1!==jn.config().nullTargetWarn?console.warn("Element not found:",t):null)},uY=function(t){return Math.round(1e5*t)/1e5||0},dY=function(){return"undefined"!=typeof window},hY=function(){return jn||dY()&&(jn=window.gsap)&&jn.registerPlugin&&jn},Km=function(t){return!!~rY.indexOf(t)},Hp=function(t,e){return~Gp.indexOf(t)&&Gp[Gp.indexOf(t)+1][e]},nw=function(t,e){var i=e.s,r=e.sc,s=jp.indexOf(t),o=r===Sa.sc?1:2;return!~s&&(s=jp.push(t)-1),jp[s+o]||(jp[s+o]=Hp(t,i)||(Km(t)?r:function(a){return arguments.length?t[i]=a:t[i]}))},fY=function(t){return Hp(t,"getBoundingClientRect")||(Km(t)?function(){return bw.width=kr.innerWidth,bw.height=kr.innerHeight,bw}:function(){return wd(t)})},iw=function(t,e){var i,r=e.d2,s=e.d,o=e.a;return(i="scroll"+r)&&(o=Hp(t,i))?o()-fY(t)()[s]:Km(t)?(hs[i]||Ed[i])-(kr["inner"+r]||Ed["client"+r]||hs["client"+r]):t[i]-t["offset"+r]},uN=function(t,e){for(var i=0;i<qm.length;i+=3)(!e||~e.indexOf(qm[i+1]))&&t(qm[i],qm[i+1],qm[i+2])},Lc=function(t){return"string"==typeof t},Ou=function(t){return"function"==typeof t},Tb=function(t){return"number"==typeof t},dN=function(t){return"object"==typeof t},rw=function(t){return Ou(t)&&t()},pY=function(t,e){return function(){var i=rw(t),r=rw(e);return function(){rw(i),rw(r)}}},wb=function(t,e,i){return t&&t.progress(e?0:1)&&i&&t.pause()},hN=function(t,e){if(t.enabled){var i=e(t);i&&i.totalTime&&(t.callbackAnimation=i)}},Jm=Math.abs,sw="scrollLeft",ow="scrollTop",fN="left",aw="right",lw="bottom",Dh="width",Nh="height",Zm="Right",Qm="Left",ev="Top",tv="Bottom",Os="padding",$l="margin",Vp="Width",ba="px",Bc={s:sw,p:fN,p2:Qm,os:aw,os2:Zm,d:Dh,d2:Vp,a:"x",sc:function(t){return arguments.length?kr.scrollTo(t,Sa.sc()):kr.pageXOffset||Yo[sw]||Ed[sw]||hs[sw]||0}},Sa={s:ow,p:"top",p2:ev,os:lw,os2:tv,d:Nh,d2:"Height",a:"y",op:Bc,sc:function(t){return arguments.length?kr.scrollTo(Bc.sc(),t):kr.pageYOffset||Yo[ow]||Ed[ow]||hs[ow]||0}},Td=function(t){return kr.getComputedStyle(t)},gY=function(t,e){for(var i in e)i in t||(t[i]=e[i]);return t},wd=function(t,e){var i=e&&"matrix(1, 0, 0, 1, 0, 0)"!==Td(t)[oN]&&jn.to(t,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),r=t.getBoundingClientRect();return i&&i.progress(0).kill(),r},gN=function(t,e){var i=e.d2;return t["offset"+i]||t["client"+i]||0},_Y=function(t){var s,e=[],i=t.labels,r=t.duration();for(s in i)e.push(i[s]/r);return e},_N=function(t){var e=jn.utils.snap(t),i=Array.isArray(t)&&t.slice(0).sort(function(r,s){return r-s});return i?function(r,s,o){var a;if(void 0===o&&(o=.001),!s)return e(r);if(s>0){for(r-=o,a=0;a<i.length;a++)if(i[a]>=r)return i[a];return i[a-1]}for(a=i.length,r+=o;a--;)if(i[a]<=r)return i[a];return i[0]}:function(r,s,o){void 0===o&&(o=.001);var a=e(r);return!s||Math.abs(a-r)<o||a-r<0==s<0?a:e(s<0?r-t:r+t)}},mY=function(t,e,i,r){return i.split(",").forEach(function(s){return t(e,s,r)})},Ca=function(t,e,i){return t.addEventListener(e,i,{passive:!0})},Mb=function(t,e,i){return t.removeEventListener(e,i)},vY={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},uw={toggleActions:"play",anticipatePin:0},dw={top:0,left:0,center:.5,bottom:1,right:1},hw=function(t,e){if(Lc(t)){var i=t.indexOf("="),r=~i?+(t.charAt(i-1)+1)*parseFloat(t.substr(i+1)):0;~i&&(t.indexOf("%")>i&&(r*=e/100),t=t.substr(0,i-1)),t=r+(t in dw?dw[t]*e:~t.indexOf("%")?parseFloat(t)*e/100:parseFloat(t)||0)}return t},fw=function(t,e,i,r,s,o,a,l){var c=s.startColor,u=s.endColor,d=s.fontSize,f=s.indent,y=s.fontWeight,O=Yo.createElement("div"),I=Km(i)||"fixed"===Hp(i,"pinType"),N=-1!==t.indexOf("scroller"),k=I?hs:i,B=-1!==t.indexOf("start"),G=B?c:u,Y="border-color:"+G+";font-size:"+d+";color:"+G+";font-weight:"+y+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return Y+="position:"+((N||l)&&I?"fixed;":"absolute;"),(N||l||!I)&&(Y+=(r===Sa?aw:lw)+":"+(o+parseFloat(f))+"px;"),a&&(Y+="box-sizing:border-box;text-align:left;width:"+a.offsetWidth+"px;"),O._isStart=B,O.setAttribute("class","gsap-marker-"+t+(e?" marker-"+e:"")),O.style.cssText=Y,O.innerText=e||0===e?t+"-"+e:t,k.children[0]?k.insertBefore(O,k.children[0]):k.appendChild(O),O._offset=O["offset"+r.op.d2],pw(O,0,r,B),O},pw=function(t,e,i,r){var s={display:"block"},o=i[r?"os2":"p2"],a=i[r?"p2":"os2"];t._isFlipped=r,s[i.a+"Percent"]=r?-100:0,s[i.a]=r?"1px":0,s["border"+o+Vp]=1,s["border"+a+Vp]=0,s[i.p]=e+"px",jn.set(t,s)},Ni=[],mN={},yY=function(){return Rh()-Fc>34&&yN()},gw=function(){yN(),Fc||iv("scrollStart"),Fc=Rh()},Ob=function(){return!va&&!lY&&!Yo.fullscreenElement&&rN.restart(!0)},Pb={},d2e=[],rs=[],SY=function(t){var s,e=jn.ticker.frame,i=[],r=0;if(bY!==e||Eb){for(_w();r<rs.length;r+=4)(s=kr.matchMedia(rs[r]).matches)!==rs[r+3]&&(rs[r+3]=s,s?i.push(r):_w(1,rs[r])||Ou(rs[r+2])&&rs[r+2]());for(EY(),r=0;r<i.length;r++)nv=rs[s=i[r]],rs[s+2]=rs[s+1](t);nv=0,Xm&&rv(0,1),bY=e,iv("matchMedia")}},CY=function n(){return Mb(ar,"scrollEnd",n)||rv(!0)},iv=function(t){return Pb[t]&&Pb[t].map(function(e){return e()})||d2e},Yl=[],EY=function(t){for(var e=0;e<Yl.length;e+=5)(!t||Yl[e+4]===t)&&(Yl[e].style.cssText=Yl[e+1],Yl[e].getBBox&&Yl[e].setAttribute("transform",Yl[e+2]||""),Yl[e+3].uncache=1)},_w=function(t,e){var i;for(ya=0;ya<Ni.length;ya++)i=Ni[ya],(!e||i.media===e)&&(t?i.kill(1):i.revert());e&&EY(e),e||iv("revert")},TY=function(){return jp.forEach(function(t){return"function"==typeof t&&(t.rec=0)})},rv=function(t,e){if(!Fc||t){vN=!0;var i=iv("refreshInit");aY&&ar.sort(),e||_w(),Ni.forEach(function(r){return r.refresh()}),Ni.forEach(function(r){return"max"===r.vars.end&&r.setPositions(r.start,iw(r.scroller,r._dir))}),i.forEach(function(r){return r&&r.render&&r.render(-1)}),TY(),rN.pause(),vN=!1,iv("refresh")}else Ca(ar,"scrollEnd",CY)},wY=0,mw=1,yN=function(){if(!vN){var t=Ni.length,e=Rh(),i=e-cN>=50,r=t&&Ni[0].scroll();if(mw=wY>r?-1:1,wY=r,i&&(Fc&&!ew&&e-Fc>200&&(Fc=0,iv("scrollEnd")),QT=cN,cN=e),mw<0){for(ya=t;ya-- >0;)Ni[ya]&&Ni[ya].update(0,i);mw=1}else for(ya=0;ya<t;ya++)Ni[ya]&&Ni[ya].update(0,i)}},bN=[fN,"top",lw,aw,$l+tv,$l+Zm,$l+ev,$l+Qm,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],vw=bN.concat([Dh,Nh,"boxSizing","max"+Vp,"maxHeight","position",$l,Os,Os+ev,Os+Zm,Os+tv,Os+Qm]),SN=function(t,e,i,r){if(t.parentNode!==e){for(var l,s=bN.length,o=e.style,a=t.style;s--;)o[l=bN[s]]=i[l];o.position="absolute"===i.position?"absolute":"relative","inline"===i.display&&(o.display="inline-block"),a[lw]=a[aw]=o.flexBasis="auto",o.overflow="visible",o.boxSizing="border-box",o[Dh]=gN(t,Bc)+ba,o[Nh]=gN(t,Sa)+ba,o[Os]=a[$l]=a.top=a[fN]="0",xb(r),a[Dh]=a.maxWidth=i[Dh],a[Nh]=a.maxHeight=i[Nh],a[Os]=i[Os],t.parentNode.insertBefore(e,t),e.appendChild(t)}},f2e=/([A-Z])/g,xb=function(t){if(t){var s,o,e=t.t.style,i=t.length,r=0;for((t.t._gsap||jn.core.getCache(t.t)).uncache=1;r<i;r+=2)s=t[r],(o=t[r+1])?e[s]=o:e[s]&&e.removeProperty(s.replace(f2e,"-$1").toLowerCase())}},yw=function(t){for(var e=vw.length,i=t.style,r=[],s=0;s<e;s++)r.push(vw[s],i[vw[s]]);return r.t=t,r},bw={left:0,top:0},MY=function(t,e,i,r,s,o,a,l,c,u,d,f,y){Ou(t)&&(t=t(l)),Lc(t)&&"max"===t.substr(0,3)&&(t=f+("="===t.charAt(4)?hw("0"+t.substr(3),i):0));var I,N,k,O=y?y.time():0;if(y&&y.seek(0),Tb(t))a&&pw(a,i,r,!0);else{Ou(e)&&(e=e(l));var G,Y,J,Z,B=t.split(" ");k=Mu(e)||hs,(!(G=wd(k)||{})||!G.left&&!G.top)&&"none"===Td(k).display&&(Z=k.style.display,k.style.display="block",G=wd(k),Z?k.style.display=Z:k.style.removeProperty("display")),Y=hw(B[0],G[r.d]),J=hw(B[1]||"0",i),t=G[r.p]-c[r.p]-u+Y+s-J,a&&pw(a,J,r,i-J<20||a._isStart&&J>20),i-=i-J}if(o){var ge=t+i,pe=o._isStart;I="scroll"+r.d2,pw(o,ge,r,pe&&ge>20||!pe&&(d?Math.max(hs[I],Ed[I]):o.parentNode[I])<=ge+1),d&&(c=wd(a),d&&(o.style[r.op.p]=c[r.op.p]-r.op.m-o._offset+ba))}return y&&k&&(I=wd(k),y.seek(f),N=wd(k),y._caScrollDist=I[r.p]-N[r.p],t=t/y._caScrollDist*f),y&&y.seek(O),y?t:Math.round(t)},g2e=/(?:webkit|moz|length|cssText|inset)/i,OY=function(t,e,i,r){if(t.parentNode!==e){var o,a,s=t.style;if(e===hs){for(o in t._stOrig=s.cssText,a=Td(t))!+o&&!g2e.test(o)&&a[o]&&"string"==typeof s[o]&&"0"!==o&&(s[o]=a[o]);s.top=i,s.left=r}else s.cssText=t._stOrig;jn.core.getCache(t).uncache=1,e.appendChild(t)}},PY=function(t,e){var s,o,i=nw(t,e),r="_scroll"+e.p2,a=function l(c,u,d,f,y){var O=l.tween,I=u.onComplete,N={};return O&&O.kill(),s=Math.round(d),u[r]=c,u.modifiers=N,N[r]=function(k){return(k=uY(i()))!==s&&k!==o&&Math.abs(k-s)>2&&Math.abs(k-o)>2?(O.kill(),l.tween=0):k=d+f*O.ratio+y*O.ratio*O.ratio,o=s,s=uY(k)},u.onComplete=function(){l.tween=0,I&&I.call(O)},O=l.tween=jn.to(t,u)};return t[r]=i,Ca(t,"wheel",function(){return a.tween&&a.tween.kill()&&(a.tween=0)}),a};Bc.op=Sa;var ar=function(){function n(e,i){Xm||n.register(jn)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),this.init(e,i)}return n.prototype.init=function(i,r){if(this.progress=this.start=0,this.vars&&this.kill(1),cY){var kt,Vt,Pn,cn,Qt,Ft,vn,tn,Qi,Nn,bn,fs,lr,pl,zc,Du,ps,Ad,Rd,Vk,c1,qh,VK,u1,zK,zk,Wk,vM,$k,wa,yM,Kh,Ov,d1,h1,Yk,Xk,o=(i=gY(Lc(i)||Tb(i)||i.nodeType?{trigger:i}:i,uw)).onUpdate,a=i.toggleClass,l=i.id,c=i.onToggle,u=i.onRefresh,d=i.scrub,f=i.trigger,y=i.pin,O=i.pinSpacing,I=i.invalidateOnRefresh,N=i.anticipatePin,k=i.onScrubComplete,B=i.onSnapComplete,G=i.once,Y=i.snap,J=i.pinReparent,Z=i.pinSpacer,ge=i.containerAnimation,pe=i.fastScrollEnd,ae=i.preventOverlaps,de=i.horizontal||i.containerAnimation&&!1!==i.horizontal?Bc:Sa,xe=!d&&0!==d,ve=Mu(i.scroller||kr),ye=jn.core.getCache(ve),Re=Km(ve),Oe="fixed"===("pinType"in i?i.pinType:Hp(ve,"pinType")||Re&&"fixed"),be=[i.onEnter,i.onLeave,i.onEnterBack,i.onLeaveBack],Ee=xe&&i.toggleActions.split(" "),De="markers"in i?i.markers:uw.markers,nt=Re?0:parseFloat(Td(ve)["border"+de.p2+Vp])||0,me=this,Ve=i.onRefreshInit&&function(){return i.onRefreshInit(me)},et=function(t,e,i){var r=i.d,s=i.d2,o=i.a;return(o=Hp(t,"getBoundingClientRect"))?function(){return o()[r]}:function(){return(e?kr["inner"+s]:t["client"+s])||0}}(ve,Re,de),st=(t=ve,!Re||~Gp.indexOf(t)?fY(t):function(){return bw}),Tt=0,vt=nw(ve,de);if(me.media=nv,me._dir=de,N*=45,me.scroller=ve,me.scroll=ge?ge.time.bind(ge):vt,cn=vt(),me.vars=i,r=r||i.animation,"refreshPriority"in i&&(aY=1),ye.tweenScroll=ye.tweenScroll||{top:PY(ve,Sa),left:PY(ve,Bc)},me.tweenTo=kt=ye.tweenScroll[de.p],r&&(r.vars.lazy=!1,r._initted||!1!==r.vars.immediateRender&&!1!==i.immediateRender&&r.render(0,!0,!0),me.animation=r.pause(),r.scrollTrigger=me,(yM=Tb(d)&&d)&&(wa=jn.to(r,{ease:"power3",duration:yM,onComplete:function(){return k&&k(me)}})),vM=0,l||(l=r.vars.id)),Ni.push(me),Y&&((!dN(Y)||Y.push)&&(Y={snapTo:Y}),"scrollBehavior"in hs.style&&jn.set(Re?[hs,Ed]:ve,{scrollBehavior:"auto"}),Pn=Ou(Y.snapTo)?Y.snapTo:"labels"===Y.snapTo?function(t){return function(e){return jn.utils.snap(_Y(t),e)}}(r):"labelsDirectional"===Y.snapTo?function(t){return function(e,i){return _N(_Y(t))(e,i.direction)}}(r):!1!==Y.directional?function(_i,ki){return _N(Y.snapTo)(_i,ki.direction)}:jn.utils.snap(Y.snapTo),Kh=dN(Kh=Y.duration||{min:.1,max:2})?ZT(Kh.min,Kh.max):ZT(Kh,Kh),Ov=jn.delayedCall(Y.delay||yM/2||.1,function(){if(Math.abs(me.getVelocity())<10&&!ew&&Tt!==vt()){var _i=r&&!xe?r.totalProgress():me.progress,ki=(_i-$k)/(Rh()-QT)*1e3||0,Yi=jn.utils.clamp(-me.progress,1-me.progress,Jm(ki/2)*ki/.185),er=me.progress+(!1===Y.inertia?0:Yi),rc=ZT(0,1,Pn(er,me)),Kn=vt(),gs=Math.round(Ft+rc*lr),Dd=Y.onStart,$r=Y.onInterrupt,Ga=Y.onComplete,Wc=kt.tween;if(Kn<=vn&&Kn>=Ft&&gs!==Kn){if(Wc&&!Wc._initted&&Wc.data<=Jm(gs-Kn))return;!1===Y.inertia&&(Yi=rc-me.progress),kt(gs,{duration:Kh(Jm(.185*Math.max(Jm(er-_i),Jm(rc-_i))/ki/.05||0)),ease:Y.ease||"power3",data:Jm(gs-Kn),onInterrupt:function(){return Ov.restart(!0)&&$r&&$r(me)},onComplete:function(){me.update(),Tt=vt(),vM=$k=r&&!xe?r.totalProgress():me.progress,B&&B(me),Ga&&Ga(me)}},Kn,Yi*lr,gs-Kn-Yi*lr),Dd&&Dd(me,kt.tween)}}else me.isActive&&Ov.restart(!0)}).pause()),l&&(mN[l]=me),f=me.trigger=Mu(f||y),y=!0===y?f:Mu(y),Lc(a)&&(a={targets:f,className:a}),y&&(!1===O||O===$l||(O=!(!O&&"flex"===Td(y.parentNode).display)&&Os),me.pin=y,!1!==i.force3D&&jn.set(y,{force3D:!0}),(Vt=jn.core.getCache(y)).spacer?pl=Vt.pinState:(Z&&((Z=Mu(Z))&&!Z.nodeType&&(Z=Z.current||Z.nativeElement),Vt.spacerIsNative=!!Z,Z&&(Vt.spacerState=yw(Z))),Vt.spacer=ps=Z||Yo.createElement("div"),ps.classList.add("pin-spacer"),l&&ps.classList.add("pin-spacer-"+l),Vt.pinState=pl=yw(y)),me.spacer=ps=Vt.spacer,Wk=Td(y),VK=Wk[O+de.os2],Rd=jn.getProperty(y),Vk=jn.quickSetter(y,de.a,ba),SN(y,ps,Wk),Du=yw(y)),De&&(fs=dN(De)?gY(De,vY):vY,Nn=fw("scroller-start",l,ve,de,fs,0),bn=fw("scroller-end",l,ve,de,fs,0,Nn),tn=fw("start",l,ve,de,fs,Ad=Nn["offset"+de.op.d2],0,ge),Qi=fw("end",l,ve,de,fs,Ad,0,ge),ge&&(Xk=jn.quickSetter([tn,Qi],de.a,ba)),!Oe&&!(Gp.length&&!0===Hp(ve,"fixedMarkers"))&&(function(t){var e=Td(t).position;t.style.position="absolute"===e||"fixed"===e?e:"relative"}(Re?hs:ve),jn.set([Nn,bn],{force3D:!0}),zK=jn.quickSetter(Nn,de.a,ba),zk=jn.quickSetter(bn,de.a,ba))),ge){var WK=ge.vars.onUpdate,tHe=ge.vars.onUpdateParams;ge.eventCallback("onUpdate",function(){me.update(0,0,1),WK&&WK.apply(tHe||[])})}me.previous=function(){return Ni[Ni.indexOf(me)-1]},me.next=function(){return Ni[Ni.indexOf(me)+1]},me.revert=function(_i){var ki=!1!==_i||!me.enabled,Yi=va;ki!==me.isReverted&&(ki&&(me.scroll.rec||(me.scroll.rec=vt()),h1=Math.max(vt(),me.scroll.rec||0),d1=me.progress,Yk=r&&r.progress()),tn&&[tn,Qi,Nn,bn].forEach(function(er){return er.style.display=ki?"none":"block"}),ki&&(va=1),me.update(ki),va=Yi,y&&(ki?function(t,e,i){xb(i);var r=t._gsap;if(r.spacerIsNative)xb(r.spacerState);else if(t.parentNode===e){var s=e.parentNode;s&&(s.insertBefore(t,e),s.removeChild(e))}}(y,ps,pl):(!J||!me.isActive)&&SN(y,ps,Td(y),u1)),me.isReverted=ki)},me.refresh=function(_i,ki){if(!va&&me.enabled||ki){if(y&&_i&&Fc)return void Ca(n,"scrollEnd",CY);va=1,wa&&wa.pause(),I&&r&&r.time(-.01,!0).invalidate(),me.isReverted||me.revert();for(var Vs,wo,Pv,Pg,zs,oo,Nd,qk,$K,f1,Yi=et(),er=st(),rc=ge?ge.duration():iw(ve,de),Kn=0,gs=0,Wr=i.end,Dd=i.endTrigger||f,$r=i.start||(0!==i.start&&f?y?"0 0":"0 100%":0),Ga=i.pinnedContainer&&Mu(i.pinnedContainer),Wc=f&&Math.max(0,Ni.indexOf(me))||0,Hs=Wc;Hs--;)(oo=Ni[Hs]).end||oo.refresh(0,1)||(va=1),(Nd=oo.pin)&&(Nd===f||Nd===y)&&!oo.isReverted&&(f1||(f1=[]),f1.unshift(oo),oo.revert());for(Ou($r)&&($r=$r(me)),Ft=MY($r,f,Yi,de,vt(),tn,Nn,me,er,nt,Oe,rc,ge)||(y?-.001:0),Ou(Wr)&&(Wr=Wr(me)),Lc(Wr)&&!Wr.indexOf("+=")&&(~Wr.indexOf(" ")?Wr=(Lc($r)?$r.split(" ")[0]:"")+Wr:(Kn=hw(Wr.substr(2),Yi),Wr=Lc($r)?$r:Ft+Kn,Dd=f)),vn=Math.max(Ft,MY(Wr||(Dd?"100% 0":rc),Dd,Yi,de,vt()+Kn,Qi,bn,me,er,nt,Oe,rc,ge))||-.001,lr=vn-Ft||(Ft-=.01)&&.001,Kn=0,Hs=Wc;Hs--;)(Nd=(oo=Ni[Hs]).pin)&&oo.start-oo._pinPush<Ft&&!ge&&(Vs=oo.end-oo.start,(Nd===f||Nd===Ga)&&!Tb($r)&&(Kn+=Vs*(1-oo.progress)),Nd===y&&(gs+=Vs));if(Ft+=Kn,vn+=Kn,me._pinPush=gs,tn&&Kn&&((Vs={})[de.a]="+="+Kn,Ga&&(Vs[de.p]="-="+vt()),jn.set([tn,Qi],Vs)),y)Vs=Td(y),Pg=de===Sa,Pv=vt(),c1=parseFloat(Rd(de.a))+gs,!rc&&vn>1&&((Re?hs:ve).style["overflow-"+de.a]="scroll"),SN(y,ps,Vs),Du=yw(y),wo=wd(y,!0),qk=Oe&&nw(ve,Pg?Bc:Sa)(),O&&((u1=[O+de.os2,lr+gs+ba]).t=ps,(Hs=O===Os?gN(y,de)+lr+gs:0)&&u1.push(de.d,Hs+ba),xb(u1),Oe&&vt(h1)),Oe&&((zs={top:wo.top+(Pg?Pv-Ft:qk)+ba,left:wo.left+(Pg?qk:Pv-Ft)+ba,boxSizing:"border-box",position:"fixed"})[Dh]=zs.maxWidth=Math.ceil(wo.width)+ba,zs[Nh]=zs.maxHeight=Math.ceil(wo.height)+ba,zs[$l]=zs[$l+ev]=zs[$l+Zm]=zs[$l+tv]=zs[$l+Qm]="0",zs[Os]=Vs[Os],zs[Os+ev]=Vs[Os+ev],zs[Os+Zm]=Vs[Os+Zm],zs[Os+tv]=Vs[Os+tv],zs[Os+Qm]=Vs[Os+Qm],zc=function(t,e,i){for(var a,r=[],s=t.length,o=i?8:0;o<s;o+=2)r.push(a=t[o],a in e?e[a]:t[o+1]);return r.t=t.t,r}(pl,zs,J)),r?($K=r._initted,aN(1),r.render(r.duration(),!0,!0),qh=Rd(de.a)-c1+lr+gs,lr!==qh&&zc.splice(zc.length-2,2),r.render(0,!0,!0),$K||r.invalidate(),aN(0)):qh=lr;else if(f&&vt()&&!ge)for(wo=f.parentNode;wo&&wo!==hs;)wo._pinOffset&&(Ft-=wo._pinOffset,vn-=wo._pinOffset),wo=wo.parentNode;f1&&f1.forEach(function(nHe){return nHe.revert(!1)}),me.start=Ft,me.end=vn,cn=Qt=vt(),ge||(cn<h1&&vt(h1),me.scroll.rec=0),me.revert(!1),va=0,r&&xe&&r._initted&&r.progress()!==Yk&&r.progress(Yk,!0).render(r.time(),!0,!0),(d1!==me.progress||ge)&&(r&&!xe&&r.totalProgress(d1,!0),me.progress=d1,me.update(0,0,1)),y&&O&&(ps._pinOffset=Math.round(me.progress*qh)),u&&u(me)}},me.getVelocity=function(){return(vt()-Qt)/(Rh()-QT)*1e3||0},me.endAnimation=function(){wb(me.callbackAnimation),r&&(wa?wa.progress(1):r.paused()?xe||wb(r,me.direction<0,1):wb(r,r.reversed()))},me.labelToScroll=function(_i){return r&&r.labels&&(Ft||me.refresh()||Ft)+r.labels[_i]/r.duration()*lr||0},me.getTrailing=function(_i){var ki=Ni.indexOf(me),Yi=me.direction>0?Ni.slice(0,ki).reverse():Ni.slice(ki+1);return Lc(_i)?Yi.filter(function(er){return er.vars.preventOverlaps===_i}):Yi},me.update=function(_i,ki,Yi){if(!ge||Yi||_i){var Wr,$r,Ga,Wc,Hs,Vs,wo,er=me.scroll(),rc=_i?0:(er-Ft)/lr,Kn=rc<0?0:rc>1?1:rc||0,gs=me.progress;if(ki&&(Qt=cn,cn=ge?vt():er,Y&&($k=vM,vM=r&&!xe?r.totalProgress():Kn)),N&&!Kn&&y&&!va&&!Eb&&Fc&&Ft<er+(er-Qt)/(Rh()-QT)*N&&(Kn=1e-4),Kn!==gs&&me.enabled){if(Wc=(Hs=(Wr=me.isActive=!!Kn&&Kn<1)!=(!!gs&&gs<1))||!!Kn!=!!gs,me.direction=Kn>gs?1:-1,me.progress=Kn,Wc&&!va&&($r=Kn&&!gs?0:1===Kn?1:1===gs?2:3,xe&&(Ga=!Hs&&"none"!==Ee[$r+1]&&Ee[$r+1]||Ee[$r],wo=r&&("complete"===Ga||"reset"===Ga||Ga in r))),ae&&Hs&&(wo||d||!r)&&(Ou(ae)?ae(me):me.getTrailing(ae).forEach(function(oo){return oo.endAnimation()})),xe||(!wa||va||Eb?r&&r.totalProgress(Kn,!!va):(wa.vars.totalProgress=Kn,wa.invalidate().restart())),y)if(_i&&O&&(ps.style[O+de.os2]=VK),Oe){if(Wc){if(Vs=!_i&&Kn>gs&&vn+1>er&&er+1>=iw(ve,de),J)if(_i||!Wr&&!Vs)OY(y,ps);else{var Pv=wd(y,!0),Pg=er-Ft;OY(y,hs,Pv.top+(de===Sa?Pg:0)+ba,Pv.left+(de===Sa?0:Pg)+ba)}xb(Wr||Vs?zc:Du),qh!==lr&&Kn<1&&Wr||Vk(c1+(1!==Kn||Vs?0:qh))}}else Vk(c1+qh*Kn);Y&&!kt.tween&&!va&&!Eb&&Ov.restart(!0),a&&(Hs||G&&Kn&&(Kn<1||!lN))&&Cb(a.targets).forEach(function(oo){return oo.classList[Wr||G?"add":"remove"](a.className)}),o&&!xe&&!_i&&o(me),Wc&&!va?(xe&&(wo&&("complete"===Ga?r.pause().totalProgress(1):"reset"===Ga?r.restart(!0).pause():"restart"===Ga?r.restart(!0):r[Ga]()),o&&o(me)),(Hs||!lN)&&(c&&Hs&&hN(me,c),be[$r]&&hN(me,be[$r]),G&&(1===Kn?me.kill(!1,1):be[$r]=0),Hs||be[$r=1===Kn?1:3]&&hN(me,be[$r])),pe&&!Wr&&Math.abs(me.getVelocity())>(Tb(pe)?pe:2500)&&(wb(me.callbackAnimation),wa?wa.progress(1):wb(r,!Kn,1))):xe&&o&&!va&&o(me)}if(zk){var zs=ge?er/ge.duration()*(ge._caScrollDist||0):er;zK(zs+(Nn._isFlipped?1:0)),zk(zs)}Xk&&Xk(-er/ge.duration()*(ge._caScrollDist||0))}},me.enable=function(_i,ki){me.enabled||(me.enabled=!0,Ca(ve,"resize",Ob),Ca(ve,"scroll",gw),Ve&&Ca(n,"refreshInit",Ve),!1!==_i&&(me.progress=d1=0,cn=Qt=Tt=vt()),!1!==ki&&me.refresh())},me.getTween=function(_i){return _i&&kt?kt.tween:wa},me.setPositions=function(_i,ki){y&&(c1+=_i-Ft,qh+=ki-_i-lr),me.start=Ft=_i,me.end=vn=ki,lr=ki-_i,me.update()},me.disable=function(_i,ki){if(me.enabled&&(!1!==_i&&me.revert(),me.enabled=me.isActive=!1,ki||wa&&wa.pause(),h1=0,Vt&&(Vt.uncache=1),Ve&&Mb(n,"refreshInit",Ve),Ov&&(Ov.pause(),kt.tween&&kt.tween.kill()&&(kt.tween=0)),!Re)){for(var Yi=Ni.length;Yi--;)if(Ni[Yi].scroller===ve&&Ni[Yi]!==me)return;Mb(ve,"resize",Ob),Mb(ve,"scroll",gw)}},me.kill=function(_i,ki){me.disable(_i,ki),wa&&wa.kill(),l&&delete mN[l];var Yi=Ni.indexOf(me);Yi>=0&&Ni.splice(Yi,1),Yi===ya&&mw>0&&ya--,Yi=0,Ni.forEach(function(er){return er.scroller===me.scroller&&(Yi=1)}),Yi||(me.scroll.rec=0),r&&(r.scrollTrigger=null,_i&&r.render(-1),ki||r.kill()),tn&&[tn,Qi,Nn,bn].forEach(function(er){return er.parentNode&&er.parentNode.removeChild(er)}),y&&(Vt&&(Vt.uncache=1),Yi=0,Ni.forEach(function(er){return er.pin===y&&Yi++}),Yi||(Vt.spacer=0))},me.enable(!1,!1),r&&r.add&&!lr?jn.delayedCall(.01,function(){return Ft||vn||me.refresh()})&&(lr=.01)&&(Ft=vn=0):me.refresh()}else this.update=this.refresh=this.kill=tw;var t},n.register=function(i){if(!Xm&&(jn=i||hY(),dY()&&window.document&&(kr=window,Yo=document,Ed=Yo.documentElement,hs=Yo.body),jn&&(Cb=jn.utils.toArray,ZT=jn.utils.clamp,aN=jn.core.suppressOverwrites||tw,jn.core.globals("ScrollTrigger",n),hs))){Ca(kr,"wheel",gw),rY=[kr,Yo,Ed,hs],Ca(Yo,"scroll",gw);var o,r=hs.style,s=r.borderTopStyle;r.borderTopStyle="solid",o=wd(hs),Sa.m=Math.round(o.top+Sa.sc())||0,Bc.m=Math.round(o.left+Bc.sc())||0,s?r.borderTopStyle=s:r.removeProperty("border-top-style"),sN=setInterval(yY,200),jn.delayedCall(.5,function(){return Eb=0}),Ca(Yo,"touchcancel",tw),Ca(hs,"touchstart",tw),mY(Ca,Yo,"pointerdown,touchstart,mousedown",function(){return ew=1}),mY(Ca,Yo,"pointerup,touchend,mouseup",function(){return ew=0}),oN=jn.utils.checkPrefix("transform"),vw.push(oN),Xm=Rh(),rN=jn.delayedCall(.2,rv).pause(),qm=[Yo,"visibilitychange",function(){var a=kr.innerWidth,l=kr.innerHeight;Yo.hidden?(sY=a,oY=l):(sY!==a||oY!==l)&&Ob()},Yo,"DOMContentLoaded",rv,kr,"load",function(){return Fc||rv()},kr,"resize",Ob],uN(Ca)}return Xm},n.defaults=function(i){if(i)for(var r in i)uw[r]=i[r];return uw},n.kill=function(){cY=0,Ni.slice(0).forEach(function(i){return i.kill(1)})},n.config=function(i){"limitCallbacks"in i&&(lN=!!i.limitCallbacks);var r=i.syncInterval;r&&clearInterval(sN)||(sN=r)&&setInterval(yY,r),"autoRefreshEvents"in i&&(uN(Mb)||uN(Ca,i.autoRefreshEvents||"none"),lY=-1===(i.autoRefreshEvents+"").indexOf("resize"))},n.scrollerProxy=function(i,r){var s=Mu(i),o=jp.indexOf(s),a=Km(s);~o&&jp.splice(o,a?6:2),r&&(a?Gp.unshift(kr,r,hs,r,Ed,r):Gp.unshift(s,r))},n.matchMedia=function(i){var r,s,o,a,l;for(s in i)o=rs.indexOf(s),a=i[s],nv=s,"all"===s?a():(r=kr.matchMedia(s))&&(r.matches&&(l=a()),~o?(rs[o+1]=pY(rs[o+1],a),rs[o+2]=pY(rs[o+2],l)):(o=rs.length,rs.push(s,a,l),r.addListener?r.addListener(SY):r.addEventListener("change",SY)),rs[o+3]=r.matches),nv=0;return rs},n.clearMatchMedia=function(i){i||(rs.length=0),(i=rs.indexOf(i))>=0&&rs.splice(i,4)},n.isInViewport=function(i,r,s){var o=(Lc(i)?Mu(i):i).getBoundingClientRect(),a=o[s?Dh:Nh]*r||0;return s?o.right-a>0&&o.left+a<kr.innerWidth:o.bottom-a>0&&o.top+a<kr.innerHeight},n.positionInViewport=function(i,r,s){Lc(i)&&(i=Mu(i));var o=i.getBoundingClientRect(),a=o[s?Dh:Nh],l=null==r?a/2:r in dw?dw[r]*a:~r.indexOf("%")?parseFloat(r)*a/100:parseFloat(r)||0;return s?(o.left+l)/kr.innerWidth:(o.top+l)/kr.innerHeight},n}();ar.version="3.9.1",ar.saveStyles=function(n){return n?Cb(n).forEach(function(t){if(t&&t.style){var e=Yl.indexOf(t);e>=0&&Yl.splice(e,5),Yl.push(t,t.style.cssText,t.getBBox&&t.getAttribute("transform"),jn.core.getCache(t),nv)}}):Yl},ar.revert=function(n,t){return _w(!n,t)},ar.create=function(n,t){return new ar(n,t)},ar.refresh=function(n){return n?Ob():(Xm||ar.register())&&rv(!0)},ar.update=yN,ar.clearScrollMemory=TY,ar.maxScroll=function(n,t){return iw(n,t?Bc:Sa)},ar.getScrollFunc=function(n,t){return nw(Mu(n),t?Bc:Sa)},ar.getById=function(n){return mN[n]},ar.getAll=function(){return Ni.slice(0)},ar.isScrolling=function(){return!!Fc},ar.snapDirectional=_N,ar.addEventListener=function(n,t){var e=Pb[n]||(Pb[n]=[]);~e.indexOf(t)||e.push(t)},ar.removeEventListener=function(n,t){var e=Pb[n],i=e&&e.indexOf(t);i>=0&&e.splice(i,1)},ar.batch=function(n,t){var a,e=[],i={},r=t.interval||.016,s=t.batchMax||1e9,o=function(c,u){var d=[],f=[],y=jn.delayedCall(r,function(){u(d,f),d=[],f=[]}).pause();return function(O){d.length||y.restart(!0),d.push(O.trigger),f.push(O),s<=d.length&&y.progress(1)}};for(a in t)i[a]="on"===a.substr(0,2)&&Ou(t[a])&&"onRefreshInit"!==a?o(0,t[a]):t[a];return Ou(s)&&(s=s(),Ca(ar,"refresh",function(){return s=t.batchMax()})),Cb(n).forEach(function(l){var c={};for(a in i)c[a]=i[a];c.trigger=l,e.push(ar.create(c))}),e},ar.sort=function(n){return Ni.sort(n||function(t,e){return-1e6*(t.vars.refreshPriority||0)+t.start-(e.start+-1e6*(e.vars.refreshPriority||0))})},hY()&&jn.registerPlugin(ar);const ro="challenges.challengeDetailsMessages.",sv=`${Ui.RACE}.`,ov=`${Ui.MISSION}.`,av=`${Ui.TOURNAMENT}.`,xY={[Ui.RACE]:{waitForStart:ro+sv+"You have successfully joined the xRace. Wait for the start.",missionPaused:ro+sv+"Oops! The xRace is paused. It will be resumed shortly",prizeClaimed:ro+sv+"You've already claimed your prize! See you at the next challenge",missionOverSuccess:ro+sv+"xRace is over! See you at the next challenge",missionOverFail:ro+sv+"xRace is over! Try harder next time!",minBetError:ro+sv+"Your bet doesn't meet the minimum bet requirement for the xRace! Progress is on pause."},[Ui.MISSION]:{waitForStart:ro+ov+"You have successfully joined the xMission. Wait for the start.",missionPaused:ro+ov+"Oops! The xMission is paused. It will be resumed shortly",prizeClaimed:ro+ov+"You've already claimed your prize! See you at the next challenge",missionOverSuccess:ro+ov+"xMission is over! See you at the next challenge",missionOverFail:ro+ov+"xMission is over! Try harder next time!",minBetError:ro+ov+"Your bet doesn't meet the minimum bet requirement for the xMission! Progress is on pause."},[Ui.TOURNAMENT]:{waitForStart:ro+av+"You have successfully joined the xTournament. Wait for the start.",missionPaused:ro+av+"Oops! The xTournament is paused. It will be resumed shortly",prizeClaimed:ro+av+"You've already claimed your prize! See you at the next challenge",missionOverSuccess:ro+av+"xTournament is over! See you at the next challenge",missionOverFail:ro+av+"xTournament is over! Try harder next time!",minBetError:ro+av+"Your bet doesn't meet the minimum bet requirement for the xTournament! Progress is on pause."}};var Xl=(()=>(function(n){n.TaskCompleted="Task completed:",n.ChallengeCompleted="Challenge completed. Take your prize!",n.PrizePaid="Prize has been paid. Congratulations!",n.PrizesEnded="Challenge ended: all prizes have been won",n.ChallengePaused="Challenge has been paused",n.ChallengeResumed="Challenge has been resumed",n.PlayerKicked="You have been removed from the Challenge by the Administrator",n.ChallengeWasCanceled="Challenge was canceled"}(Xl||(Xl={})),Xl))(),ai=(()=>(function(n){n.CatchMultipliers="CATCH_MULTIPLIERS",n.WinMoneyInTotal="WIN_MONEY_IN_TOTAL",n.WinRounds="WIN_ROUNDS",n.BetInTotal="BET_IN_TOTAL",n.PlayRounds="PLAY_ROUNDS",n.PlayRoundsMaxReachedMultiplier="PLAY_ROUNDS_MAX_REACHED_MULTIPLIER",n.CollectCashOutsMultiplierSum="COLLECT_CASH_OUTS_MULTIPLIER_SUM",n.CatchHighestMultiplier="CATCH_HIGHEST_MULTIPLIER"}(ai||(ai={})),ai))();const CN=new Set([ai.WinMoneyInTotal,ai.BetInTotal]);let Sw=(()=>{class n{constructor(e,i,r){this.translate=e,this.bsMessage=i,this.currencyPrecisionPipe=r}getTranslation(e,i={}){const r=`challenges.toastMessage.${e}`;return this.translate.translate(r)?this.translate.translate(r,i):e}getTranslationTask(e,i){const r=`challenges.tasks.${e}`,s=this.translate.translate(r,{minBet:this.currencyPrecisionPipe.transform(i.minBet),targetMinMultiplier:i.targetMinMultiplier,goal:CN.has(e)?this.currencyPrecisionPipe.transform(i.goal):i.goal,currency:i.currency});return this.translate.translate(r)?s:e}show(e,i,r={},s){const o=s?this.getTranslation(e,r)+" "+this.getTranslationTask(s.taskType,s.params):this.getTranslation(e,r);this.bsMessage.add({value:o,context:i,scope:ey.Challenges,template:Af.Challenge})}}return n.\u0275fac=function(e){return new(e||n)(je(op),je(Fl),je(Xn))},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})(),zp=(()=>{class n{constructor(e,i,r){this.stomp=e,this.notification=i,this.challenge=r,this.update=new On({challenge:yr.Announced,player:$i.None,finishDate:void 0}),this.update$=this.update.asObservable(),this.challenge.updateData$.subscribe(s=>{this.update.next(Object.assign(Object.assign({},this.update.getValue()),{challenge:s.challengeStatus,finishDate:s.config.endDate,player:s.playerStatus}))}),this.stomp.response(Pi.PlayerStatus).subscribe(s=>{this.update.next(Object.assign(Object.assign({},this.update.getValue()),{player:s.status})),s.status===$i.Won&&this.notification.show(Xl.ChallengeCompleted,Tr.success,{challenge:this.challenge.config.typeUi}),s.status===$i.Joined&&this.stomp.request(yo.Leaderboard,{challengeId:this.challenge.config.challengeId}),s.status===$i.Rewarded&&this.notification.show(Xl.PrizePaid,Tr.success,{challenge:this.challenge.config.typeUi}),s.status===$i.Kicked&&this.notification.show(Xl.PlayerKicked,Tr.danger,{challenge:this.challenge.config.typeUi}),s.status===$i.OperatorKicked&&this.notification.show(Xl.ChallengeWasCanceled,Tr.danger,{challenge:this.challenge.config.typeUi})}),this.stomp.response(Pi.ChallengeStatus).subscribe(s=>{s.status===yr.Paused&&this.notification.show(Xl.ChallengePaused,Tr.danger,{challenge:this.challenge.config.typeUi}),s.status===yr.Canceled&&this.notification.show(Xl.ChallengeWasCanceled,Tr.danger,{challenge:this.challenge.config.typeUi}),this.update.getValue().challenge===yr.Paused&&s.status===yr.Active&&this.notification.show(Xl.ChallengeResumed,Tr.success,{challenge:this.challenge.config.typeUi}),this.update.next(Object.assign(Object.assign({},this.update.getValue()),{challenge:s.status,finishDate:s.finishDate||this.update.getValue().finishDate}))})}}return n.\u0275fac=function(e){return new(e||n)(je(Da),je(Sw),je(bo))},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})(),lv=(()=>{class n{constructor(e,i,r){this.stomp=e,this.notification=i,this.challenge=r,this.tasks=new Map,this.updateSubject=new On({tasks:[],totalProgress:0}),this.update$=this.updateSubject.asObservable(),this.challenge.updateData$.subscribe(s=>{this.tasks.clear(),s.progress.tasks.forEach(o=>{this.tasks.set(o.type,Object.assign(Object.assign({},o),{nameParams:{goal:o.goal,minBet:o.minBet,targetMinMultiplier:o.targetMinMultiplier,currency:this.challenge.config.currency}}))}),this.updateSubject.next({tasks:Array.from(this.tasks.values()),totalProgress:s.progress.total})}),this.stomp.response(Pi.Progress).subscribe(s=>{s.tasks.forEach(o=>{this.tasks.set(o.type,Object.assign(Object.assign({},this.tasks.get(o.type)),{progress:o.progress})),this.updateSubject.next({tasks:Array.from(this.tasks.values()),totalProgress:s.total}),this.tasks.get(o.type).progress===this.tasks.get(o.type).goal&&this.notification.show(Xl.TaskCompleted,Tr.success,{},{taskType:o.type,params:this.tasks.get(o.type).nameParams})})})}}return n.\u0275fac=function(e){return new(e||n)(je(Da),je(Sw),je(bo))},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})(),cv=(()=>{class n{constructor(e,i,r,s){this.stomp=e,this.notification=i,this.challenge=r,this.currencyPrecisionPipe=s,this.updateSubject=new On({left:void 0}),this.update$=this.updateSubject.asObservable(),this.updateItemsSubject=new On([]),this.updateItems$=this.updateItemsSubject.asObservable(),this.items=[],this.total=0,this.potentialPrizeAmount=0,this.tournamentList=[],this.challenge.updateData$.subscribe(o=>{this.items=[...o.prizes],this.challenge.config.typeUi===Ui.TOURNAMENT&&(this.setTournamentList(o.prizes),this.setTournamentItems(o.prizes),this.total=this.items.length),this.updateSubject.next({}),this.updateItemsSubject.next(this.items)}),this.stomp.response(Pi.Prize).subscribe(o=>{this.updateSubject.next({left:o.left}),0===o.left&&this.notification.show(Xl.PrizesEnded,Tr.warning,{challenge:this.challenge.config.typeUi})})}setTournamentList(e){this.tournamentList=e.sort((i,r)=>this.getPrizePosition(i)-this.getPrizePosition(r)).flatMap(i=>{var r,s;let o="";return i.type===kc.FreeBet&&(o=this.currencyPrecisionPipe.transform(i.cost)+(this.challenge.config.isCurrencyNameHidden?"":" "+this.challenge.config.currency)+" Freebet"),i.type===kc.Special&&(o=i.name),(null===(r=i.position)||void 0===r?void 0:r.type)===md.Single?o:(null===(s=i.position)||void 0===s?void 0:s.type)===md.Range?Array(i.position.end-i.position.start+1).fill(o):void 0})}setTournamentItems(e){this.items=e.sort((i,r)=>this.getPrizePosition(i)-this.getPrizePosition(r)).flatMap(i=>{var r,s;return(null===(r=i.position)||void 0===r?void 0:r.type)===md.Single?i:(null===(s=i.position)||void 0===s?void 0:s.type)===md.Range?Array(i.position.end-i.position.start+1).fill(i):void 0})}getPrizePosition(e){var i,r;return(null===(i=e.position)||void 0===i?void 0:i.type)===md.Single?e.position.value:(null===(r=e.position)||void 0===r?void 0:r.type)===md.Range?e.position.start:void 0}}return n.\u0275fac=function(e){return new(e||n)(je(Da),je(Sw),je(bo),je(Xn))},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})(),Ib=(()=>{class n{constructor(e,i){this.challenge=e,this.status=i,this.stakes=new Map([]),this.challengeStatus=yr.Announced,this.playerStatus=$i.None,this.updateSubject=new On(!1),this.update$=this.updateSubject.asObservable().pipe(lp()),this.status.update$.subscribe(r=>{this.challengeStatus=r.challenge,this.playerStatus=r.player,this.update()})}updateStake(e,i=1){this.stakes.set(i,e),this.update()}update(){const e=Array.from(this.stakes.values()).every(i=>i<this.challenge.config.minBet)&&this.challengeStatus===yr.Active&&this.playerStatus===$i.Joined;this.updateSubject.next(e)}}return n.\u0275fac=function(e){return new(e||n)(je(bo),je(zp))},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})(),Ab=(()=>{class n{constructor(e,i){this.stomp=e,this.challenge=i,this.loadedSubject=new On(!1),this.items=[],this.myItem=null,this.myPosition=0,this.loaded$=this.loadedSubject.asObservable(),this.stomp.response(Pi.Leaderboard).pipe(Bt(r=>200===r.code)).subscribe(r=>{this.items=[...r.leaders],null!==r.myPosition?(this.myItem=this.getMyItem(r.myPosition-1),this.myPosition=r.myPosition):(this.myItem=null,this.myPosition=0),this.loadedSubject.next(!0)})}sendRequestLeaderboard(){this.loadedSubject.next(!1),this.stomp.request(yo.Leaderboard,{challengeId:this.challenge.config.challengeId})}getMyItem(e){return e<this.challenge.config.leaderBoardSize?this.items[e]:this.items.pop()}}return n.\u0275fac=function(e){return new(e||n)(je(Da),je(bo))},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})();var Wp=(()=>(function(n){n.Upcoming="Upcoming",n.Waiting="Waiting",n.Live="Live",n.Paused="Paused",n.Finished="Finished",n.Done="Done",n.MinBet="Min. bet"}(Wp||(Wp={})),Wp))();let EN=(()=>{class n{constructor(){this.ChallengeStatusUI=Wp}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=rt({type:n,selectors:[["app-challenge-status-badge"]],inputs:{status:"status"},decls:2,vars:4,template:function(e,i){1&e&&(R(0,"div"),U(1),D()),2&e&&(l0("badge ",i.status===i.ChallengeStatusUI.MinBet?"error":i.status,""),E(1),te(" ",i.status,"\n"))},styles:['.badge[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;height:32px;padding:4px 12px 4px 32px;gap:10px;border-radius:64px;background:rgba(255,255,255,.05);color:#e0e0e0;font-size:12px;font-weight:500;line-height:normal;text-transform:uppercase}.badge[_ngcontent-%COMP%]:before{display:block;position:absolute;top:4px;left:4px;width:24px;height:24px;content:""}.badge.Upcoming[_ngcontent-%COMP%]:before{background:url(icon-calendar.12bccc41819bd1c4.svg) no-repeat center center/contain}.badge.Waiting[_ngcontent-%COMP%]:before{background:url(icon-clock.86b9aad31b70a448.svg) no-repeat center center/contain}.badge.Live[_ngcontent-%COMP%]:before{background:url(icon-live.60cac7b3ac8d21c2.svg) no-repeat center center/contain}.badge.Paused[_ngcontent-%COMP%]:before{background:url(icon-pause.12f2008275ca41b7.svg) no-repeat center center/contain}.badge.Done[_ngcontent-%COMP%]:before{background:url(icon-check.d5a3b64009441dd8.svg) no-repeat center center/contain}.badge.Finished[_ngcontent-%COMP%]:before{background:url(icon-finish.0ee21c90fcf67e59.svg) no-repeat center center/contain}.badge.error[_ngcontent-%COMP%]:before{background:url(icon-error.6f5e522566577a2b.svg) no-repeat center center/contain}'],changeDetection:0}),n})();function _2e(n,t){1&n&&fe(0,"app-challenge-status-badge",4),2&n&&F("status",ne(2).ChallengeStatusUI.Upcoming)}function m2e(n,t){1&n&&fe(0,"app-challenge-status-badge",4),2&n&&F("status",ne(2).ChallengeStatusUI.Live)}function v2e(n,t){1&n&&fe(0,"app-challenge-status-badge",4),2&n&&F("status",ne(2).ChallengeStatusUI.Live)}function y2e(n,t){1&n&&fe(0,"app-challenge-status-badge",4),2&n&&F("status",ne(2).ChallengeStatusUI.Waiting)}function b2e(n,t){1&n&&fe(0,"app-challenge-status-badge",4),2&n&&F("status",ne(2).ChallengeStatusUI.Paused)}function S2e(n,t){1&n&&fe(0,"app-challenge-status-badge",4),2&n&&F("status",ne(2).ChallengeStatusUI.Paused)}function C2e(n,t){if(1&n&&fe(0,"app-challenge-status-badge",4),2&n){const e=ne(2);F("status",e.challengeStatus===e.ChallengeStatus.Paused?e.ChallengeStatusUI.Paused:e.ChallengeStatusUI.Done)}}function E2e(n,t){if(1&n&&fe(0,"app-challenge-status-badge",4),2&n){const e=ne(2);F("status",e.challengeStatus===e.ChallengeStatus.Paused?e.ChallengeStatusUI.Paused:e.ChallengeStatusUI.Finished)}}function T2e(n,t){1&n&&fe(0,"app-challenge-status-badge",4),2&n&&F("status",ne(2).ChallengeStatusUI.Finished)}function w2e(n,t){1&n&&fe(0,"app-challenge-status-badge",4),2&n&&F("status",ne(2).ChallengeStatusUI.Finished)}function M2e(n,t){if(1&n&&(at(0),K(1,_2e,1,1,"app-challenge-status-badge",2),K(2,m2e,1,1,"app-challenge-status-badge",2),K(3,v2e,1,1,"app-challenge-status-badge",2),K(4,y2e,1,1,"app-challenge-status-badge",2),K(5,b2e,1,1,"app-challenge-status-badge",2),K(6,S2e,1,1,"app-challenge-status-badge",2),K(7,C2e,1,1,"app-challenge-status-badge",2),K(8,E2e,1,1,"app-challenge-status-badge",2),K(9,T2e,1,1,"app-challenge-status-badge",2),K(10,w2e,1,1,"app-challenge-status-badge",2),lt()),2&n){const e=ne();E(1),F("ngIf",e.challengeStatus===e.ChallengeStatus.Announced&&e.playerStatus===e.PlayerStatus.None),E(1),F("ngIf",e.challengeStatus===e.ChallengeStatus.Active&&e.playerStatus===e.PlayerStatus.None),E(1),F("ngIf",e.challengeStatus===e.ChallengeStatus.Active&&e.playerStatus===e.PlayerStatus.Joined),E(1),F("ngIf",e.challengeStatus===e.ChallengeStatus.Announced&&e.playerStatus===e.PlayerStatus.Joined),E(1),F("ngIf",e.challengeStatus===e.ChallengeStatus.Paused&&e.playerStatus===e.PlayerStatus.None),E(1),F("ngIf",e.challengeStatus===e.ChallengeStatus.Paused&&e.playerStatus===e.PlayerStatus.Joined),E(1),F("ngIf",e.playerStatus===e.PlayerStatus.Won),E(1),F("ngIf",e.playerStatus===e.PlayerStatus.Rewarded),E(1),F("ngIf",e.challengeStatus===e.ChallengeStatus.Finished&&e.playerStatus===e.PlayerStatus.Joined),E(1),F("ngIf",e.challengeStatus===e.ChallengeStatus.Finished&&e.playerStatus===e.PlayerStatus.None)}}function O2e(n,t){1&n&&fe(0,"app-challenge-status-badge",4),2&n&&F("status",ne().ChallengeStatusUI.MinBet)}let IY=(()=>{class n{constructor(){this.ChallengeStatusUI=Wp,this.ChallengeStatus=yr,this.PlayerStatus=$i}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=rt({type:n,selectors:[["app-challenge-header-main"]],inputs:{challengeStatus:"challengeStatus",playerStatus:"playerStatus",userCount:"userCount",isMinBetError:"isMinBetError"},decls:6,vars:6,consts:[[1,"challenge-header-main"],[4,"ngIf"],[3,"status",4,"ngIf"],[1,"user-count-badge"],[3,"status"]],template:function(e,i){1&e&&(R(0,"div",0),K(1,M2e,11,10,"ng-container",1),K(2,O2e,1,1,"app-challenge-status-badge",2),R(3,"div",3),U(4),j(5,"number"),D()()),2&e&&(E(1),F("ngIf",!i.isMinBetError),E(1),F("ngIf",i.isMinBetError),E(2),Ye(Ut(5,3,i.userCount,"1.0-0")))},directives:[Nt,EN],pipes:[Xd],styles:['[_nghost-%COMP%]{width:100%;height:100%}.challenge-header-main[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;gap:8px;padding:8px}.challenge-header-main[_ngcontent-%COMP%]   .user-count-badge[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:32px;max-width:112px;padding:4px 12px 4px 4px;background-color:#ffffff0d;border-radius:64px;color:#e0e0e0;font-size:12px;font-weight:500;line-height:normal;letter-spacing:-.3px;text-transform:uppercase}.challenge-header-main[_ngcontent-%COMP%]   .user-count-badge[_ngcontent-%COMP%]:before{content:"";margin-right:4px;width:24px;height:24px;background:url(icon-user.47ea8246ab247e97.svg) no-repeat center center/contain}'],changeDetection:0}),n})(),AY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=rt({type:n,selectors:[["app-challenge-header-scrolled"]],inputs:{title:"title"},decls:2,vars:1,template:function(e,i){1&e&&(R(0,"span"),U(1),D()),2&e&&(E(1),Ye(i.title))},styles:["[_nghost-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:100%;background-color:#1a1a1a;padding:8px 0}"],changeDetection:0}),n})();function TN(n=0,t=q_){return n<0&&(n=0),Qu(n,n,t)}function P2e(n,t){if(1&n&&(R(0,"div",1)(1,"span",2),U(2),j(3,"number"),D(),U(4,":"),R(5,"span",2),U(6),j(7,"number"),D(),U(8,":"),R(9,"span",2),U(10),j(11,"number"),D()()),2&n){const e=t.ngIf;E(2),Ye(Ut(3,3,e.hours,"2.0")),E(4),Ye(Ut(7,6,e.minutes,"2.0")),E(4),Ye(Ut(11,9,e.seconds,"2.0"))}}let $p=class{constructor(){this.milSecInSec=1e3,this.hInDay=24,this.minInH=60,this.secInMin=60}ngOnInit(){this.timeLeft$=TN(1e3).pipe(gh(0),Ie(()=>this.calcDateDiff()),Ct(this))}calcDateDiff(){const t=new Li(this.targetDate-Date.now());return t.toNumber()<=0?{seconds:0,minutes:0,hours:0}:{hours:t.div(this.milSecInSec).div(this.minInH).div(this.secInMin).mod(this.hInDay).floor().toNumber(),minutes:t.div(this.milSecInSec).div(this.minInH).mod(this.secInMin).floor().toNumber(),seconds:t.div(this.milSecInSec).mod(this.secInMin).floor().toNumber()}}};function x2e(n,t){if(1&n&&(function w3(){Rn.lFrame.currentNamespace="svg"}(),R(0,"svg",11),fe(1,"circle",12)(2,"circle",13),D()),2&n){const e=ne();ui("width",e.progressCircleDimension)("height",e.progressCircleDimension)("viewBox","0 0 "+e.progressCircleDimension+" "+e.progressCircleDimension),E(1),ui("r",e.progressCircleRadius)("cx",e.progressCircleDimension/2)("cy",e.progressCircleDimension/2),E(1),ui("r",e.progressCircleRadius)("cx",e.progressCircleDimension/2)("cy",e.progressCircleDimension/2)("stroke-dasharray",6.28*e.progressCircleRadius+"px")("stroke-dashoffset",6.28*e.progressCircleRadius*(100-e.progress)/100+"px")}}function I2e(n,t){if(1&n&&(R(0,"span",14),U(1),j(2,"transloco"),j(3,"date"),j(4,"date"),D()),2&n){const e=ne();E(1),f_(" ",W(2,3,"challenges.Start:")," ",Ut(3,5,e.startDate,"d MMM y")," \u2022 ",Ut(4,8,e.startDate,"HH:mm")," ")}}function A2e(n,t){if(1&n&&(R(0,"span",14),U(1),j(2,"transloco"),j(3,"date"),j(4,"date"),D()),2&n){const e=ne();E(1),f_(" ",W(2,3,"challenges.End:")," ",Ut(3,5,e.endDate,"d MMM y")," \u2022 ",Ut(4,8,e.endDate,"HH:mm")," ")}}function R2e(n,t){1&n&&fe(0,"app-challenge-countdown",15),2&n&&F("targetDate",ne().targetDate)}$p.\u0275fac=function(t){return new(t||$p)},$p.\u0275cmp=rt({type:$p,selectors:[["app-challenge-countdown"]],inputs:{targetDate:"targetDate"},decls:2,vars:3,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"value-part"]],template:function(t,e){1&t&&(K(0,P2e,12,12,"div",0),j(1,"async")),2&t&&F("ngIf",W(1,1,e.timeLeft$))},directives:[Nt],pipes:[Pr,Xd],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;color:#7a7a7acc;font-size:24px;font-weight:600;line-height:28px;letter-spacing:-.6px}.container[_ngcontent-%COMP%]   .value-part[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:48px;width:48px;color:#e0e0e0cc;padding:4px;border-radius:8px;background-color:#1f1f1f;margin:0 4px;font-feature-settings:tabular-nums lining-nums;font-variant-numeric:tabular-nums lining-nums}"],changeDetection:0}),$p=Ke([Qn()],$p);let RY=(()=>{class n{constructor(){this.challengeTypeUI=Ui,this.progressCircleDimension=80,this.progressCircleRadius=36,this.bgImageNames=[],this.typeImageNames=[]}ngOnChanges(){const e=this.type.toLowerCase();this.bgImageNames=[`${e}-details-${this.backgroundImage}-bg.png`,`${e}-details-${this.backgroundImage}-bg@2x.png`,`${e}-details-${this.backgroundImage}-bg@3x.png`],this.typeImageNames=[`${e}-icon.png`,`${e}-icon@2x.png`,`${e}-icon@3x.png`]}get targetDate(){return this.isChallengeStarted?this.endDate:this.startDate}get shouldDisplayCountdown(){const e=Date.now();return!this.isChallengePaused&&!this.isChallengeFinished&&e<this.targetDate&&this.targetDate-e<864e5}getFullImgPathBg(e){return"assets/images/engagement-tools/"+e}getSrcSetBg(e,i,r){return`${this.getFullImgPathBg(e)}, ${this.getFullImgPathBg(i)} 2x, ${this.getFullImgPathBg(r)} 3x`}getFullImgPathType(e){return"assets/challenges/images/"+e}getSrcSetType(e,i,r){return`${this.getFullImgPathType(e)}, ${this.getFullImgPathType(i)} 2x, ${this.getFullImgPathType(r)} 3x`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=rt({type:n,selectors:[["app-challenge-info-main"]],inputs:{name:"name",type:"type",startDate:"startDate",endDate:"endDate",progress:"progress",isProgressEnabled:"isProgressEnabled",isError:"isError",isChallengeStarted:"isChallengeStarted",isChallengePaused:"isChallengePaused",isChallengeFinished:"isChallengeFinished",backgroundImage:"backgroundImage"},features:[Is],decls:14,vars:18,consts:[[1,"challenge-info-main"],[1,"image-wrapper"],["alt","mission-details-bg",1,"bg-image",3,"srcset","src"],[1,"content"],[1,"challenge-progress"],["class","progress-circle",4,"ngIf"],["alt","challenge-type",3,"srcset","src"],[1,"type"],[1,"name"],["class","schedule",4,"ngIf"],[3,"targetDate",4,"ngIf"],[1,"progress-circle"],["fill","transparent","stroke","var(--progress-bar-bg)","stroke-width","var(--progress-stroke-width)"],["fill","transparent","stroke","var(--progress-color)","stroke-linecap","round","stroke-width","var(--progress-stroke-width)"],[1,"schedule"],[3,"targetDate"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1),fe(2,"img",2),D(),R(3,"div",3)(4,"div",4),K(5,x2e,3,11,"svg",5),fe(6,"img",6),D(),R(7,"span",7),U(8),D(),R(9,"span",8),U(10),D(),K(11,I2e,5,11,"span",9),K(12,A2e,5,11,"span",9),K(13,R2e,1,1,"app-challenge-countdown",10),D()()),2&e&&(pc("--progress",i.progress),E(2),F("srcset",i.getSrcSetBg(i.bgImageNames[0],i.bgImageNames[1],i.bgImageNames[2]),rn)("src",i.getFullImgPathBg(i.bgImageNames[0]),rn),E(2),wt("live",i.isProgressEnabled)("success",i.isProgressEnabled&&100===i.progress)("error",i.isError),E(1),F("ngIf",i.type!==i.challengeTypeUI.TOURNAMENT),E(1),F("srcset",i.getSrcSetType(i.typeImageNames[0],i.typeImageNames[1],i.typeImageNames[2]),rn)("src",i.getFullImgPathType(i.typeImageNames[0]),rn),E(2),Ye(i.type),E(2),Ye(i.name),E(1),F("ngIf",!i.isChallengeStarted&&!i.isChallengeFinished),E(1),F("ngIf",i.isChallengeStarted||i.isChallengeFinished),E(1),F("ngIf",i.shouldDisplayCountdown))},directives:[Nt,$p],pipes:[Gt,Oa],styles:['.challenge-info-main[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]{position:absolute;top:-4px;left:0;width:100%;height:248px;overflow:hidden}.challenge-info-main[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:100%;background:linear-gradient(180deg,rgba(26,26,26,0) 50.25%,#1a1a1a 100%)}.challenge-info-main[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]   .bg-image[_ngcontent-%COMP%]{position:absolute;top:0;left:50%;transform:translate(-50%);width:auto;height:100%;z-index:0}@media (min-width: 768px){.challenge-info-main[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]{height:295px;top:-24px}}.challenge-info-main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:64px 32px 16px;z-index:1}.challenge-info-main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .challenge-progress[_ngcontent-%COMP%]{--progress-stroke-width: 4px;--progress-bar-bg: rgba(255, 255, 255, .05);--progress-color: rgba(255, 255, 255, .1);position:relative;display:flex;justify-content:center;align-items:center;width:72px;height:72px;border-radius:50%;margin-bottom:12px}.challenge-info-main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .challenge-progress[_ngcontent-%COMP%]   .progress-circle[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.challenge-info-main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .challenge-progress[_ngcontent-%COMP%]   .progress-circle[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{transform-origin:center;transform:rotate(-90deg)}.challenge-info-main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .challenge-progress.live[_ngcontent-%COMP%]{--progress-color: #ffde5c}.challenge-info-main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .challenge-progress.success[_ngcontent-%COMP%]{--progress-color: #79e279}.challenge-info-main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .challenge-progress.error[_ngcontent-%COMP%]{--progress-color: #f35656}.challenge-info-main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .challenge-progress[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:64px;height:64px;padding:8px;background-color:#ffffff1a;border-radius:50%}.challenge-info-main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{color:#e0e0e0;font-size:20px;font-weight:500;line-height:24px;margin-bottom:8px}.challenge-info-main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{color:#e0e0e0;text-align:center;font-size:12px;font-weight:400;line-height:16px;margin-bottom:8px}.challenge-info-main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .schedule[_ngcontent-%COMP%]{color:#a3a3a3;font-size:12px;font-style:normal;font-weight:400;line-height:16px}.challenge-info-main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   app-challenge-countdown[_ngcontent-%COMP%]{margin-top:16px}'],changeDetection:0}),n})(),DY=(()=>{class n{constructor(){this.isError=!1}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=rt({type:n,selectors:[["app-challenge-message"]],inputs:{message:"message",isError:"isError"},decls:2,vars:3,consts:[[1,"challenge-message"]],template:function(e,i){1&e&&(R(0,"div",0),U(1),D()),2&e&&(wt("error",i.isError),E(1),te(" ",i.message,"\n"))},styles:["[_nghost-%COMP%]{z-index:1}.challenge-message[_ngcontent-%COMP%]{width:250px;color:#a3a3a3;background-color:#1f1f1f;padding:8px 16px;border-radius:2px 12px 12px;font-size:12px;font-weight:400;line-height:16px;text-align:center}.challenge-message.error[_ngcontent-%COMP%]{color:#f35656;text-align:left}"],changeDetection:0}),n})();function D2e(n,t){if(1&n&&(R(0,"div",4),fe(1,"img",5),U(2," TOP "),D()),2&n){const e=ne();E(1),F("srcset",e.getSrcSet("medal-gold.png","medal-gold@2x.png","medal-gold@3x.png"),rn)("src",e.getFullImgPath("medal-gold.png"),rn)}}function N2e(n,t){if(1&n&&(R(0,"div",4),fe(1,"img",5),U(2," TOP "),D()),2&n){const e=ne();E(1),F("srcset",e.getSrcSet("medal-silver.png","medal-silver@2x.png","medal-silver@3x.png"),rn)("src",e.getFullImgPath("join.png"),rn)}}function k2e(n,t){if(1&n&&(R(0,"div",4),fe(1,"img",5),U(2," TOP "),D()),2&n){const e=ne();E(1),F("srcset",e.getSrcSet("medal-bronze.png","medal-bronze@2x.png","medal-bronze@3x.png"),rn)("src",e.getFullImgPath("medal-bronze.png"),rn)}}function F2e(n,t){if(1&n&&(R(0,"div",6),U(1),D()),2&n){const e=ne();E(1),te(" ",e.placeNumber," ")}}let NY=(()=>{class n{get placeNumber(){return this.leaderIndex+1}getSrcSet(e,i,r){return`${this.getFullImgPath(e)}, ${this.getFullImgPath(i)} 2x, ${this.getFullImgPath(r)} 3x`}getFullImgPath(e){return"assets/challenges/images/"+e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=rt({type:n,selectors:[["app-leaderboard-player-place"]],inputs:{leaderIndex:"leaderIndex"},decls:6,vars:4,consts:[[1,"leaderboard-place-container"],[3,"ngSwitch"],["class","place-number top",4,"ngSwitchCase"],["class","place-number",4,"ngSwitchDefault"],[1,"place-number","top"],["alt","",3,"srcset","src"],[1,"place-number"]],template:function(e,i){1&e&&(R(0,"div",0),at(1,1),K(2,D2e,3,2,"div",2),K(3,N2e,3,2,"div",2),K(4,k2e,3,2,"div",2),K(5,F2e,2,1,"div",3),lt(),D()),2&e&&(E(1),F("ngSwitch",i.placeNumber),E(1),F("ngSwitchCase",1),E(1),F("ngSwitchCase",2),E(1),F("ngSwitchCase",3))},directives:[Fs,co,iu],styles:[".leaderboard-place-container[_ngcontent-%COMP%]{display:flex;min-width:52px;height:24px;padding:4px;justify-content:center;align-items:center;border-radius:32px;background:#242424}.leaderboard-place-container[_ngcontent-%COMP%]   .place-number[_ngcontent-%COMP%]{width:100%;text-align:center;font-feature-settings:lining-nums tabular-nums;font-variant-numeric:lining-nums tabular-nums;font-size:10px;font-weight:500;letter-spacing:-.25px}.leaderboard-place-container[_ngcontent-%COMP%]   .place-number[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:16px;height:16px;-o-object-fit:cover;object-fit:cover;margin-right:4px}.leaderboard-place-container[_ngcontent-%COMP%]   .place-number[_ngcontent-%COMP%], .leaderboard-place-container[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{color:#a3a3a3}"],changeDetection:0}),n})();function L2e(n,t){if(1&n&&fe(0,"img",3),2&n){const e=ne();F("src",e.getAvatar(e.avatar),rn)}}function B2e(n,t){1&n&&fe(0,"img",4)}let U2e=(()=>{class n{getAvatar(e){return Mi.avatarPath+e+`?v=${Mi.version}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=rt({type:n,selectors:[["app-leaderboard-player-avatar"]],inputs:{avatar:"avatar"},decls:3,vars:2,consts:[[1,"avatar-container"],["class","d-inline-block","alt","",3,"src",4,"ngIf"],["class","d-inline-block","src","assets/images/engagement-tools/avatar.png","srcset","\n      assets/images/engagement-tools/avatar.png,\n      assets/images/engagement-tools/avatar@2x.png 2x,\n      assets/images/engagement-tools/avatar@3x.png 3x\n    ","alt","",4,"ngIf"],["alt","",1,"d-inline-block",3,"src"],["src","assets/images/engagement-tools/avatar.png","srcset","\n      assets/images/engagement-tools/avatar.png,\n      assets/images/engagement-tools/avatar@2x.png 2x,\n      assets/images/engagement-tools/avatar@3x.png 3x\n    ","alt","",1,"d-inline-block"]],template:function(e,i){1&e&&(R(0,"div",0),K(1,L2e,1,1,"img",1),K(2,B2e,1,0,"img",2),D()),2&e&&(E(1),F("ngIf",i.avatar),E(1),F("ngIf",!i.avatar))},directives:[Nt],styles:[".avatar-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:24px;width:24px}.avatar-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:24px;width:24px;-o-object-fit:cover;object-fit:cover}"],changeDetection:0}),n})();function G2e(n,t){1&n&&fe(0,"app-leaderboard-player-place",6),2&n&&F("leaderIndex",ne().leaderboardIndex)}const j2e=function(n){return{complete:n}};function H2e(n,t){if(1&n&&(R(0,"div",7),U(1),j(2,"currencyPrecision"),D()),2&n){const e=ne();F("ngClass",di(5,j2e,100===e.leaderboardItem.progress)),E(1),te(" ",Ut(2,2,e.leaderboardItem.progress,2),"% ")}}function V2e(n,t){1&n&&(at(0),U(1,"-"),lt())}function z2e(n,t){if(1&n&&(at(0),U(1),j(2,"currencyPrecision"),lt()),2&n){const e=ne(2);E(1),Ye(Ut(2,1,e.leaderboardItem.progress,2))}}function W2e(n,t){if(1&n&&(R(0,"div",8),K(1,V2e,2,0,"ng-container",9),K(2,z2e,3,4,"ng-container",9),D()),2&n){const e=ne();E(1),F("ngIf",!e.isChallengeActive),E(1),F("ngIf",e.isChallengeActive)}}const $2e=function(n){return{activeUser:n}};let wN=(()=>{class n{constructor(){this.isCurrentUserItem=!1,this.componentVariant=Ui.RACE,this.ChallengeTypeUI=Ui}get isChallengeActive(){return this.challengeStatus!==yr.Announced}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=rt({type:n,selectors:[["app-leaderboard-item"]],inputs:{leaderboardIndex:"leaderboardIndex",leaderboardItem:"leaderboardItem",isCurrentUserItem:"isCurrentUserItem",challengeStatus:"challengeStatus",componentVariant:"componentVariant"},decls:8,vars:10,consts:[[1,"leaderboard-item",3,"ngClass"],[3,"leaderIndex",4,"ngIf"],[1,"leaderboard-avatar",3,"avatar"],[1,"leaderboard-name"],["class","leaderboard-percentage",3,"ngClass",4,"ngIf"],["class","leaderboard-score",4,"ngIf"],[3,"leaderIndex"],[1,"leaderboard-percentage",3,"ngClass"],[1,"leaderboard-score"],[4,"ngIf"]],template:function(e,i){1&e&&(R(0,"div",0),K(1,G2e,1,1,"app-leaderboard-player-place",1),fe(2,"app-leaderboard-player-avatar",2),R(3,"div",3),U(4),j(5,"maskedUsername"),D(),K(6,H2e,3,7,"div",4),K(7,W2e,3,2,"div",5),D()),2&e&&(F("ngClass",di(8,$2e,i.isCurrentUserItem)),E(1),F("ngIf",i.isChallengeActive),E(1),F("avatar",i.leaderboardItem.avatar),E(2),te(" ",W(5,6,i.leaderboardItem.name)," "),E(2),F("ngIf",i.componentVariant!==i.ChallengeTypeUI.TOURNAMENT),E(1),F("ngIf",i.componentVariant===i.ChallengeTypeUI.TOURNAMENT))},directives:[ys,Nt,NY,U2e],pipes:[oa,Xn],styles:[".leaderboard-item[_ngcontent-%COMP%]{display:flex;width:100%;height:40px;padding:8px;border-bottom:1px solid #242424;background:#1f1f1f;border-radius:inherit;color:#a3a3a3}.leaderboard-item.activeUser[_ngcontent-%COMP%]{color:#ffde5c;border-radius:8px}.leaderboard-item[_ngcontent-%COMP%]   .leaderboard-avatar[_ngcontent-%COMP%]{margin:0 8px}.leaderboard-item[_ngcontent-%COMP%]   .leaderboard-name[_ngcontent-%COMP%]{width:100%;font-size:14px;font-weight:400;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1;word-break:break-all}.leaderboard-item[_ngcontent-%COMP%]   .leaderboard-percentage[_ngcontent-%COMP%]{width:64px;text-align:right;margin-left:16px;font-size:14px;font-weight:500}.leaderboard-item[_ngcontent-%COMP%]   .leaderboard-percentage.complete[_ngcontent-%COMP%]{color:#79e279}.leaderboard-item[_ngcontent-%COMP%]   .leaderboard-score[_ngcontent-%COMP%]{text-align:right;font-size:14px;font-weight:500}"],changeDetection:0}),n})();const Y2e=["leaderboardContainer"];function X2e(n,t){if(1&n&&(R(0,"span",6),U(1),D()),2&n){const e=ne();E(1),te(" (Top-",e.topValue,") ")}}function q2e(n,t){1&n&&(R(0,"div",11),fe(1,"app-loader"),D())}function K2e(n,t){1&n&&(R(0,"div",12)(1,"div",13),U(2),j(3,"transloco"),R(4,"p"),U(5),j(6,"transloco"),D()()()),2&n&&(E(2),te(" ",W(3,2,"challenges.No players yet :(")," "),E(3),te(" ",W(6,4,"challenges.You can be one of the first!")," "))}const J2e=function(n,t,e,i){return{singleListItem:n,afterActiveUser:t,beforeActiveUser:e,outsideList:i}};function Z2e(n,t){if(1&n&&fe(0,"app-leaderboard-item",23),2&n){const e=t.$implicit,i=t.index,r=ne(2).ngIf,s=ne();F("isCurrentUserItem",s.leaderboard.myPosition===i+1)("challengeStatus",r.challenge)("leaderboardIndex",i)("leaderboardItem",e)("ngClass",bP(5,J2e,1===s.leaderboard.items.length,i===s.leaderboard.myPosition,s.leaderboard.myPosition>1&&i+2===s.leaderboard.myPosition,i>=s.maxListLength))}}function Q2e(n,t){if(1&n&&(R(0,"div",24),fe(1,"app-leaderboard-item",25),D()),2&n){const e=ne(2).ngIf,i=ne();E(1),F("leaderboardItem",i.leaderboard.myItem)("leaderboardIndex",i.leaderboard.myPosition-1)("challengeStatus",e.challenge)("isCurrentUserItem",!0)}}const eRe=function(n){return{visible:n}};function tRe(n,t){if(1&n){const e=ft();at(0),R(1,"div",14,15),K(3,Z2e,1,10,"app-leaderboard-item",16),D(),R(4,"div",17),fe(5,"div",18),R(6,"div",19)(7,"button",20),Te("click",function(){return ot(e),ne(2).scrollToTop()}),U(8),j(9,"transloco"),D()(),K(10,Q2e,2,4,"div",21),R(11,"div",22),U(12),j(13,"transloco"),j(14,"async"),D()(),lt()}if(2&n){const e=ne().ngIf,i=ne();E(3),F("ngForOf",i.leaderboard.items),E(3),F("ngClass",di(12,eRe,i.isScrollToTopVisible)),E(2),te(" ",W(9,6,"challenges.action.Back to top")," "),E(2),F("ngIf",e.player!==i.playerStatus.None),E(2),Un(" ",W(13,8,"challenges.Total Players")," - ",W(14,10,i.challenge.updateState$).joinCount," ")}}function nRe(n,t){if(1&n&&(R(0,"div",7),K(1,q2e,2,0,"div",8),j(2,"async"),K(3,K2e,7,6,"div",9),j(4,"async"),K(5,tRe,15,14,"ng-container",10),j(6,"async"),D()),2&n){const e=ne();E(1),F("ngIf",!1===W(2,3,e.leaderboard.loaded$)),E(2),F("ngIf",W(4,5,e.leaderboard.loaded$)&&!e.leaderboard.items.length),E(2),F("ngIf",W(6,7,e.leaderboard.loaded$)&&!!e.leaderboard.items.length)}}let Yp=class{constructor(t,e,i,r,s){this.activeModal=t,this.cd=e,this.challenge=i,this.status=r,this.leaderboard=s,this.maxListLength=this.challenge.config.leaderBoardSize,this.topValue=100,this.isScrollToTopVisible=!1,this.playerStatus=$i,this.LEADERBOARD_ITEM_HEIGHT=40}ngOnInit(){this.challenge.updateState$.pipe(Bt(t=>!t.isChallengeAvailable),Ct(this)).subscribe(()=>this.close())}ngAfterViewInit(){this.onLeaderboardLoaded()}close(){this.activeModal.close()}scrollToTop(){this.leaderboardContainer&&this.leaderboardContainer.nativeElement.scrollTo({top:0,behavior:"smooth"})}onLeaderboardLoaded(){!this.leaderboard.items.length||wi(this.leaderboardContainer.nativeElement,"scroll").pipe(ua(200),Bt(t=>this.isScrollToTopVisible!==t.target.scrollTop>this.LEADERBOARD_ITEM_HEIGHT),Ct(this)).subscribe(()=>{this.isScrollToTopVisible=!this.isScrollToTopVisible,this.cd.detectChanges()})}};Yp.\u0275fac=function(t){return new(t||Yp)(z(Mr),z(Sn),z(bo),z(zp),z(Ab))},Yp.\u0275cmp=rt({type:Yp,selectors:[["app-leaderboard"]],viewQuery:function(t,e){if(1&t&&Lr(Y2e,5),2&t){let i;kn(i=Fn())&&(e.leaderboardContainer=i.first)}},decls:10,vars:7,consts:[[1,"modal-content"],[1,"modal-header"],["class","top-description",4,"ngIf"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"close-modal"],["class","modal-body",4,"ngIf"],[1,"top-description"],[1,"modal-body"],["class","loader",4,"ngIf"],["class","no-players",4,"ngIf"],[4,"ngIf"],[1,"loader"],[1,"no-players"],[1,"no-players-text"],[1,"leaderboard-container"],["leaderboardContainer",""],["class","leaderboard-list",3,"isCurrentUserItem","challengeStatus","leaderboardIndex","leaderboardItem","ngClass",4,"ngFor","ngForOf"],[1,"after-list-container"],[1,"blur-block"],[1,"scroll-to-top",3,"ngClass"],[1,"btn",3,"click"],["class","active-user-container",4,"ngIf"],[1,"total-prizes","modal-footer"],[1,"leaderboard-list",3,"isCurrentUserItem","challengeStatus","leaderboardIndex","leaderboardItem","ngClass"],[1,"active-user-container"],[1,"active-user-item",3,"leaderboardItem","leaderboardIndex","challengeStatus","isCurrentUserItem"]],template:function(t,e){1&t&&(R(0,"div",0)(1,"div",1)(2,"span"),U(3),j(4,"transloco"),D(),K(5,X2e,2,1,"span",2),R(6,"button",3),Te("click",function(){return e.close()}),fe(7,"span",4),D()(),K(8,nRe,7,9,"div",5),j(9,"async"),D()),2&t&&(E(3),Ye(W(4,3,"challenges.Leaderboard")),E(2),F("ngIf",e.challenge.update.joinCount>=e.topValue),E(3),F("ngIf",W(9,5,e.status.update$)))},directives:[Nt,Nc,oi,wN,ys],pipes:[Gt,Pr],styles:[".modal-content[_ngcontent-%COMP%]{position:relative;height:100vh;max-height:800px;min-width:344px;width:100%}.modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:hover{opacity:1}.modal-content[_ngcontent-%COMP%]   .top-description[_ngcontent-%COMP%]{margin-left:4px}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .no-players[_ngcontent-%COMP%]{width:100%;margin:auto 0}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .no-players[_ngcontent-%COMP%]   .no-players-text[_ngcontent-%COMP%]{font-size:20px;font-weight:500;line-height:24px;text-align:center}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .no-players[_ngcontent-%COMP%]   .no-players-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#a3a3a3;font-size:14px;font-weight:400}.modal-content[_ngcontent-%COMP%]   .leaderboard-container[_ngcontent-%COMP%]{position:relative;width:100%;max-height:764px;overflow-y:auto;flex-grow:1}.modal-content[_ngcontent-%COMP%]   .leaderboard-container[_ngcontent-%COMP%]   .leaderboard-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.modal-content[_ngcontent-%COMP%]   .leaderboard-container[_ngcontent-%COMP%]   .leaderboard-list.outsideList[_ngcontent-%COMP%]{display:none}.modal-content[_ngcontent-%COMP%]   .leaderboard-container[_ngcontent-%COMP%]   .leaderboard-list[_ngcontent-%COMP%]:first-child   .modal-content[_ngcontent-%COMP%]   .leaderboard-container[_ngcontent-%COMP%]   .leaderboard-list[_ngcontent-%COMP%]:not(.afterActiveUser), .modal-content[_ngcontent-%COMP%]   .leaderboard-container[_ngcontent-%COMP%]   .leaderboard-list.afterActiveUser[_ngcontent-%COMP%]{border-radius:8px 8px 0 0;margin-top:8px}.modal-content[_ngcontent-%COMP%]   .leaderboard-container[_ngcontent-%COMP%]   .leaderboard-list[_ngcontent-%COMP%]:last-child, .modal-content[_ngcontent-%COMP%]   .leaderboard-container[_ngcontent-%COMP%]   .leaderboard-list.beforeActiveUser[_ngcontent-%COMP%]{margin-bottom:8px;border-radius:0 0 8px 8px}.modal-content[_ngcontent-%COMP%]   .leaderboard-container[_ngcontent-%COMP%]   .leaderboard-list.singleListItem[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   .leaderboard-container[_ngcontent-%COMP%]   .leaderboard-list[_ngcontent-%COMP%]:first-child.beforeActiveUser, .modal-content[_ngcontent-%COMP%]   .leaderboard-container[_ngcontent-%COMP%]   .leaderboard-list[_ngcontent-%COMP%]:last-child.afterActiveUser{border-radius:8px}.modal-content[_ngcontent-%COMP%]   .after-list-container[_ngcontent-%COMP%]{position:relative}.modal-content[_ngcontent-%COMP%]   .after-list-container[_ngcontent-%COMP%]   .scroll-to-top[_ngcontent-%COMP%]{position:absolute;visibility:hidden;top:-46px;left:0;display:flex;justify-content:center;width:100%;z-index:100;transition:opacity .3s}.modal-content[_ngcontent-%COMP%]   .after-list-container[_ngcontent-%COMP%]   .scroll-to-top.visible[_ngcontent-%COMP%]{visibility:visible;opacity:1}.modal-content[_ngcontent-%COMP%]   .after-list-container[_ngcontent-%COMP%]   .scroll-to-top[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:flex;align-items:center;height:40px;min-width:112px;padding:12px 24px;border-radius:32px;background:#2e2e2e;color:#e0e0e0;text-align:center;font-feature-settings:lining-nums tabular-nums;font-variant-numeric:lining-nums tabular-nums;font-size:14px;font-weight:600}.modal-content[_ngcontent-%COMP%]   .after-list-container[_ngcontent-%COMP%]   .blur-block[_ngcontent-%COMP%]{pointer-events:none;position:absolute;display:flex;top:-72px;left:0;width:100%;height:72px;background:linear-gradient(180deg,rgba(26,26,26,0) 0%,rgba(26,26,26,.6) 100%)}.modal-content[_ngcontent-%COMP%]   .after-list-container[_ngcontent-%COMP%]   .active-user-container[_ngcontent-%COMP%]   .active-user-item[_ngcontent-%COMP%]{padding-top:16px;border-radius:8px}.modal-content[_ngcontent-%COMP%]   .after-list-container[_ngcontent-%COMP%]   .total-prizes[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:40px;background:inherit;color:#7a7a7a;text-align:center;font-size:12px;font-weight:500}"],changeDetection:0}),Yp=Ke([Qn()],Yp);const kY=function(n){return{active:n}};var Uc=(()=>(function(n){n.Players="PLAYERS",n.Prizes="PRIZES"}(Uc||(Uc={})),Uc))();let iRe=(()=>{class n{constructor(){this.typeChanged=new nn,this.activeOption=Uc.Players,this.LeaderboardSwitcherOption=Uc}ngAfterViewInit(){this.onOptionChange(this.activeOption)}onOptionChange(e){this.activeOption=e,this.typeChanged.emit(this.activeOption)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=rt({type:n,selectors:[["app-leaderboard-switcher"]],inputs:{activeOption:"activeOption"},outputs:{typeChanged:"typeChanged"},decls:7,vars:12,consts:[[1,"switcher-container"],[1,"btn",3,"ngClass","click"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"button",1),Te("click",function(){return i.onOptionChange(i.LeaderboardSwitcherOption.Players)}),U(2),j(3,"transloco"),D(),R(4,"button",1),Te("click",function(){return i.onOptionChange(i.LeaderboardSwitcherOption.Prizes)}),U(5),j(6,"transloco"),D()()),2&e&&(E(1),F("ngClass",di(8,kY,i.activeOption===i.LeaderboardSwitcherOption.Players)),E(1),te(" ",W(3,4,"challenges.Players")," "),E(2),F("ngClass",di(10,kY,i.activeOption===i.LeaderboardSwitcherOption.Prizes)),E(1),te(" ",W(6,6,"challenges.Prizes")," "))},directives:[ys],pipes:[Gt],styles:[".switcher-container[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;width:100%;height:40px;min-width:192px;padding:4px;justify-content:space-between;align-items:center;align-self:stretch;border-radius:32px;background:#1f1f1f}.switcher-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;padding:4px 8px;align-items:center;justify-content:center;flex:1 0 0;height:32px;align-self:stretch;border-radius:64px;color:#525252;text-align:center;font-size:12px;font-weight:500;line-height:normal;background:transparent}.switcher-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin-right:4px}.switcher-container[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{color:#ccc;background:#292929}"],changeDetection:0}),n})();function rRe(n,t){if(1&n&&(at(0),R(1,"div",3),fe(2,"div",4),R(3,"div",5)(4,"div",6),U(5),j(6,"transloco"),D(),R(7,"div",7),U(8),j(9,"currencyPrecision"),D()()(),R(10,"div",3),fe(11,"div",8),R(12,"div",5)(13,"div",6),U(14),j(15,"transloco"),D(),R(16,"div",7),U(17),j(18,"number"),D()()(),lt()),2&n){const e=ne();E(5),te(" ",W(6,4,"challenges.Points scored")," "),E(3),te(" ",Ut(9,6,e.pointsScored,2)," "),E(6),te(" ",W(15,9,"challenges.Position")," "),E(3),te(" ",e.playerStatus===e.PlayerStatus.None?"-":Ut(18,11,e.position,"1.0-0")," ")}}function sRe(n,t){1&n&&fe(0,"app-loader",9),2&n&&F("size","small")}const oRe=function(n){return{leaderboard:n}};let FY=(()=>{class n{constructor(){this.isLeaderboardLoaded=!1,this.pointsScored=0,this.playerStatus=$i.None,this.position=0,this.componentVariant="DEFAULT",this.PlayerStatus=$i}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=rt({type:n,selectors:[["app-tournament-statistics"]],inputs:{isLeaderboardLoaded:"isLeaderboardLoaded",pointsScored:"pointsScored",playerStatus:"playerStatus",position:"position",componentVariant:"componentVariant"},decls:4,vars:5,consts:[[1,"statistics",3,"ngClass"],[4,"ngIf","ngIfElse"],["loader",""],[1,"statistics-card"],[1,"card-icon","icon-points-scored","flex-shrink-0"],[1,"card-info"],[1,"card-title"],[1,"card-value"],[1,"card-icon","icon-position","flex-shrink-0"],[1,"loader",3,"size"]],template:function(e,i){if(1&e&&(R(0,"div",0),K(1,rRe,19,14,"ng-container",1),K(2,sRe,1,1,"ng-template",null,2,No),D()),2&e){const r=Fi(3);F("ngClass",di(3,oRe,"LEADERBOARD"===i.componentVariant)),E(1),F("ngIf",i.isLeaderboardLoaded)("ngIfElse",r)}},directives:[ys,Nt,Nc],pipes:[Gt,Xn,Xd],styles:[".statistics[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;border-top:1px solid #242424}.statistics.leaderboard[_ngcontent-%COMP%]{border-top:none;border-radius:9px;background:#1f1f1f}.statistics[_ngcontent-%COMP%]   .statistics-card[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;padding:8px}.statistics[_ngcontent-%COMP%]   .statistics-card[_ngcontent-%COMP%]:first-child{border-right:1px solid #242424}.statistics[_ngcontent-%COMP%]   .statistics-card[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{width:44px;height:44px;margin-right:8px;background-size:32px;background-position:center;background-repeat:no-repeat}.statistics[_ngcontent-%COMP%]   .statistics-card[_ngcontent-%COMP%]   .card-icon.icon-points-scored[_ngcontent-%COMP%]{background-image:url(icon-points-scored.465af97703dee8c8.svg)}.statistics[_ngcontent-%COMP%]   .statistics-card[_ngcontent-%COMP%]   .card-icon.icon-position[_ngcontent-%COMP%]{background-image:url(icon-position.d68664419e52f5a6.svg)}.statistics[_ngcontent-%COMP%]   .statistics-card[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column}.statistics[_ngcontent-%COMP%]   .statistics-card[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{color:#a3a3a3;font-size:13px;font-weight:400;line-height:normal;margin-bottom:4px}.statistics[_ngcontent-%COMP%]   .statistics-card[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]   .card-value[_ngcontent-%COMP%]{color:#e0e0e0;font-size:20px;font-weight:700;line-height:normal;letter-spacing:-.5px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.statistics[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{width:100%}"],changeDetection:0}),n})(),aRe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=rt({type:n,selectors:[["app-no-players"]],decls:7,vars:6,consts:[[1,"no-players"],[1,"no-players-text"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1),U(2),j(3,"transloco"),R(4,"p"),U(5),j(6,"transloco"),D()()()),2&e&&(E(2),te(" ",W(3,2,"challenges.No players yet :(")," "),E(3),te(" ",W(6,4,"challenges.You can be one of the first!")," "))},pipes:[Gt],styles:[".no-players[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;height:100%}.no-players[_ngcontent-%COMP%]   .no-players-text[_ngcontent-%COMP%]{font-size:20px;font-weight:500;line-height:24px;text-align:center}.no-players[_ngcontent-%COMP%]   .no-players-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#a3a3a3;font-size:14px;font-weight:400}"],changeDetection:0}),n})();const lRe=function(n,t,e,i){return{singleListItem:n,afterActiveUser:t,beforeActiveUser:e,outsideList:i}};function cRe(n,t){if(1&n&&fe(0,"app-leaderboard-item",4),2&n){const e=t.$implicit,i=t.index,r=ne();F("isCurrentUserItem",r.myIndex===i)("componentVariant",r.ChallengeTypeUI.TOURNAMENT)("challengeStatus",r.challengeStatus)("leaderboardIndex",i)("leaderboardItem",e)("ngClass",bP(6,lRe,1===r.leaders.length,i-1===r.myIndex,r.myIndex&&r.myIndex>0&&i+1===r.myIndex,i>=r.maxListLength))}}const uRe=function(n){return{visible:n}};let Xp=class{constructor(t,e){this.cd=t,this.hostElRef=e,this.leaders=[],this.myIndex=null,this.maxListLength=100,this.challengeStatus=yr.Announced,this.isScrollToTopVisible=!1,this.ChallengeTypeUI=Ui,this.LEADERBOARD_ITEM_HEIGHT=40}ngAfterViewInit(){this.onLeaderboardLoaded()}scrollToTop(){this.hostElRef.nativeElement.scrollTo({top:0,behavior:"smooth"})}onLeaderboardLoaded(){!this.leaders.length||wi(this.hostElRef.nativeElement,"scroll").pipe(ua(200),Bt(t=>this.isScrollToTopVisible!==t.target.scrollTop>this.LEADERBOARD_ITEM_HEIGHT),Ct(this)).subscribe(()=>{this.isScrollToTopVisible=!this.isScrollToTopVisible,this.cd.detectChanges()})}};Xp.\u0275fac=function(t){return new(t||Xp)(z(Sn),z(Ei))},Xp.\u0275cmp=rt({type:Xp,selectors:[["app-leaders-list"]],inputs:{leaders:"leaders",myIndex:"myIndex",maxListLength:"maxListLength",challengeStatus:"challengeStatus"},decls:6,vars:7,consts:[[1,"leaderboard-container"],["class","leaderboard-item",3,"isCurrentUserItem","componentVariant","challengeStatus","leaderboardIndex","leaderboardItem","ngClass",4,"ngFor","ngForOf"],[1,"back-to-top",3,"ngClass"],[1,"btn",3,"click"],[1,"leaderboard-item",3,"isCurrentUserItem","componentVariant","challengeStatus","leaderboardIndex","leaderboardItem","ngClass"]],template:function(t,e){1&t&&(R(0,"div",0),K(1,cRe,1,11,"app-leaderboard-item",1),D(),R(2,"div",2)(3,"button",3),Te("click",function(){return e.scrollToTop()}),U(4),j(5,"transloco"),D()()),2&t&&(E(1),F("ngForOf",e.leaders),E(1),F("ngClass",di(5,uRe,e.isScrollToTopVisible)),E(2),te(" ",W(5,3,"challenges.action.Back to top")," "))},directives:[oi,wN,ys],pipes:[Gt],styles:[".leaderboard-container[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;width:100%}.leaderboard-container[_ngcontent-%COMP%]   app-leaderboard-item[_ngcontent-%COMP%]:first-child{border-radius:8px 8px 0 0}.leaderboard-container[_ngcontent-%COMP%]   app-leaderboard-item[_ngcontent-%COMP%]:last-child{border-radius:0 0 8px 8px}.leaderboard-container[_ngcontent-%COMP%]   .leaderboard-item[_ngcontent-%COMP%]{width:100%}.leaderboard-container[_ngcontent-%COMP%]   .leaderboard-item.outsideList[_ngcontent-%COMP%]{display:none}.leaderboard-container[_ngcontent-%COMP%]   .leaderboard-item[_ngcontent-%COMP%]:first-child   .leaderboard-container[_ngcontent-%COMP%]   .leaderboard-item[_ngcontent-%COMP%]:not(.afterActiveUser), .leaderboard-container[_ngcontent-%COMP%]   .leaderboard-item.afterActiveUser[_ngcontent-%COMP%]{border-radius:8px 8px 0 0;margin-top:8px}.leaderboard-container[_ngcontent-%COMP%]   .leaderboard-item.beforeActiveUser[_ngcontent-%COMP%]{margin-bottom:8px;border-radius:0 0 8px 8px}.leaderboard-container[_ngcontent-%COMP%]   .leaderboard-item.singleListItem[_ngcontent-%COMP%], .leaderboard-container[_ngcontent-%COMP%]   .leaderboard-item[_ngcontent-%COMP%]:first-child.beforeActiveUser, .leaderboard-container[_ngcontent-%COMP%]   .leaderboard-item[_ngcontent-%COMP%]:last-child.afterActiveUser{border-radius:8px}.back-to-top[_ngcontent-%COMP%]{position:absolute;visibility:hidden;bottom:16px;left:0;z-index:100;width:100%;transition:opacity .3s}.back-to-top.visible[_ngcontent-%COMP%]{visibility:visible}.back-to-top[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:flex;align-items:center;height:40px;min-width:112px;padding:12px 24px;margin:0 auto;border-radius:32px;background:#2e2e2e;color:#e0e0e0;text-align:center;font-feature-settings:lining-nums tabular-nums;font-variant-numeric:lining-nums tabular-nums;font-size:14px;font-weight:600}"],changeDetection:0}),Xp=Ke([Qn()],Xp);let dRe=(()=>{class n{constructor(){this.prizeName="",this.prizeIndex=0}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=rt({type:n,selectors:[["app-prize-item"]],inputs:{prizeName:"prizeName",prizeIndex:"prizeIndex"},decls:4,vars:2,consts:[[1,"prize-item"],[3,"leaderIndex"],[1,"prize-name"]],template:function(e,i){1&e&&(R(0,"div",0),fe(1,"app-leaderboard-player-place",1),R(2,"div",2),U(3),D()()),2&e&&(E(1),F("leaderIndex",i.prizeIndex),E(2),te(" ",i.prizeName," "))},directives:[NY],styles:[".prize-item[_ngcontent-%COMP%]{display:flex;width:100%;height:40px;padding:8px;border-bottom:1px solid #242424;background:#1f1f1f;border-radius:inherit;color:#a3a3a3}.prize-item[_ngcontent-%COMP%]   .prize-name[_ngcontent-%COMP%]{width:100%;font-size:14px;font-weight:400;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1;word-break:break-all;margin-left:8px}"],changeDetection:0}),n})();const hRe=function(n){return{singleListItem:n}};function fRe(n,t){if(1&n&&fe(0,"app-prize-item",2),2&n){const e=t.$implicit,i=t.index,r=ne();F("ngClass",di(3,hRe,1===r.prizes.length))("prizeIndex",i)("prizeName",e)}}let pRe=(()=>{class n{constructor(){this.prizes=[]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=rt({type:n,selectors:[["app-prizes-list"]],inputs:{prizes:"prizes"},decls:2,vars:1,consts:[[1,"prizes-container"],[3,"ngClass","prizeIndex","prizeName",4,"ngFor","ngForOf"],[3,"ngClass","prizeIndex","prizeName"]],template:function(e,i){1&e&&(R(0,"div",0),K(1,fRe,1,5,"app-prize-item",1),D()),2&e&&(E(1),F("ngForOf",i.prizes))},directives:[oi,dRe,ys],styles:[".prizes-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.prizes-container[_ngcontent-%COMP%]   app-prize-item[_ngcontent-%COMP%]:first-child{border-radius:8px 8px 0 0}.prizes-container[_ngcontent-%COMP%]   app-prize-item[_ngcontent-%COMP%]:first-child.singleListItem{border-radius:8px}.prizes-container[_ngcontent-%COMP%]   app-prize-item[_ngcontent-%COMP%]:last-child{border-radius:0 0 8px 8px}"],changeDetection:0}),n})();function gRe(n,t){if(1&n&&(R(0,"div",6),fe(1,"app-leaderboard-item",7),D()),2&n){const e=ne(2);E(1),F("leaderboardItem",e.activePlayerItem)("componentVariant",e.ChallengeTypeUI.TOURNAMENT)("leaderboardIndex",e.myIndex)("challengeStatus",e.challengeStatus)("isCurrentUserItem",!0)}}function _Re(n,t){if(1&n&&(at(0),K(1,gRe,2,5,"div",4),R(2,"div",5),U(3),j(4,"transloco"),D(),lt()),2&n){const e=ne();E(1),F("ngIf",!!e.activePlayerItem&&e.playerStatus!==e.PlayerStatus.None),E(2),Un(" ",W(4,3,"challenges.Total Players")," - ",e.totalPlayers," ")}}function mRe(n,t){if(1&n&&(R(0,"div",5),U(1),j(2,"transloco"),D()),2&n){const e=ne();E(1),Un(" ",W(2,2,"challenges.Total Prizes")," - ",e.totalPrizes," ")}}let vRe=(()=>{class n{constructor(){this.activeSwitcherOption=Uc.Players,this.totalPrizes=0,this.totalPlayers=0,this.playerStatus=$i.None,this.activePlayerItem=null,this.myIndex=null,this.challengeStatus=yr.Announced,this.LeaderboardSwitcherOption=Uc,this.ChallengeTypeUI=Ui,this.PlayerStatus=$i}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=rt({type:n,selectors:[["app-leaderboard-footer"]],inputs:{activeSwitcherOption:"activeSwitcherOption",totalPrizes:"totalPrizes",totalPlayers:"totalPlayers",playerStatus:"playerStatus",activePlayerItem:"activePlayerItem",myIndex:"myIndex",challengeStatus:"challengeStatus"},decls:4,vars:2,consts:[[1,"leaderboard-footer"],[1,"blur-block"],[4,"ngIf"],["class","total-items",4,"ngIf"],["class","active-user-container",4,"ngIf"],[1,"total-items"],[1,"active-user-container"],[1,"active-user-item",3,"leaderboardItem","componentVariant","leaderboardIndex","challengeStatus","isCurrentUserItem"]],template:function(e,i){1&e&&(R(0,"div",0),fe(1,"div",1),K(2,_Re,5,5,"ng-container",2),K(3,mRe,3,4,"div",3),D()),2&e&&(E(2),F("ngIf",i.activeSwitcherOption===i.LeaderboardSwitcherOption.Players),E(1),F("ngIf",i.activeSwitcherOption===i.LeaderboardSwitcherOption.Prizes))},directives:[Nt,wN],pipes:[Gt],styles:[".leaderboard-footer[_ngcontent-%COMP%]{position:relative;margin:0 8px}.leaderboard-footer[_ngcontent-%COMP%]   .blur-block[_ngcontent-%COMP%]{pointer-events:none;position:absolute;display:flex;top:-80px;left:0;width:100%;height:72px;background:linear-gradient(180deg,rgba(26,26,26,0) 0%,rgba(26,26,26,.6) 100%)}.leaderboard-footer[_ngcontent-%COMP%]   .active-user-container[_ngcontent-%COMP%]{margin-top:16px}.leaderboard-footer[_ngcontent-%COMP%]   .active-user-container[_ngcontent-%COMP%]   .active-user-item[_ngcontent-%COMP%]{border-radius:8px}.leaderboard-footer[_ngcontent-%COMP%]   .total-items[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;width:100%;margin:16px 0;background:#1a1a1a;color:#7a7a7a;text-align:center;font-size:12px;font-weight:500}"],changeDetection:0}),n})();function yRe(n,t){if(1&n&&(R(0,"span",8),U(1),D()),2&n){const e=ne(2);E(1),te("(Top-",e.topValue,")")}}function bRe(n,t){1&n&&fe(0,"app-loader",9)}function SRe(n,t){if(1&n&&fe(0,"app-tournament-statistics",17),2&n){const e=ne(2).ngIf,i=ne();F("playerStatus",e.statusUpdate.player)("pointsScored",e.taskUpdate.totalProgress)("isLeaderboardLoaded",e.leaderBoardLoaded)("componentVariant","LEADERBOARD")("position",i.leaderboardService.myPosition)}}function CRe(n,t){1&n&&fe(0,"app-no-players",20)}function ERe(n,t){if(1&n&&fe(0,"app-leaders-list",21),2&n){const e=ne(3).ngIf,i=ne();F("challengeStatus",e.statusUpdate.challenge)("leaders",i.leaderboardService.items)("maxListLength",i.maxListLength)("myIndex",i.leaderboardService.myPosition-1)}}function TRe(n,t){if(1&n&&(at(0),K(1,CRe,1,0,"app-no-players",18),K(2,ERe,1,4,"app-leaders-list",19),lt()),2&n){const e=ne(3);E(1),F("ngIf",!e.leaderboardService.items.length),E(1),F("ngIf",e.leaderboardService.items.length)}}function wRe(n,t){1&n&&fe(0,"app-prizes-list",22),2&n&&F("prizes",ne(3).prizeService.tournamentList)}function MRe(n,t){if(1&n){const e=ft();at(0),R(1,"div",10)(2,"app-leaderboard-switcher",11),Te("typeChanged",function(r){return ot(e),ne(2).switchTab(r)}),D(),K(3,SRe,1,5,"app-tournament-statistics",12),at(4,13),K(5,TRe,3,2,"ng-container",14),K(6,wRe,1,1,"app-prizes-list",15),lt(),D(),fe(7,"app-leaderboard-footer",16),lt()}if(2&n){const e=ne().ngIf,i=ne();E(2),F("activeOption",i.activeListTab),E(1),F("ngIf",e.statusUpdate.player!==i.PlayerStatus.None),E(1),F("ngSwitch",i.activeListTab),E(1),F("ngSwitchCase",i.LeaderboardSwitcherOption.Players),E(1),F("ngSwitchCase",i.LeaderboardSwitcherOption.Prizes),E(1),F("activeSwitcherOption",i.activeListTab)("myIndex",i.leaderboardService.myPosition-1)("challengeStatus",e.statusUpdate.challenge)("playerStatus",e.statusUpdate.player)("activePlayerItem",i.leaderboardService.myItem)("totalPrizes",i.prizeService.total)("totalPlayers",e.challengeStateUpdate.joinCount)}}function ORe(n,t){if(1&n){const e=ft();R(0,"div",1)(1,"div",2)(2,"span"),U(3),j(4,"transloco"),D(),K(5,yRe,2,1,"span",3),R(6,"button",4),Te("click",function(){return ot(e),ne().close()}),fe(7,"span",5),D()(),K(8,bRe,1,0,"app-loader",6),K(9,MRe,8,12,"ng-container",7),D()}if(2&n){const e=t.ngIf,i=ne();E(3),Ye(W(4,4,"challenges.Leaderboard")),E(2),F("ngIf",i.challenge.update.joinCount>=i.topValue),E(3),F("ngIf",!e.leaderBoardLoaded),E(1),F("ngIf",e.leaderBoardLoaded)}}let Pu=class{constructor(t,e,i,r,s,o){this.challenge=t,this.leaderboardService=e,this.prizeService=i,this.task=r,this.status=s,this.activeModal=o,this.topValue=100,this.ChallengeTypeUI=Ui,this.PlayerStatus=$i,this.maxListLength=this.challenge.config.leaderBoardSize,this.activeListTab=Uc.Players,this.LeaderboardSwitcherOption=Uc,this.data$=ud({statusUpdate:this.status.update$,challengeStateUpdate:this.challenge.updateState$,taskUpdate:this.task.update$,prizeUpdate:this.prizeService.update$,leaderBoardLoaded:this.leaderboardService.loaded$})}ngOnInit(){this.challenge.updateState$.pipe(Bt(t=>!t.isChallengeAvailable),Ct(this)).subscribe(()=>this.close())}close(){this.activeModal.close()}switchTab(t){this.activeListTab=t}};Pu.\u0275fac=function(t){return new(t||Pu)(z(bo),z(Ab),z(cv),z(lv),z(zp),z(Mr))},Pu.\u0275cmp=rt({type:Pu,selectors:[["app-leaderboard"]],decls:2,vars:3,consts:[["class","modal-content",4,"ngIf"],[1,"modal-content"],[1,"modal-header"],["class","top-description",4,"ngIf"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"close-modal"],["class","loader",4,"ngIf"],[4,"ngIf"],[1,"top-description"],[1,"loader"],[1,"modal-body"],[1,"leaderboard-switcher",3,"activeOption","typeChanged"],["class","tournament-statistics",3,"playerStatus","pointsScored","isLeaderboardLoaded","componentVariant","position",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","leaderboard-list",3,"prizes",4,"ngSwitchCase"],[3,"activeSwitcherOption","myIndex","challengeStatus","playerStatus","activePlayerItem","totalPrizes","totalPlayers"],[1,"tournament-statistics",3,"playerStatus","pointsScored","isLeaderboardLoaded","componentVariant","position"],["class","h-100",4,"ngIf"],["class","leaderboard-list",3,"challengeStatus","leaders","maxListLength","myIndex",4,"ngIf"],[1,"h-100"],[1,"leaderboard-list",3,"challengeStatus","leaders","maxListLength","myIndex"],[1,"leaderboard-list",3,"prizes"]],template:function(t,e){1&t&&(K(0,ORe,10,6,"div",0),j(1,"async")),2&t&&F("ngIf",W(1,1,e.data$))},directives:[Nt,Nc,iRe,FY,Fs,co,aRe,Xp,pRe,vRe],pipes:[Pr,Gt],styles:[".modal-content[_ngcontent-%COMP%]{position:relative;height:100vh;max-height:800px;min-width:344px;width:100%}.modal-content[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{display:flex;height:100%;margin:auto 0;justify-content:center;align-items:center;flex:1 0 0;align-self:stretch}.modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:hover{opacity:1}.modal-content[_ngcontent-%COMP%]   .top-description[_ngcontent-%COMP%]{margin-left:4px}.modal-content[_ngcontent-%COMP%]   .leaderboard-switcher[_ngcontent-%COMP%]{display:block;margin:8px 0 0}.modal-content[_ngcontent-%COMP%]   .tournament-statistics[_ngcontent-%COMP%]{display:block;margin:10px 0 0}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{display:flex;flex-direction:column}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .leaderboard-list[_ngcontent-%COMP%]{overflow-y:auto;overflow-x:hidden;border-radius:8px;margin-top:10px;height:100%}"],changeDetection:0}),Pu=Ke([Qn()],Pu);let kh=(()=>{class n{constructor(e){this.ngbModal=e,this.defaultOptions={windowClass:"modal-challenge"}}open(e,i){e!==Pu?this.ngbModal.open(e,Object.assign(Object.assign({},this.defaultOptions),null!=i?i:{})):this.ngbModal.open(Pu,Object.assign({},this.defaultOptions)).componentInstance.activeListTab=i}}return n.\u0275fac=function(e){return new(e||n)(je(Zy))},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})();var Gc=(()=>(function(n){n.WinRounds="win-rounds",n.WinMoney="win-money",n.PlayRounds="play-rounds",n.CollectCashouts="collect-cashouts",n.CatchX="catch-x",n.MakeBets="make-bets"}(Gc||(Gc={})),Gc))();const PRe={[ai.PlayRounds]:Gc.PlayRounds,[ai.CatchMultipliers]:Gc.CatchX,[ai.WinRounds]:Gc.WinRounds,[ai.PlayRoundsMaxReachedMultiplier]:Gc.PlayRounds,[ai.WinMoneyInTotal]:Gc.WinMoney,[ai.BetInTotal]:Gc.MakeBets,[ai.CollectCashOutsMultiplierSum]:Gc.CollectCashouts,[ai.CatchHighestMultiplier]:Gc.CatchX};var ql=(()=>(function(n){n.OnlyNumbers="onlyNumbers",n.Currency="currency",n.Multiplier="multiplier"}(ql||(ql={})),ql))();const xRe={[ai.PlayRounds]:ql.OnlyNumbers,[ai.CatchMultipliers]:ql.OnlyNumbers,[ai.WinRounds]:ql.OnlyNumbers,[ai.PlayRoundsMaxReachedMultiplier]:ql.OnlyNumbers,[ai.WinMoneyInTotal]:ql.Currency,[ai.BetInTotal]:ql.Currency,[ai.CollectCashOutsMultiplierSum]:ql.Multiplier,[ai.CatchHighestMultiplier]:ql.OnlyNumbers};function IRe(n,t){if(1&n&&(at(0),R(1,"span",7),U(2),j(3,"number"),D(),U(4),j(5,"number"),lt()),2&n){const e=ne();E(2),Ye(Ut(3,2,e.task.progress,"1.0-0")),E(2),te(" of ",Ut(5,5,e.task.goal,"1.0-0")," ")}}function ARe(n,t){if(1&n&&(at(0),R(1,"span",7),U(2),j(3,"currencyPrecision"),D(),U(4),j(5,"currencyPrecision"),lt()),2&n){const e=ne();E(2),Ye(W(3,3,e.task.progress)),E(2),Un(" of ",W(5,5,e.task.goal)," ",e.currency," ")}}function RRe(n,t){if(1&n&&(at(0),R(1,"span",7),U(2),D(),U(3),lt()),2&n){const e=ne();E(2),Ye(e.task.progress),E(1),te("x of ",e.task.goal,"x ")}}let DRe=(()=>{class n{constructor(){this.group=ql}get currentGroupName(){return xRe[this.task.type]}get currentProgress(){return new Li(this.task.progress).div(this.task.goal).toNumber()}get percentageCurrentProgress(){return`${new Li(this.currentProgress).times(100).toDecimalPlaces(2,Li.ROUND_FLOOR).toFixed(2)}%`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=rt({type:n,selectors:[["app-task-progress"]],inputs:{task:"task",currency:"currency",isEnabled:"isEnabled",isError:"isError"},decls:10,vars:13,consts:[[1,"progress-box","w-100"],[1,"progress-bg","w-100"],[1,"progress-bar"],[1,"progress-footer"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"progress-percent"],[1,"progress-value"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1),fe(2,"div",2),D(),R(3,"div",3)(4,"div",4),K(5,IRe,6,8,"ng-container",5),K(6,ARe,6,7,"ng-container",5),K(7,RRe,4,2,"ng-container",5),D(),R(8,"span",6),U(9),D()()()),2&e&&(wt("live",i.isEnabled)("success",i.isEnabled&&1===i.currentProgress)("error",i.isError),E(2),pc("width",100*i.currentProgress+"%"),E(2),F("ngSwitch",i.currentGroupName),E(1),F("ngSwitchCase",i.group.OnlyNumbers),E(1),F("ngSwitchCase",i.group.Currency),E(1),F("ngSwitchCase",i.group.Multiplier),E(2),Ye(i.percentageCurrentProgress))},directives:[Fs,co],pipes:[Xd,Xn],styles:[".progress-box[_ngcontent-%COMP%]{position:relative}.progress-box[_ngcontent-%COMP%]   .progress-bg[_ngcontent-%COMP%]{height:4px;width:100%;background-color:#ffffff0d;border-radius:2px;overflow:hidden;margin-bottom:4px}.progress-box[_ngcontent-%COMP%]   .progress-bg[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:100%;background-color:#ffffff1a}.progress-box[_ngcontent-%COMP%]   .progress-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;color:#7a7a7a;font-size:10px;font-weight:500;line-height:normal;letter-spacing:-.25px}.progress-box[_ngcontent-%COMP%]   .progress-footer[_ngcontent-%COMP%]   .progress-value[_ngcontent-%COMP%]{color:#525252}.progress-box.live[_ngcontent-%COMP%]   .progress-bg[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{background:linear-gradient(90deg,rgba(255,222,92,.6) 0%,#ffde5c 100%)}.progress-box.live[_ngcontent-%COMP%]   .progress-footer[_ngcontent-%COMP%]   .progress-value[_ngcontent-%COMP%]{color:#ffde5c}.progress-box.success[_ngcontent-%COMP%]   .progress-bg[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{background:linear-gradient(90deg,rgba(121,226,121,.6) 0%,#79e279 100%)}.progress-box.success[_ngcontent-%COMP%]   .progress-footer[_ngcontent-%COMP%]   .progress-value[_ngcontent-%COMP%]{color:#79e279}.progress-box.error[_ngcontent-%COMP%]   .progress-bg[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{background:linear-gradient(90deg,rgba(242,84,84,.6) 0%,#f35656 100%)}.progress-box.error[_ngcontent-%COMP%]   .progress-footer[_ngcontent-%COMP%]   .progress-value[_ngcontent-%COMP%]{color:#f35656}"],changeDetection:0}),n})();function NRe(n,t){if(1&n&&(R(0,"span"),U(1),j(2,"transloco"),D()),2&n){const e=ne();E(1),te(". ",Ut(2,1,"challenges.tasks.Min. bet",e.nameParams),"")}}let kRe=(()=>{class n{constructor(e,i,r){this.currencyPrecisionPipe=e,this.multiplierPrecisionPipe=i,this.challenge=r}get iconGroupName(){return PRe[this.task.type]}get nameParams(){return{currency:this.challenge.config.currency,minBet:this.currencyPrecisionPipe.transform(this.task.minBet),targetMinMultiplier:this.multiplierPrecisionPipe.transform(this.task.targetMinMultiplier),goal:CN.has(this.task.type)?this.currencyPrecisionPipe.transform(this.task.goal):this.task.goal}}}return n.\u0275fac=function(e){return new(e||n)(z(Xn),z(uu),z(bo))},n.\u0275cmp=rt({type:n,selectors:[["app-task"]],inputs:{task:"task",currency:"currency",isProgressEnabled:"isProgressEnabled",isError:"isError"},decls:9,vars:10,consts:[[1,"task-holder"],[1,"task-icon","flex-shrink-0",3,"ngClass"],[1,"task-info"],[1,"task-name"],[4,"ngIf"],[3,"task","currency","isEnabled","isError"]],template:function(e,i){1&e&&(R(0,"div",0),fe(1,"div",1),R(2,"div",2)(3,"div",3)(4,"span"),U(5),j(6,"transloco"),D(),K(7,NRe,3,4,"span",4),D(),fe(8,"app-task-progress",5),D()()),2&e&&(E(1),F("ngClass",i.iconGroupName),E(4),Ye(Ut(6,7,"challenges.tasks."+i.task.type,i.nameParams)),E(2),F("ngIf",!!i.nameParams.minBet),E(1),F("task",i.task)("currency",i.currency)("isEnabled",i.isProgressEnabled)("isError",i.isError))},directives:[ys,Nt,DRe],pipes:[Gt],styles:[".task-holder[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px}.task-holder[_ngcontent-%COMP%]   .task-icon[_ngcontent-%COMP%]{width:44px;height:44px;margin-right:8px;background-size:32px;background-position:center;background-repeat:no-repeat}.task-holder[_ngcontent-%COMP%]   .win-rounds[_ngcontent-%COMP%]{background-image:url(win-rounds.fb255786ec80bbac.svg)}.task-holder[_ngcontent-%COMP%]   .win-money[_ngcontent-%COMP%]{background-image:url(win-money.8a6c5b205fcc8ceb.svg)}.task-holder[_ngcontent-%COMP%]   .play-rounds[_ngcontent-%COMP%]{background-image:url(play-rounds.274cb5d798e59525.svg)}.task-holder[_ngcontent-%COMP%]   .collect-cashouts[_ngcontent-%COMP%]{background-image:url(collect-cashouts.bcac814996ac471a.svg)}.task-holder[_ngcontent-%COMP%]   .catch-x[_ngcontent-%COMP%]{background-image:url(catch-x.e3e95d64dbab4213.svg)}.task-holder[_ngcontent-%COMP%]   .make-bets[_ngcontent-%COMP%]{background-image:url(make-bets.9b323891b41c3a17.svg)}.task-holder[_ngcontent-%COMP%]   .task-info[_ngcontent-%COMP%]{width:100%;line-height:16px}.task-holder[_ngcontent-%COMP%]   .task-info[_ngcontent-%COMP%]   .task-name[_ngcontent-%COMP%]{margin-bottom:8px}"],changeDetection:0}),n})();function FRe(n,t){if(1&n){const e=ft();R(0,"button",7),Te("click",function(){return ot(e),ne().showLeaderboard()}),R(1,"span",8),U(2),j(3,"transloco"),D()()}2&n&&(E(2),Ye(W(3,1,"challenges.Leaderboard")))}function LRe(n,t){if(1&n&&(R(0,"li",9),fe(1,"app-task",10),D()),2&n){const e=t.$implicit,i=t.index,r=ne();E(1),l0("task-item-",i,""),F("task",e)("currency",r.currency)("isProgressEnabled",r.challengeStatus===r.ChallengeStatus.Active||r.challengeStatus===r.ChallengeStatus.Finished&&e.progress/e.goal==1)("isError",r.isError)}}let BRe=(()=>{class n{constructor(e){this.modalService=e,this.tasks=[],this.PlayerStatus=$i,this.ChallengeStatus=yr,this.ChallengeTypeUI=Ui}showLeaderboard(){this.modalService.open(Yp)}}return n.\u0275fac=function(e){return new(e||n)(z(kh))},n.\u0275cmp=rt({type:n,selectors:[["app-challenge-tasks"]],inputs:{tasks:"tasks",currency:"currency",playerStatus:"playerStatus",challengeStatus:"challengeStatus",isError:"isError",challengeType:"challengeType"},decls:9,vars:5,consts:[[1,"challenge-tasks"],[1,"tasks-header"],[1,"title"],["type","button","class","btn-link link-how-it-works d-flex align-items-center",3,"click",4,"ngIf"],[1,"tasks-body"],[1,"tasks"],["class","task",4,"ngFor","ngForOf"],["type","button",1,"btn-link","link-how-it-works","d-flex","align-items-center",3,"click"],[1,"button-text"],[1,"task"],[3,"task","currency","isProgressEnabled","isError"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1)(2,"span",2),U(3),j(4,"transloco"),D(),K(5,FRe,4,3,"button",3),D(),R(6,"div",4)(7,"ul",5),K(8,LRe,2,7,"li",6),D()()()),2&e&&(E(3),Ye(W(4,3,"challenges.Tasks")),E(2),F("ngIf",i.challengeType===i.ChallengeTypeUI.RACE),E(3),F("ngForOf",i.tasks))},directives:[Nt,oi,kRe],pipes:[Gt],styles:["[_nghost-%COMP%]{width:100%}.challenge-tasks[_ngcontent-%COMP%]   .tasks-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0 8px;color:#7a7a7a;font-size:12px;font-weight:500;line-height:normal;margin-bottom:8px}.challenge-tasks[_ngcontent-%COMP%]   .tasks-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{background-color:transparent;border:none;outline:none;box-shadow:none;padding:0;margin:0;color:#ffde5c;font-size:12px;font-weight:600;line-height:normal}.challenge-tasks[_ngcontent-%COMP%]   .tasks-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:focus{text-decoration:none}.challenge-tasks[_ngcontent-%COMP%]   .tasks-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:hover, .challenge-tasks[_ngcontent-%COMP%]   .tasks-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:focus-visible{text-decoration:underline}.challenge-tasks[_ngcontent-%COMP%]   .tasks-body[_ngcontent-%COMP%]{background-color:#1f1f1f;border-radius:8px}.challenge-tasks[_ngcontent-%COMP%]   .tasks-body[_ngcontent-%COMP%]   .tasks[_ngcontent-%COMP%]{padding:0;margin:0}.challenge-tasks[_ngcontent-%COMP%]   .tasks-body[_ngcontent-%COMP%]   .tasks[_ngcontent-%COMP%]   .task[_ngcontent-%COMP%]{list-style-type:none;border-bottom:1px solid #242424}.challenge-tasks[_ngcontent-%COMP%]   .tasks-body[_ngcontent-%COMP%]   .tasks[_ngcontent-%COMP%]   .task[_ngcontent-%COMP%]:last-child{border-bottom:none}"],changeDetection:0}),n})();var jc=(()=>(function(n){n.WinRounds="win-rounds",n.WinMoney="win-money",n.PlayRounds="play-rounds",n.CollectCashouts="collect-cashouts",n.CatchX="catch-x",n.MakeBets="make-bets",n.CatchHighestX="catch-highest-x"}(jc||(jc={})),jc))();const URe={[ai.PlayRounds]:jc.PlayRounds,[ai.CatchMultipliers]:jc.CatchX,[ai.WinRounds]:jc.WinRounds,[ai.PlayRoundsMaxReachedMultiplier]:jc.PlayRounds,[ai.WinMoneyInTotal]:jc.WinMoney,[ai.BetInTotal]:jc.MakeBets,[ai.CollectCashOutsMultiplierSum]:jc.CollectCashouts,[ai.CatchHighestMultiplier]:jc.CatchHighestX};var Ea=(()=>(function(n){n.Money="money",n.Multiplier="multiplier",n.Default="default"}(Ea||(Ea={})),Ea))();const LY={[ai.WinMoneyInTotal]:Ea.Money,[ai.BetInTotal]:Ea.Money,[ai.CatchMultipliers]:Ea.Multiplier,[ai.CollectCashOutsMultiplierSum]:Ea.Multiplier,[ai.CatchHighestMultiplier]:Ea.Multiplier,[ai.WinRounds]:Ea.Default,[ai.PlayRounds]:Ea.Default,[ai.PlayRoundsMaxReachedMultiplier]:Ea.Default};function GRe(n,t){if(1&n&&(R(0,"span"),U(1),j(2,"transloco"),D()),2&n){const e=ne().$implicit,i=ne(2);E(1),te(" ",Ut(2,1,"challenges.challengeRules.xRace.tasks.The bet should be at least minBet currency.",i.nameParams(e))," ")}}function jRe(n,t){if(1&n&&(at(0),R(1,"div",14),U(2),j(3,"transloco"),D(),R(4,"div",15),U(5),j(6,"transloco"),K(7,GRe,3,4,"span",16),D(),lt()),2&n){const e=t.$implicit,i=ne(2);E(2),te(" ",Ut(3,3,"challenges.tasks."+e.type,i.nameParams(e))," "),E(3),te(" ",Ut(6,6,"challenges.challengeRules.xRace.tasks."+e.type,i.nameParams(e))," "),E(2),F("ngIf",!!i.nameParams(e).minBet)}}function HRe(n,t){if(1&n){const e=ft();at(0),R(1,"div",2)(2,"span"),U(3),j(4,"transloco"),D(),R(5,"button",3),Te("click",function(){return ot(e),ne().close()}),fe(6,"span",4),D()(),R(7,"div",5)(8,"div",6),U(9),j(10,"transloco"),D(),R(11,"section",7)(12,"div",8),U(13),j(14,"transloco"),D(),R(15,"ul",9)(16,"li"),U(17),j(18,"transloco"),D(),R(19,"li"),U(20),j(21,"transloco"),D(),R(22,"li"),U(23),j(24,"transloco"),D(),R(25,"li"),U(26),j(27,"transloco"),D(),R(28,"li"),U(29),j(30,"transloco"),D(),R(31,"li"),U(32),j(33,"transloco"),D(),R(34,"li"),U(35),j(36,"transloco"),D()()(),R(37,"section",10)(38,"div",8),U(39),j(40,"transloco"),D(),R(41,"div"),U(42),j(43,"transloco"),D(),K(44,jRe,8,9,"ng-container",11),j(45,"async"),R(46,"div",12),U(47),j(48,"transloco"),D()(),R(49,"section",13)(50,"div",8),U(51),j(52,"transloco"),D(),R(53,"ul",9)(54,"li"),U(55),j(56,"transloco"),D(),R(57,"li"),U(58),j(59,"transloco"),D(),R(60,"li"),U(61),j(62,"transloco"),D(),R(63,"li"),U(64),j(65,"transloco"),D(),R(66,"li"),U(67),j(68,"transloco"),D(),R(69,"li"),U(70),j(71,"transloco"),D(),R(72,"li"),U(73),j(74,"transloco"),D(),R(75,"li"),U(76),j(77,"transloco"),D()()()(),lt()}if(2&n){const e=ne();let i;E(3),Ye(W(4,23,"challenges.challengeRules.xRace.title")),E(6),te(" ",W(10,25,"challenges.challengeRules.xRace.stepInto")," "),E(4),te(" ",W(14,27,"challenges.challengeRules.xRace.rules.title")," "),E(4),te(" ",W(18,29,"challenges.challengeRules.xRace.rules.point1")," "),E(3),te(" ",W(21,31,"challenges.challengeRules.xRace.rules.point2")," "),E(3),te(" ",W(24,33,"challenges.challengeRules.xRace.rules.point3")," "),E(3),te(" ",W(27,35,"challenges.challengeRules.xRace.rules.point4")," "),E(3),te(" ",W(30,37,"challenges.challengeRules.xRace.rules.point5")," "),E(3),te(" ",W(33,39,"challenges.challengeRules.xRace.rules.point6")," "),E(3),te(" ",W(36,41,"challenges.challengeRules.xRace.rules.point7")," "),E(4),te(" ",W(40,43,"challenges.challengeRules.xRace.tasks.title")," "),E(3),te(" ",W(43,45,"challenges.challengeRules.xRace.tasks.beforeYouBegin")," "),E(2),F("ngForOf",null==(i=W(45,47,e.task.update$))?null:i.tasks),E(3),te(" ",W(48,49,"challenges.challengeRules.xRace.pleaseNote")," "),E(4),te(" ",W(52,51,"challenges.challengeRules.xRace.prizes.title")," "),E(4),te(" ",W(56,53,"challenges.challengeRules.xRace.prizes.point1")," "),E(3),te(" ",W(59,55,"challenges.challengeRules.xRace.prizes.point2")," "),E(3),te(" ",W(62,57,"challenges.challengeRules.xRace.prizes.point2-1")," "),E(3),te(" ",W(65,59,"challenges.challengeRules.xRace.prizes.point3")," "),E(3),te(" ",W(68,61,"challenges.challengeRules.xRace.prizes.point4")," "),E(3),te(" ",W(71,63,"challenges.challengeRules.xRace.prizes.point4-1")," "),E(3),te(" ",W(74,65,"challenges.challengeRules.xRace.prizes.point5")," "),E(3),te(" ",W(77,67,"challenges.challengeRules.xRace.prizes.point6")," ")}}function VRe(n,t){if(1&n&&(R(0,"span"),U(1),j(2,"transloco"),D()),2&n){const e=ne().$implicit,i=ne(2);E(1),te(" ",Ut(2,1,"challenges.challengeRules.xMission.tasks.The bet should be at least minBet currency.",i.nameParams(e))," ")}}function zRe(n,t){if(1&n&&(at(0),R(1,"div",14),U(2),j(3,"transloco"),D(),R(4,"div",15),U(5),j(6,"transloco"),K(7,VRe,3,4,"span",16),D(),lt()),2&n){const e=t.$implicit,i=ne(2);E(2),te(" ",Ut(3,3,"challenges.tasks."+e.type,i.nameParams(e))," "),E(3),te(" ",Ut(6,6,"challenges.challengeRules.xMission.tasks."+e.type,i.nameParams(e))," "),E(2),F("ngIf",!!i.nameParams(e).minBet)}}function WRe(n,t){if(1&n){const e=ft();at(0),R(1,"div",2)(2,"span"),U(3),j(4,"transloco"),D(),R(5,"button",3),Te("click",function(){return ot(e),ne().close()}),fe(6,"span",4),D()(),R(7,"div",5)(8,"div",6),U(9),j(10,"transloco"),D(),R(11,"section",7)(12,"div",8),U(13),j(14,"transloco"),D(),R(15,"ul",9)(16,"li"),U(17),j(18,"transloco"),D(),R(19,"li"),U(20),j(21,"transloco"),D(),R(22,"li"),U(23),j(24,"transloco"),D(),R(25,"li"),U(26),j(27,"transloco"),D(),R(28,"li"),U(29),j(30,"transloco"),D(),R(31,"li"),U(32),j(33,"transloco"),D(),R(34,"li"),U(35),j(36,"transloco"),D()()(),R(37,"section",10)(38,"div",8),U(39),j(40,"transloco"),D(),R(41,"div"),U(42),j(43,"transloco"),D(),K(44,zRe,8,9,"ng-container",11),j(45,"async"),R(46,"div",12),U(47),j(48,"transloco"),D()(),R(49,"section",13)(50,"div",8),U(51),j(52,"transloco"),D(),R(53,"ul",9)(54,"li"),U(55),j(56,"transloco"),D(),R(57,"li"),U(58),j(59,"transloco"),D(),R(60,"li"),U(61),j(62,"transloco"),D(),R(63,"li"),U(64),j(65,"transloco"),D(),R(66,"li"),U(67),j(68,"transloco"),D(),R(69,"li"),U(70),j(71,"transloco"),D()()()(),lt()}if(2&n){const e=ne();let i;E(3),Ye(W(4,21,"challenges.challengeRules.xMission.title")),E(6),te(" ",W(10,23,"challenges.challengeRules.xMission.stepInto")," "),E(4),te(" ",W(14,25,"challenges.challengeRules.xMission.rules.title")," "),E(4),te(" ",W(18,27,"challenges.challengeRules.xMission.rules.point1")," "),E(3),te(" ",W(21,29,"challenges.challengeRules.xMission.rules.point2")," "),E(3),te(" ",W(24,31,"challenges.challengeRules.xMission.rules.point3")," "),E(3),te(" ",W(27,33,"challenges.challengeRules.xMission.rules.point4")," "),E(3),te(" ",W(30,35,"challenges.challengeRules.xMission.rules.point5")," "),E(3),te(" ",W(33,37,"challenges.challengeRules.xMission.rules.point6")," "),E(3),te(" ",W(36,39,"challenges.challengeRules.xMission.rules.point7")," "),E(4),te(" ",W(40,41,"challenges.challengeRules.xMission.tasks.title")," "),E(3),te(" ",W(43,43,"challenges.challengeRules.xMission.tasks.beforeYouBegin")," "),E(2),F("ngForOf",null==(i=W(45,45,e.task.update$))?null:i.tasks),E(3),te(" ",W(48,47,"challenges.challengeRules.xMission.pleaseNote")," "),E(4),te(" ",W(52,49,"challenges.challengeRules.xMission.prizes.title")," "),E(4),te(" ",W(56,51,"challenges.challengeRules.xMission.prizes.point1")," "),E(3),te(" ",W(59,53,"challenges.challengeRules.xMission.prizes.point2")," "),E(3),te(" ",W(62,55,"challenges.challengeRules.xMission.prizes.point2-1")," "),E(3),te(" ",W(65,57,"challenges.challengeRules.xMission.prizes.point3")," "),E(3),te(" ",W(68,59,"challenges.challengeRules.xMission.prizes.point3-1")," "),E(3),te(" ",W(71,61,"challenges.challengeRules.xMission.prizes.point4")," ")}}function $Re(n,t){if(1&n&&(at(0),R(1,"div",14),U(2),j(3,"transloco"),D(),R(4,"div",15),U(5),j(6,"transloco"),D(),lt()),2&n){const e=t.$implicit,i=ne(2);E(2),te(" ",Ut(3,2,"challenges.tasks.xTournament."+e.type,i.nameParams(e))," "),E(3),te(" ",Ut(6,5,"challenges.challengeRules.xTournament.tasks."+e.type,i.nameParams(e))," ")}}function YRe(n,t){if(1&n){const e=ft();at(0),R(1,"div",2)(2,"span"),U(3),j(4,"transloco"),D(),R(5,"button",3),Te("click",function(){return ot(e),ne().close()}),fe(6,"span",4),D()(),R(7,"div",5)(8,"div",6),U(9),j(10,"transloco"),D(),R(11,"section",7)(12,"div",8),U(13),j(14,"transloco"),D(),R(15,"ul",9)(16,"li"),U(17),j(18,"transloco"),D(),R(19,"li"),U(20),j(21,"transloco"),D(),R(22,"li"),U(23),j(24,"transloco"),D(),R(25,"li"),U(26),j(27,"transloco"),D()()(),R(28,"section",10)(29,"div",8),U(30),j(31,"transloco"),D(),R(32,"div"),U(33),j(34,"transloco"),D(),K(35,$Re,7,8,"ng-container",11),j(36,"async"),R(37,"div",12),U(38),j(39,"transloco"),D()(),R(40,"section",13)(41,"div",8),U(42),j(43,"transloco"),D(),R(44,"ul",9)(45,"li"),U(46),j(47,"transloco"),D(),R(48,"li"),U(49),j(50,"transloco"),D(),R(51,"li"),U(52),j(53,"transloco"),D(),R(54,"li"),U(55),j(56,"transloco"),D(),R(57,"li"),U(58),j(59,"transloco"),D(),R(60,"li"),U(61),j(62,"transloco"),D()()()(),lt()}if(2&n){const e=ne();let i;E(3),Ye(W(4,18,"challenges.challengeRules.xTournament.title")),E(6),te(" ",W(10,20,"challenges.challengeRules.xTournament.stepInto")," "),E(4),te(" ",W(14,22,"challenges.challengeRules.xTournament.rules.title")," "),E(4),te(" ",W(18,24,"challenges.challengeRules.xTournament.rules.point1")," "),E(3),te(" ",W(21,26,"challenges.challengeRules.xTournament.rules.point2")," "),E(3),te(" ",W(24,28,"challenges.challengeRules.xTournament.rules.point3")," "),E(3),te(" ",W(27,30,"challenges.challengeRules.xTournament.rules.point4")," "),E(4),te(" ",W(31,32,"challenges.challengeRules.xTournament.tasks.title")," "),E(3),te(" ",W(34,34,"challenges.challengeRules.xTournament.tasks.beforeYouBegin")," "),E(2),F("ngForOf",null==(i=W(36,36,e.task.update$))?null:i.tasks),E(3),te(" ",W(39,38,"challenges.challengeRules.xTournament.pleaseNote")," "),E(4),te(" ",W(43,40,"challenges.challengeRules.xTournament.prizes.title")," "),E(4),te(" ",W(47,42,"challenges.challengeRules.xTournament.prizes.point1")," "),E(3),te(" ",W(50,44,"challenges.challengeRules.xTournament.prizes.point2")," "),E(3),te(" ",W(53,46,"challenges.challengeRules.xTournament.prizes.point2-1")," "),E(3),te(" ",W(56,48,"challenges.challengeRules.xTournament.prizes.point3")," "),E(3),te(" ",W(59,50,"challenges.challengeRules.xTournament.prizes.point3-1")," "),E(3),te(" ",W(62,52,"challenges.challengeRules.xTournament.prizes.point4")," ")}}let Fh=class{constructor(t,e,i,r,s){this.activeModal=t,this.task=e,this.currencyPrecisionPipe=i,this.multiplierPrecisionPipe=r,this.challenge=s,this.ChallengeTypeUI=Ui}ngOnInit(){this.challenge.updateState$.pipe(Bt(t=>!t.isChallengeAvailable),Ct(this)).subscribe(()=>this.close())}nameParams(t){var e;return{currency:this.challenge.config.currency,minBet:this.currencyPrecisionPipe.transform(t.minBet),targetMinMultiplier:this.multiplierPrecisionPipe.transform(t.targetMinMultiplier),goal:CN.has(t.type)?this.currencyPrecisionPipe.transform(t.goal):t.goal,pointsConversionFactor:this.formattedPointsConversionFactor(t.type,null!==(e=t.pointsConversionFactor)&&void 0!==e?e:1)}}close(){this.activeModal.close()}get challengeConfig(){return this.challenge.config}formattedPointsConversionFactor(t,e){switch(LY[t]){case Ea.Money:return this.currencyPrecisionPipe.transform(e);case Ea.Multiplier:return this.multiplierPrecisionPipe.transform(e);default:return e}}};function XRe(n,t){if(1&n){const e=ft();at(0),R(1,"div",2)(2,"span"),U(3),j(4,"transloco"),D(),R(5,"button",3),Te("click",function(){return ot(e),ne().close()}),fe(6,"span",4),D()(),R(7,"div",5)(8,"div",6),U(9),j(10,"transloco"),D(),R(11,"div",7),U(12),j(13,"transloco"),D(),R(14,"ol",8),fe(15,"img",9),R(16,"li"),U(17),j(18,"transloco"),D(),R(19,"div",10),U(20),j(21,"transloco"),D(),fe(22,"img",11),R(23,"li"),U(24),j(25,"transloco"),D(),R(26,"div",10),U(27),j(28,"transloco"),D(),fe(29,"img",12),R(30,"li"),U(31),j(32,"transloco"),D(),R(33,"div",10),U(34),j(35,"transloco"),D(),fe(36,"img",13),R(37,"li"),U(38),j(39,"transloco"),D(),R(40,"div",10),U(41),j(42,"transloco"),D()(),R(43,"div",14),U(44),j(45,"transloco"),D(),R(46,"div",15),Te("click",function(){return ot(e),ne().showMissionRules()}),U(47),j(48,"transloco"),D()(),lt()}if(2&n){const e=ne();E(3),Ye(W(4,21,"challenges.howToPlay.xRace.title")),E(6),te(" ",W(10,23,"challenges.howToPlay.xRace.Welcome")," "),E(3),te(" ",W(13,25,"challenges.howToPlay.xRace.Here\u2019s how it works:")," "),E(3),F("srcset",e.getSrcSet("join.png","join@2x.png","join@3x.png"),rn)("src",e.getFullImgPath("join.png"),rn),E(2),te(" ",W(18,27,"challenges.howToPlay.xRace.joinTheChallenge.title")," "),E(3),te(" ",W(21,29,"challenges.howToPlay.xRace.joinTheChallenge.text")," "),E(2),F("srcset",e.getSrcSet("progress.png","progress@2x.png","progress@3x.png"),rn)("src",e.getFullImgPath("progress.png"),rn),E(2),te(" ",W(25,31,"challenges.howToPlay.xRace.taskProgress.title")," "),E(3),te(" ",W(28,33,"challenges.howToPlay.xRace.taskProgress.text")," "),E(2),F("srcset",e.getSrcSet("big-prize.png","big-prize@2x.png","big-prize@3x.png"),rn)("src",e.getFullImgPath("big-prize.png"),rn),E(2),te(" ",W(32,35,"challenges.howToPlay.xRace.fightForYourPrize.title")," "),E(3),te(" ",W(35,37,"challenges.howToPlay.xRace.fightForYourPrize.text")," "),E(2),F("srcset",e.getSrcSet("mission-completion.png","mission-completion@2x.png","mission-completion@3x.png"),rn)("src",e.getFullImgPath("mission-completion.png"),rn),E(2),te(" ",W(39,39,"challenges.howToPlay.xRace.challengeCompletion.title")," "),E(3),te(" ",W(42,41,"challenges.howToPlay.xRace.challengeCompletion.text")," "),E(3),te(" ",W(45,43,"challenges.howToPlay.xRace.Join the xRace, play your best, and aim to be one of the winners. Good luck on your xRace!")," "),E(3),te(" ",W(48,45,"challenges.howToPlay.xRace.Detailed rules")," ")}}function qRe(n,t){if(1&n){const e=ft();at(0),R(1,"div",2)(2,"span"),U(3),j(4,"transloco"),D(),R(5,"button",3),Te("click",function(){return ot(e),ne().close()}),fe(6,"span",4),D()(),R(7,"div",5)(8,"div",6),U(9),j(10,"transloco"),D(),R(11,"div",7),U(12),j(13,"transloco"),D(),R(14,"ol",8),fe(15,"img",9),R(16,"li"),U(17),j(18,"transloco"),D(),R(19,"div",10),U(20),j(21,"transloco"),D(),fe(22,"img",11),R(23,"li"),U(24),j(25,"transloco"),D(),R(26,"div",10),U(27),j(28,"transloco"),D(),fe(29,"img",12),R(30,"li"),U(31),j(32,"transloco"),D(),R(33,"div",10),U(34),j(35,"transloco"),D(),fe(36,"img",13),R(37,"li"),U(38),j(39,"transloco"),D(),R(40,"div",10),U(41),j(42,"transloco"),D()(),R(43,"div",14),U(44),j(45,"transloco"),D(),R(46,"div",15),Te("click",function(){return ot(e),ne().showMissionRules()}),U(47),j(48,"transloco"),D()(),lt()}if(2&n){const e=ne();E(3),Ye(W(4,21,"challenges.howToPlay.xMission.title")),E(6),te(" ",W(10,23,"challenges.howToPlay.xMission.Welcome")," "),E(3),te(" ",W(13,25,"challenges.howToPlay.xMission.Here\u2019s how it works:")," "),E(3),F("srcset",e.getSrcSet("join.png","join@2x.png","join@3x.png"),rn)("src",e.getFullImgPath("join.png"),rn),E(2),te(" ",W(18,27,"challenges.howToPlay.xMission.joinTheChallenge.title")," "),E(3),te(" ",W(21,29,"challenges.howToPlay.xMission.joinTheChallenge.text")," "),E(2),F("srcset",e.getSrcSet("progress.png","progress@2x.png","progress@3x.png"),rn)("src",e.getFullImgPath("progress.png"),rn),E(2),te(" ",W(25,31,"challenges.howToPlay.xMission.taskProgress.title")," "),E(3),te(" ",W(28,33,"challenges.howToPlay.xMission.taskProgress.text")," "),E(2),F("srcset",e.getSrcSet("big-prize.png","big-prize@2x.png","big-prize@3x.png"),rn)("src",e.getFullImgPath("big-prize.png"),rn),E(2),te(" ",W(32,35,"challenges.howToPlay.xMission.fightForYourPrize.title")," "),E(3),te(" ",W(35,37,"challenges.howToPlay.xMission.fightForYourPrize.text")," "),E(2),F("srcset",e.getSrcSet("mission-completion.png","mission-completion@2x.png","mission-completion@3x.png"),rn)("src",e.getFullImgPath("mission-completion.png"),rn),E(2),te(" ",W(39,39,"challenges.howToPlay.xMission.challengeCompletion.title")," "),E(3),te(" ",W(42,41,"challenges.howToPlay.xMission.challengeCompletion.text")," "),E(3),te(" ",W(45,43,"challenges.howToPlay.xMission.Join the xMission, play your best, and aim to be one of the winners. Good luck on your xMission!")," "),E(3),te(" ",W(48,45,"challenges.howToPlay.xMission.Detailed rules")," ")}}function KRe(n,t){if(1&n){const e=ft();at(0),R(1,"div",2)(2,"span"),U(3),j(4,"transloco"),D(),R(5,"button",3),Te("click",function(){return ot(e),ne().close()}),fe(6,"span",4),D()(),R(7,"div",5)(8,"div",6),U(9),j(10,"transloco"),D(),R(11,"div",7),U(12),j(13,"transloco"),D(),R(14,"ol",8),fe(15,"img",9),R(16,"li"),U(17),j(18,"transloco"),D(),R(19,"div",10),U(20),j(21,"transloco"),D(),fe(22,"img",11),R(23,"li"),U(24),j(25,"transloco"),D(),R(26,"div",10),U(27),j(28,"transloco"),D(),fe(29,"img",12),R(30,"li"),U(31),j(32,"transloco"),D(),R(33,"div",10),U(34),j(35,"transloco"),D(),fe(36,"img",13),R(37,"li"),U(38),j(39,"transloco"),D(),R(40,"div",10),U(41),j(42,"transloco"),D()(),R(43,"div",14),U(44),j(45,"transloco"),D(),R(46,"div",15),Te("click",function(){return ot(e),ne().showMissionRules()}),U(47),j(48,"transloco"),D()(),lt()}if(2&n){const e=ne();E(3),Ye(W(4,21,"challenges.howToPlay.xTournament.title")),E(6),te(" ",W(10,23,"challenges.howToPlay.xTournament.Welcome")," "),E(3),te(" ",W(13,25,"challenges.howToPlay.xTournament.Here\u2019s how it works:")," "),E(3),F("srcset",e.getSrcSet("join.png","join@2x.png","join@3x.png"),rn)("src",e.getFullImgPath("join.png"),rn),E(2),te(" ",W(18,27,"challenges.howToPlay.xTournament.joinTheChallenge.title")," "),E(3),te(" ",W(21,29,"challenges.howToPlay.xTournament.joinTheChallenge.text")," "),E(2),F("srcset",e.getSrcSet("progress.png","progress@2x.png","progress@3x.png"),rn)("src",e.getFullImgPath("progress.png"),rn),E(2),te(" ",W(25,31,"challenges.howToPlay.xTournament.taskProgress.title")," "),E(3),te(" ",W(28,33,"challenges.howToPlay.xTournament.taskProgress.text")," "),E(2),F("srcset",e.getSrcSet("big-prize.png","big-prize@2x.png","big-prize@3x.png"),rn)("src",e.getFullImgPath("big-prize.png"),rn),E(2),te(" ",W(32,35,"challenges.howToPlay.xTournament.fightForYourPrize.title")," "),E(3),te(" ",W(35,37,"challenges.howToPlay.xTournament.fightForYourPrize.text")," "),E(2),F("srcset",e.getSrcSet("mission-completion.png","mission-completion@2x.png","mission-completion@3x.png"),rn)("src",e.getFullImgPath("mission-completion.png"),rn),E(2),te(" ",W(39,39,"challenges.howToPlay.xTournament.challengeCompletion.title")," "),E(3),te(" ",W(42,41,"challenges.howToPlay.xTournament.challengeCompletion.text")," "),E(3),te(" ",W(45,43,"challenges.howToPlay.xTournament.Join the xTournament, play your best, and aim to be one of the winners. Good luck on your xTournament!")," "),E(3),te(" ",W(48,45,"challenges.howToPlay.xTournament.Detailed rules")," ")}}Fh.\u0275fac=function(t){return new(t||Fh)(z(Mr),z(lv),z(Xn),z(uu),z(bo))},Fh.\u0275cmp=rt({type:Fh,selectors:[["app-mission-rules"]],decls:4,vars:4,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"close-modal"],[1,"modal-body","scroll-hide"],[1,"intro"],[1,"rules"],[1,"title"],[1,"p-0","m-0","pl-3"],[1,"tasks"],[4,"ngFor","ngForOf"],[1,"task-note"],[1,"prizes"],[1,"task-name"],[1,"task-description"],[4,"ngIf"]],template:function(t,e){1&t&&(at(0,0),K(1,HRe,78,69,"ng-container",1),K(2,WRe,72,63,"ng-container",1),K(3,YRe,63,54,"ng-container",1),lt()),2&t&&(F("ngSwitch",e.challengeConfig.typeUi),E(1),F("ngSwitchCase",e.ChallengeTypeUI.RACE),E(1),F("ngSwitchCase",e.ChallengeTypeUI.MISSION),E(1),F("ngSwitchCase",e.ChallengeTypeUI.TOURNAMENT))},directives:[Fs,co,oi,Nt],pipes:[Gt,Pr],styles:[".modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:hover{opacity:1}.modal-body[_ngcontent-%COMP%]{--modal-challenge-body-padding: 8px 8px 24px 8px;color:#a3a3a3;font-size:14px;font-weight:600;line-height:20px}.modal-body[_ngcontent-%COMP%]   .intro[_ngcontent-%COMP%]{padding:0 8px}.modal-body[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{padding:24px 8px 0}.modal-body[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#e0e0e0;padding-bottom:16px;font-size:20px;font-weight:500;line-height:24px}.modal-body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-weight:400;padding-bottom:0}.modal-body[_ngcontent-%COMP%]   .tasks[_ngcontent-%COMP%]   .task-name[_ngcontent-%COMP%]{color:#ffde5c;font-weight:600;padding-top:16px;padding-bottom:8px}.modal-body[_ngcontent-%COMP%]   .tasks[_ngcontent-%COMP%]   .task-description[_ngcontent-%COMP%]{font-weight:400}.modal-body[_ngcontent-%COMP%]   .tasks[_ngcontent-%COMP%]   .task-note[_ngcontent-%COMP%]{font-weight:400;padding-top:16px}"],changeDetection:0}),Fh=Ke([Qn()],Fh);let qp=class{constructor(t,e,i){this.activeModal=t,this.modal=e,this.challenge=i,this.ChallengeTypeUI=Ui}ngOnInit(){this.challenge.updateState$.pipe(Bt(t=>!t.isChallengeAvailable),Ct(this)).subscribe(()=>this.close())}getFullImgPath(t){return"assets/images/engagement-tools/"+t}getSrcSet(t,e,i){return`${this.getFullImgPath(t)}, ${this.getFullImgPath(e)} 2x, ${this.getFullImgPath(i)} 3x`}showMissionRules(){this.modal.open(Fh)}close(){this.activeModal.close()}get challengeConfig(){return this.challenge.config}};qp.\u0275fac=function(t){return new(t||qp)(z(Mr),z(kh),z(bo))},qp.\u0275cmp=rt({type:qp,selectors:[["app-how-it-works"]],decls:4,vars:4,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"close-modal"],[1,"modal-body","scroll-hide"],[1,"intro"],[1,"title"],[1,"d-flex","flex-column","justify-content-center","align-items-start"],["alt","join",1,"img","img-join",3,"srcset","src"],[1,"step-description"],["alt","progress",1,"img","img-progress",3,"srcset","src"],["alt","big-prize",1,"img","img-prize",3,"srcset","src"],["alt","mission-completion",1,"img","img-mission-completion",3,"srcset","src"],[1,"outro"],[1,"btn-link","text-center",3,"click"]],template:function(t,e){1&t&&(at(0,0),K(1,XRe,49,47,"ng-container",1),K(2,qRe,49,47,"ng-container",1),K(3,KRe,49,47,"ng-container",1),lt()),2&t&&(F("ngSwitch",e.challengeConfig.typeUi),E(1),F("ngSwitchCase",e.ChallengeTypeUI.RACE),E(1),F("ngSwitchCase",e.ChallengeTypeUI.MISSION),E(1),F("ngSwitchCase",e.ChallengeTypeUI.TOURNAMENT))},directives:[Fs,co],pipes:[Gt],styles:[".modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:hover{opacity:1}.modal-body[_ngcontent-%COMP%]{--modal-challenge-body-padding: 8px 8px 24px 8px;color:#a3a3a3;font-size:14px;font-style:normal;font-weight:600;line-height:20px}.modal-body[_ngcontent-%COMP%]   .intro[_ngcontent-%COMP%]{padding:0 8px}.modal-body[_ngcontent-%COMP%]   .outro[_ngcontent-%COMP%]{padding:8px 8px 24px}.modal-body[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#e0e0e0;font-size:20px;font-weight:500;line-height:24px;padding:24px 8px 16px}.modal-body[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{margin:0;padding:0}.modal-body[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   .step-description[_ngcontent-%COMP%]{font-weight:400;padding:0 8px;margin-bottom:16px}.modal-body[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:100%;border-radius:10px;margin-bottom:16px}.modal-body[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-left:28px;margin-bottom:8px;color:#ffde5c;font-weight:600;line-height:20px}.modal-body[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{font-size:12px;font-weight:600;line-height:normal;color:#ffde5c;cursor:pointer}"]}),qp=Ke([Qn()],qp);let BY=(()=>{class n{constructor(e){this.modalService=e}openHowToPlayModal(){this.modalService.open(qp)}}return n.\u0275fac=function(e){return new(e||n)(z(kh))},n.\u0275cmp=rt({type:n,selectors:[["app-challenge-get-more-info"]],decls:8,vars:6,consts:[[1,"challenge-get-more-info"],["type","button",1,"btn-link","d-flex","align-items-center",3,"click"],[1,"button-text"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div"),U(2),j(3,"transloco"),D(),R(4,"button",1),Te("click",function(){return i.openHowToPlayModal()}),R(5,"span",2),U(6),j(7,"transloco"),D()()()),2&e&&(E(2),te(" ",W(3,2,"challenges.Get more information on participating:")," "),E(4),Ye(W(7,4,"challenges.How to play")))},pipes:[Gt],styles:["[_nghost-%COMP%]{width:100%}.challenge-get-more-info[_ngcontent-%COMP%]{color:#7a7a7a;font-size:12px;font-weight:500;line-height:normal;text-align:center}.challenge-get-more-info[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{background-color:transparent;border:none;outline:none;box-shadow:none;padding:0;margin:4px auto 0;color:#ffde5c;font-size:12px;font-weight:600;line-height:normal}.challenge-get-more-info[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:focus{text-decoration:none}.challenge-get-more-info[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:hover, .challenge-get-more-info[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:focus-visible{text-decoration:underline}"],changeDetection:0}),n})();function JRe(n,t){1&n&&fe(0,"img",14)}function ZRe(n,t){1&n&&fe(0,"img",15)}function QRe(n,t){if(1&n&&(R(0,"span",16)(1,"span",17),U(2),j(3,"number"),D(),U(4),j(5,"transloco"),D()),2&n){const e=ne().$implicit,i=ne().ngIf;let r;E(2),te(" ",Ut(3,2,null!==(r=i.prizeUpdate.left)&&void 0!==r?r:e.left,"1.0-1")," "),E(2),te(" ",W(5,5,"challenges.Left")," ")}}function eDe(n,t){if(1&n&&(at(0),U(1),lt()),2&n){const e=ne().$implicit;E(1),te(" ",e.name," ")}}function tDe(n,t){1&n&&(at(0),U(1),j(2,"transloco"),lt()),2&n&&(E(1),te(" ",W(2,1,"challenges.Freebet")," "))}function nDe(n,t){if(1&n&&(at(0),U(1),lt()),2&n){const e=ne().$implicit;E(1),te(" ",e.description," ")}}function iDe(n,t){if(1&n&&(at(0),U(1),j(2,"currencyPrecision"),lt()),2&n){const e=ne().$implicit,i=ne(2);E(1),Un(" ",W(2,2,e.cost)," ",i.currency," ")}}function rDe(n,t){if(1&n&&(R(0,"div",6),K(1,JRe,1,0,"img",7),K(2,ZRe,1,0,"img",8),R(3,"div",9),K(4,QRe,6,7,"span",10),R(5,"span",11),K(6,eDe,2,1,"ng-container",12),K(7,tDe,3,3,"ng-container",12),D(),R(8,"span",13),K(9,nDe,2,1,"ng-container",12),K(10,iDe,3,4,"ng-container",12),D()()()),2&n){const e=t.$implicit,i=ne(2);E(1),F("ngIf",e.type===i.PrizeType.FreeBet),E(1),F("ngIf",e.type===i.PrizeType.Special),E(2),F("ngIf",i.challengeType===i.ChallengeTypeUI.RACE),E(2),F("ngIf",e.type===i.PrizeType.Special),E(1),F("ngIf",e.type===i.PrizeType.FreeBet),E(2),F("ngIf",e.type===i.PrizeType.Special),E(1),F("ngIf",e.type===i.PrizeType.FreeBet)}}function sDe(n,t){if(1&n&&(R(0,"div",1)(1,"div",2)(2,"span",3),U(3),j(4,"transloco"),D()(),R(5,"div",4),K(6,rDe,11,7,"div",5),D()()),2&n){const e=t.ngIf;E(3),Ye(W(4,2,"challenges.Prizes")),E(3),F("ngForOf",e.prizeItemsUpdate)}}let oDe=(()=>{class n{constructor(e){this.prize=e,this.challengeType=Ui.RACE,this.isNetwork=!1,this.data$=ud({prizeUpdate:this.prize.update$,prizeItemsUpdate:this.prize.updateItems$}),this.PrizeType=kc,this.ChallengeTypeUI=Ui}}return n.\u0275fac=function(e){return new(e||n)(z(cv))},n.\u0275cmp=rt({type:n,selectors:[["app-challenge-prizes"]],inputs:{currency:"currency",challengeType:"challengeType",isNetwork:"isNetwork"},decls:2,vars:3,consts:[["class","challenge-prizes",4,"ngIf"],[1,"challenge-prizes"],[1,"prizes-header"],[1,"title"],[1,"prizes-body"],["class","prize-card",4,"ngFor","ngForOf"],[1,"prize-card"],["class","card-bg-image","srcSet","\n          assets/images/engagement-tools/prize-bg-freebet.png,\n          assets/images/engagement-tools/prize-bg-freebet@2x.png 2x,\n          assets/images/engagement-tools/prize-bg-freebet@3x.png 3x\n        ","src","assets/images/engagement-tools/prize-bg-freebet.png","alt","prize-bg",4,"ngIf"],["class","card-bg-image","srcSet","\n          assets/images/engagement-tools/prize-bg-special.png,\n          assets/images/engagement-tools/prize-bg-special@2x.png 2x,\n          assets/images/engagement-tools/prize-bg-special@3x.png 3x\n        ","src","assets/images/engagement-tools/prize-bg-special.png","alt","prize-bg",4,"ngIf"],[1,"card-content"],["class","badge-left",4,"ngIf"],[1,"card-title"],[4,"ngIf"],[1,"card-description"],["srcSet","\n          assets/images/engagement-tools/prize-bg-freebet.png,\n          assets/images/engagement-tools/prize-bg-freebet@2x.png 2x,\n          assets/images/engagement-tools/prize-bg-freebet@3x.png 3x\n        ","src","assets/images/engagement-tools/prize-bg-freebet.png","alt","prize-bg",1,"card-bg-image"],["srcSet","\n          assets/images/engagement-tools/prize-bg-special.png,\n          assets/images/engagement-tools/prize-bg-special@2x.png 2x,\n          assets/images/engagement-tools/prize-bg-special@3x.png 3x\n        ","src","assets/images/engagement-tools/prize-bg-special.png","alt","prize-bg",1,"card-bg-image"],[1,"badge-left"],[1,"amount"]],template:function(e,i){1&e&&(K(0,sDe,7,4,"div",0),j(1,"async")),2&e&&F("ngIf",W(1,1,i.data$))},directives:[Nt,oi],pipes:[Pr,Gt,Xd,Xn],styles:["[_nghost-%COMP%]{width:100%}.challenge-prizes[_ngcontent-%COMP%]   .prizes-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0 8px;color:#7a7a7a;font-size:12px;font-weight:500;line-height:normal;margin-bottom:8px}.challenge-prizes[_ngcontent-%COMP%]   .prizes-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{background-color:transparent;border:none;outline:none;box-shadow:none;padding:0;margin:0;color:#ffde5c;font-size:12px;font-weight:600;line-height:normal}.challenge-prizes[_ngcontent-%COMP%]   .prizes-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]{position:relative;width:100%;max-width:328px;height:160px;border-radius:8px;overflow:hidden}@media (min-width: 768px){.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]{max-width:408px;height:160px}}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-bg-image[_ngcontent-%COMP%]{position:absolute;top:50%;right:0;transform:translateY(-50%);height:100%;z-index:0;border-radius:8px}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:flex-start;height:100%;z-index:1;padding:12px}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .badge-left[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:4px;height:32px;padding:4px 12px;border-radius:64px;background-color:#ffffff0d;color:#fff;font-size:12px;font-weight:500;line-height:normal;margin-bottom:auto}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .badge-left[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{color:#ffde5c}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{color:#e0e0e0;font-size:20px;font-weight:800;line-height:normal;text-transform:uppercase;padding:0 4px;margin-top:auto;margin-bottom:4px;width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-description[_ngcontent-%COMP%]{font-size:10px;font-weight:400;line-height:normal;padding:0 4px;width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"],changeDetection:0}),n})();const UY=function(n){return{challenge:n}};let GY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=rt({type:n,selectors:[["app-challenge-info-other"]],inputs:{type:"type",startDate:"startDate",endDate:"endDate",minBet:"minBet",currency:"currency",currencyPrecision:"currencyPrecision"},decls:29,vars:38,consts:[[1,"challenge-info-other"],[1,"info-header"],[1,"title"],[1,"info-body"],[1,"info-row","row-start"],[1,"info-row-title"],[1,"info-row-value"],[1,"info-row","row-end"],[1,"info-row","row-min-bet"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1)(2,"span",2),U(3),j(4,"transloco"),D()(),R(5,"div",3)(6,"div",4)(7,"span",5),U(8),j(9,"transloco"),D(),R(10,"span",6),U(11),j(12,"date"),j(13,"date"),D()(),R(14,"div",7)(15,"span",5),U(16),j(17,"transloco"),D(),R(18,"span",6),U(19),j(20,"date"),j(21,"date"),D()(),R(22,"div",8)(23,"span",5),U(24),j(25,"transloco"),D(),R(26,"span",6),U(27),j(28,"currencyPrecision"),D()()()()),2&e&&(E(3),Ye(W(4,10,"challenges.Other Information")),E(5),Ye(Ut(9,12,"challenges.challenge starts:",di(34,UY,i.type))),E(3),Un("",Ut(12,15,i.startDate,"HH:mm"),", ",Ut(13,18,i.startDate,"dd.MM.yy"),""),E(5),Ye(Ut(17,21,"challenges.challenge ends:",di(36,UY,i.type))),E(3),Un("",Ut(20,24,i.endDate,"HH:mm"),", ",Ut(21,27,i.endDate,"dd.MM.yy"),""),E(5),Ye(W(25,30,"challenges.Min. Bet:")),E(3),Un("",W(28,32,i.minBet)," ",i.currency,""))},pipes:[Gt,Oa,Xn],styles:['[_nghost-%COMP%]{width:100%}.challenge-info-other[_ngcontent-%COMP%]   .info-header[_ngcontent-%COMP%]{padding:0 8px;color:#7a7a7a;font-size:12px;font-weight:500;line-height:normal;margin-bottom:8px}.challenge-info-other[_ngcontent-%COMP%]   .info-body[_ngcontent-%COMP%]{background-color:#1f1f1f;border-radius:8px}.challenge-info-other[_ngcontent-%COMP%]   .info-body[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:space-between;align-items:center;height:40px;padding:8px;border-bottom:1px solid #242424}.challenge-info-other[_ngcontent-%COMP%]   .info-body[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.challenge-info-other[_ngcontent-%COMP%]   .info-body[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .info-row-title[_ngcontent-%COMP%]{color:#a3a3a3;font-size:14px;font-weight:400;line-height:normal;padding-left:32px;padding-right:10px}.challenge-info-other[_ngcontent-%COMP%]   .info-body[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .info-row-title[_ngcontent-%COMP%]:before{display:block;position:absolute;top:8px;left:8px;width:24px;height:24px;content:""}.challenge-info-other[_ngcontent-%COMP%]   .info-body[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .info-row-value[_ngcontent-%COMP%]{color:#e0e0e0;font-size:14px;font-weight:500;line-height:normal}.challenge-info-other[_ngcontent-%COMP%]   .info-body[_ngcontent-%COMP%]   .info-row.row-start[_ngcontent-%COMP%]   .info-row-title[_ngcontent-%COMP%]:before{background:url(icon-calendar-yellow.7f1faa1091045c98.svg) no-repeat center center/contain}.challenge-info-other[_ngcontent-%COMP%]   .info-body[_ngcontent-%COMP%]   .info-row.row-end[_ngcontent-%COMP%]   .info-row-title[_ngcontent-%COMP%]:before{background:url(icon-finish-yellow.732b6280285c8694.svg) no-repeat center center/contain}.challenge-info-other[_ngcontent-%COMP%]   .info-body[_ngcontent-%COMP%]   .info-row.row-min-bet[_ngcontent-%COMP%]   .info-row-title[_ngcontent-%COMP%]:before{background:url(icon-coin-yellow.b00af567e5f6fc2c.svg) no-repeat center center/contain}'],changeDetection:0}),n})(),jY=(()=>{class n{constructor(e){this.modalService=e}openRulesModal(){this.modalService.open(Fh)}}return n.\u0275fac=function(e){return new(e||n)(z(kh))},n.\u0275cmp=rt({type:n,selectors:[["app-challenge-disclaimer"]],decls:8,vars:6,consts:[[1,"challenge-disclaimer"],["type","button",1,"btn-link","d-flex","align-items-center",3,"click"],[1,"button-text"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div"),U(2),j(3,"transloco"),D(),R(4,"button",1),Te("click",function(){return i.openRulesModal()}),R(5,"span",2),U(6),j(7,"transloco"),D()()()),2&e&&(E(2),te(" ",W(3,2,"challenges.By joining the event, you are agreeing to the:")," "),E(4),Ye(W(7,4,"challenges.Detailed rules")))},pipes:[Gt],styles:["[_nghost-%COMP%]{width:100%}.challenge-disclaimer[_ngcontent-%COMP%]{color:#7a7a7a;font-size:12px;font-weight:500;line-height:normal;text-align:center}.challenge-disclaimer[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{background-color:transparent;border:none;outline:none;box-shadow:none;padding:0;margin:4px auto 0;color:#ffde5c;font-size:12px;font-weight:600;line-height:normal}.challenge-disclaimer[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:focus{text-decoration:none}.challenge-disclaimer[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:hover, .challenge-disclaimer[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:focus-visible{text-decoration:underline}"],changeDetection:0}),n})();function aDe(n,t){if(1&n&&(fe(0,"app-challenge-message",16),j(1,"transloco")),2&n){const e=ne(2);F("message",W(1,1,e.challengeMessages[e.challengeConfig.typeUi].waitForStart))}}function lDe(n,t){if(1&n&&(fe(0,"app-challenge-message",16),j(1,"transloco")),2&n){const e=ne(2);F("message",W(1,1,e.challengeMessages[e.challengeConfig.typeUi].missionPaused))}}function cDe(n,t){if(1&n&&(fe(0,"app-challenge-message",16),j(1,"transloco")),2&n){const e=ne(2);F("message",W(1,1,e.challengeMessages[e.challengeConfig.typeUi].prizeClaimed))}}function uDe(n,t){if(1&n&&(fe(0,"app-challenge-message",16),j(1,"transloco")),2&n){const e=ne(2);F("message",W(1,1,e.challengeMessages[e.challengeConfig.typeUi].missionOverSuccess))}}function dDe(n,t){if(1&n&&(fe(0,"app-challenge-message",16),j(1,"transloco")),2&n){const e=ne(2);F("message",W(1,1,e.challengeMessages[e.challengeConfig.typeUi].missionOverFail))}}function hDe(n,t){if(1&n&&(fe(0,"app-challenge-message",17),j(1,"transloco")),2&n){const e=ne(2);F("message",W(1,2,e.challengeMessages[e.challengeConfig.typeUi].minBetError))("isError",!0)}}function fDe(n,t){if(1&n){const e=ft();R(0,"button",18),Te("click",function(){return ot(e),ne(2).joinToMission()}),U(1),j(2,"transloco"),D()}2&n&&(F("disabled",ne(2).waitingForResponse.join),E(1),te(" ",W(2,2,"challenges.action.Join")," "))}function pDe(n,t){if(1&n){const e=ft();R(0,"button",19),Te("click",function(){return ot(e),ne(2).takePrize()}),fe(1,"span",20),U(2),j(3,"transloco"),D()}2&n&&(F("disabled",ne(2).waitingForResponse.takePrize),E(2),te(" ",W(3,2,"challenges.action.Take my Prize")," "))}function gDe(n,t){if(1&n){const e=ft();at(0),R(1,"div",1),fe(2,"app-challenge-header-main",2)(3,"app-challenge-header-scrolled",3),R(4,"button",4),Te("click",function(){return ot(e),ne().close()}),fe(5,"span",5),D()(),R(6,"div",6),fe(7,"app-challenge-info-main",7),K(8,aDe,2,3,"app-challenge-message",8),K(9,lDe,2,3,"app-challenge-message",8),K(10,cDe,2,3,"app-challenge-message",8),K(11,uDe,2,3,"app-challenge-message",8),K(12,dDe,2,3,"app-challenge-message",8),K(13,hDe,2,4,"app-challenge-message",9),R(14,"div",10),K(15,fDe,3,4,"button",11),K(16,pDe,4,4,"button",12),D(),fe(17,"app-challenge-tasks",13)(18,"app-challenge-get-more-info")(19,"app-challenge-prizes",14)(20,"app-challenge-info-other",15)(21,"app-challenge-disclaimer"),D(),lt()}if(2&n){const e=t.ngIf,i=ne();E(2),F("challengeStatus",e.statusUpdate.challenge)("playerStatus",e.statusUpdate.player)("userCount",e.challengeStateUpdate.joinCount)("isMinBetError",e.hasMinBetError),E(1),F("title",i.challengeConfig.name),E(4),F("type",i.challengeConfig.typeUi)("name",i.challengeConfig.name)("startDate",i.challengeConfig.startDate)("endDate",e.statusUpdate.finishDate)("progress",e.taskUpdate.totalProgress)("isChallengeStarted",e.statusUpdate.challenge===i.ChallengeStatus.Active||e.statusUpdate.challenge===i.ChallengeStatus.Paused)("isChallengePaused",e.statusUpdate.challenge===i.ChallengeStatus.Paused)("isChallengeFinished",e.statusUpdate.challenge===i.ChallengeStatus.Finished)("isProgressEnabled",e.statusUpdate.challenge===i.ChallengeStatus.Active||e.statusUpdate.challenge===i.ChallengeStatus.Finished&&(e.statusUpdate.player===i.playerStatus.Won||e.statusUpdate.player===i.playerStatus.Rewarded))("isError",e.hasMinBetError)("backgroundImage",i.challengeConfig.backgroundImage),E(1),F("ngIf",e.statusUpdate.player===i.playerStatus.Joined&&e.statusUpdate.challenge===i.ChallengeStatus.Announced),E(1),F("ngIf",e.statusUpdate.challenge===i.ChallengeStatus.Paused&&e.statusUpdate.player!==i.playerStatus.Rewarded&&e.statusUpdate.player!==i.playerStatus.Won),E(1),F("ngIf",e.statusUpdate.player===i.playerStatus.Rewarded&&e.statusUpdate.challenge!==i.ChallengeStatus.Finished),E(1),F("ngIf",e.statusUpdate.player===i.playerStatus.Rewarded&&e.statusUpdate.challenge===i.ChallengeStatus.Finished),E(1),F("ngIf",e.statusUpdate.player===i.playerStatus.Joined&&e.statusUpdate.challenge===i.ChallengeStatus.Finished),E(1),F("ngIf",e.hasMinBetError),E(2),F("ngIf",e.statusUpdate.player===i.playerStatus.None&&(e.statusUpdate.challenge===i.ChallengeStatus.Announced||e.statusUpdate.challenge===i.ChallengeStatus.Active)),E(1),F("ngIf",e.statusUpdate.player===i.playerStatus.Won&&e.statusUpdate.challenge!==i.ChallengeStatus.Paused),E(1),F("challengeType",i.challengeConfig.typeUi)("tasks",e.taskUpdate.tasks)("currency",i.challengeConfig.currency)("playerStatus",e.statusUpdate.player)("challengeStatus",e.statusUpdate.challenge)("isError",e.hasMinBetError),E(2),F("currency",i.challengeConfig.currency)("challengeType",i.challengeConfig.typeUi)("isNetwork",i.challengeConfig.isNetwork),E(1),F("type",i.challengeConfig.typeUi)("startDate",i.challengeConfig.startDate)("endDate",e.statusUpdate.finishDate)("minBet",i.challengeConfig.minBet)("currency",i.challengeConfig.currency)("currencyPrecision",i.challengeConfig.currencyPrecision)}}let Kp=class{constructor(t,e,i,r,s,o,a,l,c){this.stomp=t,this.activeModal=e,this.cd=i,this.status=r,this.task=s,this.prize=o,this.challenge=a,this.minBetError=l,this.leaderboard=c,this.data$=ud({statusUpdate:this.status.update$,challengeStateUpdate:this.challenge.updateState$,taskUpdate:this.task.update$,hasMinBetError:this.minBetError.update$}),this.challengeMessages=xY,this.ChallengeStatus=yr,this.playerStatus=$i,this.PrizeType=kc,this.waitingForResponse={takePrize:!1,join:!1}}get hasFreeBetPrize(){return this.prize.items.some(t=>t.type===kc.FreeBet)}get challengeConfig(){return this.challenge.config}ngOnInit(){this.challenge.config.type===_d.RACE&&this.leaderboard.sendRequestLeaderboard(),this.challenge.updateState$.pipe(Bt(t=>!t.isChallengeAvailable),Ct(this)).subscribe(()=>this.close()),this.stomp.response(Pi.TakePrize).pipe(Bt(t=>200!==t.code)).subscribe(()=>{this.waitingForResponse.takePrize=!1,this.cd.detectChanges()}),this.stomp.response(Pi.Join).pipe(Bt(t=>200!==t.code)).subscribe(()=>{this.waitingForResponse.join=!1,this.cd.detectChanges()})}ngAfterViewInit(){this.bindScrollAnimation()}bindScrollAnimation(){io.registerPlugin(ar),io.fromTo("#header-main",{opacity:1},{opacity:0,scrollTrigger:{scroller:".modal-body",trigger:".challenge-info-main",start:"top top",end:"top -75px",scrub:!0}}),io.fromTo("#header-scrolled",{opacity:0},{opacity:1,scrollTrigger:{scroller:".modal-body",trigger:".challenge-info-main",start:"top -75px",end:"top -150px",scrub:!0}})}close(){this.activeModal.close()}joinToMission(){this.waitingForResponse.join=!0,this.stomp.request(yo.Join,{challengeId:this.challenge.config.challengeId})}takePrize(){this.waitingForResponse.takePrize=!0,this.stomp.request(yo.TakePrize,{challengeId:this.challenge.config.challengeId})}};function _De(n,t){if(1&n&&(R(0,"span"),U(1),j(2,"transloco"),D()),2&n){const e=ne();E(1),te(". ",Ut(2,1,"challenges.tasks.xTournament.Min. bet",e.nameParams),"")}}Kp.\u0275fac=function(t){return new(t||Kp)(z(Da),z(Mr),z(Sn),z(zp),z(lv),z(cv),z(bo),z(Ib),z(Ab))},Kp.\u0275cmp=rt({type:Kp,selectors:[["app-mission-details"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"modal-header"],["id","header-main",3,"challengeStatus","playerStatus","userCount","isMinBetError"],["id","header-scrolled",3,"title"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"close-modal"],[1,"modal-body","scroll-hide"],[3,"type","name","startDate","endDate","progress","isChallengeStarted","isChallengePaused","isChallengeFinished","isProgressEnabled","isError","backgroundImage"],[3,"message",4,"ngIf"],[3,"message","isError",4,"ngIf"],[1,"action-button-container"],["type","button","class","btn btn-join",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-get-prize",3,"disabled","click",4,"ngIf"],[3,"challengeType","tasks","currency","playerStatus","challengeStatus","isError"],[3,"currency","challengeType","isNetwork"],[3,"type","startDate","endDate","minBet","currency","currencyPrecision"],[3,"message"],[3,"message","isError"],["type","button",1,"btn","btn-join",3,"disabled","click"],["type","button",1,"btn","btn-get-prize",3,"disabled","click"],[1,"prize-icon"]],template:function(t,e){1&t&&(K(0,gDe,22,39,"ng-container",0),j(1,"async")),2&t&&F("ngIf",W(1,1,e.data$))},directives:[Nt,IY,AY,RY,DY,BRe,BY,oDe,GY,jY],pipes:[Pr,Gt],styles:["[_nghost-%COMP%]{position:relative}.modal-header[_ngcontent-%COMP%]{--modal-header-position: absolute;--modal-challenge-header-padding: 0;top:0;left:0;width:100%;z-index:2}.modal-header[_ngcontent-%COMP%]   app-challenge-header-main[_ngcontent-%COMP%], .modal-header[_ngcontent-%COMP%]   app-challenge-header-scrolled[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%}.modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{--modal-challenge-button-close-bg-color: rgba(255, 255, 255, .05)}.modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:hover{opacity:1}.modal-body[_ngcontent-%COMP%]{--modal-challenge-body-padding: 0 8px 24px;display:flex;flex-direction:column;justify-content:flex-start;align-items:center}.modal-body[_ngcontent-%COMP%]   app-challenge-message[_ngcontent-%COMP%]{margin-bottom:24px}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;max-width:100%;z-index:1}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{color:#1f1f1f;font-size:16px;font-weight:600;line-height:normal;padding:8px 24px;min-width:160px;max-width:100%;height:48px;border-radius:64px;margin-bottom:24px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled{opacity:.5;pointer-events:none}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus, .modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus-visible{box-shadow:none}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn.btn-join[_ngcontent-%COMP%]{background:linear-gradient(180deg,#ffe270 0%,#ffda47 100%)}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn.btn-join[_ngcontent-%COMP%]:hover, .modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn.btn-join[_ngcontent-%COMP%]:focus-visible{box-shadow:0 0 0 2px #ffda4766}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn.btn-get-prize[_ngcontent-%COMP%]{background:linear-gradient(180deg,#8ae58a 0%,#68de68 100%)}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn.btn-get-prize[_ngcontent-%COMP%]:hover, .modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn.btn-get-prize[_ngcontent-%COMP%]:focus-visible{box-shadow:0 0 0 2px #68de6866}.modal-body[_ngcontent-%COMP%]   app-challenge-tasks[_ngcontent-%COMP%]{margin-bottom:8px;z-index:1}.modal-body[_ngcontent-%COMP%]   app-challenge-get-more-info[_ngcontent-%COMP%]{margin-bottom:24px}.modal-body[_ngcontent-%COMP%]   app-challenge-prizes[_ngcontent-%COMP%]{margin-bottom:24px}.modal-body[_ngcontent-%COMP%]   app-challenge-info-other[_ngcontent-%COMP%]{margin-bottom:24px}"],changeDetection:0}),Kp=Ke([Qn()],Kp);let mDe=(()=>{class n{constructor(e,i,r){this.currencyPrecisionPipe=e,this.multiplierPrecisionPipe=i,this.challenge=r}get iconGroupName(){return URe[this.task.type]}get pointsConversionGroup(){return LY[this.task.type]}get nameParams(){var e;return{currency:this.challenge.config.currency,minBet:this.currencyPrecisionPipe.transform(this.task.minBet),targetMinMultiplier:this.multiplierPrecisionPipe.transform(this.task.targetMinMultiplier),pointsConversionFactor:this.formattedPointsConversionFactor(null!==(e=this.task.pointsConversionFactor)&&void 0!==e?e:1)}}formattedPointsConversionFactor(e){switch(this.pointsConversionGroup){case Ea.Money:return this.currencyPrecisionPipe.transform(e);case Ea.Multiplier:return this.multiplierPrecisionPipe.transform(e);default:return e}}}return n.\u0275fac=function(e){return new(e||n)(z(Xn),z(uu),z(bo))},n.\u0275cmp=rt({type:n,selectors:[["app-task-tournament"]],inputs:{task:"task",isProgressEnabled:"isProgressEnabled",isError:"isError"},decls:8,vars:6,consts:[[1,"task-holder"],[1,"task-icon","flex-shrink-0",3,"ngClass"],[1,"task-info"],[1,"task-name"],[4,"ngIf"]],template:function(e,i){1&e&&(R(0,"div",0),fe(1,"div",1),R(2,"div",2)(3,"div",3)(4,"span"),U(5),j(6,"transloco"),D(),K(7,_De,3,4,"span",4),D()()()),2&e&&(E(1),F("ngClass",i.iconGroupName),E(4),te(" ",Ut(6,3,"challenges.tasks.xTournament."+i.task.type,i.nameParams),""),E(2),F("ngIf",!!i.nameParams.minBet))},directives:[ys,Nt],pipes:[Gt],styles:[".task-holder[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px}.task-holder[_ngcontent-%COMP%]   .task-icon[_ngcontent-%COMP%]{width:44px;height:44px;margin-right:8px;background-size:32px;background-position:center;background-repeat:no-repeat}.task-holder[_ngcontent-%COMP%]   .win-rounds[_ngcontent-%COMP%]{background-image:url(win-rounds.fb255786ec80bbac.svg)}.task-holder[_ngcontent-%COMP%]   .catch-highest-x[_ngcontent-%COMP%]{background-image:url(win-rounds.fb255786ec80bbac.svg)}.task-holder[_ngcontent-%COMP%]   .win-money[_ngcontent-%COMP%]{background-image:url(win-money.8a6c5b205fcc8ceb.svg)}.task-holder[_ngcontent-%COMP%]   .play-rounds[_ngcontent-%COMP%]{background-image:url(play-rounds.274cb5d798e59525.svg)}.task-holder[_ngcontent-%COMP%]   .collect-cashouts[_ngcontent-%COMP%]{background-image:url(collect-cashouts.bcac814996ac471a.svg)}.task-holder[_ngcontent-%COMP%]   .catch-x[_ngcontent-%COMP%]{background-image:url(catch-x.e3e95d64dbab4213.svg)}.task-holder[_ngcontent-%COMP%]   .make-bets[_ngcontent-%COMP%]{background-image:url(make-bets.9b323891b41c3a17.svg)}.task-holder[_ngcontent-%COMP%]   .task-info[_ngcontent-%COMP%]{width:100%;line-height:16px}"],changeDetection:0}),n})();function vDe(n,t){if(1&n&&(R(0,"li",9),fe(1,"app-task-tournament",10),D()),2&n){const e=t.$implicit,i=t.index,r=ne();E(1),l0("task-item-",i,""),F("task",e)("isProgressEnabled",r.challengeStatus===r.ChallengeStatus.Active||r.challengeStatus===r.ChallengeStatus.Finished&&e.progress/e.goal==1)("isError",r.isError)}}function yDe(n,t){if(1&n&&fe(0,"app-tournament-statistics",11),2&n){const e=ne();F("position",e.position)("isLeaderboardLoaded",e.isLeaderboardLoaded)("playerStatus",e.playerStatus)("pointsScored",e.pointsScored)}}let bDe=(()=>{class n{constructor(e){this.modalService=e,this.tasks=[],this.isLeaderboardLoaded=!1,this.PlayerStatus=$i,this.ChallengeStatus=yr,this.ChallengeTypeUI=Ui}get visiblePosition(){return this.challengeStatus===yr.Announced?"-":this.position}showLeaderboard(){this.modalService.open(Pu,Uc.Players)}}return n.\u0275fac=function(e){return new(e||n)(z(kh))},n.\u0275cmp=rt({type:n,selectors:[["app-challenge-tasks-tournament"]],inputs:{tasks:"tasks",currency:"currency",playerStatus:"playerStatus",challengeStatus:"challengeStatus",isError:"isError",challengeType:"challengeType",isLeaderboardLoaded:"isLeaderboardLoaded",pointsScored:"pointsScored",position:"position"},decls:13,vars:9,consts:[[1,"challenge-tasks"],[1,"tasks-header"],[1,"title"],["type","button",1,"btn-link","link-how-it-works","d-flex","align-items-center",3,"disabled","click"],[1,"button-text"],[1,"tasks-body"],[1,"tasks"],["class","task",4,"ngFor","ngForOf"],[3,"position","isLeaderboardLoaded","playerStatus","pointsScored",4,"ngIf"],[1,"task"],[3,"task","isProgressEnabled","isError"],[3,"position","isLeaderboardLoaded","playerStatus","pointsScored"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1)(2,"span",2),U(3),j(4,"transloco"),D(),R(5,"button",3),Te("click",function(){return i.showLeaderboard()}),R(6,"span",4),U(7),j(8,"transloco"),D()()(),R(9,"div",5)(10,"ul",6),K(11,vDe,2,6,"li",7),D(),K(12,yDe,1,4,"app-tournament-statistics",8),D()()),2&e&&(E(3),Ye(W(4,5,"challenges.Tasks")),E(2),F("disabled",!i.isLeaderboardLoaded),E(2),Ye(W(8,7,"challenges.Leaderboard")),E(4),F("ngForOf",i.tasks),E(1),F("ngIf",i.playerStatus===i.PlayerStatus.Joined||i.playerStatus===i.PlayerStatus.Won||i.playerStatus===i.PlayerStatus.Rewarded))},directives:[oi,mDe,Nt,FY],pipes:[Gt],styles:["[_nghost-%COMP%]{width:100%}.challenge-tasks[_ngcontent-%COMP%]   .tasks-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0 8px;color:#7a7a7a;font-size:12px;font-weight:500;line-height:normal;margin-bottom:8px}.challenge-tasks[_ngcontent-%COMP%]   .tasks-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{background-color:transparent;border:none;outline:none;box-shadow:none;padding:0;margin:0;color:#ffde5c;font-size:12px;font-weight:600;line-height:normal}.challenge-tasks[_ngcontent-%COMP%]   .tasks-header[_ngcontent-%COMP%]   .btn-link[disabled][_ngcontent-%COMP%]{opacity:.7}.challenge-tasks[_ngcontent-%COMP%]   .tasks-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:focus{text-decoration:none}.challenge-tasks[_ngcontent-%COMP%]   .tasks-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:hover, .challenge-tasks[_ngcontent-%COMP%]   .tasks-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:focus-visible{text-decoration:underline}.challenge-tasks[_ngcontent-%COMP%]   .tasks-body[_ngcontent-%COMP%]{background-color:#1f1f1f;border-radius:8px}.challenge-tasks[_ngcontent-%COMP%]   .tasks-body[_ngcontent-%COMP%]   .tasks[_ngcontent-%COMP%]{padding:0;margin:0}.challenge-tasks[_ngcontent-%COMP%]   .tasks-body[_ngcontent-%COMP%]   .tasks[_ngcontent-%COMP%]   .task[_ngcontent-%COMP%]{list-style-type:none;border-bottom:1px solid #242424}.challenge-tasks[_ngcontent-%COMP%]   .tasks-body[_ngcontent-%COMP%]   .tasks[_ngcontent-%COMP%]   .task[_ngcontent-%COMP%]:last-child{border-bottom:none}"],changeDetection:0}),n})(),HY=(()=>{class n{constructor(e){this.el=e,this.config={}}ngAfterViewInit(){Object.assign(this.el.nativeElement,this.config),this.el.nativeElement.initialize()}}return n.\u0275fac=function(e){return new(e||n)(z(Ei))},n.\u0275dir=At({type:n,selectors:[["","appSwiper",""]],inputs:{config:"config"}}),n})();function SDe(n,t){1&n&&fe(0,"img",15)}function CDe(n,t){1&n&&fe(0,"img",16)}function EDe(n,t){if(1&n&&(R(0,"div",17),fe(1,"span"),R(2,"span"),U(3),j(4,"transloco"),D()()),2&n){const e=ne().index;E(1),l0("icon-place icon-place-",e+1,""),E(2),Ye(W(4,4,"challenges.Place"))}}function TDe(n,t){if(1&n&&(at(0),U(1),lt()),2&n){const e=ne().$implicit;E(1),te(" ",e.name," ")}}function wDe(n,t){1&n&&(at(0),U(1),j(2,"transloco"),lt()),2&n&&(E(1),te(" ",W(2,1,"challenges.Freebet")," "))}function MDe(n,t){if(1&n&&(at(0),U(1),lt()),2&n){const e=ne().$implicit;E(1),te(" ",e.description," ")}}function ODe(n,t){if(1&n&&(at(0),U(1),j(2,"currencyPrecision"),lt()),2&n){const e=ne().$implicit,i=ne();E(1),Un(" ",W(2,2,e.cost)," ",i.currency," ")}}function PDe(n,t){if(1&n&&(R(0,"swiper-slide")(1,"div",8),K(2,SDe,1,0,"img",9),K(3,CDe,1,0,"img",10),R(4,"div",11),K(5,EDe,5,6,"div",12),R(6,"span",13),K(7,TDe,2,1,"ng-container",7),K(8,wDe,3,3,"ng-container",7),D(),R(9,"span",14),K(10,MDe,2,1,"ng-container",7),K(11,ODe,3,4,"ng-container",7),D()()()()),2&n){const e=t.$implicit,i=t.index,r=ne();E(2),F("ngIf",e.type===r.PrizeType.FreeBet),E(1),F("ngIf",e.type===r.PrizeType.Special),E(2),F("ngIf",i<3),E(2),F("ngIf",e.type===r.PrizeType.Special),E(1),F("ngIf",e.type===r.PrizeType.FreeBet),E(2),F("ngIf",e.type===r.PrizeType.Special),E(1),F("ngIf",e.type===r.PrizeType.FreeBet)}}function xDe(n,t){if(1&n){const e=ft();R(0,"swiper-slide")(1,"div",18)(2,"span",2),U(3),j(4,"transloco"),D(),R(5,"button",19),Te("click",function(){return ot(e),ne().showAllPrizes()}),U(6),j(7,"transloco"),D()()()}if(2&n){const e=ne();E(3),Ye(W(4,3,"challenges.Prize pool")),E(2),F("disabled",!e.isLeaderboardLoaded),E(1),te(" ",W(7,5,"challenges.Show all")," ")}}let IDe=(()=>{class n{constructor(e){this.modalService=e,this.isLeaderboardLoaded=!1,this.items=[],this.PrizeType=kc}get swiperConfig(){return{slidesPerView:this.visiblePrizeItems.length>1?1.27:1,spaceBetween:8,injectStyles:["\n          :host {\n            --swiper-pagination-color: #FFDE5C;\n            --swiper-pagination-bullet-inactive-color: #242424;\n            --swiper-pagination-bullet-inactive-opacity: 1;\n            --swiper-pagination-bullet-horizontal-gap: 4px;\n          }\n\n          .swiper-pagination {\n            position: static;\n            height: 24px;\n          }\n        "],pagination:!0}}get visiblePrizeItems(){return this.items.slice(0,Math.min(this.items.length,3))}showAllPrizes(){this.modalService.open(Pu,Uc.Prizes)}}return n.\u0275fac=function(e){return new(e||n)(z(kh))},n.\u0275cmp=rt({type:n,selectors:[["app-challenge-prizes-tournament"]],inputs:{isLeaderboardLoaded:"isLeaderboardLoaded",items:"items",currency:"currency"},decls:10,vars:6,consts:[[1,"challenge-prizes"],[1,"prizes-header"],[1,"title"],[1,"prizes-body"],["appSwiper","","init","false",1,"swiper-prizes",3,"config"],["swiper",""],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"prize-card"],["class","card-bg-image","srcSet","\n              assets/images/engagement-tools/prize-bg-freebet.png,\n              assets/images/engagement-tools/prize-bg-freebet@2x.png 2x,\n              assets/images/engagement-tools/prize-bg-freebet@3x.png 3x\n            ","src","assets/images/engagement-tools/prize-bg-freebet.png","alt","prize-bg",4,"ngIf"],["class","card-bg-image","srcSet","\n              assets/images/engagement-tools/prize-bg-special.png,\n              assets/images/engagement-tools/prize-bg-special@2x.png 2x,\n              assets/images/engagement-tools/prize-bg-special@3x.png 3x\n            ","src","assets/images/engagement-tools/prize-bg-special.png","alt","prize-bg",4,"ngIf"],[1,"card-content"],["class","badge-place",4,"ngIf"],[1,"card-title"],[1,"card-description"],["srcSet","\n              assets/images/engagement-tools/prize-bg-freebet.png,\n              assets/images/engagement-tools/prize-bg-freebet@2x.png 2x,\n              assets/images/engagement-tools/prize-bg-freebet@3x.png 3x\n            ","src","assets/images/engagement-tools/prize-bg-freebet.png","alt","prize-bg",1,"card-bg-image"],["srcSet","\n              assets/images/engagement-tools/prize-bg-special.png,\n              assets/images/engagement-tools/prize-bg-special@2x.png 2x,\n              assets/images/engagement-tools/prize-bg-special@3x.png 3x\n            ","src","assets/images/engagement-tools/prize-bg-special.png","alt","prize-bg",1,"card-bg-image"],[1,"badge-place"],[1,"prize-card-pool"],[1,"btn-link",3,"disabled","click"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1)(2,"span",2),U(3),j(4,"transloco"),D()(),R(5,"div",3)(6,"swiper-container",4,5),K(8,PDe,12,7,"swiper-slide",6),K(9,xDe,8,7,"swiper-slide",7),D()()()),2&e&&(E(3),Ye(W(4,4,"challenges.Prizes")),E(3),F("config",i.swiperConfig),E(2),F("ngForOf",i.visiblePrizeItems),E(1),F("ngIf",i.visiblePrizeItems.length<i.items.length))},directives:[HY,oi,Nt],pipes:[Gt,Xn],styles:["[_nghost-%COMP%]{width:100%}.challenge-prizes[_ngcontent-%COMP%]   .prizes-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0 8px;color:#7a7a7a;font-size:12px;font-weight:500;line-height:normal;margin-bottom:8px}.challenge-prizes[_ngcontent-%COMP%]   .prizes-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{background-color:transparent;border:none;outline:none;box-shadow:none;padding:0;margin:0;color:#ffde5c;font-size:12px;font-weight:600;line-height:normal}.challenge-prizes[_ngcontent-%COMP%]   .prizes-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]{position:relative;width:100%;max-width:328px;height:160px;border-radius:8px;overflow:hidden}@media (min-width: 768px){.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]{max-width:408px}}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-bg-image[_ngcontent-%COMP%]{position:absolute;top:50%;right:0;transform:translateY(-50%);height:100%;z-index:0;border-radius:8px}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:flex-start;height:100%;z-index:1;padding:12px}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .badge-place[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:6px;height:32px;padding:4px 12px 4px 4px;border-radius:64px;background-color:#ffffff0d;color:#fff;font-size:12px;font-weight:500;line-height:normal;margin-bottom:auto}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .badge-place[_ngcontent-%COMP%]   .icon-place[_ngcontent-%COMP%]{position:relative;width:24px;height:24px;min-width:24px;min-height:24px}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .badge-place[_ngcontent-%COMP%]   .icon-place-1[_ngcontent-%COMP%]{background-image:url(icon-place-1.223a4457cda4aa61.svg)}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .badge-place[_ngcontent-%COMP%]   .icon-place-2[_ngcontent-%COMP%]{background-image:url(icon-place-2.c0e6c17ec93632e2.svg)}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .badge-place[_ngcontent-%COMP%]   .icon-place-3[_ngcontent-%COMP%]{background-image:url(icon-place-3.e64054e966403194.svg)}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .badge-place[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{color:#ffde5c}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{color:#e0e0e0;font-size:20px;font-weight:800;line-height:normal;text-transform:uppercase;padding:0 4px;margin-top:auto;margin-bottom:4px;width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-description[_ngcontent-%COMP%]{font-size:10px;font-weight:400;line-height:normal;padding:0 4px;width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card-pool[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:160px;padding:12px;background:#1f1f1f;border-radius:8px}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card-pool[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#e0e0e0;font-size:20px;font-weight:800;line-height:normal;text-transform:uppercase}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card-pool[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{background-color:transparent;border:none;outline:none;box-shadow:none;padding:0;margin:4px auto 0;color:#ffde5c;font-size:12px;font-weight:600;line-height:normal}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card-pool[_ngcontent-%COMP%]   .btn-link[disabled][_ngcontent-%COMP%]{opacity:.7}.challenge-prizes[_ngcontent-%COMP%]   .prizes-body[_ngcontent-%COMP%]   .prize-card-pool[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:hover{text-decoration:underline}"],changeDetection:0}),n})();function ADe(n,t){if(1&n&&(fe(0,"app-challenge-message",15),j(1,"transloco")),2&n){const e=ne(2);F("message",W(1,1,e.challengeMessages[e.challengeConfig.typeUi].waitForStart))}}function RDe(n,t){if(1&n&&(fe(0,"app-challenge-message",15),j(1,"transloco")),2&n){const e=ne(2);F("message",W(1,1,e.challengeMessages[e.challengeConfig.typeUi].missionPaused))}}function DDe(n,t){if(1&n&&(fe(0,"app-challenge-message",15),j(1,"transloco")),2&n){const e=ne(2);F("message",W(1,1,e.challengeMessages[e.challengeConfig.typeUi].prizeClaimed))}}function NDe(n,t){if(1&n&&(fe(0,"app-challenge-message",15),j(1,"transloco")),2&n){const e=ne(2);F("message",W(1,1,e.challengeMessages[e.challengeConfig.typeUi].missionOverSuccess))}}function kDe(n,t){if(1&n&&(fe(0,"app-challenge-message",15),j(1,"transloco")),2&n){const e=ne(2);F("message",W(1,1,e.challengeMessages[e.challengeConfig.typeUi].missionOverFail))}}function FDe(n,t){if(1&n&&(fe(0,"app-challenge-message",16),j(1,"transloco")),2&n){const e=ne(2);F("message",W(1,2,e.challengeMessages[e.challengeConfig.typeUi].minBetError))("isError",!0)}}function LDe(n,t){if(1&n){const e=ft();R(0,"button",17),Te("click",function(){return ot(e),ne(2).joinToMission()}),U(1),j(2,"transloco"),D()}2&n&&(F("disabled",ne(2).waitingForResponse.join),E(1),te(" ",W(2,2,"challenges.action.Join")," "))}function BDe(n,t){if(1&n){const e=ft();at(0),R(1,"div",1),fe(2,"app-challenge-header-main",2)(3,"app-challenge-header-scrolled",3),R(4,"button",4),Te("click",function(){return ot(e),ne().close()}),fe(5,"span",5),D()(),R(6,"div",6),fe(7,"app-challenge-info-main",7),K(8,ADe,2,3,"app-challenge-message",8),K(9,RDe,2,3,"app-challenge-message",8),K(10,DDe,2,3,"app-challenge-message",8),K(11,NDe,2,3,"app-challenge-message",8),K(12,kDe,2,3,"app-challenge-message",8),K(13,FDe,2,4,"app-challenge-message",9),R(14,"div",10),K(15,LDe,3,4,"button",11),D(),fe(16,"app-challenge-tasks-tournament",12)(17,"app-challenge-get-more-info")(18,"app-challenge-prizes-tournament",13)(19,"app-challenge-info-other",14)(20,"app-challenge-disclaimer"),D(),lt()}if(2&n){const e=t.ngIf,i=ne();let r;E(2),F("challengeStatus",e.statusUpdate.challenge)("playerStatus",e.statusUpdate.player)("userCount",e.challengeStateUpdate.joinCount)("isMinBetError",e.hasMinBetError),E(1),F("title",i.challengeConfig.name),E(4),F("type",i.challengeConfig.typeUi)("name",i.challengeConfig.name)("startDate",i.challengeConfig.startDate)("endDate",e.statusUpdate.finishDate)("isChallengeStarted",e.statusUpdate.challenge===i.ChallengeStatus.Active||e.statusUpdate.challenge===i.ChallengeStatus.Paused)("isChallengeFinished",e.statusUpdate.challenge===i.ChallengeStatus.Finished)("isChallengePaused",e.statusUpdate.challenge===i.ChallengeStatus.Paused)("isProgressEnabled",e.statusUpdate.challenge===i.ChallengeStatus.Active||e.statusUpdate.challenge===i.ChallengeStatus.Finished&&(e.statusUpdate.player===i.playerStatus.Won||e.statusUpdate.player===i.playerStatus.Rewarded))("isError",e.hasMinBetError)("backgroundImage",i.challengeConfig.backgroundImage),E(1),F("ngIf",e.statusUpdate.player===i.playerStatus.Joined&&e.statusUpdate.challenge===i.ChallengeStatus.Announced),E(1),F("ngIf",e.statusUpdate.challenge===i.ChallengeStatus.Paused&&e.statusUpdate.player!==i.playerStatus.Rewarded&&e.statusUpdate.player!==i.playerStatus.Won),E(1),F("ngIf",e.statusUpdate.player===i.playerStatus.Rewarded&&e.statusUpdate.challenge!==i.ChallengeStatus.Finished),E(1),F("ngIf",e.statusUpdate.player===i.playerStatus.Rewarded&&e.statusUpdate.challenge===i.ChallengeStatus.Finished),E(1),F("ngIf",e.statusUpdate.player===i.playerStatus.Joined&&e.statusUpdate.challenge===i.ChallengeStatus.Finished),E(1),F("ngIf",e.hasMinBetError),E(2),F("ngIf",e.statusUpdate.player===i.playerStatus.None&&(e.statusUpdate.challenge===i.ChallengeStatus.Announced||e.statusUpdate.challenge===i.ChallengeStatus.Active)),E(1),F("challengeType",i.challengeConfig.typeUi)("tasks",e.taskUpdate.tasks)("currency",i.challengeConfig.currency)("playerStatus",e.statusUpdate.player)("challengeStatus",e.statusUpdate.challenge)("isLeaderboardLoaded",e.isLeaderboardLoaded)("pointsScored",null!==(r=null==i.leaderboard.myItem?null:i.leaderboard.myItem.progress)&&void 0!==r?r:0)("position",i.leaderboard.myPosition)("isError",e.hasMinBetError),E(2),F("items",i.prizeItems)("currency",i.challengeConfig.currency)("isLeaderboardLoaded",e.isLeaderboardLoaded),E(1),F("type",i.challengeConfig.typeUi)("startDate",i.challengeConfig.startDate)("endDate",e.statusUpdate.finishDate)("minBet",i.challengeConfig.minBet)("currency",i.challengeConfig.currency)("currencyPrecision",i.challengeConfig.currencyPrecision)}}let Jp=class{constructor(t,e,i,r,s,o,a,l,c,u){this.app=t,this.stomp=e,this.activeModal=i,this.cd=r,this.status=s,this.task=o,this.prize=a,this.challenge=l,this.minBetError=c,this.leaderboard=u,this.data$=ud({statusUpdate:this.status.update$,challengeStateUpdate:this.challenge.updateState$,taskUpdate:this.task.update$,prizeUpdate:this.prize.update$,hasMinBetError:this.minBetError.update$,isLeaderboardLoaded:this.leaderboard.loaded$}),this.challengeMessages=xY,this.ChallengeStatus=yr,this.playerStatus=$i,this.PrizeType=kc,this.waitingForResponse={takePrize:!1,join:!1}}get hasFreeBetPrize(){return this.prize.items.some(t=>t.type===kc.FreeBet)}get challengeConfig(){return this.challenge.config}get prizeItems(){return this.prize.items}ngOnInit(){this.leaderboard.sendRequestLeaderboard(),this.challenge.updateState$.pipe(Bt(t=>!t.isChallengeAvailable),Ct(this)).subscribe(()=>this.close()),this.stomp.response(Pi.TakePrize).pipe(Bt(t=>200!==t.code)).subscribe(()=>{this.waitingForResponse.takePrize=!1,this.cd.detectChanges()}),this.stomp.response(Pi.Join).pipe(Bt(t=>200!==t.code)).subscribe(()=>{this.waitingForResponse.join=!1,this.cd.detectChanges()})}ngAfterViewInit(){this.bindScrollAnimation()}bindScrollAnimation(){io.registerPlugin(ar),io.fromTo("#header-main",{opacity:1},{opacity:0,scrollTrigger:{scroller:".modal-body",trigger:".challenge-info-main",start:"top top",end:"top -75px",scrub:!0}}),io.fromTo("#header-scrolled",{opacity:0},{opacity:1,scrollTrigger:{scroller:".modal-body",trigger:".challenge-info-main",start:"top -75px",end:"top -150px",scrub:!0}})}close(){this.activeModal.close()}joinToMission(){this.waitingForResponse.join=!0,this.stomp.request(yo.Join,{challengeId:this.challenge.config.challengeId})}takePrize(){this.waitingForResponse.takePrize=!0,this.stomp.request(yo.TakePrize,{challengeId:this.challenge.config.challengeId})}};function UDe(n,t){if(1&n&&(at(0),R(1,"span",2),U(2),j(3,"number"),j(4,"number"),j(5,"number"),D(),lt()),2&n){const e=t.ngIf;E(2),f_(" ",Ut(3,3,e.hours,"2.0"),":",Ut(4,6,e.minutes,"2.0"),":",Ut(5,9,e.seconds,"2.0")," ")}}Jp.\u0275fac=function(t){return new(t||Jp)(z(ln),z(Da),z(Mr),z(Sn),z(zp),z(lv),z(cv),z(bo),z(Ib),z(Ab))},Jp.\u0275cmp=rt({type:Jp,selectors:[["app-mission-details-tournament"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"modal-header"],["id","header-main",3,"challengeStatus","playerStatus","userCount","isMinBetError"],["id","header-scrolled",3,"title"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"close-modal"],[1,"modal-body","scroll-hide"],[3,"type","name","startDate","endDate","isChallengeStarted","isChallengeFinished","isChallengePaused","isProgressEnabled","isError","backgroundImage"],[3,"message",4,"ngIf"],[3,"message","isError",4,"ngIf"],[1,"action-button-container"],["type","button","class","btn btn-join",3,"disabled","click",4,"ngIf"],[3,"challengeType","tasks","currency","playerStatus","challengeStatus","isLeaderboardLoaded","pointsScored","position","isError"],[3,"items","currency","isLeaderboardLoaded"],[3,"type","startDate","endDate","minBet","currency","currencyPrecision"],[3,"message"],[3,"message","isError"],["type","button",1,"btn","btn-join",3,"disabled","click"]],template:function(t,e){1&t&&(K(0,BDe,21,40,"ng-container",0),j(1,"async")),2&t&&F("ngIf",W(1,1,e.data$))},directives:[Nt,IY,AY,RY,DY,bDe,BY,IDe,GY,jY],pipes:[Pr,Gt],styles:["[_nghost-%COMP%]{position:relative}.modal-header[_ngcontent-%COMP%]{--modal-header-position: absolute;--modal-challenge-header-padding: 0;top:0;left:0;width:100%;z-index:2}.modal-header[_ngcontent-%COMP%]   app-challenge-header-main[_ngcontent-%COMP%], .modal-header[_ngcontent-%COMP%]   app-challenge-header-scrolled[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%}.modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{--modal-challenge-button-close-bg-color: rgba(255, 255, 255, .05)}.modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:hover{opacity:1}.modal-body[_ngcontent-%COMP%]{--modal-challenge-body-padding: 0 8px 24px;display:flex;flex-direction:column;justify-content:flex-start;align-items:center}.modal-body[_ngcontent-%COMP%]   app-challenge-message[_ngcontent-%COMP%]{margin-bottom:24px}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;max-width:100%;z-index:1}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{color:#1f1f1f;font-size:16px;font-weight:600;line-height:normal;padding:8px 24px;min-width:160px;max-width:100%;height:48px;border-radius:64px;margin-bottom:24px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled{opacity:.5;pointer-events:none}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus, .modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus-visible{box-shadow:none}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn.btn-join[_ngcontent-%COMP%]{background:linear-gradient(180deg,#ffe270 0%,#ffda47 100%)}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn.btn-join[_ngcontent-%COMP%]:hover, .modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn.btn-join[_ngcontent-%COMP%]:focus-visible{box-shadow:0 0 0 2px #ffda4766}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn.btn-get-prize[_ngcontent-%COMP%]{background:linear-gradient(180deg,#8ae58a 0%,#68de68 100%)}.modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn.btn-get-prize[_ngcontent-%COMP%]:hover, .modal-body[_ngcontent-%COMP%]   .action-button-container[_ngcontent-%COMP%]   .btn.btn-get-prize[_ngcontent-%COMP%]:focus-visible{box-shadow:0 0 0 2px #68de6866}.modal-body[_ngcontent-%COMP%]   app-challenge-tasks-tournament[_ngcontent-%COMP%]{margin-bottom:8px;z-index:1}.modal-body[_ngcontent-%COMP%]   app-challenge-get-more-info[_ngcontent-%COMP%]{margin-bottom:24px}.modal-body[_ngcontent-%COMP%]   app-challenge-prizes-tournament[_ngcontent-%COMP%]{margin-bottom:24px}.modal-body[_ngcontent-%COMP%]   app-challenge-info-other[_ngcontent-%COMP%]{margin-bottom:24px}"],changeDetection:0}),Jp=Ke([Qn()],Jp);let Lh=class{constructor(){this.milSecInSec=1e3,this.hInDay=24,this.minInH=60,this.secInMin=60}ngOnInit(){this.timeLeft$=TN(1e3).pipe(gh(0),Ie(()=>this.calcDateDiff()),Ct(this))}calcDateDiff(){const t=new Li(this.startDate).minus(Date.now());if(t.lte(0))return{seconds:0,minutes:0,hours:0};const e=t.div(this.milSecInSec);return{hours:e.div(this.minInH*this.secInMin).mod(this.hInDay).floor().toNumber(),minutes:e.div(this.secInMin).mod(this.minInH).floor().toNumber(),seconds:e.mod(this.secInMin).floor().toNumber()}}};function GDe(n,t){1&n&&Xs(0)}function jDe(n,t){if(1&n&&(at(0),fe(1,"app-challenge-status-badge",5),K(2,GDe,1,0,"ng-container",6),lt()),2&n){const e=ne(2),i=Fi(7);E(1),F("status",e.ChallengeStatusUI.Upcoming),E(1),F("ngTemplateOutlet",i)}}function HDe(n,t){1&n&&Xs(0)}function VDe(n,t){if(1&n&&(at(0),fe(1,"app-challenge-status-badge",5),K(2,HDe,1,0,"ng-container",6),lt()),2&n){const e=ne(2),i=Fi(7);E(1),F("status",e.ChallengeStatusUI.Live),E(1),F("ngTemplateOutlet",i)}}function zDe(n,t){1&n&&Xs(0)}function WDe(n,t){if(1&n&&(at(0),fe(1,"app-challenge-status-badge",5),K(2,zDe,1,0,"ng-container",6),lt()),2&n){const e=ne(2),i=Fi(5);E(1),F("status",e.ChallengeStatusUI.Live),E(1),F("ngTemplateOutlet",i)}}function $De(n,t){if(1&n&&(at(0),fe(1,"app-challenge-status-badge",5)(2,"app-upcoming-timer",7),lt()),2&n){const e=ne(2);E(1),F("status",e.ChallengeStatusUI.Waiting),E(1),F("startDate",e.startDate)}}function YDe(n,t){1&n&&Xs(0)}function XDe(n,t){if(1&n&&(at(0),fe(1,"app-challenge-status-badge",5),K(2,YDe,1,0,"ng-container",6),lt()),2&n){const e=ne(2),i=Fi(7);E(1),F("status",e.ChallengeStatusUI.Paused),E(1),F("ngTemplateOutlet",i)}}function qDe(n,t){1&n&&Xs(0)}function KDe(n,t){if(1&n&&(at(0),fe(1,"app-challenge-status-badge",5),K(2,qDe,1,0,"ng-container",6),lt()),2&n){const e=ne(2),i=Fi(5);E(1),F("status",e.ChallengeStatusUI.Paused),E(1),F("ngTemplateOutlet",i)}}function JDe(n,t){1&n&&Xs(0)}function ZDe(n,t){if(1&n&&(at(0),fe(1,"app-challenge-status-badge",5),K(2,JDe,1,0,"ng-container",6),lt()),2&n){const e=ne(2),i=Fi(5);E(1),F("status",e.challengeStatus===e.ChallengeStatus.Paused?e.ChallengeStatusUI.Paused:e.ChallengeStatusUI.Done),E(1),F("ngTemplateOutlet",i)}}function QDe(n,t){1&n&&Xs(0)}function eNe(n,t){if(1&n&&(at(0),fe(1,"app-challenge-status-badge",5),K(2,QDe,1,0,"ng-container",6),lt()),2&n){const e=ne(2),i=Fi(5);E(1),F("status",e.challengeStatus===e.ChallengeStatus.Paused?e.ChallengeStatusUI.Paused:e.ChallengeStatusUI.Finished),E(1),F("ngTemplateOutlet",i)}}function tNe(n,t){1&n&&Xs(0)}function nNe(n,t){if(1&n&&(at(0),fe(1,"app-challenge-status-badge",5),K(2,tNe,1,0,"ng-container",6),lt()),2&n){const e=ne(2),i=Fi(5);E(1),F("status",e.ChallengeStatusUI.Finished),E(1),F("ngTemplateOutlet",i)}}function iNe(n,t){1&n&&Xs(0)}function rNe(n,t){if(1&n&&(at(0),fe(1,"app-challenge-status-badge",5),K(2,iNe,1,0,"ng-container",6),lt()),2&n){const e=ne(2),i=Fi(7);E(1),F("status",e.ChallengeStatusUI.Finished),E(1),F("ngTemplateOutlet",i)}}function sNe(n,t){if(1&n&&(at(0),K(1,jDe,3,2,"ng-container",1),K(2,VDe,3,2,"ng-container",1),K(3,WDe,3,2,"ng-container",1),K(4,$De,3,2,"ng-container",1),K(5,XDe,3,2,"ng-container",1),K(6,KDe,3,2,"ng-container",1),K(7,ZDe,3,2,"ng-container",1),K(8,eNe,3,2,"ng-container",1),K(9,nNe,3,2,"ng-container",1),K(10,rNe,3,2,"ng-container",1),lt()),2&n){const e=ne();E(1),F("ngIf",e.challengeStatus===e.ChallengeStatus.Announced&&e.playerStatus===e.PlayerStatus.None),E(1),F("ngIf",e.challengeStatus===e.ChallengeStatus.Active&&e.playerStatus===e.PlayerStatus.None),E(1),F("ngIf",e.challengeStatus===e.ChallengeStatus.Active&&e.playerStatus===e.PlayerStatus.Joined),E(1),F("ngIf",e.challengeStatus===e.ChallengeStatus.Announced&&e.playerStatus===e.PlayerStatus.Joined),E(1),F("ngIf",e.challengeStatus===e.ChallengeStatus.Paused&&e.playerStatus===e.PlayerStatus.None),E(1),F("ngIf",e.challengeStatus===e.ChallengeStatus.Paused&&e.playerStatus===e.PlayerStatus.Joined),E(1),F("ngIf",e.playerStatus===e.PlayerStatus.Won),E(1),F("ngIf",e.playerStatus===e.PlayerStatus.Rewarded),E(1),F("ngIf",e.challengeStatus===e.ChallengeStatus.Finished&&e.playerStatus===e.PlayerStatus.Joined),E(1),F("ngIf",e.challengeStatus===e.ChallengeStatus.Finished&&e.playerStatus===e.PlayerStatus.None)}}function oNe(n,t){1&n&&Xs(0)}function aNe(n,t){if(1&n&&(at(0),fe(1,"app-challenge-status-badge",5),K(2,oNe,1,0,"ng-container",6),lt()),2&n){const e=ne(),i=Fi(5);E(1),F("status",e.ChallengeStatusUI.MinBet),E(1),F("ngTemplateOutlet",i)}}function lNe(n,t){if(1&n&&(R(0,"div",8)(1,"span",9),U(2),j(3,"currencyPrecision"),D(),R(4,"span",10),U(5),j(6,"transloco"),D()()),2&n){const e=ne();E(2),Ye(Ut(3,2,e.totalProgress,2)),E(3),Ye(W(6,5,"challenges.Scored"))}}function cNe(n,t){if(1&n&&(R(0,"div",8)(1,"span",9),U(2),D(),R(3,"span",10),U(4),D()()),2&n){const e=ne();E(2),te("",e.ChallengeTypeUI.TOURNAMENT,":"),E(2),Ye(e.challengeName)}}Lh.\u0275fac=function(t){return new(t||Lh)},Lh.\u0275cmp=rt({type:Lh,selectors:[["app-upcoming-timer"]],inputs:{startDate:"startDate"},decls:3,vars:3,consts:[[1,"timer-container"],[4,"ngIf"],[1,"timer-value"]],template:function(t,e){1&t&&(R(0,"div",0),K(1,UDe,6,12,"ng-container",1),j(2,"async"),D()),2&t&&(E(1),F("ngIf",W(2,1,e.timeLeft$)))},directives:[Nt],pipes:[Pr,Xd],styles:[".timer-container[_ngcontent-%COMP%]{display:flex;align-items:center}.timer-container[_ngcontent-%COMP%]   .timer-value[_ngcontent-%COMP%]{opacity:.8;text-align:center;font-size:14px;font-weight:500;font-feature-settings:tabular-nums lining-nums;font-variant-numeric:tabular-nums lining-nums}"],changeDetection:0}),Lh=Ke([Qn()],Lh);let uNe=(()=>{class n{constructor(){this.challengeName="",this.challengeStatus=yr.Announced,this.playerStatus=$i.None,this.hasMinBetError=!1,this.startDate=0,this.totalProgress=0,this.PlayerStatus=$i,this.ChallengeTypeUI=Ui,this.ChallengeStatusUI=Wp,this.ChallengeStatus=yr}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=rt({type:n,selectors:[["app-tournament-progress"]],inputs:{challengeName:"challengeName",challengeStatus:"challengeStatus",playerStatus:"playerStatus",hasMinBetError:"hasMinBetError",startDate:"startDate",totalProgress:"totalProgress"},decls:8,vars:2,consts:[[1,"progress-container","d-flex","align-items-center","justify-content-between"],[4,"ngIf"],[1,"mission-arrow"],["tournamentProgress",""],["tournamentName",""],[3,"status"],[4,"ngTemplateOutlet"],[3,"startDate"],[1,"mission"],[1,"description-start"],[1,"description-end"]],template:function(e,i){1&e&&(R(0,"div",0),K(1,sNe,11,10,"ng-container",1),K(2,aNe,3,2,"ng-container",1),fe(3,"div",2),K(4,lNe,7,7,"ng-template",null,3,No),K(6,cNe,5,2,"ng-template",null,4,No),D()),2&e&&(E(1),F("ngIf",!i.hasMinBetError),E(1),F("ngIf",i.hasMinBetError))},directives:[Nt,EN,Yd,Lh],pipes:[Xn,Gt],styles:['[_nghost-%COMP%]{display:block}.progress-container[_ngcontent-%COMP%]{background:linear-gradient(91deg,#2e2437 0%,#272728 57%,#2d4330 100%);border-radius:64px;padding:4px;position:relative;font-size:12px;font-weight:500;overflow:hidden}.progress-container[_ngcontent-%COMP%]:hover{cursor:pointer}.progress-container[_ngcontent-%COMP%]   .mission[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-feature-settings:lining-nums tabular-nums;font-variant-numeric:lining-nums tabular-nums;font-size:14px;opacity:.8}.progress-container[_ngcontent-%COMP%]   .mission[_ngcontent-%COMP%]   .description-start[_ngcontent-%COMP%]{padding-left:8px;margin-right:4px;color:#fff;font-weight:600;letter-spacing:-.35px}.progress-container[_ngcontent-%COMP%]   .mission[_ngcontent-%COMP%]   .description-end[_ngcontent-%COMP%]{padding-right:8px;color:#a3a3a3;font-weight:500;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1;overflow:hidden;text-overflow:ellipsis;word-break:break-all}.progress-container[_ngcontent-%COMP%]   .mission-arrow[_ngcontent-%COMP%]{position:relative;background-color:#fec223;min-width:32px;height:32px;border-radius:50%;box-shadow:4px 4px 25px #f6bc2080}.progress-container[_ngcontent-%COMP%]   .mission-arrow[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:24px;height:24px;background:url(icon-arrow-right.2c74ba745c045ebf.svg) no-repeat center center/contain}'],changeDetection:0}),n})(),dNe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=rt({type:n,selectors:[["app-progress-bar"]],inputs:{isError:"isError",isLive:"isLive",isSuccess:"isSuccess",currentProgress:"currentProgress"},decls:2,vars:8,consts:[[1,"bar-holder"],[1,"bar-fill"]],template:function(e,i){1&e&&(R(0,"div",0),fe(1,"div",1),D()),2&e&&(E(1),pc("width",i.currentProgress+"%"),wt("error",i.isError)("success",i.isSuccess)("live",i.isLive&&!i.isSuccess))},styles:["[_nghost-%COMP%]{width:100%}.bar-holder[_ngcontent-%COMP%]{background-color:#ffffff0d;border-radius:10px;height:8px;overflow:hidden}.bar-holder[_ngcontent-%COMP%]   .bar-fill[_ngcontent-%COMP%]{height:8px;background:rgba(255,255,255,.1);transition:width linear .6s}.bar-holder[_ngcontent-%COMP%]   .bar-fill.success[_ngcontent-%COMP%]{background:linear-gradient(90deg,rgba(121,226,121,.6) 0%,#79e279 100%)}.bar-holder[_ngcontent-%COMP%]   .bar-fill.live[_ngcontent-%COMP%]{background:linear-gradient(90deg,rgba(255,222,92,.6) 0%,#ffde5c 100%)}.bar-holder[_ngcontent-%COMP%]   .bar-fill.error[_ngcontent-%COMP%]{background:linear-gradient(90deg,rgba(242,84,84,.6) 0%,#f35656 100%)}"],changeDetection:0}),n})(),hNe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=rt({type:n,selectors:[["app-progress-counter"]],inputs:{currentProgress:"currentProgress"},decls:3,vars:1,consts:[[1,"progress-count","d-flex","align-items-center"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"span"),U(2),D()()),2&e&&(E(2),te("",i.currentProgress.toFixed(2),"%"))},styles:["[_nghost-%COMP%]   .progress-count[_ngcontent-%COMP%]{font-size:14px;font-weight:600;line-height:normal;letter-spacing:-.35px;color:#e0e0e0;opacity:.8}"],changeDetection:0}),n})(),fNe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=rt({type:n,selectors:[["app-progress-indicator"]],inputs:{isError:"isError",isLive:"isLive",isSuccess:"isSuccess",currentProgress:"currentProgress"},decls:3,vars:5,consts:[[1,"progress-indicator","d-flex","align-items-center","justify-content-between"],[3,"currentProgress","isSuccess","isError","isLive"],[3,"currentProgress"]],template:function(e,i){1&e&&(R(0,"div",0),fe(1,"app-progress-bar",1)(2,"app-progress-counter",2),D()),2&e&&(E(1),F("currentProgress",i.currentProgress)("isSuccess",i.isSuccess)("isError",i.isError)("isLive",i.isLive),E(1),F("currentProgress",i.currentProgress))},directives:[dNe,hNe],styles:["[_nghost-%COMP%]{flex-grow:1}.progress-indicator[_ngcontent-%COMP%]{padding:7px 21px 7px 16px;gap:13px;position:relative}"],changeDetection:0}),n})();function pNe(n,t){1&n&&Xs(0)}function gNe(n,t){if(1&n&&(at(0),fe(1,"app-challenge-status-badge",4),K(2,pNe,1,0,"ng-container",5),lt()),2&n){const e=ne(2),i=Fi(5);E(1),F("status",e.ChallengeStatusUI.Upcoming),E(1),F("ngTemplateOutlet",i)}}function _Ne(n,t){1&n&&Xs(0)}function mNe(n,t){if(1&n&&(at(0),fe(1,"app-challenge-status-badge",4),K(2,_Ne,1,0,"ng-container",5),lt()),2&n){const e=ne(2),i=Fi(5);E(1),F("status",e.ChallengeStatusUI.Live),E(1),F("ngTemplateOutlet",i)}}function vNe(n,t){if(1&n&&(at(0),fe(1,"app-challenge-status-badge",4)(2,"app-progress-indicator",6),lt()),2&n){const e=ne(2);E(1),F("status",e.ChallengeStatusUI.Live),E(1),F("currentProgress",e.totalProgress)("isSuccess",!1)("isError",!1)("isLive",!0)}}function yNe(n,t){if(1&n&&(at(0),fe(1,"app-challenge-status-badge",4)(2,"app-upcoming-timer",7),lt()),2&n){const e=ne(2);E(1),F("status",e.ChallengeStatusUI.Waiting),E(1),F("startDate",e.startDate)}}function bNe(n,t){1&n&&Xs(0)}function SNe(n,t){if(1&n&&(at(0),fe(1,"app-challenge-status-badge",4),K(2,bNe,1,0,"ng-container",5),lt()),2&n){const e=ne(2),i=Fi(5);E(1),F("status",e.ChallengeStatusUI.Paused),E(1),F("ngTemplateOutlet",i)}}function CNe(n,t){if(1&n&&(at(0),fe(1,"app-challenge-status-badge",4)(2,"app-progress-indicator",6),lt()),2&n){const e=ne(2);E(1),F("status",e.ChallengeStatusUI.Paused),E(1),F("currentProgress",e.totalProgress)("isSuccess",!1)("isError",!1)("isLive",!1)}}function ENe(n,t){if(1&n&&(at(0),fe(1,"app-challenge-status-badge",4)(2,"app-progress-indicator",6),lt()),2&n){const e=ne(2);E(1),F("status",e.challengeStatus===e.ChallengeStatus.Paused?e.ChallengeStatusUI.Paused:e.ChallengeStatusUI.Done),E(1),F("currentProgress",e.totalProgress)("isSuccess",e.challengeStatus!==e.ChallengeStatus.Paused)("isError",!1)("isLive",!1)}}function TNe(n,t){if(1&n&&(at(0),fe(1,"app-challenge-status-badge",4)(2,"app-progress-indicator",6),lt()),2&n){const e=ne(2);E(1),F("status",e.challengeStatus===e.ChallengeStatus.Paused?e.ChallengeStatusUI.Paused:e.ChallengeStatusUI.Finished),E(1),F("currentProgress",e.totalProgress)("isSuccess",e.challengeStatus!==e.ChallengeStatus.Paused)("isError",!1)("isLive",!1)}}function wNe(n,t){if(1&n&&(at(0),fe(1,"app-challenge-status-badge",4)(2,"app-progress-indicator",6),lt()),2&n){const e=ne(2);E(1),F("status",e.ChallengeStatusUI.Finished),E(1),F("currentProgress",e.totalProgress)("isSuccess",!1)("isError",!1)("isLive",!1)}}function MNe(n,t){1&n&&Xs(0)}function ONe(n,t){if(1&n&&(at(0),fe(1,"app-challenge-status-badge",4),K(2,MNe,1,0,"ng-container",5),lt()),2&n){const e=ne(2),i=Fi(5);E(1),F("status",e.ChallengeStatusUI.Finished),E(1),F("ngTemplateOutlet",i)}}function PNe(n,t){if(1&n&&(at(0),K(1,gNe,3,2,"ng-container",1),K(2,mNe,3,2,"ng-container",1),K(3,vNe,3,5,"ng-container",1),K(4,yNe,3,2,"ng-container",1),K(5,SNe,3,2,"ng-container",1),K(6,CNe,3,5,"ng-container",1),K(7,ENe,3,5,"ng-container",1),K(8,TNe,3,5,"ng-container",1),K(9,wNe,3,5,"ng-container",1),K(10,ONe,3,2,"ng-container",1),lt()),2&n){const e=ne();E(1),F("ngIf",e.challengeStatus===e.ChallengeStatus.Announced&&e.playerStatus===e.PlayerStatus.None),E(1),F("ngIf",e.challengeStatus===e.ChallengeStatus.Active&&e.playerStatus===e.PlayerStatus.None),E(1),F("ngIf",e.challengeStatus===e.ChallengeStatus.Active&&e.playerStatus===e.PlayerStatus.Joined),E(1),F("ngIf",e.challengeStatus===e.ChallengeStatus.Announced&&e.playerStatus===e.PlayerStatus.Joined),E(1),F("ngIf",e.challengeStatus===e.ChallengeStatus.Paused&&e.playerStatus===e.PlayerStatus.None),E(1),F("ngIf",e.challengeStatus===e.ChallengeStatus.Paused&&e.playerStatus===e.PlayerStatus.Joined),E(1),F("ngIf",e.playerStatus===e.PlayerStatus.Won),E(1),F("ngIf",e.playerStatus===e.PlayerStatus.Rewarded),E(1),F("ngIf",e.challengeStatus===e.ChallengeStatus.Finished&&e.playerStatus===e.PlayerStatus.Joined),E(1),F("ngIf",e.challengeStatus===e.ChallengeStatus.Finished&&e.playerStatus===e.PlayerStatus.None)}}function xNe(n,t){if(1&n&&(at(0),fe(1,"app-challenge-status-badge",4)(2,"app-progress-indicator",6),lt()),2&n){const e=ne();E(1),F("status",e.ChallengeStatusUI.MinBet),E(1),F("currentProgress",e.totalProgress)("isSuccess",!1)("isError",!0)("isLive",!1)}}function INe(n,t){if(1&n&&(R(0,"div",8)(1,"span",9),U(2),D(),R(3,"span",10),U(4),D()()),2&n){const e=ne();E(2),te("",e.challengeType,":"),E(2),Ye(e.challengeName)}}let ANe=(()=>{class n{constructor(){this.challengeStatus=yr.Announced,this.challengeType=Ui.RACE,this.playerStatus=$i.None,this.challengeName="",this.hasMinBetError=!1,this.startDate=0,this.totalProgress=0,this.PlayerStatus=$i,this.ChallengeTypeUI=Ui,this.ChallengeStatusUI=Wp,this.ChallengeStatus=yr}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=rt({type:n,selectors:[["app-challenge-progress"]],inputs:{challengeStatus:"challengeStatus",challengeType:"challengeType",playerStatus:"playerStatus",challengeName:"challengeName",hasMinBetError:"hasMinBetError",startDate:"startDate",totalProgress:"totalProgress"},decls:6,vars:2,consts:[[1,"progress-container","d-flex","align-items-center","justify-content-between"],[4,"ngIf"],[1,"mission-arrow"],["missionName",""],[3,"status"],[4,"ngTemplateOutlet"],[3,"currentProgress","isSuccess","isError","isLive"],[3,"startDate"],[1,"mission"],[1,"description-start"],[1,"description-end"]],template:function(e,i){1&e&&(R(0,"div",0),K(1,PNe,11,10,"ng-container",1),K(2,xNe,3,5,"ng-container",1),fe(3,"div",2),K(4,INe,5,2,"ng-template",null,3,No),D()),2&e&&(E(1),F("ngIf",!i.hasMinBetError),E(1),F("ngIf",i.hasMinBetError))},directives:[Nt,EN,Yd,fNe,Lh],styles:['[_nghost-%COMP%]{display:block}.progress-container[_ngcontent-%COMP%]{background:linear-gradient(91deg,#2e2437 0%,#272728 57%,#2d4330 100%);border-radius:64px;padding:4px;position:relative;font-size:12px;font-weight:500;overflow:hidden}.progress-container[_ngcontent-%COMP%]:hover{cursor:pointer}.progress-container[_ngcontent-%COMP%]   .mission[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-feature-settings:lining-nums tabular-nums;font-variant-numeric:lining-nums tabular-nums;font-size:14px;opacity:.8}.progress-container[_ngcontent-%COMP%]   .mission[_ngcontent-%COMP%]   .description-start[_ngcontent-%COMP%]{padding-left:8px;margin-right:4px;color:#fff;font-weight:600;letter-spacing:-.35px}.progress-container[_ngcontent-%COMP%]   .mission[_ngcontent-%COMP%]   .description-end[_ngcontent-%COMP%]{padding-right:8px;color:#a3a3a3;font-weight:500;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1;overflow:hidden;text-overflow:ellipsis;word-break:break-all}.progress-container[_ngcontent-%COMP%]   .mission-arrow[_ngcontent-%COMP%]{position:relative;background-color:#fec223;min-width:32px;height:32px;border-radius:50%;box-shadow:4px 4px 25px #f6bc2080}.progress-container[_ngcontent-%COMP%]   .mission-arrow[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:24px;height:24px;background:url(icon-arrow-right.2c74ba745c045ebf.svg) no-repeat center center/contain}'],changeDetection:0}),n})();function RNe(n,t){if(1&n&&fe(0,"app-tournament-progress",3),2&n){const e=ne().ngIf,i=ne();F("hasMinBetError",e.hasMinBetError)("challengeStatus",e.statusUpdate.challenge)("playerStatus",e.statusUpdate.player)("totalProgress",e.taskUpdate.totalProgress)("challengeName",i.challenge.config.name)("startDate",i.challenge.config.startDate)}}function DNe(n,t){if(1&n&&fe(0,"app-challenge-progress",4),2&n){const e=ne().ngIf,i=ne();F("challengeType",i.challengeConfig.typeUi)("hasMinBetError",e.hasMinBetError)("challengeStatus",e.statusUpdate.challenge)("playerStatus",e.statusUpdate.player)("totalProgress",e.taskUpdate.totalProgress)("challengeName",i.challenge.config.name)("startDate",i.challenge.config.startDate)}}function NNe(n,t){if(1&n&&(at(0),K(1,RNe,1,6,"app-tournament-progress",1),K(2,DNe,1,7,"app-challenge-progress",2),lt()),2&n){const e=ne();E(1),F("ngIf",e.challengeConfig.typeUi===e.challengeTypeUI.TOURNAMENT),E(1),F("ngIf",e.challengeConfig.typeUi!==e.challengeTypeUI.TOURNAMENT)}}let kNe=(()=>{class n{constructor(e,i,r,s,o){this.prize=e,this.task=i,this.minBetError=r,this.status=s,this.challenge=o,this.challengeTypeUI=Ui,this.data$=ud([this.task.update$,this.minBetError.update$,this.status.update$]).pipe(Ie(([a,l,c])=>({taskUpdate:a,hasMinBetError:l,statusUpdate:c})))}get challengeConfig(){return this.challenge.config}}return n.\u0275fac=function(e){return new(e||n)(z(cv),z(lv),z(Ib),z(zp),z(bo))},n.\u0275cmp=rt({type:n,selectors:[["app-mission-progress"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"hasMinBetError","challengeStatus","playerStatus","totalProgress","challengeName","startDate",4,"ngIf"],[3,"challengeType","hasMinBetError","challengeStatus","playerStatus","totalProgress","challengeName","startDate",4,"ngIf"],[3,"hasMinBetError","challengeStatus","playerStatus","totalProgress","challengeName","startDate"],[3,"challengeType","hasMinBetError","challengeStatus","playerStatus","totalProgress","challengeName","startDate"]],template:function(e,i){1&e&&(K(0,NNe,3,2,"ng-container",0),j(1,"async")),2&e&&F("ngIf",W(1,1,i.data$))},directives:[Nt,uNe,ANe],pipes:[Pr],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0}),n})();const FNe=["missionsContainerBorder"];let LNe=(()=>{class n{constructor(e,i,r){this.window=e,this.modalService=i,this.challenge=r,this.borderAnimation=io.timeline({repeat:-1,repeatDelay:2})}ngOnInit(){this.window.manualEmitResizeEvent()}ngAfterViewInit(){this.startBorderAnimation()}showMissionDetails(){this.modalService.open(this.challenge.config.typeUi===Ui.TOURNAMENT?Jp:Kp)}startBorderAnimation(){io.set(this.border.nativeElement,{x:"-50%",y:"-50%"}),this.borderAnimation.to(this.border.nativeElement,{opacity:1,duration:2}).to(this.border.nativeElement,{rotation:360,duration:4,ease:"power2.inOut"}).to(this.border.nativeElement,{opacity:0,duration:2})}ngOnDestroy(){this.borderAnimation.kill()}}return n.\u0275fac=function(e){return new(e||n)(z(Hy),z(kh),z(bo))},n.\u0275cmp=rt({type:n,selectors:[["app-mission"]],viewQuery:function(e,i){if(1&e&&Lr(FNe,5),2&e){let r;kn(r=Fn())&&(i.border=r.first)}},decls:5,vars:0,consts:[[1,"d-flex","align-items-center"],[1,"missions-container"],[1,"missions-container-border"],["missionsContainerBorder",""],[3,"click"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1),fe(2,"div",2,3),R(4,"app-mission-progress",4),Te("click",function(){return i.showMissionDetails()}),D()()())},directives:[kNe],styles:["[_nghost-%COMP%]{display:block}.missions-container[_ngcontent-%COMP%]{position:relative;flex-grow:1;max-width:100%;border-radius:64px;padding:2px;overflow:hidden;isolation:isolate}.missions-container-border[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;min-width:105%;min-height:105%;padding-bottom:105%;transform-origin:center;background:linear-gradient(89.17deg,#da612d 2.96%,#de224e 25.65%,#8535b3 51.19%,#6847f0 76.53%,#34b4ff 97.53%);opacity:0}"],changeDetection:0}),n})();function BNe(n,t){1&n&&fe(0,"app-mission")}let Zp=class{constructor(t,e,i,r,s,o,a,l){this.app=t,this.stomp=e,this.urlParams=i,this.cd=r,this.challengeService=s,this.chatFeatureService=o,this.userService=a,this.ifc=l,this.connectorState=Ra,this.isChallengeInited=!1}ngOnInit(){this.stomp.response(Pi.Init).pipe(Ct(this)).subscribe(e=>{var i;this.isChallengeInited=!1,e.isChallengesEnabled&&this.stomp.request(yo.ChallengeInit,null),(null===(i=this.app.config.engagementTools)||void 0===i?void 0:i.isExternalChatEnabled)&&e.isChatEnabled&&(this.chatFeatureService.enableChat(),this.stomp.request(yo.ChatInit,null)),!e.isChallengesEnabled&&!e.isChatEnabled&&this.stomp.stompClient.deactivate(),this.cd.detectChanges()}),this.stomp.response(Pi.ChallengesInit).pipe(Bt(e=>200===e.code),Ct(this)).subscribe(e=>{this.isChallengeInited=e.challenges.length>0,this.cd.detectChanges()}),this.stomp.response(Pi.ChallengesAnnounce).pipe(Ct(this)).subscribe(e=>{this.isChallengeInited=!!e,this.cd.detectChanges()}),this.stomp.response(Pi.BalanceUpdate).pipe(Ct(this)).subscribe(e=>{this.userService.balance=e.balance,this.ifc.send(hi.UpdateBalance,{amount:this.userService.balance})});const t={currency:this.urlParams.currency,userId:this.urlParams.user,token:this.urlParams.token,operator:this.urlParams.operator,sessionToken:this.app.sessionToken,deviceType:this.app.deviceInfo.deviceType,gameIdentifier:this.gameIdentifier,gameZone:this.app.clientConfig.ws.zone};this.urlParams.jurisdiction&&(t.jurisdiction=this.urlParams.jurisdiction),this.stomp.init(this.engagementTools.host+"/api/v1/public/et-player-stomp",t,Object.values(Pi))}};Zp.\u0275fac=function(t){return new(t||Zp)(z(ln),z(Da),z(kl),z(Sn),z(bo),z(il),z(Ll),z(Fo))},Zp.\u0275cmp=rt({type:Zp,selectors:[["app-engagement-tool"]],inputs:{engagementTools:"engagementTools",gameIdentifier:"gameIdentifier"},decls:2,vars:3,consts:[[4,"ngIf"]],template:function(t,e){1&t&&(K(0,BNe,1,0,"app-mission",0),j(1,"async")),2&t&&F("ngIf",W(1,1,e.challengeService.updateState$).isChallengeAvailable&&e.isChallengeInited)},directives:[Nt,LNe],pipes:[Pr],encapsulation:2,changeDetection:0}),Zp=Ke([Qn()],Zp);class MN{}const Md="*";function ON(n,t){return{type:7,name:n,definitions:t,options:{}}}function uv(n,t=null){return{type:4,styles:t,timings:n}}function VY(n,t=null){return{type:2,steps:n,options:t}}function Hc(n){return{type:6,styles:n,offset:null}}function jNe(n,t,e){return{type:0,name:n,styles:t,options:e}}function Rb(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function zY(n){Promise.resolve(null).then(n)}class Db{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){zY(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class WY{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const s=this.players.length;0==s?zY(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++e==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function zNe(n,t){if(1&n){const e=ft();R(0,"div",5)(1,"div",6)(2,"app-bubble-multiplier",7),Te("click",function(){const s=ot(e).$implicit;return ne().mainService.checkFairness(s.roundId)}),D()()()}if(2&n){const e=t.$implicit;E(2),F("multiplier",e.maxMultiplier)}}let WNe=(()=>{class n{constructor(e){this.mainService=e}}return n.\u0275fac=function(e){return new(e||n)(z(Zi))},n.\u0275cmp=rt({type:n,selectors:[["app-stats-dropdown"]],inputs:{history:"history"},decls:7,vars:4,consts:[[1,"wrapper"],[1,"header"],[1,"text","text-uppercase"],[1,"payouts-block"],["class","payouts",4,"ngFor","ngForOf"],[1,"payouts"],[1,"payout"],["ngbDropdownItem","",1,"bubble-multiplier",3,"multiplier","click"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1)(2,"div",2),U(3),j(4,"transloco"),D()(),R(5,"div",3),K(6,zNe,3,1,"div",4),D()()),2&e&&(E(3),te(" ",W(4,2,"shared.round_history")," "),E(3),F("ngForOf",i.history))},directives:[oi,Dc,OT],pipes:[Gt],styles:[".wrapper[_ngcontent-%COMP%]{border-radius:16px;box-shadow:0 2px 20px #00000080;background-color:#1f2128;margin:0 5px;width:100%}.wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{height:32px;display:flex;justify-content:flex-start;align-items:center;font-size:14px}.wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin-left:10px}.wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]{background-color:#262830;display:flex;flex-wrap:wrap;padding:5px;border-radius:0 0 16px 16px;font-size:12px}.wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payouts[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]{margin:3px;cursor:pointer}.wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payouts[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]   .bubble-multiplier[_ngcontent-%COMP%]{padding:0;color:inherit;background-color:inherit}"],changeDetection:0}),n})();const $Ne=["payoutsBlock"];function YNe(n,t){if(1&n){const e=ft();at(0),R(1,"app-bubble-multiplier",12),Te("click",function(){const s=ot(e).$implicit;return ne().mainService.checkFairness(s.roundId)}),D(),lt()}if(2&n){const e=t.$implicit;E(1),F("multiplier",e.maxMultiplier)}}let Qp=class{constructor(t,e,i,r,s,o){this.statsService=t,this.mainService=e,this.connector=i,this.builder=r,this.cd=s,this.ifcGameService=o,this.history=[]}ngOnInit(){this.history=this.statsService.history,this.connector.response(mn.RoundChartInfo,200).pipe(Ct(this)).subscribe(t=>{this.history=[t,...this.history.slice(0,59)],this.animate()}),this.ifcGameService.receive$(pr.AviaPortToggleGameMenu).pipe(Ct(this)).subscribe(()=>{this.dropdown.close()})}animate(){var t,e;null===(t=this.playerPayout)||void 0===t||t.destroy(),null===(e=this.playerContainer)||void 0===e||e.destroy(),this.cd.detectChanges();const i=this.payoutsBlock.nativeElement.firstElementChild.clientWidth,r=this.builder.build([Hc({transform:"scale(2)"}),uv("1s ease-in-out",Hc({transform:"scale(1)"}))]),s=this.builder.build([Hc({transform:`translateX(-${i}px)`}),uv("1s ease-in-out",Hc({transform:"translate(0)"}))]);this.playerPayout=r.create(this.payoutsBlock.nativeElement.firstElementChild),this.playerContainer=s.create(this.payoutsBlock.nativeElement),this.playerPayout.play(),this.playerContainer.play()}ngOnDestroy(){var t,e;null===(t=this.playerPayout)||void 0===t||t.destroy(),null===(e=this.playerContainer)||void 0===e||e.destroy()}};function XNe(n,t){if(1&n&&(R(0,"div",14)(1,"div",6),U(2),j(3,"transloco"),D(),R(4,"div",7)(5,"div",15),U(6),D(),R(7,"div",16)(8,"div"),U(9," ("),R(10,"span"),U(11),j(12,"currencyPrecision"),D(),R(13,"span",17),U(14),D(),U(15,") "),D()()()()),2&n){const e=ne(2);E(2),te(" ",W(3,4,"shared.ui-components.free-bet.Free bets available:")," "),E(4),te(" ",e.freeBets.activeFreeBet.freeBetsLeft," "),E(5),Ye(W(12,6,e.freeBets.activeFreeBet.freeBetsBetAmount)),E(3),Ye(e.app.config.currency)}}function qNe(n,t){if(1&n){const e=ft();R(0,"div",18)(1,"div",19),U(2),j(3,"transloco"),D(),R(4,"div",20),Te("click",function(){return ot(e),ne(2).onFinishFreeBets()}),U(5),j(6,"transloco"),D()()}if(2&n){const e=ne(2);E(2),te(" ",W(3,4,"shared.ui-components.free-bet.All free bets spent!")," "),E(2),wt("disabled",e.uiDisabled),E(1),te(" ",W(6,6,"shared.claim")," ")}}function KNe(n,t){if(1&n&&(at(0),R(1,"span",6),U(2),j(3,"transloco"),D(),R(4,"span",21),U(5),j(6,"multiplierPrecision"),D(),lt()),2&n){const e=ne(2);E(2),te(" ",W(3,2,"shared.ui-components.free-bet.Minimum cashout multiplier:")," "),E(3),te(" ",W(6,4,e.freeBets.activeFreeBet.freeBetsMinCashOut)," X ")}}function JNe(n,t){if(1&n){const e=ft();R(0,"div",1)(1,"div",2),K(2,XNe,16,8,"div",3),K(3,qNe,7,8,"div",4),R(4,"div",5)(5,"div",6)(6,"span"),U(7),j(8,"transloco"),D(),R(9,"span"),U(10),D()(),R(11,"div",7)(12,"span"),U(13),j(14,"currencyPrecision"),D()()()(),R(15,"div",8)(16,"div",9)(17,"div",10),K(18,KNe,7,6,"ng-container",11),D(),R(19,"div",12),Te("click",function(){return ot(e),ne().onManagementClick()}),j(20,"async"),R(21,"span"),U(22),j(23,"transloco"),D(),fe(24,"div",13),D()()()()}if(2&n){const e=ne();E(2),F("ngIf",!e.isSpent),E(1),F("ngIf",e.isSpent),E(4),Ye(W(8,9,"shared.win")),E(3),te(" ",e.app.config.currency,""),E(3),te(" ",W(14,11,e.freeBets.activeFreeBet.freeBetsWinSum)," "),E(5),F("ngIf",e.isShowMinCashOut),E(1),wt("disabled",W(20,13,e.betControl.betSetted$)||e.uiDisabled),E(3),Ye(W(23,15,"shared.ui-components.free-bet.Manage"))}}Qp.\u0275fac=function(t){return new(t||Qp)(z(S9),z(Zi),z(Bi),z(MN),z(Sn),z(Fo))},Qp.\u0275cmp=rt({type:Qp,selectors:[["app-stats-widget"]],viewQuery:function(t,e){if(1&t&&(Lr($Ne,7),Lr(bh,5)),2&t){let i;kn(i=Fn())&&(e.payoutsBlock=i.first),kn(i=Fn())&&(e.dropdown=i.first)}},decls:12,vars:2,consts:[["ngbDropdown","","placement","bottom-right",1,"stats"],[1,"payouts-wrapper"],[1,"payouts-block"],["payoutsBlock",""],[4,"ngFor","ngForOf"],[1,"shadow"],[1,"button-block"],["ngbDropdownToggle","",1,"button"],[1,"trigger"],[1,"history-icon"],[1,"dd-icon"],["ngbDropdownMenu","",3,"history"],[1,"payout",3,"multiplier","click"]],template:function(t,e){1&t&&(R(0,"div",0)(1,"div",1)(2,"div",2,3),K(4,YNe,2,1,"ng-container",4),D()(),fe(5,"div",5),R(6,"div",6)(7,"div",7)(8,"div",8),fe(9,"div",9)(10,"div",10),D()()(),fe(11,"app-stats-dropdown",11),D()),2&t&&(E(4),F("ngForOf",e.history),E(7),F("history",e.history))},directives:[bh,oi,Dc,yD,WNe,PT],styles:["[_nghost-%COMP%]{width:100%;height:inherit}.stats[_ngcontent-%COMP%]{height:22px;width:100%;display:flex;align-items:center;position:relative;padding:0 5px;font-size:12px}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%;width:100%;overflow:hidden}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]{display:flex}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block.hide[_ngcontent-%COMP%]{display:none}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]{display:flex;margin-right:4px;margin-left:1px;position:relative;z-index:1;cursor:pointer;opacity:.5}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]:nth-child(1){opacity:1;z-index:2}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]:nth-child(2){opacity:.9}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]:nth-child(3){opacity:.85}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]:nth-child(4){opacity:.8}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]:nth-child(5){opacity:.75}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]:nth-child(6){opacity:.7}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]:nth-child(7){opacity:.65}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]:nth-child(8){opacity:.6}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]:nth-child(9){opacity:.55}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]:nth-child(10){opacity:.5}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]:hover{opacity:1}.stats[_ngcontent-%COMP%]   .shadow[_ngcontent-%COMP%]{position:absolute;right:56px;width:13px;height:22px;background-image:linear-gradient(to left,#0d0d0d,rgba(0,0,0,0));z-index:3}.stats[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]{height:100%;width:52px}.stats[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{margin-left:6px;position:relative;z-index:9;display:flex;align-items:center;justify-content:center;width:46px;height:22px;border-radius:13px;border:solid 1px #414148;background:#252528;cursor:pointer}.stats[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button.dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.stats[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover   .trigger[_ngcontent-%COMP%]   .history-icon[_ngcontent-%COMP%]{background:url(history-h.d34b772939d33f4a.svg) no-repeat center center/contain}.stats[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover   .trigger[_ngcontent-%COMP%]   .dd-icon[_ngcontent-%COMP%]{background:url(dd-h.b73ce3c52613cfd8.svg) no-repeat center center/contain}.stats[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   .trigger[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.stats[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   .trigger[_ngcontent-%COMP%]   .history-icon[_ngcontent-%COMP%]{width:14px;height:13px;background:url(history.f7bb16bd19899b41.svg) no-repeat center center/contain;margin-right:5px}.stats[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   .trigger[_ngcontent-%COMP%]   .dd-icon[_ngcontent-%COMP%]{width:10px;height:10px;transition:transform .5s;background:url(dd.08ed122e8624a251.svg) no-repeat center center/contain}.stats.show[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{z-index:1001}.stats.show[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   .trigger[_ngcontent-%COMP%]   .history-icon[_ngcontent-%COMP%]{background:url(history-h.d34b772939d33f4a.svg) no-repeat center center/contain}.stats.show[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   .trigger[_ngcontent-%COMP%]   .dd-icon[_ngcontent-%COMP%]{background:url(dd-h.b73ce3c52613cfd8.svg) no-repeat center center/contain;transform:rotate(180deg)}.dropdown-menu.show[_ngcontent-%COMP%]{background-color:transparent;background-color:initial;color:inherit;border:unset;margin:-26px 0 0;padding:0}"],changeDetection:0}),Qp=Ke([Qn()],Qp);let eg=class{constructor(t,e,i,r,s,o,a){this.app=t,this.mainService=e,this.freeBets=i,this.betControl=r,this.connector=s,this.cd=o,this.sound=a,this.uiDisabled=!1,this.connector.response(mn.FreeBetFinish).pipe(Bt(l=>200!==l.code),Ct(this)).subscribe(()=>{this.uiDisabled=!1,this.cd.markForCheck()}),this.freeBets.onActivate$.pipe(Ct(this)).subscribe(()=>{this.uiDisabled=!1,this.cd.markForCheck()}),this.freeBets.onUpdate$.pipe(Ct(this)).subscribe(()=>{this.cd.markForCheck()})}get isSpent(){var t;return 0===(null===(t=this.freeBets.activeFreeBet)||void 0===t?void 0:t.freeBetsLeft)}onManagementClick(){!1===this.betControl.isBetSetted&&this.freeBets.onManage()}onFinishFreeBets(){this.sound.play(mo.FreeBet),this.uiDisabled=!0,this.freeBets.onClaim()}get isShowMinCashOut(){const t=this.freeBets.activeFreeBet;return!!t&&t.freeBetsMinCashOut>1.01}};eg.\u0275fac=function(t){return new(t||eg)(z(ln),z(Zi),z(bu),z(Su),z(Bi),z(Sn),z(fh))},eg.\u0275cmp=rt({type:eg,selectors:[["app-free-bet"]],decls:1,vars:1,consts:[["class","free-bet-wrapper",4,"ngIf"],[1,"free-bet-wrapper"],[1,"free-bet"],["class","bets",4,"ngIf"],["class","bets bets-spent",4,"ngIf"],[1,"win"],[1,"label"],[1,"value"],[1,"min-cashout"],[1,"content"],[1,"info"],[4,"ngIf"],[1,"manage",3,"click"],[1,"manage-i"],[1,"bets"],[1,"amount"],[1,"bet"],[1,"currency"],[1,"bets","bets-spent"],[1,"label","font-weight-bold"],[1,"btn","btn-success","btn-continue","text-uppercase",3,"click"],[1,"value","font-weight-bold"]],template:function(t,e){1&t&&K(0,JNe,25,17,"div",0),2&t&&F("ngIf",e.freeBets.activeFreeBet)},directives:[Nt],pipes:[Gt,Xn,uu,Pr],styles:[".free-bet-wrapper[_ngcontent-%COMP%]{position:absolute;z-index:10;top:-20px;left:50%;width:100%;max-width:350px;transform:translate(-50%)}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]{z-index:1;position:relative;display:flex;align-items:center;justify-content:space-between;background-image:linear-gradient(80deg,#e50539,#df0000);height:62px;width:100%;border-radius:26px;padding:0 5px}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets[_ngcontent-%COMP%]{font-weight:700;display:flex;width:calc(100% - 140px);justify-content:space-between}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{min-width:70px;max-width:150px;font-size:14px;line-height:14px;text-align:center;display:flex;align-items:center;word-break:break-word}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:24px;line-height:24px;display:flex;justify-content:center;align-items:center;margin:0 5px 0 10px;flex-direction:column}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{font-size:12px;line-height:12px;display:flex;align-items:center;white-space:nowrap}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]   .currency[_ngcontent-%COMP%]{font-size:10px;margin-left:4px}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets-spent[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets-spent[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{width:unset;margin-bottom:3px}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets-spent[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:14px;line-height:15px;cursor:pointer;border-radius:10px;min-width:120px;height:20px;text-shadow:0 1px 2px rgba(0,0,0,.5);border:0;box-shadow:0 10px 15px -10px #28a909,inset 0 1px 1px #ffffff80;display:flex;flex-direction:column;justify-content:center;align-items:center}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets-spent[_ngcontent-%COMP%]   .btn-continue[_ngcontent-%COMP%]{color:#fff}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets-spent[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:not(.disabled):active{transform:translateY(2px)}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets-spent[_ngcontent-%COMP%]   .btn.disabled[_ngcontent-%COMP%]{pointer-events:none}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]{font-weight:700;height:46px;border-radius:22.5px;display:flex;align-items:center;overflow:hidden;width:140px;justify-content:center;background-size:cover;background:url(free-bet-win-bg.99e164c2610ba4ce.svg) no-repeat;flex-direction:column}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:13px;line-height:13px}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{min-width:60px;display:flex;justify-content:center;align-items:center;height:16px;font-size:16px;line-height:16px;font-weight:700}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]{position:absolute;bottom:0;transform:translateY(40%);width:100%;display:flex;justify-content:center;align-items:flex-end;background-color:#3e4149;height:76px;border-radius:16px;left:0;padding-bottom:6px;font-size:14px;line-height:14px}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{height:20px;width:100%;display:flex;align-items:center;padding:2px 6px 0 12px}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{height:20px}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#d2d2d2;font-size:13px}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{line-height:1.5}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:700;text-shadow:none;margin-left:3px}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .manage[_ngcontent-%COMP%]{margin-left:auto;width:auto;color:#d2d2d2;font-size:13px;border-radius:50%;display:flex;justify-content:center;align-items:center;cursor:pointer}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .manage.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:default;pointer-events:none}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .manage[_ngcontent-%COMP%]   .manage-i[_ngcontent-%COMP%]{margin-left:5px;width:20px;height:20px;border-radius:50%;background:#1d1f25 url(manage.b3ac02b635f537c6.svg) no-repeat center center}@media (min-width: 576px){.free-bet-wrapper[_ngcontent-%COMP%]{top:0}}"],changeDetection:0}),eg=Ke([Qn()],eg);var Bh,$Y,Cw,Kl,kb,YY,xN,ww,Fb,Nb=(()=>(function(n){n.onLockBets="onLockBets",n.onAddChatMsg="onAddChatMsg"}(Nb||(Nb={})),Nb))(),XY=function(){return"undefined"!=typeof window},qY=function(){return Bh||XY()&&(Bh=window.gsap)&&Bh.registerPlugin&&Bh},KY=function(t){return"function"==typeof t},eke=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],Jl=.212671,Zl=.71516,Ql=.072169,Ew=function(t,e){var o,a,i=[],r=0;for(o=0;o<4;o++){for(a=0;a<5;a++)i[r+a]=t[r]*e[a]+t[r+1]*e[a+5]+t[r+2]*e[a+10]+t[r+3]*e[a+15]+(4===a?t[r+4]:0);r+=5}return i},JY=function(t,e){var i=1-e,r=i*Jl,s=i*Zl,o=i*Ql;return Ew([r+e,s,o,0,0,r,s+e,o,0,0,r,s,o+e,0,0,0,0,0,1,0],t)},ZY=function(t,e,i){var r=Cw(e),s=r[0]/255,o=r[1]/255,a=r[2]/255,l=1-i;return Ew([l+i*s*Jl,i*s*Zl,i*s*Ql,0,0,i*o*Jl,l+i*o*Zl,i*o*Ql,0,0,i*a*Jl,i*a*Zl,l+i*a*Ql,0,0,0,0,0,1,0],t)},QY=function(t,e){e*=Math.PI/180;var i=Math.cos(e),r=Math.sin(e);return Ew([Jl+i*(1-Jl)+r*-Jl,Zl+i*-Zl+r*-Zl,Ql+i*-Ql+r*(1-Ql),0,0,Jl+i*-Jl+.143*r,Zl+i*(1-Zl)+.14*r,Ql+i*-Ql+-.283*r,0,0,Jl+i*-Jl+r*-(1-Jl),Zl+i*-Zl+r*Zl,Ql+i*(1-Ql)+r*Ql,0,0,0,0,0,1,0,0,0,0,0,1],t)},eX=function(t,e){return Ew([e,0,0,0,.5*(1-e),0,e,0,0,.5*(1-e),0,0,e,0,.5*(1-e),0,0,0,1,0],t)},tX=function(t,e){var o,i=Kl.filters[e],r=t.filters||[],s=r.length;for(i||function(t){console.warn(t)}(e+" not found. PixiPlugin.registerPIXI(PIXI)");--s>-1;)if(r[s]instanceof i)return r[s];return o=new i,"BlurFilter"===e&&(o.blur=0),r.push(o),t.filters=r,o},so=function(t,e,i,r){e.add(i,t,i[t],r[t]),e._props.push(t)},nX=function(t,e){var i=new Kl.filters.ColorMatrixFilter;return i.matrix=e,i.brightness(t,!0),i.matrix},al={contrast:1,saturation:1,colorizeAmount:0,colorize:"rgb(255,255,255)",hue:0,brightness:1},nke=function(t,e,i){var a,l,c,r=tX(t,"ColorMatrixFilter"),s=t._gsColorMatrixFilter=t._gsColorMatrixFilter||function(t){var i,e={};for(i in t)e[i]=t[i];return e}(al),o=e.combineCMF&&!("colorMatrixFilter"in e&&!e.colorMatrixFilter);for((c=r.matrix,e.resolution&&(r.resolution=e.resolution),e.matrix&&e.matrix.length===c.length?(l=e.matrix,1!==s.contrast&&so("contrast",i,s,al),s.hue&&so("hue",i,s,al),1!==s.brightness&&so("brightness",i,s,al),s.colorizeAmount&&(so("colorize",i,s,al),so("colorizeAmount",i,s,al)),1!==s.saturation&&so("saturation",i,s,al)):(l=eke.slice(),null!=e.contrast?(l=eX(l,+e.contrast),so("contrast",i,s,e)):1!==s.contrast&&(o?l=eX(l,s.contrast):so("contrast",i,s,al)),null!=e.hue?(l=QY(l,+e.hue),so("hue",i,s,e)):s.hue&&(o?l=QY(l,s.hue):so("hue",i,s,al)),null!=e.brightness?(l=nX(+e.brightness,l),so("brightness",i,s,e)):1!==s.brightness&&(o?l=nX(s.brightness,l):so("brightness",i,s,al)),null!=e.colorize?(e.colorizeAmount="colorizeAmount"in e?+e.colorizeAmount:1,l=ZY(l,e.colorize,e.colorizeAmount),so("colorize",i,s,e),so("colorizeAmount",i,s,e)):s.colorizeAmount&&(o?l=ZY(l,s.colorize,s.colorizeAmount):(so("colorize",i,s,al),so("colorizeAmount",i,s,al))),null!=e.saturation?(l=JY(l,+e.saturation),so("saturation",i,s,e)):1!==s.saturation&&(o?l=JY(l,s.saturation):so("saturation",i,s,al))),a=l.length);--a>-1;)l[a]!==c[a]&&i.add(c,a,c[a],l[a],"colorMatrixFilter");i._props.push("colorMatrixFilter")},ike=function(t,e){var s=e.color;(0,e.set)(e.t,e.p,s[0]<<16|s[1]<<8|s[2])},rke=function(t,e){var i=e.g;i&&(i.dirty++,i.clearDirty++)},ske=function(t,e){e.t.visible=!!e.t.alpha},iX=function(t,e,i,r){var s=t[e],o=Cw(KY(s)?t[e.indexOf("set")||!KY(t["get"+e.substr(3)])?e:"get"+e.substr(3)]():s),a=Cw(i);r._pt=new kb(r._pt,t,e,0,0,ike,{t,p:e,color:o,set:YY(t,e)}),r.add(o,0,o[0],a[0]),r.add(o,1,o[1],a[1]),r.add(o,2,o[2],a[2])},oke={tint:1,lineColor:1,fillColor:1},rX="position,scale,skew,pivot,anchor,tilePosition,tileScale".split(","),IN={x:"position",y:"position",tileX:"tilePosition",tileY:"tilePosition"},ake={colorMatrixFilter:1,saturation:1,contrast:1,hue:1,colorize:1,colorizeAmount:1,brightness:1,combineCMF:1},Tw=Math.PI/180,sX=function(t){return"string"==typeof t},lke=function(t){return sX(t)&&"="===t.charAt(1)?t.substr(0,2)+parseFloat(t.substr(2))*Tw:t*Tw},cke=function(t,e){return e.set(e.t,e.p,1===t?e.e:Math.round(1e5*(e.s+e.c*t))/1e5,e)},uke=function(t,e,i,r,s,o){var y,O,a=360*(o?Tw:1),l=sX(s),c=l&&"="===s.charAt(1)?+(s.charAt(0)+"1"):0,u=parseFloat(c?s.substr(2):s)*(o?Tw:1),d=c?u*c:u-r,f=r+d;return l&&("short"===(y=s.split("_")[1])&&(d%=a)!=d%(a/2)&&(d+=d<0?a:-a),"cw"===y&&d<0?d=(d+1e10*a)%a-~~(d/a)*a:"ccw"===y&&d>0&&(d=(d-1e10*a)%a-~~(d/a)*a)),t._pt=O=new kb(t._pt,e,i,r,d,cke),O.e=f,O},oX=function(){XY()&&($Y=window,Bh=qY(),xN=(Kl=Kl||$Y.PIXI)&&Kl.VERSION&&"4"===Kl.VERSION.charAt(0),Cw=function(e){return Bh.utils.splitColor("0x"===(e+"").substr(0,2)?"#"+e.substr(2):e)})};for(ww=0;ww<rX.length;ww++)IN[(Fb=rX[ww])+"X"]=Fb,IN[Fb+"Y"]=Fb;var AN={version:"3.9.1",name:"pixi",register:function(t,e,i){Bh=t,kb=i,YY=e.getSetter,oX()},registerPIXI:function(t){Kl=t},init:function(t,e,i,r,s){if(Kl||oX(),!(Kl&&t instanceof Kl.DisplayObject))return console.warn(t,"is not a DisplayObject or PIXI was not found. PixiPlugin.registerPIXI(PIXI);"),!1;var o,a,l,c,u,d,f,y,O;for(d in e){if(l=e[d],o=IN[d])a=~d.charAt(d.length-1).toLowerCase().indexOf("x")?"x":"y",this.add(t[o],a,t[o][a],"skew"===o?lke(l):l);else if("scale"===d||"anchor"===d||"pivot"===d||"tileScale"===d)this.add(t[d],"x",t[d].x,l),this.add(t[d],"y",t[d].y,l);else if("rotation"===d||"angle"===d)uke(this,t,d,t[d],l,"rotation"===d);else if(ake[d])c||(nke(t,e.colorMatrixFilter||e,this),c=!0);else if("blur"===d||"blurX"===d||"blurY"===d||"blurPadding"===d){if(u=tX(t,"BlurFilter"),this.add(u,d,u[d],l),0!==e.blurPadding)for(f=e.blurPadding||2*Math.max(u[d],l),y=t.filters.length;--y>-1;)t.filters[y].padding=Math.max(t.filters[y].padding,f)}else if(oke[d])if(("lineColor"===d||"fillColor"===d)&&t instanceof Kl.Graphics)for(O=(t.geometry||t).graphicsData,this._pt=new kb(this._pt,t,d,0,0,rke,{g:t.geometry||t}),y=O.length;--y>-1;)iX(xN?O[y]:O[y][d.substr(0,4)+"Style"],xN?d:"color",l,this);else iX(t,d,l,this);else"autoAlpha"===d?(this._pt=new kb(this._pt,t,"visible",0,0,ske),this.add(t,"alpha",t.alpha,l),this._props.push("alpha","visible")):"resolution"!==d&&this.add(t,d,"get",l);this._props.push(d)}}};qY()&&Bh.registerPlugin(AN);var Vc=(()=>(function(n){n.None="none",n.Power1_easeOut="Power1.easeOut",n.Power1_easeInOut="Power1.easeInOut"}(Vc||(Vc={})),Vc))();let zr=(()=>{class n{static init(){io.registerPlugin(AN),AN.registerPIXI(M)}static isTweening(e){return io.isTweening(e)}static killTweensOf(e){io.killTweensOf(e)}}return n.gsap=io,n})();class Mw{constructor(t,e,i=60){this.zone=t,this.resolution=devicePixelRatio||1,this.__render=()=>{this.app.ticker.update()},this.app?this.restoreApp(e,i):this.createApp(e,i)}restoreApp(t,e){this.app.resizeTo=t,this.app.renderer.resolution=this.resolution,this.app.stage=new rr,this.zone.runOutsideAngular(()=>{zr.gsap.ticker.fps(e),zr.gsap.ticker.add(this.__render)})}createApp(t,e){zr.init(),Ij();const i={antialias:!0,autoDensity:!0,resolution:this.resolution},r=Jt.WHITE.baseTexture.resource.source.getContext("2d");null==r||r.fillRect(0,0,1,1),this.zone.runOutsideAngular(()=>{Mw._app=new vy(Object.assign(Object.assign({},i),{resizeTo:t})),this.app.ticker.stop(),zr.gsap.ticker.fps(e),zr.gsap.ticker.add(this.__render)})}get app(){return Mw._app}get stage(){return this.app.stage}get view(){return this.app.view}get appWidth(){return this.app.view.width/this.resolution}get appHeight(){return this.app.view.height/this.resolution}destroy(){zr.gsap.ticker.remove(this.__render),this.app.resizeTo=null,this.stage.destroy({children:!0})}}class dke extends rr{constructor(){super(),this.isAnimation=!0,this.circle=new _o(Jt.from("bg")),this.circle.anchor.set(.5),this.addChild(this.circle),this.tween=io.to(this.circle,{duration:36,angle:360,repeat:-1,ease:Vc.None}),this.tween.pause()}resize(){this.y=pn.appHeight,this.x=0,this.circle.width=this.circle.height=this.getSizeOfOriginCenteredCircle()}getSizeOfOriginCenteredCircle(){return 2*this.getDiameterOfCircumcircleOfRectangle(pn.appWidth,pn.appHeight)}getDiameterOfCircumcircleOfRectangle(t,e){return Math.sqrt(Math.pow(t,2)+Math.pow(e,2))}onRunningState(t=!0){if(t){if(!this.isAnimation)return;this.tween.resume()}else this.tween.pause()}onEndingState(){this.onRunningState(!1)}setAnimation(t,e){this.isAnimation=t,this.onRunningState(t&&e)}destroy(){zr.killTweensOf(this.circle),super.destroy()}}class hke extends rr{constructor(t){super(),this.axes=t,this.curve=new la,this.gradient=new la,this.CURVE_WIDTH=4,this.CURVE_COLOR=po("#f00b3e"),this.GRADIENT_COLOR=po("#d0021b"),this.MOUNT_TIME=8,this.GLIDE_TIME=4,this.CONTROL_POINT_X_PERCENT=.5,this.MOUNT_POINT_OFFSET_PLANE_SCALE={x:1.5,y:1},this.GLIDE_POINT_OFFSET_PLANE_SCALE={x:1,y:3},this.startPoint={x:0,y:0},this.controlPoint={x:0,y:0},this.endPoint={x:0,y:0},this.mountPoint={x:0,y:0},this.glidePoint={x:0,y:0},this.draw=()=>{this.plane.x=this.endPoint.x,this.plane.y=this.endPoint.y,this.controlPoint.x=this.CONTROL_POINT_X_PERCENT*this.endPoint.x,this.curve.clear().lineStyle(this.CURVE_WIDTH,this.CURVE_COLOR).moveTo(this.startPoint.x,this.startPoint.y).quadraticCurveTo(this.controlPoint.x,this.controlPoint.y,this.endPoint.x,this.endPoint.y),this.gradient.clear().beginFill(this.GRADIENT_COLOR).moveTo(this.startPoint.x,this.startPoint.y).quadraticCurveTo(this.controlPoint.x,this.controlPoint.y,this.endPoint.x,this.endPoint.y).lineTo(this.endPoint.x,this.startPoint.y).lineTo(this.startPoint.x,this.startPoint.y)},this.timeLineMount=zr.gsap.timeline({onUpdate:this.draw}),this.timeLineMain=zr.gsap.timeline();const e=[];for(let i=0;i<4;i++)e.push(Jt.from(`plane-${i}`));this.plane=new B7(e),this.plane.animationSpeed=.125,this.plane.play(),this.plane.anchor.x=.14,this.plane.anchor.y=.9,this.plane.visible=!1,this.calculatePlaneScale(),this.resize(),this.gradient.alpha=.5,this.addChild(this.gradient,this.curve,this.plane)}onRunningState(t){this.playTimeLine(t)}onBettingState(){this.reset(),this.calculatePlaneScale(),this.plane.visible=!0}onEndingState(){zr.killTweensOf(this.plane),this.clearShape();const t={duration:.5,x:pn.appWidth+this.plane.getLocalBounds().width,y:this.plane.y-200,ease:Vc.None};io.to(this.plane,t).then(()=>{this.plane.visible=!1})}calculatePlaneScale(){let t=pn.appWidth/900;t<1?t=Math.max(.65,t):t>1&&(t=Math.min(1,t)),this.plane.width=this.plane.getLocalBounds().width*t,this.plane.height=this.plane.getLocalBounds().height*t}playTimeLine(t){const e=t?t/1e3:this.timeLineMain.time();this.reset(),this.plane.visible=!0,this.timeLineMount.clear().to(this.endPoint,{x:this.mountPoint.x,ease:Vc.Power1_easeOut,duration:this.MOUNT_TIME},0).to(this.endPoint,{y:this.mountPoint.y,ease:Vc.Power1_easeInOut,duration:this.MOUNT_TIME},0).eventCallback("onComplete",()=>this.axes.play()),this.timeLineMain.clear().add(this.timeLineMount).to(this.endPoint,{x:this.glidePoint.x,y:this.glidePoint.y,ease:Vc.Power1_easeInOut,repeat:-1,yoyo:!0,duration:this.GLIDE_TIME,onUpdate:this.draw}).time(e)}resize(){this.calculatePlaneScale(),this.startPoint.x=this.axes.AXIS_OFFSET,this.startPoint.y=pn.appHeight-this.axes.AXIS_OFFSET,this.plane.x=this.startPoint.x,this.plane.y=this.startPoint.y,this.endPoint.x=this.startPoint.x,this.endPoint.y=this.startPoint.y,this.controlPoint.y=this.startPoint.y,this.mountPoint.x=Math.max(pn.appWidth-this.MOUNT_POINT_OFFSET_PLANE_SCALE.x*this.plane.width,this.startPoint.x),this.mountPoint.y=Math.min(this.MOUNT_POINT_OFFSET_PLANE_SCALE.y*this.plane.height,this.startPoint.y),this.glidePoint.x=Math.max(pn.appWidth-this.GLIDE_POINT_OFFSET_PLANE_SCALE.x*this.plane.width,this.startPoint.x),this.glidePoint.y=Math.min(this.GLIDE_POINT_OFFSET_PLANE_SCALE.y*this.plane.height,this.startPoint.y),this.timeLineMain.isActive()?this.playTimeLine():this.clearShape()}clearShape(){this.curve.clear(),this.gradient.clear(),this.timeLineMain.clear(),this.endPoint.x=this.startPoint.x,this.endPoint.y=this.startPoint.y}reset(){this.plane.x=this.startPoint.x,this.plane.y=this.startPoint.y,this.plane.visible=!1,zr.killTweensOf(this.plane),this.clearShape()}destroy(){this.reset(),super.destroy()}}const aX=(n="#FF0000",t=3,e=1)=>{const i=new la;return i.beginFill(po(n),e),i.drawCircle(0,0,t),i.endFill(),i};function lX(n,t){const i=Object.assign(Object.assign({},{fontFamily:"Inter",fontSize:12,fill:16777215,align:"center"}),t);return new Ty(n,i)}class fke extends rr{constructor(){super(),this.AXIS_OFFSET=30,this.AXIS_WIDTH=1,this.AXIS_COLOR=po("#423033"),this.xAxis=new la,this.yAxis=new la,this.pointsX=[],this.pointsY=[],this.onTick=()=>{this.animatedPoints()},this.addChild(this.xAxis,this.yAxis),this.createPoints(),this.resize(),this.hide()}createPoints(){for(let t=0;t<10;t++){const e=aX("#ffffff",2);this.addChild(e),this.pointsX.push(e);const i=aX("#1197d6",2);this.addChild(i),this.pointsY.push(i)}}resize(){this.drawAxises(),this.xAxis.x=this.AXIS_OFFSET,this.xAxis.y=pn.appHeight-this.AXIS_OFFSET,this.yAxis.x=this.AXIS_OFFSET,this.resizePoints()}drawAxises(){this.xAxis.clear().lineStyle(this.AXIS_WIDTH,this.AXIS_COLOR).moveTo(pn.appWidth-this.AXIS_OFFSET,0).lineTo(0,0),this.yAxis.clear().lineStyle(this.AXIS_WIDTH,this.AXIS_COLOR).moveTo(0,pn.appHeight-this.AXIS_OFFSET).lineTo(0,0)}resizePoints(){this.pointsX.forEach((t,e)=>{t.x=(pn.appWidth-this.AXIS_OFFSET)/9*e+this.AXIS_OFFSET,t.y=pn.appHeight-this.AXIS_OFFSET/2}),this.pointsY.forEach((t,e)=>{t.x=this.AXIS_OFFSET/2,t.y=(pn.appHeight-this.AXIS_OFFSET)/10*e})}play(){this.onRunningState(),zr.gsap.ticker.add(this.onTick)}onRunningState(){this.visible=!0}onEndingState(){this.hide(),zr.gsap.ticker.remove(this.onTick)}hide(){this.visible=!1}animatedPoints(){this.pointsX.forEach(e=>{e.x-=.3*zr.gsap.ticker.deltaRatio(),e.x<this.AXIS_OFFSET&&(e.x=(pn.appWidth-this.AXIS_OFFSET)/9*(this.pointsX.length-1)+this.AXIS_OFFSET)}),this.pointsY.forEach(e=>{e.y+=.3*zr.gsap.ticker.deltaRatio(),e.y>pn.appHeight-this.AXIS_OFFSET&&(e.y=0)})}destroy(){zr.gsap.ticker.remove(this.onTick),super.destroy()}}var Od=(()=>(function(n){n.General="general",n.Multiplier="multiplier"}(Od||(Od={})),Od))();class pke extends rr{constructor(t){super(),this.translate=t,this.COEFFICIENT_DEFAULT_COLOR=po("#ffffff"),this.COEFFICIENT_END_COLOR=po("#d0021b"),this.COEFFICIENT_SIZE={[fi.sm]:68,[fi.md]:78,[fi.lg]:100},this.FLEW_AWAY_SIZE={[fi.sm]:20,[fi.md]:26,[fi.lg]:36},this.coefficient=new Py("1.00x",{fontName:Od.Multiplier,fontSize:this.COEFFICIENT_SIZE[pn.breakpoint]}),this.coefficient.roundPixels=!0,this.addChild(this.coefficient),this.flewAway=lX(this.translate.translate("canvas.flew_away"),{fontSize:this.FLEW_AWAY_SIZE[pn.breakpoint],fontFamily:cd.Base,padding:2}),this.flewAway.visible=!1,this.flewAway.roundPixels=!0,this.addChild(this.flewAway),this.visible=!1,this.resize()}onRunningState(t){this.coefficient.tint=this.COEFFICIENT_DEFAULT_COLOR,this.flewAway.visible=!1,this.visible=!0,this.updateMultiplier(t)}onBettingState(){this.flewAway.visible=!1,this.visible=!1}onEndingState(){this.flewAway.visible=!0,this.coefficient.tint=this.COEFFICIENT_END_COLOR}updateMultiplier(t){const e=AS(t,"en_US","1.2-2");this.coefficient.text=e+"x",this.coefficient.x=pn.appWidth/2-this.coefficient.width/2}resize(){this.coefficient.fontSize=this.COEFFICIENT_SIZE[pn.breakpoint],this.coefficient.x=pn.appWidth/2-this.coefficient.width/2,this.coefficient.y=pn.appHeight/2-this.coefficient.height/2,this.flewAway.style.fontSize=this.FLEW_AWAY_SIZE[pn.breakpoint],this.flewAway.x=pn.appWidth/2-this.flewAway.width/2,this.flewAway.y=this.coefficient.y-this.flewAway.height}destroy(t){super.destroy(t)}}class Uh extends rr{constructor(){super(),this.interval=100,this.icon=new _o(Jt.from("icon-login-timer")),this.icon.width=12,this.icon.height=14,this.addChild(this.icon),this.time=new Py("00:00:00",{fontName:Od.General,tint:po("#929294")}),this.time.x=15,this.time.y=-1,this.addChild(this.time),this.timerRunner(),this.intervalRef=window.setInterval(()=>this.timerRunner(),this.interval)}timerRunner(){const t=Math.floor(Date.now());Uh.startTime||(Uh.startTime=t,Uh.previousTimeStamp=t,this.time.text=this.msToTime(0)),t-Uh.previousTimeStamp>=1e3&&(this.time.text=this.msToTime(t-Uh.startTime),Uh.previousTimeStamp=t)}msToTime(t){const e=Math.floor(t/1e3%60),i=Math.floor(t/6e4%60),r=Math.floor(t/36e5);return(r<10?`0${r}:`:`${r}:`)+(i<10?`0${i}:`:`${i}:`)+(e<10?`0${e}`:`${e}`)}destroy(){super.destroy(),clearInterval(this.intervalRef)}}class gke extends rr{constructor(){super(),this.interval=1e3,this.icon=new _o(Jt.from("icon-clock")),this.icon.width=this.icon.height=14,this.addChild(this.icon),this.time=new Py(this.getTime(new Date),{fontName:Od.General,tint:po("#929294")}),this.time.x=17,this.time.y=-1,this.addChild(this.time),TN(this.interval).pipe(Ct(this,"destroy")).subscribe(()=>this.time.text=this.getTime(new Date))}getTime(t){const e=t.getHours(),i=t.getMinutes();return`${e<10?`0${e}`:`${e}`}:${i<10?`0${i}`:`${i}`}`}destroy(){super.destroy()}}class _ke extends rr{constructor(t){super(),this.multiplier=t,this.blur=new _o(Jt.from("multiplier-bg-blur")),this.blur.tint=this.multiplier.levelColor.getHex(ph.Low),zr.gsap.to(this.blur,{alpha:0}),this.addChild(this.blur)}onBettingState(){zr.gsap.to(this.blur,{alpha:0})}onRunningState(t){this.blur.tint=this.multiplier.levelColor.getHex(t),zr.gsap.to(this.blur,{alpha:1,duration:1})}onMultiplierChange(t){this.isTweenNeeded(t)&&zr.gsap.to(this.blur,.5,{pixi:{tint:this.multiplier.levelColor.getHex(t)}})}isTweenNeeded(t){return!zr.isTweening(this.blur)&&this.isColorChangeNeeded(t)}isColorChangeNeeded(t){return this.blur.tint!==this.multiplier.levelColor.getHex(t)}onEndingState(){zr.gsap.to(this.blur,{alpha:0,duration:1})}resize(){this.scale.x=pn.appWidth/this.blur.getLocalBounds().width,this.scale.y=pn.appHeight/this.blur.getLocalBounds().height}destroy(t){super.destroy(t),zr.killTweensOf(this.blur)}}class mke extends rr{constructor(t,e,i){super(),this.netSessionService=t,this.app=e,this.currencyPrecisionPipe=i,this.icon=new _o(Jt.from("icon-up-down")),this.icon.width=13,this.icon.height=14,this.addChild(this.icon),this.amount=new Py("",{fontName:Od.General,tint:po("#929294")}),this.amount.x=this.icon.width+3,this.amount.y=-1,this.addChild(this.amount),this.netSessionService.changed.pipe(Ct(this,"destroy")).subscribe(r=>this.onChangeNet(r))}onChangeNet(t){this.amount.text=`${this.getSign(t)}${this.currencyPrecisionPipe.transform(t)} ${this.app.config.currency}`}getSign(t){return t>0?"+":""}destroy(){super.destroy()}}class vke extends rr{constructor(){super(),this.centerContainer=new rr,this.timerContainer=new rr,this.PARTNERS_LOGO_HEIGHT={[fi.sm]:59,[fi.md]:59,[fi.lg]:118},this.PARTNERS_LOGO_WIDTH={[fi.sm]:150,[fi.md]:150,[fi.lg]:300},this.OFFICIAL_HEIGHT=74,this.OFFICIAL_WIDTH=106,this.OFFICIAL_MARGIN_TOP={[fi.sm]:8,[fi.md]:8,[fi.lg]:16},this.timeoutRef=0,this.TIMER_HEIGHT=4,this.TIMER_WIDTH=200,this.TIMER_RADIUS=4,this.TIMER_COLOR=po("#262830"),this.TIMER_BAR_COLOR=po("#e50539"),this.TIMER_MARGIN_TOP={[fi.sm]:8,[fi.md]:8,[fi.lg]:16},this.visible=!1,this.addChild(this.centerContainer),this.partnersLogo=new _o(Jt.from("partners-logo")),this.partnersLogo.anchor.x=.5,this.centerContainer.addChild(this.partnersLogo),this.centerContainer.addChild(this.timerContainer),this.timer=new la,this.timer.beginFill(this.TIMER_COLOR).drawRoundedRect(0,0,this.TIMER_WIDTH,this.TIMER_HEIGHT,this.TIMER_RADIUS).endFill(),this.timerContainer.addChild(this.timer),this.timerBar=new la,this.timerBar.beginFill(this.TIMER_BAR_COLOR).drawRoundedRect(0,0,this.TIMER_WIDTH,this.TIMER_HEIGHT,this.TIMER_RADIUS).endFill(),this.timerContainer.addChild(this.timerBar),this.timerBarMask=this.timer.clone(),this.timerBar.mask=this.timerBarMask,this.timerBarTween=io.to(this.timerBar,{duration:0,x:()=>`-=${this.TIMER_WIDTH}`,ease:Vc.None}),this.timerContainer.addChild(this.timerBarMask),this.official=new _o(Jt.from("official")),this.official.anchor.x=.5,this.official.width=this.OFFICIAL_WIDTH,this.official.height=this.OFFICIAL_HEIGHT,this.centerContainer.addChild(this.official),this.resize()}onBettingState(t,e){return clearTimeout(this.timeoutRef),this.visible=!0,this.timerBarTween.pause((e-t)/1e3).duration(e/1e3).play(),new Promise(i=>{this.timeoutRef=window.setTimeout(()=>{this.onRunningState(),i()},t)})}onRunningState(){clearTimeout(this.timeoutRef),this.visible=!1,this.timerBarTween.pause(0)}resize(){this.partnersLogo.width=this.PARTNERS_LOGO_WIDTH[pn.breakpoint],this.partnersLogo.height=this.PARTNERS_LOGO_HEIGHT[pn.breakpoint],this.timer.x=this.timerBar.x=this.timerBarMask.x=0,this.timer.y=this.timerBar.y=this.timerBarMask.y=this.partnersLogo.y+this.partnersLogo.height+this.TIMER_MARGIN_TOP[pn.breakpoint],this.timerContainer.pivot.x=this.timerContainer.width/2,this.timerBarTween.invalidate(),this.timerBarTween.isActive()&&this.timerBarTween.pause().play(),this.official.y=this.timer.y+this.timer.height+this.OFFICIAL_MARGIN_TOP[pn.breakpoint],this.centerContainer.x=pn.appWidth/2,this.centerContainer.y=pn.appHeight/2-this.centerContainer.height/2}destroy(){clearTimeout(this.timeoutRef),this.timerBarTween.kill(),super.destroy()}}class yke extends rr{constructor(t){super(),this.translate=t,this.PROP_SIZE={[fi.sm]:50,[fi.md]:90,[fi.lg]:120},this.TEXT_WAITING_MARGIN_TOP=10,this.TEXT_WAITING_SIZE={[fi.sm]:20,[fi.md]:26,[fi.lg]:36},this.timeoutRef=0,this.TIMER_MARGIN_TOP=16,this.TIMER_HEIGHT={[fi.sm]:4,[fi.md]:6,[fi.lg]:8},this.TIMER_WIDTH={[fi.sm]:100,[fi.md]:150,[fi.lg]:200},this.TIMER_RADIUS=4,this.TIMER_COLOR=po("#262830"),this.TIMER_BAR_COLOR=po("#e50539"),this.visible=!1,this.prop=new _o(Jt.from("prop")),this.prop.anchor.set(.5),this.addChild(this.prop),this.propTween=io.to(this.prop,{duration:1.4,angle:360,repeat:-1,ease:Vc.None}),this.propTween.pause(),this.textWaiting=lX(this.translate.translate("shared.WAITING_FOR_NEXT_ROUND"),{fontSize:this.TEXT_WAITING_SIZE[pn.breakpoint],fontFamily:cd.Base,padding:2}),this.textWaiting.roundPixels=!0,this.addChild(this.textWaiting),this.timer=new la,this.timer.beginFill(this.TIMER_COLOR).drawRoundedRect(0,0,this.TIMER_WIDTH[pn.breakpoint],this.TIMER_HEIGHT[pn.breakpoint],this.TIMER_RADIUS).endFill(),this.addChild(this.timer),this.timerBar=new la,this.timerBar.beginFill(this.TIMER_BAR_COLOR).drawRoundedRect(0,0,this.TIMER_WIDTH[pn.breakpoint],this.TIMER_HEIGHT[pn.breakpoint],this.TIMER_RADIUS).endFill(),this.addChild(this.timerBar),this.timerBarMask=this.timer.clone(),this.addChild(this.timerBarMask),this.timerBar.mask=this.timerBarMask,this.timerBarTween=io.to(this.timerBar,{duration:0,x:()=>`-=${this.TIMER_WIDTH[pn.breakpoint]}`,ease:Vc.None}),this.resize()}onBettingState(t,e){return clearTimeout(this.timeoutRef),this.visible=!0,this.propTween.resume(),this.timerBarTween.pause((e-t)/1e3).duration(e/1e3).play(),new Promise(i=>{this.timeoutRef=window.setTimeout(()=>{this.onRunningState(),i()},t)})}onRunningState(){clearTimeout(this.timeoutRef),this.visible=!1,this.propTween.pause(),this.timerBarTween.pause(0)}resize(){this.prop.width=this.prop.height=this.PROP_SIZE[pn.breakpoint],this.timer.width=this.timerBar.width=this.timerBarMask.width=this.TIMER_WIDTH[pn.breakpoint],this.timer.height=this.timerBar.height=this.timerBarMask.height=this.TIMER_HEIGHT[pn.breakpoint],this.textWaiting.style.fontSize=this.TEXT_WAITING_SIZE[pn.breakpoint],this.prop.x=pn.appWidth/2,this.prop.y=pn.appHeight/2-(this.TEXT_WAITING_MARGIN_TOP+this.textWaiting.height+this.TIMER_MARGIN_TOP+this.timer.height)/2,this.textWaiting.x=pn.appWidth/2-this.textWaiting.width/2,this.textWaiting.y=this.prop.y+this.prop.height/2+this.TEXT_WAITING_MARGIN_TOP;const e=this.textWaiting.y+this.textWaiting.height+this.TIMER_MARGIN_TOP;this.timer.x=this.timerBar.x=this.timerBarMask.x=pn.appWidth/2-this.timer.width/2,this.timer.y=this.timerBar.y=this.timerBarMask.y=e,this.timerBarTween.invalidate(),this.timerBarTween.isActive()&&this.timerBarTween.pause().play()}destroy(){clearTimeout(this.timeoutRef),this.propTween.kill(),this.timerBarTween.kill(),super.destroy()}}class bke extends Mw{constructor(t,e,i,r,s,o,a){super(e,t),this.el=t,this.zone=e,this.appService=i,this.multiplierService=r,this.translateService=s,this.netSessionService=o,this.currencyPrecisionPipe=a,pn.updateSize(this.appWidth,this.appHeight),this.setupBitmapFonts(),this.background=new dke,this.background.y=pn.appHeight,this.background.x=0,this.background.resize(),this.stage.addChild(this.background),this.multiplierBackground=new _ke(this.multiplierService),this.stage.addChild(this.multiplierBackground),this.axisesAndGraphLayer=new rr,this.axisesAndGraphLayer.visible=!1,this.stage.addChild(this.axisesAndGraphLayer),this.axes=new fke,this.axisesAndGraphLayer.addChild(this.axes),this.graph=new hke(this.axes),this.axisesAndGraphLayer.addChild(this.graph),this.betTimer=this.appService.isBetTimerBranded?new vke:new yke(this.translateService),this.stage.addChild(this.betTimer),this.multiplier=new pke(this.translateService),this.stage.addChild(this.multiplier),this.appService.config.isLoginTimer&&(this.loginTimer=new Uh,this.stage.addChild(this.loginTimer)),this.appService.config.isClockVisible&&(this.clock=new gke,this.stage.addChild(this.clock)),this.appService.config.isNetSessionEnabled&&(this.netSession=new mke(this.netSessionService,this.appService,this.currencyPrecisionPipe),this.stage.addChild(this.netSession))}setupBitmapFonts(){od.from(Od.General,{fontSize:12,fontWeight:"400",fill:16777215,fontFamily:cd.Base},{chars:[["0","9"],["A","Z"]," +-.:"],resolution:this.resolution});try{this.setupMultiplierFont(100)}catch(t){this.setupMultiplierFont(80)}}setupMultiplierFont(t){od.from(Od.Multiplier,{fontSize:t,fontWeight:"700",fill:16777215,fontFamily:cd.Base},{chars:"0123456789,.x",resolution:this.resolution})}onBettingState(t,e){return this.multiplierBackground.onBettingState(),this.multiplier.onBettingState(),this.graph.onBettingState(),this.betTimer.onBettingState(t,e)}onRunningState(t){this.multiplierBackground.onRunningState(t),this.multiplier.onRunningState(t),this.betTimer.onRunningState(),this.axes.onRunningState(),this.graph.onRunningState(t),this.background.onRunningState()}onEndingState(){this.multiplierBackground.onEndingState(),this.multiplier.onEndingState(),this.graph.onEndingState(),this.axes.onEndingState(),this.background.onEndingState()}updateMultiplier(t){this.multiplierBackground.onMultiplierChange(t),this.multiplier.updateMultiplier(t)}toggleAnimation(t,e){this.axisesAndGraphLayer.visible=t,this.background.setAnimation(t,e)}resize(){this.app.resize(),pn.updateSize(this.appWidth,this.appHeight),this.background.resize(),this.multiplierBackground.resize(),this.multiplier.resize(),this.betTimer.resize(),this.axes.resize(),this.graph.resize(),this.loginTimer&&(this.loginTimer.y=6,this.loginTimer.x=this.axes.AXIS_OFFSET+5),this.netSession&&(this.netSession.x=(pn.appWidth+this.axes.AXIS_OFFSET)/2-this.netSession.width/2,this.netSession.y=6),this.clock&&(this.clock.y=6,this.clock.x=pn.appWidth-this.clock.width-10)}destroy(){super.destroy()}}let cX=(()=>{class n{constructor(){this.amount=0,this.changedSubject=new On(this.amount),this.changed=this.changedSubject.asObservable()}plus(e){this.amount=new Li(this.amount).plus(e).toNumber(),this.changedSubject.next(this.amount)}minus(e){this.amount=new Li(this.amount).minus(e).toNumber(),this.changedSubject.next(this.amount)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ske=["stageCanvas"];function Cke(n,t){1&n&&(R(0,"div",5),U(1,"FUN MODE"),D())}let tg=class{constructor(t,e,i,r,s,o,a,l,c,u){this.zone=t,this.app=e,this.user=i,this.mainService=r,this.multiplier=s,this.translate=o,this.netSessionService=a,this.renderer=l,this.window=c,this.currencyPrecisionPipe=u,this.webglContextLost=new nn}ngAfterViewInit(){this.canvasId=Date.now(),function v_e(n){Ks({type:"canvas",level:"debug",data:{action:"canvas.init",canvasId:n}})}(this.canvasId),this.canvas=new bke(this.stageCanvasRef.nativeElement,this.zone,this.app,this.multiplier,this.translate,this.netSessionService,this.currencyPrecisionPipe),this.renderer.appendChild(this.stageCanvasRef.nativeElement,this.canvas.view),this.window.onResize$.pipe(ua(50),Ct(this)).subscribe(()=>this.onResize()),this.mainService.getState().pipe(Ct(this)).subscribe(()=>this.onChangeState()),this.user.settings.animation$.pipe(Ct(this)).subscribe(t=>this.canvas.toggleAnimation(t,this.mainService.isRunningState)),this.multiplier.data$.pipe(Ct(this)).subscribe(t=>{this.canvas.updateMultiplier(t.currentMultiplier)}),this.subscribeToCanvasWebGlContextLost()}onChangeState(){this.zone.runOutsideAngular(()=>{this.mainService.isBettingState?this.canvas.onBettingState(this.mainService.timeLeft,this.app.config.fullBetTime).then(()=>{this.mainService.emitEvent(Nb.onLockBets,!0)}):this.mainService.isRunningState?this.canvas.onRunningState(this.multiplier.startingValue):this.mainService.isEndingState&&this.canvas.onEndingState()})}ngOnDestroy(){var t;(function b_e(n){Ks({type:"canvas",level:"debug",data:{action:"canvas.destroy",canvasId:n}})})(this.canvasId),null===(t=this.canvas)||void 0===t||t.destroy()}subscribeToCanvasWebGlContextLost(){wi(this.canvas.view,"webglcontextlost").pipe(Ct(this)).subscribe(()=>{this.webglContextLost.emit()})}onResize(){!function y_e(n){Ks({type:"canvas",level:"debug",data:{action:"canvas.resize",canvasId:n}})}(this.canvasId);try{this.canvas.resize()}catch(t){!function S_e(n,t){I0(new Error("Canvas resizing error"),{level:"error",extra:{originalError:n,data:{canvasId:t}}})}(t,this.canvasId)}}};tg.\u0275fac=function(t){return new(t||tg)(z(Zn),z(ln),z(Ll),z(Zi),z(cT),z(op),z(cX),z(Do),z(Hy),z(Xn))},tg.\u0275cmp=rt({type:tg,selectors:[["app-play-board"]],viewQuery:function(t,e){if(1&t&&Lr(Ske,5),2&t){let i;kn(i=Fn())&&(e.stageCanvasRef=i.first)}},outputs:{webglContextLost:"webglContextLost"},decls:5,vars:1,consts:[[1,"play-board-wrapper"],[1,"stage-canvas"],["stageCanvas",""],[1,"dom-container"],["class","fun-mode",4,"ngIf"],[1,"fun-mode"]],template:function(t,e){1&t&&(R(0,"div",0),fe(1,"div",1,2),R(3,"div",3),K(4,Cke,2,0,"div",4),D()()),2&t&&(E(4),F("ngIf",e.app.isFunMode))},directives:[Nt],styles:[".play-board-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;z-index:0}.play-board-wrapper[_ngcontent-%COMP%]   .stage-canvas[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;border-radius:20px;border:1px solid #2a2b2e;overflow:hidden}.play-board-wrapper[_ngcontent-%COMP%]   .dom-container[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0}.play-board-wrapper[_ngcontent-%COMP%]   .dom-container[_ngcontent-%COMP%]   .fun-mode[_ngcontent-%COMP%]{position:absolute;top:0;left:0;background:rgba(229,148,7,.8);text-align:center;font-size:14px;font-weight:700;width:100%;border-radius:20px 20px 0 0;border:1px solid #e59407}"],changeDetection:0}),tg=Ke([Qn()],tg);var Gh=(()=>(function(n){n.bet="bet",n.auto="auto"}(Gh||(Gh={})),Gh))();const Eke=["inputfield"],Tke=function(n){return{minus:!0,"ui-state-disabled":n}};function wke(n,t){if(1&n){const e=ft();R(0,"button",8),Te("mousedown",function(){return ot(e),ne().startSpinTimer(-1)})("mouseleave",function(){return ot(e),ne().clearSpinTimer()})("mouseup",function(){return ot(e),ne().clearSpinTimer()}),D()}if(2&n){const e=ne();F("ngClass",di(3,Tke,e.disabled))("disabled",e.disabled),ui("readonly",e.readonly)}}function Mke(n,t){1&n&&(R(0,"span",9),U(1,"\xd7"),D())}const Oke=function(n){return{plus:!0,"ui-state-disabled":n}};function Pke(n,t){if(1&n){const e=ft();R(0,"button",10),Te("mousedown",function(){return ot(e),ne().startSpinTimer(1)})("mouseleave",function(){return ot(e),ne().clearSpinTimer()})("mouseup",function(){return ot(e),ne().clearSpinTimer()}),D()}if(2&n){const e=ne();F("ngClass",di(3,Oke,e.disabled))("disabled",e.disabled),ui("readonly",e.readonly)}}const xke=function(n){return{"full-width":n}};let Ow=(()=>{class n{constructor(e){this.app=e,this.step=1,this.type="text",this.enableButtons=!0,this.showX=!1,this.size="big",this.decimalSeparator=".",this.thousandSeparator=",",this.value=0,this.valueAsString="",this.onModelChange=()=>{},this.onModelTouched=()=>{},this.precision=2}ngOnInit(){this.precision=this.formatPrecision>=0?this.formatPrecision:this.step.toString().split(/[,]|[.]/)[1].length}repeat(e,i){let r=null!=i?i:500;this.clearTimer(),this.timer$=Qu(r).subscribe(()=>this.repeat(e,40)),this.spin(e)}spin(e){var i,r;let o=this.value||0;this.value=new Li(o+this.step*e).clamp(null!==(i=this.min)&&void 0!==i?i:0,null!==(r=this.max)&&void 0!==r?r:this.app.config.maxUserWin).toDecimalPlaces(this.precision).toNumber(),void 0!==this.maxlength&&this.value.toString().length>this.maxlength&&(this.value=o),this.setFormattedValuesFrom(this.value),this.onModelChange(this.value)}startSpinTimer(e){this.disabled||this.repeat(e)}clearSpinTimer(){this.disabled||this.clearTimer()}onInputKeydown(e){38==e.which?(this.spin(1),e.preventDefault()):40==e.which&&(this.spin(-1),e.preventDefault())}onInput(e){const i=e,r=i.target,s=r.selectionEnd?r.selectionEnd:r.value.length;let o=r.value;if("insertText"===i.inputType){if(("."===i.data||","===i.data)&&(this.valueAsString.includes(".")||","===o[s-2]||","===o[s]))return r.value=this.valueAsString,void r.setSelectionRange(s-1,s-1);const a=/[\d\.]/;if(i.data&&!a.test(i.data)){if(","!==i.data)return r.value=this.valueAsString,void r.setSelectionRange(s-1,s-1);o=o.split("").map((l,c)=>c===s-1?".":l).join("")}}else o=this.getValidStringInput(o);r.value=o,r.setSelectionRange(s,s),this.valueAsString=o,this.onModelChange(this.value)}getValidStringInput(e){return e=this.removeNonDecimalNumericCharacters(e),e=this.replaceMultipleDotsInARowWithOne(e),e=this.replaceMultipleCommasInARowWithOne(e),e=this.removeExtraDots(e),this.replaceSingleCommaWithDot(e)}removeNonDecimalNumericCharacters(e){const i=/[\d\.,]/;return e.split("").filter(r=>i.test(r)).join("")}replaceMultipleDotsInARowWithOne(e){return e.replace(/\.{2,}/g,".")}replaceMultipleCommasInARowWithOne(e){return e.replace(/,{2,}/g,",")}removeExtraDots(e){const i=e.split(".");return i.length>1&&(i[0]+="."),i.join("")}replaceCommasWithDot(e){return e.replace(/,/g,".")}replaceSingleCommaWithDot(e){const i=(e.match(/,/g)||[]).length,r=(e.match(/[.]/g)||[]).length;return 1===i&&0===r?this.replaceCommasWithDot(e):e}onInputBlur(){this.onModelTouched(),this.setFormattedValuesFrom(this.valueAsString),this.onModelChange(this.value)}parseNumericValue(e){if(!(e=e.split(this.thousandSeparator).join("").trim()))return 0;let i=this.precision?parseFloat(e.replace(",",".")):parseInt(e);return isNaN(i)?0:i}setFormattedValuesFrom(e){var i,r,s,o;if(null==e)return;let a=e;"string"==typeof e&&(a=null!==(r=null!==(i=this.parseNumericValue(e))&&void 0!==i?i:this.min)&&void 0!==r?r:0);try{this.value=new Li(a).clamp(null!==(s=this.min)&&void 0!==s?s:0,null!==(o=this.max)&&void 0!==o?o:this.app.config.maxUserWin).toDP(this.precision).toNumber()}catch(u){I0(new Error("An error occurred in setFormattedValuesFrom while formatting the numeric value"),{level:"error",extra:{originalError:u.message,problematicValue:{max:this.max,min:this.min,maxUserWin:this.app.config.maxUserWin,value:a,precision:this.precision}}})}let l=new Li(this.value).toFixed(this.precision).replace(".",this.decimalSeparator);const c=l.split(this.decimalSeparator);c[0]=c[0].replace(/\B(?=(\d{3})+(?!\d))/g,this.thousandSeparator),l=c.join(this.decimalSeparator),this.valueAsString=l,this.inputfieldViewChild.nativeElement.value=this.valueAsString}clearTimer(){this.timer$&&this.timer$.unsubscribe()}writeValue(e){this.value=e,this.setFormattedValuesFrom(this.value),this.onModelChange(this.value)}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e}}return n.\u0275fac=function(e){return new(e||n)(z(ln))},n.\u0275cmp=rt({type:n,selectors:[["app-spinner"]],viewQuery:function(e,i){if(1&e&&Lr(Eke,7),2&e){let r;kn(r=Fn())&&(i.inputfieldViewChild=r.first)}},inputs:{step:"step",min:"min",max:"max",maxlength:"maxlength",inputSize:"inputSize",placeholder:"placeholder",inputId:"inputId",disabled:"disabled",readonly:"readonly",tabindex:"tabindex",type:"type",required:"required",enableButtons:"enableButtons",showX:"showX",formatPrecision:"formatPrecision",size:"size"},features:[Jn([{provide:da,useExisting:Hn(()=>n),multi:!0}])],decls:9,vars:17,consts:[[1,"spinner",3,"ngClass"],[1,"buttons"],["type","button",3,"ngClass","disabled","mousedown","mouseleave","mouseup",4,"ngIf"],[1,"input",3,"ngClass"],["inputmode","decimal",1,"font-weight-bold",3,"value","disabled","input","keydown","blur"],["inputfield",""],["class","text text-x",4,"ngIf"],["tabindex","-1","type","button",3,"ngClass","disabled","mousedown","mouseleave","mouseup",4,"ngIf"],["type","button",3,"ngClass","disabled","mousedown","mouseleave","mouseup"],[1,"text","text-x"],["tabindex","-1","type","button",3,"ngClass","disabled","mousedown","mouseleave","mouseup"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1),K(2,wke,1,5,"button",2),D(),R(3,"div",3)(4,"input",4,5),Te("input",function(s){return i.onInput(s)})("keydown",function(s){return i.onInputKeydown(s)})("blur",function(){return i.onInputBlur()}),D()(),K(6,Mke,2,0,"span",6),R(7,"div",1),K(8,Pke,1,5,"button",7),D()()),2&e&&(F("ngClass",i.size),E(2),F("ngIf",i.enableButtons),E(1),F("ngClass",di(15,xke,!i.enableButtons)),E(1),F("value",i.valueAsString)("disabled",i.disabled),ui("type",i.type)("id",i.inputId)("size",i.inputSize)("maxlength",i.maxlength)("tabindex",i.tabindex)("placeholder",i.placeholder)("readonly",i.readonly)("required",i.required),E(2),F("ngIf",i.showX),E(2),F("ngIf",i.enableButtons))},directives:[ys,Nt],styles:[".spinner[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:space-between;align-items:center;transition:opacity .1s;border-radius:22px;background-color:#000000b3;font-weight:700;font-size:inherit;line-height:1;padding-left:10px;padding-right:10px}.spinner.small[_ngcontent-%COMP%]{padding-right:5px}.spinner[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{display:flex;align-items:center;width:calc(100% - 35px);height:100%}.spinner[_ngcontent-%COMP%]   .input.full-width[_ngcontent-%COMP%]{width:calc(100% - 10px)}.spinner[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border:0;background:transparent;color:#fff;letter-spacing:-.1em;text-align:inherit;padding:0}.spinner[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{opacity:.5}.spinner[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, .spinner[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.spinner[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:9px;line-height:1;color:#fff;opacity:.5;padding-top:5px}.spinner[_ngcontent-%COMP%]   .text.text-x[_ngcontent-%COMP%]{padding:0;font-size:16px}.spinner[_ngcontent-%COMP%]   .text.currency[_ngcontent-%COMP%]{margin-right:4px;padding:0}.spinner[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:inline-flex;align-items:center}.spinner[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0;padding:0;background:#ffffff;border:none;width:18px;height:18px;cursor:pointer;min-width:18px;min-height:18px;color:#000000b3;text-align:center;line-height:16px;font-weight:700}.spinner[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .plus[_ngcontent-%COMP%]{background-color:transparent;background-image:url(plus-in-circle.34a62358c343d04d.svg)}.spinner[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .plus[_ngcontent-%COMP%]:not(.ui-state-disabled):active{transform:translateY(1px)}.spinner[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .minus[_ngcontent-%COMP%]{background-color:transparent;background-image:url(minus-in-circle.1faa7b1dca471781.svg)}.spinner[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .minus[_ngcontent-%COMP%]:not(.ui-state-disabled):active{transform:translateY(1px)}.spinner[_ngcontent-%COMP%]   .ui-state-disabled[_ngcontent-%COMP%]{opacity:.5;cursor:default!important}"]}),n})();function Ike(n,t){if(1&n){const e=ft();R(0,"div",19),U(1),j(2,"transloco"),R(3,"button",20),Te("click",function(){return ot(e),ne().hideErrorMessage()}),R(4,"span"),U(5,"\xd7"),D()()()}if(2&n){const e=ne();E(1),te(" ",W(2,1,"shared.ui-components.toastr.toastr-message."+e.errorMessage)," ")}}function Ake(n,t){if(1&n){const e=ft();at(0),R(1,"button",21),Te("click",function(){const s=ot(e).$implicit;return ne().activeBetsAmount=s}),U(2),D(),lt()}if(2&n){const e=t.$implicit,i=ne();E(1),wt("active",i.activeBetsAmount===e),E(1),te(" ",e," ")}}let Rke=(()=>{class n{constructor(e,i,r){this.activeModal=e,this.app=i,this.cd=r,this.decreaseStopPoint={active:!1,value:0},this.increaseStopPoint={active:!1,value:0},this.exceedStopPoint={active:!1,value:0},this.activeBetsAmount=0}closeModal(e=!1){var i;let r;if(this.hideErrorMessage(),e){if(this.cd.detectChanges(),!this.activeBetsAmount)return void this.showErrorMessage("Please, set number of rounds");if(this.checkIncorrectStopPoint())return void this.showErrorMessage("Can't set 0.00 as stop point");if((null===(i=this.app.config.autoBetOptions)||void 0===i?void 0:i.decreaseOrExceedStopPointReq)&&!this.decreaseStopPoint.value&&!this.exceedStopPoint.value)return void this.showErrorMessage("Please, specify decrease or exceed stop point");r={decreaseBalanceStopPoint:this.decreaseStopPoint.value,increaseBalanceStopPoint:this.increaseStopPoint.value,autoBetsAmount:this.activeBetsAmount,exceedStopPoint:this.exceedStopPoint.value}}this.activeModal.close(r)}checkIncorrectStopPoint(){return this.decreaseStopPoint.active&&!this.decreaseStopPoint.value||this.increaseStopPoint.active&&!this.increaseStopPoint.value||this.exceedStopPoint.active&&!this.exceedStopPoint.value}showErrorMessage(e){this.errorMessage=e}hideErrorMessage(){this.errorMessage=void 0}reset(){this.activeBetsAmount=void 0,this.decreaseStopPoint={active:!1,value:0},this.increaseStopPoint={active:!1,value:0},this.exceedStopPoint={active:!1,value:0},this.hideErrorMessage()}}return n.\u0275fac=function(e){return new(e||n)(z(Mr),z(ln),z(Sn))},n.\u0275cmp=rt({type:n,selectors:[["app-auto-play"]],decls:49,vars:65,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"modal-body"],["class","alert alert-danger",4,"ngIf"],[1,"content-wrapper"],[1,"content"],[1,"content-part","content-part-1"],[1,"rounds-wrap","mt-2"],[4,"ngFor","ngForOf"],[1,"content-part"],[3,"ngModel","ngModelChange","toggle"],[1,"title","text-left","pl-1","mr-auto"],[1,"spinner","ml-auto",3,"disabled","ngModel","step","min","enableButtons","formatPrecision","ngModelChange"],[1,"ml-1"],[1,"title","text-left","pl-1","mr-auto","text-break"],[1,"modal-footer"],[1,"btns-wrapper"],[1,"btn","btn-sm","btn-warning","reset-btn",3,"click"],[1,"btn","btn-lg","btn-success","start-btn",3,"click"],[1,"alert","alert-danger"],["type","button",1,"close",3,"click"],[1,"btn","btn-secondary","btn-sm","rounds-amount",3,"click"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"span"),U(2),j(3,"transloco"),D(),R(4,"button",1),Te("click",function(){return i.closeModal()}),R(5,"span"),U(6,"\xd7"),D()()(),R(7,"div",2),K(8,Ike,6,3,"div",3),R(9,"div",4)(10,"div",5)(11,"div",6)(12,"span"),U(13),j(14,"transloco"),D(),R(15,"div",7),K(16,Ake,3,3,"ng-container",8),D()(),R(17,"div",9)(18,"app-ui-switcher",10),Te("ngModelChange",function(s){return i.decreaseStopPoint.active=s})("toggle",function(){return i.decreaseStopPoint.value=0}),D(),R(19,"span",11),U(20),j(21,"transloco"),D(),R(22,"app-spinner",12),Te("ngModelChange",function(s){return i.decreaseStopPoint.value=s}),D(),R(23,"span",13),U(24),D()(),R(25,"div",9)(26,"app-ui-switcher",10),Te("ngModelChange",function(s){return i.increaseStopPoint.active=s})("toggle",function(){return i.increaseStopPoint.value=0}),D(),R(27,"span",11),U(28),j(29,"transloco"),D(),R(30,"app-spinner",12),Te("ngModelChange",function(s){return i.increaseStopPoint.value=s}),D(),R(31,"span",13),U(32),D()(),R(33,"div",9)(34,"app-ui-switcher",10),Te("ngModelChange",function(s){return i.exceedStopPoint.active=s})("toggle",function(){return i.exceedStopPoint.value=0}),D(),R(35,"span",14),U(36),j(37,"transloco"),D(),R(38,"app-spinner",12),Te("ngModelChange",function(s){return i.exceedStopPoint.value=s}),D(),R(39,"span",13),U(40),D()()()()(),R(41,"div",15)(42,"div",16)(43,"button",17),Te("click",function(){return i.reset()}),U(44),j(45,"transloco"),D(),R(46,"button",18),Te("click",function(){return i.closeModal(!0)}),U(47),j(48,"transloco"),D()()()),2&e&&(E(2),Ye(W(3,51,"game.bet-controls.auto-play.Auto play options")),E(6),F("ngIf",i.errorMessage),E(5),Ye(W(14,53,"game.bet-controls.auto-play.Number of Rounds:")),E(3),F("ngForOf",null==i.app.config.autoBetOptions?null:i.app.config.autoBetOptions.numberOfRounds),E(2),F("ngModel",i.decreaseStopPoint.active),E(1),wt("disabled",!i.decreaseStopPoint.active),E(1),te(" ",W(21,55,"game.bet-controls.auto-play.Stop if cash decreases by")," "),E(2),wt("long-precision",i.app.isLongPrecision),F("disabled",!i.decreaseStopPoint.active)("ngModel",i.decreaseStopPoint.value)("step",i.app.config.betInputStep)("min",0)("enableButtons",!0)("formatPrecision",i.app.config.betPrecision),E(1),wt("disabled",!i.decreaseStopPoint.active),E(1),te(" ",i.app.config.currency," "),E(2),F("ngModel",i.increaseStopPoint.active),E(1),wt("disabled",!i.increaseStopPoint.active),E(1),te(" ",W(29,57,"game.bet-controls.auto-play.Stop if cash increases by")," "),E(2),wt("long-precision",i.app.isLongPrecision),F("disabled",!i.increaseStopPoint.active)("ngModel",i.increaseStopPoint.value)("step",i.app.config.betInputStep)("min",0)("enableButtons",!0)("formatPrecision",i.app.config.betPrecision),E(1),wt("disabled",!i.increaseStopPoint.active),E(1),te(" ",i.app.config.currency," "),E(2),F("ngModel",i.exceedStopPoint.active),E(1),wt("disabled",!i.exceedStopPoint.active),E(1),te(" ",W(37,59,"game.bet-controls.auto-play.Stop if single win exceeds")," "),E(2),wt("long-precision",i.app.isLongPrecision),F("disabled",!i.exceedStopPoint.active)("ngModel",i.exceedStopPoint.value)("step",i.app.config.betInputStep)("min",0)("enableButtons",!0)("formatPrecision",i.app.config.betPrecision),E(1),wt("disabled",!i.exceedStopPoint.active),E(1),te(" ",i.app.config.currency," "),E(4),te(" ",W(45,61,"game.bet-controls.auto-play.Reset")," "),E(3),te(" ",W(48,63,"game.bet-controls.auto-play.Start")," "))},directives:[Nt,oi,ib,fa,Vo,Ow],pipes:[Gt],styles:[".modal-body[_ngcontent-%COMP%]{padding:10px}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]{background-color:#2c2d30;border-radius:10px;padding:15px 10px;display:flex;font-size:14px;line-height:14px;margin-bottom:5px;justify-content:space-between;align-items:center}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part.content-part-1[_ngcontent-%COMP%]{flex-direction:column;justify-content:center;padding-bottom:12px;text-align:center}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part.content-part-1[_ngcontent-%COMP%]   .rounds-wrap[_ngcontent-%COMP%]{width:100%;max-width:290px;display:flex;justify-content:space-evenly}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part.content-part-1[_ngcontent-%COMP%]   .rounds-wrap[_ngcontent-%COMP%]   .rounds-amount[_ngcontent-%COMP%]{width:58px;margin-left:3px}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part.content-part-1[_ngcontent-%COMP%]   .rounds-wrap[_ngcontent-%COMP%]   .rounds-amount[_ngcontent-%COMP%]:first-child{margin-left:0}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part.content-part-1[_ngcontent-%COMP%]   .rounds-wrap[_ngcontent-%COMP%]   .rounds-amount.active[_ngcontent-%COMP%]{border:solid 1px #60ae05;box-shadow:none}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part.content-part-1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:unset}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{height:34px;font-size:18px;min-width:130px;width:130px;text-align:center}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .spinner.long-precision[_ngcontent-%COMP%]{font-size:12px}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#d2d2d2;text-align:center;padding:0 3px}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%]{opacity:.4}.modal-footer[_ngcontent-%COMP%]   .btns-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%}.modal-footer[_ngcontent-%COMP%]   .btns-wrapper[_ngcontent-%COMP%]   .reset-btn[_ngcontent-%COMP%]{min-width:80px;height:22px;padding:0;margin-right:7.5px}.modal-footer[_ngcontent-%COMP%]   .btns-wrapper[_ngcontent-%COMP%]   .start-btn[_ngcontent-%COMP%]{width:160px;height:30px;padding:0;margin-left:7.5px}"]}),n})();const Dke=["winAmount"],Nke=["autoBetSwitcher"],kke=["betSwitcher"],Fke=["betControlSource"];function Lke(n,t){if(1&n){const e=ft();R(0,"div",21),Te("click",function(){return ot(e),ne().secHandBtn.emit()}),D()}}function Bke(n,t){if(1&n){const e=ft();R(0,"div",22),Te("click",function(){return ot(e),ne().secHandBtn.emit()}),D()}2&n&&wt("disabled",ne().isSecHandCloseBtnDisabled)}function Uke(n,t){if(1&n){const e=ft();at(0),R(1,"app-navigation-switcher",23,24),Te("ngModelChange",function(r){return ot(e),ne().activeTab=r}),D(),lt()}if(2&n){const e=ne();E(1),F("disabled",!!e.autoBetOpt.autoBetsAmount||e.autoCashOutEnabled)("ngModel",e.activeTab)("translatePath","shared")("tabs",e.betControlNavigationList)}}function Gke(n,t){if(1&n){const e=ft();R(0,"button",25),Te("click",function(){const s=ot(e).$implicit;return ne().onSetBetOpt(s)}),R(1,"span"),U(2),j(3,"currencyPrecision"),D()()}if(2&n){const e=t.$implicit,i=ne();wt("disabled",i.betSaved||i.freeBetAvailable)("long-precision",i.app.isLongPrecision),F("disabled",i.betSaved||i.freeBetAvailable),E(2),te(" ",W(3,6,e)," ")}}const jke=function(n){return{betId:n}};function Hke(n,t){if(1&n){const e=ft();at(0),R(1,"button",26),Te("click",function(){return ot(e),ne().bet()}),R(2,"span",27)(3,"label",28),U(4),j(5,"transloco"),j(6,"transloco"),D(),R(7,"label",29)(8,"span"),U(9),j(10,"currencyPrecision"),D(),R(11,"span",30),U(12),D()()()(),lt()}if(2&n){const e=ne();E(1),wt("disabled",e.waitingForResponse),F("disabled",e.waitingForResponse),E(3),te(" ",e.app.config.isShowBetControlNumber?Ut(5,6,"action.Bet {{betId}}",di(13,jke,e.betId)):W(6,9,"shared.bet")," "),E(5),Ye(W(10,11,e.betValue)),E(3),te(" ",e.app.config.currency,"")}}function Vke(n,t){1&n&&(R(0,"div",33),U(1),j(2,"transloco"),D()),2&n&&(E(1),te(" ",W(2,1,"shared.waiting_for_next_round")," "))}function zke(n,t){if(1&n){const e=ft();at(0),K(1,Vke,3,3,"div",31),R(2,"button",32),Te("click",function(){return ot(e),ne().cancel()}),R(3,"label",28),U(4),j(5,"transloco"),D()(),lt()}if(2&n){const e=ne();E(1),F("ngIf",e.isPreBet),E(1),wt("disabled",e.waitingForResponse)("height-70",e.isPreBet),F("disabled",e.waitingForResponse),E(2),te(" ",W(5,7,"shared.cancel")," ")}}function Wke(n,t){if(1&n){const e=ft();at(0),R(1,"button",34),Te("click",function(){return ot(e),ne().onCashOut()}),R(2,"span",27)(3,"label",35),U(4),j(5,"transloco"),D(),R(6,"label",29)(7,"span",null,36),U(9,"0"),D(),R(10,"span",30),U(11),D()()()(),lt()}if(2&n){const e=ne();E(1),wt("disabled",e.waitingForResponse||e.cashOutDisabled),F("disabled",e.waitingForResponse||e.cashOutDisabled),E(3),te(" ",W(5,5,"shared.cash_out")," "),E(7),te(" ",e.app.config.currency,"")}}function $ke(n,t){if(1&n){const e=ft();at(0),R(1,"label"),U(2),j(3,"transloco"),D(),R(4,"app-ui-switcher",37,38),Te("ngModelChange",function(r){return ot(e),ne().endlessAutoBetEnabled=r})("toggle",function(){return ot(e),ne().onAutoBetSwitch()}),D(),lt()}if(2&n){const e=ne();E(2),Ye(W(3,5,"game.bet-controls.bet-control.auto bet")),E(2),wt("disabled",e.waitingForResponse||e.freeBetAvailable),F("disabled",e.waitingForResponse||e.freeBetAvailable)("ngModel",e.endlessAutoBetEnabled)}}function Yke(n,t){if(1&n){const e=ft();R(0,"button",41),Te("click",function(){return ot(e),ne(2).onSetAutoPlayOptions(!0)}),U(1),j(2,"transloco"),D()}if(2&n){const e=ne(2);wt("disabled",e.waitingForResponse||e.freeBetAvailable),F("disabled",e.waitingForResponse||e.freeBetAvailable),E(1),te(" ",W(2,4,"game.bet-controls.bet-control.Auto play")," ")}}function Xke(n,t){if(1&n&&(R(0,"span"),U(1),D()),2&n){const e=ne(3);E(1),te(" (",e.autoBetOpt.autoBetsAmount,") ")}}function qke(n,t){if(1&n){const e=ft();R(0,"button",42),Te("click",function(){return ot(e),ne(2).onSetAutoPlayOptions(!1)}),U(1),j(2,"transloco"),K(3,Xke,2,1,"span",4),D()}if(2&n){const e=ne(2);wt("disabled",e.waitingForResponse||e.freeBetAvailable),F("disabled",e.waitingForResponse||e.freeBetAvailable),E(1),te(" ",W(2,5,"shared.stop")," "),E(2),F("ngIf",e.autoBetOpt.autoBetsAmount)}}function Kke(n,t){if(1&n&&(at(0),K(1,Yke,3,6,"button",39),K(2,qke,4,7,"button",40),lt()),2&n){const e=ne();E(1),F("ngIf",void 0===e.autoBetOpt.autoBetsAmount),E(1),F("ngIf",void 0!==e.autoBetOpt.autoBetsAmount)}}let ng=class{constructor(t,e,i,r,s,o,a,l,c,u,d,f,y,O,I,N,k,B){this.mainService=t,this.app=e,this.connector=i,this.betService=r,this.sound=s,this.message=o,this.user=a,this.modal=l,this.freeBets=c,this.frontEndProxyService=u,this.ifc=d,this.cd=f,this.ngbModal=y,this.netSession=O,this.multiplier=I,this.minBetError=N,this.currencyPrecisionPipe=k,this.rules=B,this.secHandBtn=new nn,this.activeTab=Gh.bet,this.betControlNavigationList=Object.values(Gh),this.betValue=0,this.autoCashOutValue=this.app.config.autoCashOut.defaultValue,this.autoCashOutEnabled=!1,this.cashOutDisabled=!0,this.waitingForResponse=!1,this.isBetIncluded=!0,this.limits={},this._endlessAutoBetEnabled=!1,this.autoBetOpt={autoBetsAmount:void 0,increaseBalanceStopPoint:void 0,decreaseBalanceStopPoint:void 0,exceedStopPoint:void 0},this.isLockUI=!1}get endlessAutoBetEnabled(){return this._endlessAutoBetEnabled}set endlessAutoBetEnabled(t){this._endlessAutoBetEnabled=t,this.ifc.send(hi.Autoplay,{id:this.betId,value:this.endlessAutoBetEnabled})}get maxMultiplier(){return this.app.config.maxUserMultiplier?this.app.config.maxUserMultiplier:this.app.config.autoCashOut.maxValue}ngOnInit(){this.mainService.getState(Ji.Bet).pipe(Ct(this)).subscribe(()=>this.setBetStateHandler()),this.mainService.getState(Ji.End).pipe(Ct(this)).subscribe(()=>this.setEndGameStateHandler()),this.mainService.getState(Ji.Run).pipe(Ct(this)).subscribe(()=>{this.cashOutDisabled=!0,this.cd.detectChanges()}),this.connector.response(mn.CashOut).pipe(Ct(this)).subscribe(e=>this.cashOutResponse(e)),this.connector.response(mn.CancelBet).pipe(Bt(e=>this.isMyAction(e)),Ct(this)).subscribe(e=>this.cancelBetResponse(e)),this.connector.response(mn.Bet).pipe(Bt(e=>this.isMyAction(e)),Ct(this)).subscribe(e=>this.betResponse(e)),this.connector.response(mn.CancelFreeBet,200).pipe(Ct(this)).subscribe(e=>this.onCancelFreeBet(e)),this.multiplier.data$.pipe(Ct(this)).subscribe(e=>{this.setCurrentMultiplier(e.currentMultiplier)}),this.freeBets.onActivate$.pipe(Ct(this)).subscribe(()=>this.updateValues()),this.frontEndProxyService.stopAutoBet$.pipe(Ct(this)).subscribe(()=>{this.onSetAutoPlayOptions(!1),this.cd.detectChanges()}),this.ifc.receive$(pr.StopAutoplay).pipe(Ct(this)).subscribe(()=>{this.onSetAutoPlayOptions(!1),this.cd.detectChanges()}),this.updateValues();const t=this.betService.getBet(this.betId);t&&("isFreeBet"in t.data&&this.freeBets.activate(t.data.isFreeBet?t.data.freeBetId:void 0),this.betValue=t.data.bet,"isAutoCashOutEnabled"in t.data&&t.data.isAutoCashOutEnabled&&(this.autoCashOutEnabled=!0,this.autoCashOutValue=t.data.autoCashOut,this.activeTab=Gh.auto),this.cd.detectChanges()),this.ifc.receive$(pr.LockUI).pipe(gr(e=>this.isLockUI=e.value),Bt(e=>e.value),Ct(this)).subscribe(()=>this.onLockUI()),this.betService.cancelBets$.pipe(Ct(this)).subscribe(()=>this.onCancelBets())}ngAfterViewInit(){this.createAndSendClonedBetControlNode()}createAndSendClonedBetControlNode(){var t;if((null===(t=this.betControlSource)||void 0===t?void 0:t.nativeElement)&&1===this.betId){const e=this.betControlSource.nativeElement.cloneNode(!0);this.rules.sendClonedBetControlNode(e)}}onCancelFreeBet(t){var e;const i=null===(e=this.betService.getBet(this.betId))||void 0===e?void 0:e.data;if(!i)return;let r=null;"freeBetsId"in i&&(r=i.freeBetsId),"freeBetId"in i&&(r=i.freeBetId),r&&t.freeBets.includes(r)&&(this.betService.removeBet(this.betId),this.ifc.send(hi.CancelBetComplete,{id:this.betId,code:t.code}),this.cd.detectChanges())}onLockUI(){this.app.onLockUIActions===Tm.CancelBet&&this.displayCancelBtn&&!1===this.isPreBet&&this.cancel()}onCancelBets(){this.displayCancelBtn&&(this.cancel(),this.cd.detectChanges())}updateValues(){const t=this.freeBets.activeFreeBet;if(t)this.limits.minBet=t.freeBetsBetAmount,this.limits.maxBet=t.freeBetsBetAmount,this.betValue=t.freeBetsBetAmount,this.limits.minCashout=t.freeBetsMinCashOut,this.isBetIncluded=t.isBetIncluded,this.autoCashOutValue<this.limits.minCashout&&(this.autoCashOutValue=this.limits.minCashout);else{this.limits.minBet=this.app.config.minBet,this.limits.maxBet=this.app.config.maxBet;const e=this.app.config.defaultBetValue;this.betValue=e&&e>0?e:this.app.config.minBet,this.limits.minCashout=this.app.config.autoCashOut.minValue,this.autoCashOutValue=this.app.config.autoCashOut.defaultValue,this.isBetIncluded=!0}this.cd.detectChanges()}setBetStateHandler(){const t=this.betService.getBet(this.betId);(null==t?void 0:t.preBet)&&"clientSeed"in t.data&&(this.sendBet(t.data),this.cd.detectChanges())}setEndGameStateHandler(){var t;this.cashOutDisabled=!1,!1===(null===(t=this.betService.getBet(this.betId))||void 0===t?void 0:t.preBet)&&this.betService.removeBet(this.betId),(void 0!==this.autoBetOpt.autoBetsAmount||this.endlessAutoBetEnabled)&&void 0===this.betService.getBet(this.betId)&&this.autoBet(),this.cd.detectChanges()}setCurrentMultiplier(t){if(this.winAmountRef&&!this.waitingForResponse){let e=new Li(this.betValue).times(t);this.isBetIncluded||(e=e.minus(this.betValue)),this.winAmountRef.nativeElement.textContent=this.currencyPrecisionPipe.transform(e.toNumber())}this.cashOutDisabled&&t>=this.limits.minCashout&&(this.cashOutDisabled=!1,this.cd.detectChanges())}onCashOut(){this.sound.play(mo.Bet),this.waitingForResponse=!0,this.connector.request(Wi.CashOut,{betId:this.betId,currentTimestamp:Date.now()}),this.ifc.send(hi.Cashout,{id:this.betId})}cashOutResponse(t){t.cashouts.forEach(e=>{this.user.id===e.player_id&&this.betId===e.betId&&(this.waitingForResponse=!1,200===t.code&&(this.betService.removeBet(this.betId),void 0!==this.autoBetOpt.decreaseBalanceStopPoint&&(this.autoBetOpt.decreaseBalanceStopPoint+=e.winAmount),void 0!==this.autoBetOpt.increaseBalanceStopPoint&&(this.autoBetOpt.increaseBalanceStopPoint-=e.winAmount),void 0!==this.autoBetOpt.exceedStopPoint&&e.winAmount>this.autoBetOpt.exceedStopPoint&&this.stopAutoGame(),(void 0!==this.autoBetOpt.autoBetsAmount||this.endlessAutoBetEnabled)&&this.autoBet(),this.message.add({template:Af.Win,value:this.app.config.isShowBetControlNumber?Ec.BetBetIdHasBeenCashedOut:Ec.YouHaveCashedOut,id:this.app.config.isShowWinAmountUntilNextRound?ty.ShowWinAmountUntilNextRound:void 0,lifeTimeInfinite:this.app.config.isShowWinAmountUntilNextRound,params:{betId:e.betId,winAmount:e.winAmount,betAmount:e.betAmount,multiplier:t.multiplier,currency:this.app.config.currency,isMaxWinAutoCashOut:e.isMaxWinAutoCashOut}}),this.ifc.send(hi.WinInfo,{id:e.betId,amount:e.winAmount}),this.betService.isWinCelebrated(e.winAmount,e.betAmount)&&this.sound.play(mo.Win),this.freeBets.activeFreeBet||this.netSession.plus(e.winAmount)),this.ifc.send(hi.CashoutComplete,{id:this.betId,code:t.code,errorMessage:t.errorMessage,additionalOperatorData:e.additionalOperatorData}))}),this.cd.detectChanges()}onSetBetOpt(t){this.betSaved||this.freeBets.activeFreeBet||(this.settedBetOpt===t?this.betValue+=t:(this.settedBetOpt=t,this.betValue=t))}onAutoBetSwitch(){this.displayBetBtn&&this.endlessAutoBetEnabled?this.autoBet():this.displayCancelBtn&&!this.endlessAutoBetEnabled&&this.cancel()}autoBet(){this.isOutOffAutoBetLimits?this.stopAutoGame():this.bet()}bet(){this.sound.play(mo.Bet);const t={bet:this.betValue,clientSeed:this.user.clientSeed,betId:this.betId,freeBet:!1},e=this.freeBets.activeFreeBet;e&&(t.freeBet=!0,t.freeBetsId=e.freeBetsId),this.autoCashOutEnabled&&(t.autoCashOut=this.autoCashOutValue),this.isBalanceValid(t)?(this.betService.setBet({betId:this.betId,preBet:!0,data:t}),this.mainService.state===Ji.Bet&&this.sendBet(t)):this.handleInvalidBalance()}isBalanceValid(t){var e;return!(this.app.config.isBalanceValidationEnabled&&!t.freeBet)||((null===(e=this.betService.getBets()[0])||void 0===e?void 0:e.preBet)?new Li(this.user.balance).minus(this.betService.getBets()[0].data.bet).toNumber():this.user.balance)>=t.bet}handleInvalidBalance(){void 0!==this.autoBetOpt.autoBetsAmount&&this.stopAutoGame(),this.endlessAutoBetEnabled&&this.autoBetSwitcher.onClick(),this.message.add({value:Ec.NotEnoughBalance,context:Tr.danger})}sendBet(t){this.app.config.isShowWinAmountUntilNextRound&&this.message.clearById(ty.ShowWinAmountUntilNextRound),this.isLockUI&&this.app.onLockUIActions===Tm.CancelBet?this.betService.removeBet(this.betId):(this.waitingForResponse=!0,this.connector.request(Wi.Bet,t),this.ifc.send(hi.MakeBet,{id:this.betId,amount:t.bet}))}betResponse(t){this.waitingForResponse=!1,t.code===Rf.Success?(this.betService.setBet({betId:this.betId,preBet:!1,data:t}),this.autoBetOpt.autoBetsAmount&&this.autoBetOpt.autoBetsAmount--,void 0!==this.autoBetOpt.decreaseBalanceStopPoint&&(this.autoBetOpt.decreaseBalanceStopPoint-=t.bet),void 0!==this.autoBetOpt.increaseBalanceStopPoint&&(this.autoBetOpt.increaseBalanceStopPoint+=t.bet),this.freeBets.activeFreeBet||this.netSession.minus(t.bet)):(this.betService.removeBet(this.betId),this.endlessAutoBetEnabled&&(this.endlessAutoBetEnabled=!1),void 0!==this.autoBetOpt.autoBetsAmount&&this.stopAutoGame()),this.ifc.send(hi.MakeBetComplete,{id:this.betId,code:t.code,errorMessage:t.errorMessage,additionalOperatorData:t.additionalOperatorData}),this.cd.detectChanges()}cancel(){!1===this.isPreBet?(this.waitingForResponse=!0,this.connector.request(Wi.CancelBet,{betId:this.betId}),this.ifc.send(hi.CancelBet,{id:this.betId})):!0===this.isPreBet&&this.betService.removeBet(this.betId),this.endlessAutoBetEnabled&&(this.endlessAutoBetEnabled=!1),void 0!==this.autoBetOpt.autoBetsAmount&&this.stopAutoGame(),this.sound.play(mo.Bet)}cancelBetResponse(t){var e;if(this.waitingForResponse=!1,200===t.code){const i=null===(e=this.betService.getBet(this.betId))||void 0===e?void 0:e.data;!this.freeBets.activeFreeBet&&i&&this.netSession.plus(i.bet),this.betService.removeBet(this.betId)}this.ifc.send(hi.CancelBetComplete,{id:this.betId,code:t.code,errorMessage:t.errorMessage,additionalOperatorData:t.additionalOperatorData}),this.cd.detectChanges()}onBetValueChange(t){this.betValue=t,this.minBetError.updateStake(t,this.betId),this.ifc.send(hi.UpdateStake,{id:this.betId,amount:t})}onSetAutoPlayOptions(t){t?this.ngbModal.open(Rke).result.then(e=>{e?(this.autoBetOpt.autoBetsAmount=e.autoBetsAmount,this.autoBetOpt.decreaseBalanceStopPoint=e.decreaseBalanceStopPoint?e.decreaseBalanceStopPoint:void 0,this.autoBetOpt.increaseBalanceStopPoint=e.increaseBalanceStopPoint?e.increaseBalanceStopPoint:void 0,this.autoBetOpt.exceedStopPoint=e.exceedStopPoint?e.exceedStopPoint:void 0,this.ifc.send(hi.Autoplay,{id:this.betId,value:!0}),this.displayBetBtn&&this.autoBet()):this.stopAutoGame(),this.cd.detectChanges()},()=>{}):this.displayCancelBtn?this.cancel():this.stopAutoGame()}stopAutoGame(){this.autoBetOpt.autoBetsAmount=void 0,this.autoBetOpt.decreaseBalanceStopPoint=void 0,this.autoBetOpt.increaseBalanceStopPoint=void 0,this.autoBetOpt.exceedStopPoint=void 0,this.endlessAutoBetEnabled=!1,this.ifc.send(hi.Autoplay,{id:this.betId,value:!1}),this.app.config.autoBetOptions&&(this.autoCashOutEnabled=!1,this.cd.detectChanges(),this.betSwitcher.onClickTab(Gh.bet))}isMyAction(t){return this.user.id===t.player_id&&this.betId===t.betId}get betSaved(){return!!this.betService.getBet(this.betId)}get isSecHandCloseBtnDisabled(){var t;return!1===(null===(t=this.betService.getBet(2))||void 0===t?void 0:t.preBet)}get isAutoShown(){return this.activeTab===Gh.auto}get freeBetAvailable(){return void 0!==this.freeBets.activeFreeBet}get displayBetBtn(){return!this.displayCashOutBtn&&void 0===this.betService.getBet(this.betId)}get displayCancelBtn(){return!this.displayCashOutBtn&&void 0!==this.betService.getBet(this.betId)}get displayCashOutBtn(){var t;return this.mainService.state===Ji.Run&&!1===(null===(t=this.betService.getBet(this.betId))||void 0===t?void 0:t.preBet)}get isOutOffAutoBetLimits(){return 0===this.autoBetOpt.autoBetsAmount||void 0!==this.autoBetOpt.decreaseBalanceStopPoint&&this.autoBetOpt.decreaseBalanceStopPoint<=0||void 0!==this.autoBetOpt.increaseBalanceStopPoint&&this.autoBetOpt.increaseBalanceStopPoint<=0}get isPreBet(){var t;return!!(null===(t=this.betService.getBet(this.betId))||void 0===t?void 0:t.preBet)}get betOptions(){return this.app.config.betOptions.slice(0,this.app.isLongPrecision?3:6)}ngOnDestroy(){this.betService.removeBet(this.betId),this.ifc.send(hi.UpdateStake,{id:this.betId,amount:0}),this.minBetError.updateStake(0,this.betId)}};ng.\u0275fac=function(t){return new(t||ng)(z(Zi),z(ln),z(Bi),z(Su),z(fh),z(Fl),z(Ll),z(jo),z(bu),z(lT),z(Fo),z(Sn),z(Zy),z(cX),z(cT),z(Ib),z(Xn),z(MW))},ng.\u0275cmp=rt({type:ng,selectors:[["app-bet-control"]],viewQuery:function(t,e){if(1&t&&(Lr(Dke,5),Lr(Nke,5,ib),Lr(kke,5,DT),Lr(Fke,5)),2&t){let i;kn(i=Fn())&&(e.winAmountRef=i.first),kn(i=Fn())&&(e.autoBetSwitcher=i.first),kn(i=Fn())&&(e.betSwitcher=i.first),kn(i=Fn())&&(e.betControlSource=i.first)}},inputs:{betId:"betId",secondBet:"secondBet"},outputs:{secHandBtn:"secHandBtn"},features:[Jn([Xn])],decls:29,vars:52,consts:[[1,"controls"],["betControlSource",""],["class","sec-hand-btn add btn btn-success",3,"click",4,"ngIf"],["class","sec-hand-btn close",3,"disabled","click",4,"ngIf"],[4,"ngIf"],[1,"first-row"],[1,"bet-block"],[1,"spinner",3,"disabled","ngModel","step","min","max","formatPrecision","tabindex","placeholder","ngModelChange"],[1,"bets-opt-list"],["class","btn btn-secondary btn-sm bet-opt",3,"disabled","long-precision","click",4,"ngFor","ngForOf"],[1,"buttons-block"],[1,"w-100","border-line"],[1,"second-row"],[1,"auto-bet-wrapper"],[1,"auto-bet"],[1,"cashout-block"],[1,"cash-out-switcher"],[3,"ngModel","disabled","ngModelChange"],[1,"cashout-spinner-wrapper"],[1,"cashout-spinner"],[3,"disabled","ngModel","enableButtons","min","max","formatPrecision","showX","size","ngModelChange"],[1,"sec-hand-btn","add","btn","btn-success",3,"click"],[1,"sec-hand-btn","close",3,"click"],[1,"navigation",3,"disabled","ngModel","translatePath","tabs","ngModelChange"],["betSwitcher",""],[1,"btn","btn-secondary","btn-sm","bet-opt",3,"disabled","click"],["tabindex","-1",1,"btn","btn-success","bet",3,"disabled","click"],[1,"d-flex","flex-column","justify-content-center","align-items-center"],[1,"label","text-uppercase"],[1,"amount"],[1,"currency"],["class","btn-tooltip",4,"ngIf"],["tabindex","-1",1,"btn","btn-danger","bet",3,"disabled","click"],[1,"btn-tooltip"],["tabindex","-1",1,"btn","btn-warning","cashout",3,"disabled","click"],[1,"text-uppercase"],["winAmount",""],[3,"disabled","ngModel","ngModelChange","toggle"],["autoBetSwitcher",""],["class","btn btn-sm btn-primary auto-play-btn text-uppercase",3,"disabled","click",4,"ngIf"],["class","btn btn-sm btn-danger auto-play-btn text-lowercase",3,"disabled","click",4,"ngIf"],[1,"btn","btn-sm","btn-primary","auto-play-btn","text-uppercase",3,"disabled","click"],[1,"btn","btn-sm","btn-danger","auto-play-btn","text-lowercase",3,"disabled","click"]],template:function(t,e){1&t&&(R(0,"div",0,1),K(2,Lke,1,0,"div",2),K(3,Bke,1,2,"div",3),K(4,Uke,3,4,"ng-container",4),R(5,"div",5)(6,"div",6)(7,"app-spinner",7),Te("ngModelChange",function(r){return e.onBetValueChange(r)}),D(),R(8,"div",8),K(9,Gke,4,8,"button",9),D()(),R(10,"div",10),K(11,Hke,13,15,"ng-container",4),K(12,zke,6,9,"ng-container",4),K(13,Wke,12,7,"ng-container",4),D()(),fe(14,"div",11),R(15,"div",12)(16,"div",13)(17,"div",14),K(18,$ke,6,7,"ng-container",4),K(19,Kke,3,2,"ng-container",4),D()(),R(20,"div",15)(21,"div",16)(22,"label"),U(23),j(24,"transloco"),D(),R(25,"app-ui-switcher",17),Te("ngModelChange",function(r){return e.autoCashOutEnabled=r}),D()(),R(26,"div",18)(27,"div",19)(28,"app-spinner",20),Te("ngModelChange",function(r){return e.autoCashOutValue=r}),D()()()()()()),2&t&&(wt("border-red",e.displayCancelBtn)("border-orange",e.displayCashOutBtn)("disabled",e.waitingForResponse),E(2),F("ngIf",!e.secondBet&&e.app.config.isMultipleBetsEnabled),E(1),F("ngIf",e.secondBet&&2===e.betId),E(1),F("ngIf",e.app.isAutoBetFeatureEnabled),E(1),wt("auto-game",e.isAutoShown)("auto-game-feature",e.app.isAutoBetFeatureEnabled),E(2),wt("long-precision",e.app.isLongPrecision)("disabled",e.betSaved||e.freeBetAvailable),F("disabled",e.betSaved||e.freeBetAvailable)("ngModel",e.betValue)("step",e.app.config.betInputStep)("min",e.limits.minBet)("max",e.limits.maxBet)("formatPrecision",e.app.config.betPrecision)("tabindex",-1)("placeholder",null==e.limits.minBet?null:e.limits.minBet.toString()),E(2),F("ngForOf",e.betOptions),E(2),F("ngIf",e.displayBetBtn),E(1),F("ngIf",e.displayCancelBtn),E(1),F("ngIf",e.displayCashOutBtn),E(1),wt("d-none",!e.isAutoShown),E(1),wt("d-none",!e.isAutoShown),E(3),F("ngIf",!e.app.config.autoBetOptions),E(1),F("ngIf",e.app.config.autoBetOptions),E(3),wt("disabled",e.betSaved),E(1),te(" ",W(24,50,"game.bet-controls.bet-control.auto cashout")," "),E(2),F("ngModel",e.autoCashOutEnabled)("disabled",e.betSaved),E(2),wt("disabled",!e.autoCashOutEnabled),E(1),F("disabled",!e.autoCashOutEnabled||e.betSaved)("ngModel",e.autoCashOutValue)("enableButtons",!1)("min",e.limits.minCashout)("max",e.maxMultiplier)("formatPrecision",e.app.config.multiplierPrecision)("showX",!0)("size","small"))},directives:[Nt,DT,fa,Vo,Ow,oi,ib],pipes:[Xn,Gt],styles:["[_nghost-%COMP%]{width:100%}.controls[_ngcontent-%COMP%]{display:flex;position:relative;width:100%;flex-direction:column;justify-content:center;align-items:center;border-radius:10px;background-color:#1b1c1d;height:100%;margin:0 auto;border:solid 1px transparent}.controls.border-red[_ngcontent-%COMP%]{border:solid 1px #cb011a}.controls.border-orange[_ngcontent-%COMP%]{border:solid 1px #d07206}.controls.disabled[_ngcontent-%COMP%]{opacity:.5;pointer-events:none}.controls[_ngcontent-%COMP%]   .sec-hand-btn[_ngcontent-%COMP%]{position:absolute;right:10px;top:10px;width:24px;height:24px;padding:0;cursor:pointer;border-radius:10px;border:none;background:#427f00 url(plus.c1334cb81ee6e480.svg) no-repeat center center}.controls[_ngcontent-%COMP%]   .sec-hand-btn.disabled[_ngcontent-%COMP%]{opacity:.2;pointer-events:none}.controls[_ngcontent-%COMP%]   .sec-hand-btn[_ngcontent-%COMP%]:hover{background-color:#28a909}.controls[_ngcontent-%COMP%]   .sec-hand-btn[_ngcontent-%COMP%]:active{transform:translateY(1px)}.controls[_ngcontent-%COMP%]   .sec-hand-btn.close[_ngcontent-%COMP%]{background:url(remove.77a387f030ee9544.svg) no-repeat}.controls[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]{height:24px;font-size:12px;margin-bottom:auto;margin-top:10px}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]{width:calc(100% - 20px);max-width:390px;display:flex;justify-content:center}.controls[_ngcontent-%COMP%]   .first-row.auto-game-feature[_ngcontent-%COMP%]{margin:0 auto auto}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .bet-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;width:140px}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .bet-block[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{height:34px;font-size:18px}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .bet-block[_ngcontent-%COMP%]   .spinner.long-precision[_ngcontent-%COMP%]{font-size:14px}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .bet-block[_ngcontent-%COMP%]   .bets-opt-list[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap;font-size:14px;color:#9ea0a3;width:100%}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .bet-block[_ngcontent-%COMP%]   .bets-opt-list[_ngcontent-%COMP%]   .bet-opt[_ngcontent-%COMP%]{font-size:14px;width:64px;height:18px;margin-top:4px;line-height:1;padding:0;background:#141516;border:none}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .bet-block[_ngcontent-%COMP%]   .bets-opt-list[_ngcontent-%COMP%]   .bet-opt[_ngcontent-%COMP%]:nth-child(even){margin-left:4px}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .bet-block[_ngcontent-%COMP%]   .bets-opt-list[_ngcontent-%COMP%]   .bet-opt.long-precision[_ngcontent-%COMP%]{margin-left:0;margin-right:0;width:132px}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .bet-block[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#ffffff80}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .buttons-block[_ngcontent-%COMP%]{width:calc(100% - 145px);margin-left:5px;display:flex;justify-content:center;align-items:center;flex-direction:column}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .buttons-block[_ngcontent-%COMP%]   .btn-tooltip[_ngcontent-%COMP%]{font-size:14px;color:#ffffffb3;text-align:center}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .buttons-block[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;height:100%;font-size:20px}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .buttons-block[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:0;line-height:1;cursor:pointer}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .buttons-block[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   label.amount[_ngcontent-%COMP%]{font-size:24px;margin-top:2px}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .buttons-block[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   label.amount[_ngcontent-%COMP%]   .currency[_ngcontent-%COMP%]{font-size:18px}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .buttons-block[_ngcontent-%COMP%]   .height-70[_ngcontent-%COMP%]{height:70%}.controls[_ngcontent-%COMP%]   .border-line[_ngcontent-%COMP%]{height:2px;background:#141516}.controls[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]{display:flex;width:100%;max-width:390px;justify-content:space-around;align-items:center;height:40px;color:#9ea0a3}.controls[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .auto-bet-wrapper[_ngcontent-%COMP%]{margin-left:5px}.controls[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .auto-bet-wrapper[_ngcontent-%COMP%]   .auto-bet[_ngcontent-%COMP%]{font-size:12px;text-align:center;display:flex;align-items:center}.controls[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .auto-bet-wrapper[_ngcontent-%COMP%]   .auto-bet[_ngcontent-%COMP%]   .auto-play-btn[_ngcontent-%COMP%]{height:22px;width:100px;padding:0;font-size:12px}.controls[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .auto-bet-wrapper[_ngcontent-%COMP%]   .auto-bet[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:0 5px 0 0;display:block}.controls[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .cashout-block[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin:0 5px}.controls[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .cashout-block[_ngcontent-%COMP%]   .cash-out-switcher[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;box-sizing:border-box}.controls[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .cashout-block[_ngcontent-%COMP%]   .cash-out-switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:12px;margin:0 5px 0 0;text-align:center}.controls[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .cashout-block[_ngcontent-%COMP%]   .cashout-spinner-wrapper[_ngcontent-%COMP%]{height:50%;display:flex;justify-content:center;align-items:center;margin-left:5px}.controls[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .cashout-block[_ngcontent-%COMP%]   .cashout-spinner-wrapper[_ngcontent-%COMP%]   .cashout-spinner[_ngcontent-%COMP%]{height:30px;width:80px;display:flex;font-size:16px}@media (max-width: 991.98px){.controls[_ngcontent-%COMP%]   .first-row.auto-game[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px}}"],changeDetection:0}),ng=Ke([Qn()],ng);const Jke=["controls"];function Zke(n,t){if(1&n){const e=ft();R(0,"app-bet-control",4),Te("secHandBtn",function(){return ot(e),ne().setSecondBet()}),D()}if(2&n){const e=ne();wt("locked",e.lockBets),F("secondBet",e.user.settings.secondBet)("betId",2)}}let ig=class{constructor(t,e,i,r,s,o,a){this.mainService=t,this.cd=e,this.user=i,this.betService=r,this.app=s,this.ifc=o,this.window=a,this.lockBets=!1,this.controlsWrap=!1}ngOnInit(){this.betService.getBet(2)&&(this.user.settings.secondBet=!0),this.mainService.timeLeft<=0&&this.onLockBets(!0),this.mainService.getState(Ji.Run).pipe(Ct(this)).subscribe(()=>{this.onLockBets(!1),this.sendEventStartRound(this.betService.getBets())}),this.mainService.event(Nb.onLockBets).pipe(Ct(this)).subscribe(t=>this.onLockBets(t.data))}ngAfterViewInit(){this.window.onResize$.pipe(Ct(this)).subscribe(()=>{setTimeout(()=>this.checkBetControlsStyle())})}onLockBets(t){this.lockBets!==t&&(this.lockBets=t,this.cd.detectChanges())}setSecondBet(){this.user.settings.secondBet=!this.user.settings.secondBet,this.window.manualEmitResizeEvent()}checkBetControlsStyle(){const t=this.user.settings.secondBet&&this.app.config.isMultipleBetsEnabled;this.controlsWrap=!1,t&&(this.controlsWrap=this.controlsRef.nativeElement.offsetWidth<620),this.cd.detectChanges()}sendEventStartRound(t){const e=[];t&&Array.isArray(t)&&t.forEach(i=>{e.push({id:i.betId,amount:i.data.bet})}),this.ifc.send(hi.StartRound,{bets:e})}};ig.\u0275fac=function(t){return new(t||ig)(z(Zi),z(Sn),z(Ll),z(Su),z(ln),z(Fo),z(Hy))},ig.\u0275cmp=rt({type:ig,selectors:[["app-bet-controls"]],viewQuery:function(t,e){if(1&t&&Lr(Jke,7),2&t){let i;kn(i=Fn())&&(e.controlsRef=i.first)}},decls:4,vars:9,consts:[[1,"controls"],["controls",""],[1,"bet-control",3,"betId","secondBet","secHandBtn"],["class","bet-control double-bet",3,"locked","secondBet","betId","secHandBtn",4,"ngIf"],[1,"bet-control","double-bet",3,"secondBet","betId","secHandBtn"]],template:function(t,e){1&t&&(R(0,"div",0,1)(2,"app-bet-control",2),Te("secHandBtn",function(){return e.setSecondBet()}),D(),K(3,Zke,1,4,"app-bet-control",3),D()),2&t&&(wt("controls-wrap",e.controlsWrap),E(2),wt("double-bet",e.user.settings.secondBet&&e.app.config.isMultipleBetsEnabled)("locked",e.lockBets),F("betId",1)("secondBet",e.user.settings.secondBet),E(1),F("ngIf",e.user.settings.secondBet&&e.app.config.isMultipleBetsEnabled))},directives:[ng,Nt],styles:["[_nghost-%COMP%]{width:100%}.controls[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%}.controls.controls-wrap[_ngcontent-%COMP%]{flex-wrap:wrap}.controls.controls-wrap[_ngcontent-%COMP%]   .bet-control[_ngcontent-%COMP%]:first-child{margin-bottom:10px}.controls[_ngcontent-%COMP%]:not(.controls-wrap)   .bet-control.double-bet[_ngcontent-%COMP%]:first-child{padding-right:5px}.controls[_ngcontent-%COMP%]:not(.controls-wrap)   .bet-control.double-bet[_ngcontent-%COMP%]:last-child{padding-left:5px}.controls[_ngcontent-%COMP%]   .bet-control[_ngcontent-%COMP%]{width:100%;height:170px;max-width:750px;min-width:310px;border-radius:20px}.controls[_ngcontent-%COMP%]   .locked[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}@media (max-width: 991.98px){.controls.controls-wrap[_ngcontent-%COMP%]   .bet-control[_ngcontent-%COMP%]:first-child{margin-bottom:5px}.controls[_ngcontent-%COMP%]:not(.controls-wrap)   .bet-control.double-bet[_ngcontent-%COMP%]:first-child{padding-right:2.5px}.controls[_ngcontent-%COMP%]:not(.controls-wrap)   .bet-control.double-bet[_ngcontent-%COMP%]:last-child{padding-left:2.5px}.controls[_ngcontent-%COMP%]   .bet-control[_ngcontent-%COMP%]{height:auto;min-height:150px}}"],changeDetection:0}),ig=Ke([Qn()],ig);let dv=(()=>{class n{constructor(e){this.stomp=e,this._inited=!1,this._topGifs=[],this._tagUserSubject=new Qe,this._onlinePlayersSubject=new On(0),this.onlinePlayers$=this._onlinePlayersSubject.asObservable(),this.stomp.response(Pi.ChatInit).pipe(Bt(i=>200===i.code)).subscribe(i=>this.init(i)),this.stomp.response(Pi.PlayersOnline).subscribe(i=>{this._onlinePlayersSubject.next(i.count)})}init(e){var i;this._inited=!0,this._onlinePlayersSubject.next(e.onlinePlayers),this._topGifs=null!==(i=e.config.topGifs)&&void 0!==i?i:[]}get inited(){return this._inited}tagUser(e){this._tagUserSubject.next(`@${e} `)}get onTagUser(){return this._tagUserSubject.asObservable()}get top10Gifs(){return this._topGifs}}return n.\u0275fac=function(e){return new(e||n)(je(Da))},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})();function Qke(n,t){if(1&n){const e=ft();R(0,"button",7),Te("click",function(){return ot(e),ne(2).openChatRulesModal()}),U(1),fe(2,"div",8),D()}if(2&n){const e=ne().$implicit;E(1),te(" ",e("game.chat-widget.Rules")," ")}}function e3e(n,t){if(1&n){const e=ft();at(0),R(1,"div",1)(2,"div",2),fe(3,"div",3),R(4,"span"),U(5),j(6,"async"),D()(),R(7,"div",4),K(8,Qke,3,1,"button",5),R(9,"button",6),Te("click",function(){return ot(e),ne().chatFeatureService.isOpen=!1}),R(10,"span"),U(11,"\xd7"),D()()()(),lt()}if(2&n){const e=ne();E(5),Ye(W(6,2,e.chatService.onlinePlayers$)),E(3),F("ngIf",e.chatService.inited)}}let t3e=(()=>{class n{constructor(e,i,r){this.chatService=e,this.chatFeatureService=i,this.modal=r}openChatRulesModal(){this.modal.open(Wn.chatRules)}}return n.\u0275fac=function(e){return new(e||n)(z(dv),z(il),z(jo))},n.\u0275cmp=rt({type:n,selectors:[["app-chat-header"]],decls:1,vars:0,consts:[[4,"transloco"],[1,"header"],[1,"online-wrapper","position-absolute","d-flex","align-items-center"],[1,"green-circle"],[1,"buttons"],["type","button","class","rules-btn","aria-label","Chat rules",3,"click",4,"ngIf"],["type","button","aria-label","Close",1,"close",3,"click"],["type","button","aria-label","Chat rules",1,"rules-btn",3,"click"],[1,"question-i"]],template:function(e,i){1&e&&K(0,e3e,12,4,"ng-container",0)},directives:[BR,Nt],pipes:[Pr],styles:["[_nghost-%COMP%]{width:inherit}.header[_ngcontent-%COMP%]{display:flex;padding:8px 13px 8px 8px;height:var(--headerHeight);position:relative;align-items:center}.header[_ngcontent-%COMP%]   .online-wrapper[_ngcontent-%COMP%]{left:50%;transform:translate(-50%);font-size:14px}.header[_ngcontent-%COMP%]   .online-wrapper[_ngcontent-%COMP%]   .green-circle[_ngcontent-%COMP%]{width:6px;height:6px;background:#28a909;border-radius:50%;margin:0 3px}.header[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%}.header[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{margin-left:auto}.header[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .rules-btn[_ngcontent-%COMP%]{display:flex;align-items:center;padding:0;height:21px;border:none;background:none;color:#b1b7bd;font-size:14px;font-weight:400;line-height:21px}.header[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .rules-btn[_ngcontent-%COMP%]   .question-i[_ngcontent-%COMP%]{margin-left:4px;width:20px;height:20px;background:url(question-gray.10476c54b3bdaed7.svg) no-repeat center center}.header[_ngcontent-%COMP%]   .btn-hide[_ngcontent-%COMP%]{background-image:url(close.9967d3df9ff555ef.svg)}.header[_ngcontent-%COMP%]   .btn-hide[_ngcontent-%COMP%]:hover{background-image:url(close-h.968f898f80e88637.svg)}.header[_ngcontent-%COMP%]   .btn-hide.collapsed[_ngcontent-%COMP%]{background-image:url(up.4943769bc0c142a3.svg)}.header[_ngcontent-%COMP%]   .btn-turn-off[_ngcontent-%COMP%]{background-image:url(turn-off.bdd3b4a95d2281a2.svg)}.header[_ngcontent-%COMP%]   .btn-turn-off[_ngcontent-%COMP%]:hover{background-image:url(turn-off-h.a4314be086df307c.svg)}"],changeDetection:0}),n})();var Pw=(()=>(function(n){n.Reply="reply",n.Translate="translate"}(Pw||(Pw={})),Pw))(),Lb=(()=>(function(n){n.Header="header"}(Lb||(Lb={})),Lb))();function n3e(n,t){if(1&n&&(R(0,"span",5),U(1),j(2,"maskedUsername"),D()),2&n){const e=ne();E(1),te(" ",W(2,1,e.banInfo.playerName)," ")}}function i3e(n,t){1&n&&(R(0,"span"),U(1),j(2,"transloco"),D()),2&n&&(E(1),te(" ",W(2,1,"game.chat-widget.chat-message.chat-message-ban.you")," "))}function r3e(n,t){1&n&&(R(0,"span"),U(1),j(2,"transloco"),D()),2&n&&(E(1),te(" ",W(2,1,"game.chat-widget.chat-message.chat-message-ban.has been")," "))}function s3e(n,t){1&n&&(R(0,"span"),U(1),j(2,"transloco"),D()),2&n&&(E(1),te(" ",W(2,1,"game.chat-widget.chat-message.chat-message-ban.have been")," "))}function o3e(n,t){1&n&&(R(0,"span",6),U(1),j(2,"transloco"),D()),2&n&&(E(1),te(" ",W(2,1,"game.chat-widget.chat-message.chat-message-ban.banned-other")," "))}function a3e(n,t){1&n&&(R(0,"span",6),U(1),j(2,"transloco"),D()),2&n&&(E(1),te(" ",W(2,1,"game.chat-widget.chat-message.chat-message-ban.banned-me")," "))}function l3e(n,t){1&n&&(at(0),R(1,"span"),U(2),j(3,"transloco"),D(),lt()),2&n&&(E(2),Ye(W(3,1,"game.chat-widget.chat-message.chat-message-ban.from chat")))}function c3e(n,t){if(1&n&&(at(0),R(1,"span"),U(2),j(3,"transloco"),D(),R(4,"span")(5,"span"),U(6),j(7,"date"),D()(),lt()),2&n){const e=ne();E(2),te(" ",W(3,2,"game.chat-widget.chat-message.chat-message-ban.from chat until")," "),E(4),Ye(Ut(7,4,e.banInfo.endDate,"dd.MM.yy, HH:mm"))}}function u3e(n,t){if(1&n&&(R(0,"span"),U(1),j(2,"transloco"),D()),2&n){const e=ne();E(1),te(" ",W(2,1,"game.chat-widget.chat-message.chat-message-ban."+e.banInfo.reason)," ")}}function d3e(n,t){if(1&n&&(R(0,"span"),U(1),D()),2&n){const e=ne();E(1),Ye(e.banInfo.reason)}}let h3e=(()=>{class n{constructor(){this.isReasonOther=!1}ngOnInit(){this.setBanReasonShown()}setBanReasonShown(){switch(this.banInfo.reason){case"strong language":case"spam":this.isReasonOther=!1;break;default:this.isReasonOther=!0}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=rt({type:n,selectors:[["app-chat-message-ban"]],inputs:{banInfo:"banInfo"},decls:15,vars:13,consts:[[1,"message-ban"],[1,"text","canSelect"],["class","player-name",4,"ngIf"],[4,"ngIf"],["class","font-weight-bold",4,"ngIf"],[1,"player-name"],[1,"font-weight-bold"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1),K(2,n3e,3,3,"span",2),K(3,i3e,3,3,"span",3),K(4,r3e,3,3,"span",3),K(5,s3e,3,3,"span",3),K(6,o3e,3,3,"span",4),K(7,a3e,3,3,"span",4),K(8,l3e,4,3,"ng-container",3),K(9,c3e,8,7,"ng-container",3),R(10,"span"),U(11),j(12,"transloco"),D(),K(13,u3e,3,3,"span",3),K(14,d3e,2,1,"span",3),D()()),2&e&&(E(2),F("ngIf",!i.banInfo.isMe),E(1),F("ngIf",i.banInfo.isMe),E(1),F("ngIf",!i.banInfo.isMe),E(1),F("ngIf",i.banInfo.isMe),E(1),F("ngIf",!i.banInfo.isMe),E(1),F("ngIf",i.banInfo.isMe),E(1),F("ngIf",!i.banInfo.endDate),E(1),F("ngIf",i.banInfo.endDate),E(2),Ye(W(12,11,"game.chat-widget.chat-message.chat-message-ban.reason")),E(2),F("ngIf",!i.isReasonOther),E(1),F("ngIf",i.isReasonOther))},directives:[Nt],pipes:[oa,Gt,Oa],styles:[".message-ban[_ngcontent-%COMP%]{min-height:47px;width:100%;border-radius:6px;box-shadow:4px 4px 6px #0000004a;border:solid 1px #f3000c;display:flex;align-items:center;justify-content:center;font-size:13px}.message-ban[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{min-height:100%;width:100%;text-align:center;padding:7px 10px;line-height:1.2;word-break:break-word}.message-ban[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .player-name[_ngcontent-%COMP%]{color:#f3000c}"],changeDetection:0}),n})(),Bb=(()=>{class n{constructor(e){this.app=e}transform(e){return this.app.config.isCurrencyNameHidden?"":e}}return n.\u0275fac=function(e){return new(e||n)(z(ln,16))},n.\u0275pipe=as({name:"hideCurrency",type:n,pure:!0}),n})(),f3e=(()=>{class n{constructor(e,i,r){this.translate=e,this.datePipe=i,this.hideCurrencyPipe=r,this.defaultBanReasons=["strong language","spam"]}get translatedMessage(){const e=`game.chat-widget.chat-message.chat-message-restriction.${this.restrictionMessage.text}`;if(this.translate.translate(e)){const r=Object.assign({},this.restrictionMessage.params);return r.date&&(r.date=this.formatDate(r.date)),r.reason&&(r.reason=this.translateReason(r.reason)),r.currency&&(r.currency=this.formatCurrency(r.currency)),this.translate.translate(e,r)}return this.restrictionMessage.text}formatDate(e){return this.datePipe.transform(e,"dd.MM.yy, HH:mm")||""}translateReason(e){return this.defaultBanReasons.includes(e)?this.translate.translate(`game.chat-widget.chat-message.chat-message-ban.${e}`):e}formatCurrency(e){return this.hideCurrencyPipe.transform(e)}}return n.\u0275fac=function(e){return new(e||n)(z(op),z(Oa),z(Bb))},n.\u0275cmp=rt({type:n,selectors:[["app-chat-message-restriction"]],inputs:{restrictionMessage:"restrictionMessage"},features:[Jn([Oa,Bb])],decls:4,vars:1,consts:[[1,"message-restriction"],[1,"text","canSelect"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1)(2,"span"),U(3),D()()()),2&e&&(E(3),te(" ",i.translatedMessage," "))},styles:[".message-restriction[_ngcontent-%COMP%]{min-height:47px;width:100%;border-radius:6px;box-shadow:4px 4px 6px #0000004a;border:solid 1px #f3000c;display:flex;align-items:center;justify-content:center;font-size:13px}.message-restriction[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{min-height:100%;width:100%;text-align:center;padding:7px 10px;line-height:1.2;word-break:break-word}"],changeDetection:0}),n})();const p3e=["(\\[b\\]@\\w+\\[\\/b\\])"],g3e=["(\\[b\\])","(\\[\\/b\\])"],m3e={"Good job! \u{1f62e}":!0,"Wow! \u{1f62e}":!0,"Awesome! \u{1f31f}":!0,"Cool! \u{1f60e}":!0,"That's huge! \u{1f6e9}":!0,"Congratulations \u{1f44f}":!0,"Best in this round with HUGE WIN! \u{1f44f}":!0," made a rain! \u{1f327}\u{1f60a}":!0,"Free bets for everyone! \u{1f60a}":!0};function uX(n){return new RegExp(n.join("|"),"g")}function v3e(n,t){1&n&&(R(0,"span",4),U(1," Mod "),D())}function y3e(n,t){1&n&&(R(0,"span",5),U(1," Bot "),D())}let b3e=(()=>{class n{constructor(e,i){this.chat=e,this.maskedUsernamePipe=i}tagUser(){this.chat.tagUser(this.username)}get isModeratorMessageType(){return this.senderType===Cp.Moderator}get isBotMessageType(){return this.senderType===Cp.Bot}get username(){return this.isBotMessageType||this.isModeratorMessageType?this.playerName:this.maskedUsernamePipe.transform(this.playerName)}}return n.\u0275fac=function(e){return new(e||n)(z(dv),z(oa))},n.\u0275cmp=rt({type:n,selectors:[["app-chat-message-name"]],inputs:{playerName:"playerName",senderType:"senderType"},features:[Jn([oa])],decls:6,vars:5,consts:[[1,"name-wrapper"],[1,"name","canSelect",3,"click"],["class","font-weight-bold prefix prefix-mod",4,"ngIf"],["class","font-weight-bold prefix prefix-bot",4,"ngIf"],[1,"font-weight-bold","prefix","prefix-mod"],[1,"font-weight-bold","prefix","prefix-bot"]],template:function(e,i){1&e&&(R(0,"span",0)(1,"span",1),Te("click",function(){return i.tagUser()}),U(2),j(3,"maskedUsername"),D(),K(4,v3e,2,0,"span",2),K(5,y3e,2,0,"span",3),D()),2&e&&(E(2),Ye(W(3,3,i.username)),E(2),F("ngIf",i.isModeratorMessageType),E(1),F("ngIf",i.isBotMessageType))},directives:[Nt],pipes:[oa],styles:[".name-wrapper[_ngcontent-%COMP%]{margin-right:6px;align-items:center}.name-wrapper[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{color:#ffffff80;cursor:pointer}.name-wrapper[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]:hover{cursor:pointer;color:#fff}.name-wrapper[_ngcontent-%COMP%]   .prefix[_ngcontent-%COMP%]{color:#013674;font-size:11px;margin-left:3px;padding:1px 3px;border-radius:4px}.name-wrapper[_ngcontent-%COMP%]   .prefix-mod[_ngcontent-%COMP%]{background-color:#27a708}.name-wrapper[_ngcontent-%COMP%]   .prefix-bot[_ngcontent-%COMP%]{background-color:#1279f1}"],changeDetection:0}),n})();function S3e(n,t){if(1&n&&(R(0,"span",7),U(1),D()),2&n){const e=ne().$implicit;wt("reply-me",e.isReplyForMe),E(1),te(" ",e.str," ")}}function C3e(n,t){1&n&&fe(0,"span",8),2&n&&F("translate","game.chat-widget.chat-message."+ne().$implicit.str)}function E3e(n,t){if(1&n&&(R(0,"span"),U(1),D()),2&n){const e=ne().$implicit;E(1),Ye(e.str)}}function T3e(n,t){if(1&n&&(at(0)(1,3),K(2,S3e,2,3,"span",4),K(3,C3e,1,1,"span",5),K(4,E3e,2,1,"span",6),lt()()),2&n){const e=t.$implicit,i=ne();E(1),F("ngSwitch",e.type),E(1),F("ngSwitchCase",i.messageChunkTypes.Reply),E(1),F("ngSwitchCase",i.messageChunkTypes.Translate)}}let w3e=(()=>{class n{constructor(){this.messageChunkTypes=Pw,this.messageSenderTypes=Cp,this.messageChunks=[]}ngOnInit(){this.makeMessageChunks()}makeMessageChunks(){this.message&&this.message.split(uX(p3e)).forEach(i=>{if(""===i)return;const r=this.getChunkTypeMessage(i),s={str:this.getChunkMessage(i,r),type:r};this.messageChunks.push(s)})}getChunkMessage(e,i){return i===this.messageChunkTypes.Reply?e.replace(uX(g3e),""):e}getChunkTypeMessage(e){return function _3e(n){return/(\[b\]@\w+\[\/b\])/g.test(n)}(e)?this.messageChunkTypes.Reply:this.isShouldBeTranslated&&m3e.hasOwnProperty(e)?this.messageChunkTypes.Translate:""}get isShouldBeTranslated(){return this.senderType===this.messageSenderTypes.Bot||this.messageType===Bl.Rain||this.messageType===Bl.ShareBet}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=rt({type:n,selectors:[["app-chat-message-text"]],inputs:{messageType:"messageType",senderType:"senderType",message:"message",playerName:"playerName"},decls:3,vars:3,consts:[[1,"text","canSelect"],[3,"senderType","playerName"],[4,"ngFor","ngForOf"],[3,"ngSwitch"],["class","reply",3,"reply-me",4,"ngSwitchCase"],[3,"translate",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"reply"],[3,"translate"]],template:function(e,i){1&e&&(R(0,"span",0),fe(1,"app-chat-message-name",1),K(2,T3e,5,3,"ng-container",2),D()),2&e&&(E(1),F("senderType",i.senderType)("playerName",i.playerName),E(1),F("ngForOf",i.messageChunks))},directives:[b3e,oi,Fs,co,iu],styles:[".text[_ngcontent-%COMP%]{word-break:break-word;white-space:pre-line;margin-top:3px;color:#b1b7bd}.text[_ngcontent-%COMP%]   .reply[_ngcontent-%COMP%]{color:#fff}.text[_ngcontent-%COMP%]   .reply-me[_ngcontent-%COMP%]{color:#e50539}"],changeDetection:0}),n})();function M3e(n,t){if(1&n&&(R(0,"div",3),U(1),D()),2&n){const e=ne();E(1),te(" ",e.usersLikesNumber," ")}}let rg=class{constructor(t,e){this.cd=t,this.stomp=e,this.loading=!1}ngOnInit(){this.stomp.response(Pi.MessageLike).pipe(Bt(t=>this.messageId===t.messageId),gr(t=>{this.loading=!1,this.usersLikesNumber=t.likesNumber}),Ct(this)).subscribe(()=>this.cd.detectChanges()),this.stomp.response(Pi.MessageUnlike).pipe(Bt(t=>this.messageId===t.messageId),gr(t=>{this.loading=!1,this.usersLikesNumber=t.likesNumber}),Ct(this)).subscribe(()=>this.cd.detectChanges())}onLike(){this.loading||(this.loading=!0,this.isMeLiked?(this.usersLikesNumber-=1,this.stomp.request(yo.MessageUnlike,{messageId:this.messageId})):(this.usersLikesNumber+=1,this.stomp.request(yo.MessageLike,{messageId:this.messageId})),this.isMeLiked=!this.isMeLiked,this.cd.detectChanges())}get hasLikes(){return!!this.usersLikesNumber}get isActiveMeLike(){return!!this.isMeLiked}};function O3e(n,t){if(1&n&&(at(0),R(1,"div",3)(2,"div",4),fe(3,"img",5),D(),R(4,"div",6)(5,"div",7),fe(6,"app-chat-message-text",8),D()(),R(7,"div",9),fe(8,"app-chat-message-likes",10),D()(),lt()),2&n){const e=ne();let i;E(3),F("src",e.getAvatar(e.message),rn)("alt",e.getAvatar(e.message)),E(3),F("messageType",e.message.type)("playerName",e.message.senderName)("senderType",e.message.senderType)("message",e.message.text),E(2),F("messageId",e.message.id)("isMeLiked",null!==(i=e.message.likesInfo.isMe)&&void 0!==i&&i)("usersLikesNumber",e.message.likesInfo.likesNumber)}}function P3e(n,t){if(1&n&&(at(0),R(1,"div",3)(2,"div",4),fe(3,"img",5),D(),R(4,"div",11)(5,"div",7),fe(6,"app-chat-message-text",8),D()(),R(7,"div",9),fe(8,"app-chat-message-likes",10),D()(),lt()),2&n){const e=ne();let i;E(3),F("src",e.getAvatar(e.message),rn)("alt",e.getAvatar(e.message)),E(3),F("messageType",e.message.type)("playerName",e.message.senderName)("senderType",e.message.senderType)("message",e.message.text),E(2),F("messageId",e.message.id)("isMeLiked",null!==(i=e.message.likesInfo.isMe)&&void 0!==i&&i)("usersLikesNumber",e.message.likesInfo.likesNumber)}}rg.\u0275fac=function(t){return new(t||rg)(z(Sn),z(Da))},rg.\u0275cmp=rt({type:rg,selectors:[["app-chat-message-likes"]],inputs:{messageId:"messageId",isMeLiked:"isMeLiked",usersLikesNumber:"usersLikesNumber"},decls:3,vars:3,consts:[[1,"btn-block"],["class","font-weight-bold likes-number",4,"ngIf"],[1,"btn-like",3,"click"],[1,"font-weight-bold","likes-number"]],template:function(t,e){1&t&&(R(0,"div",0),K(1,M3e,2,1,"div",1),R(2,"div",2),Te("click",function(){return e.onLike()}),D()()),2&t&&(E(1),F("ngIf",e.hasLikes),E(1),wt("active",e.isActiveMeLike))},directives:[Nt],styles:[".btn-block[_ngcontent-%COMP%]{margin-top:4px;height:12px;display:flex;justify-content:center;color:#767b85}.btn-block[_ngcontent-%COMP%]   .likes-number[_ngcontent-%COMP%]{position:relative}.btn-block[_ngcontent-%COMP%]   .btn-like[_ngcontent-%COMP%]{height:100%;width:12px;padding:0;margin:0 2px;cursor:pointer;background-image:var(--urlImgLike);background-repeat:no-repeat;background-position:center;background-size:contain;--urlImgLike: url(like.f7eef68f7ba722a9.svg);--urlImgLikeH: url(like-h.42729805ca89d70b.svg)}.btn-block[_ngcontent-%COMP%]   .btn-like.active[_ngcontent-%COMP%]{background-image:var(--urlImgLikeH)}.btn-block[_ngcontent-%COMP%]   .btn-like[_ngcontent-%COMP%]:active{transform:translateY(1px);background-image:var(--urlImgLikeH)}@media (pointer: fine) and (hover: hover){.btn-block[_ngcontent-%COMP%]   .btn-like[_ngcontent-%COMP%]:hover{background-image:var(--urlImgLikeH)}}"],changeDetection:0}),rg=Ke([Qn()],rg);let x3e=(()=>{class n{constructor(){this.messageRegularTypes=Lb}getAvatar(e){return Mi.avatarPath+e.senderAvatar+`?v=${Mi.version}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=rt({type:n,selectors:[["app-chat-message-regular"]],inputs:{message:"message",type:"type"},decls:3,vars:2,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"message-wrapper"],[1,"avatar-block"],[1,"avatar",3,"src","alt"],[1,"msg-block","msg-block-type-header"],[1,"msg-data"],[3,"messageType","playerName","senderType","message"],[1,"likes-block"],[3,"messageId","isMeLiked","usersLikesNumber"],[1,"msg-block"]],template:function(e,i){1&e&&(at(0,0),K(1,O3e,9,9,"ng-container",1),K(2,P3e,9,9,"ng-container",2),lt()),2&e&&(F("ngSwitch",i.type),E(1),F("ngSwitchCase",i.messageRegularTypes.Header))},directives:[Fs,co,w3e,rg,iu],styles:[".message-wrapper[_ngcontent-%COMP%]{display:flex;width:100%;padding:0 10px 0 8px;align-items:flex-start;border-radius:8px;line-height:normal}.message-wrapper[_ngcontent-%COMP%]   .avatar-block[_ngcontent-%COMP%]{text-align:center}.message-wrapper[_ngcontent-%COMP%]   .avatar-block[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{min-width:22px;min-height:22px;max-width:22px;max-height:22px;border-radius:50%}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]{border-radius:17px;display:flex;flex-direction:column;width:100%;padding:2px 10px 5px 4px}.message-wrapper[_ngcontent-%COMP%]   .msg-block.msg-block-typ-header[_ngcontent-%COMP%]{padding:2px 10px 5px 5px}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;width:100%;align-items:center;justify-content:space-between}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .reply-mobile-wrapper[_ngcontent-%COMP%]{display:inline-block;width:60px;position:absolute;top:-16px;margin-left:auto;margin-right:auto;left:0;right:0}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .reply-wrapper[_ngcontent-%COMP%]{display:none}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .msg-data[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin-top:3px;word-break:break-word}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .msg-data[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .reply[_ngcontent-%COMP%]{color:#fff}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .msg-data[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .reply-me[_ngcontent-%COMP%]{color:#e50539}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .msg-data[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .emoji[_ngcontent-%COMP%]{font-size:24px}.message-wrapper[_ngcontent-%COMP%]   .likes-block[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;flex-basis:32px}"],changeDetection:0}),n})(),I3e=(()=>{class n{constructor(e,i){this.app=e,this.main=i}}return n.\u0275fac=function(e){return new(e||n)(z(ln),z(Zi))},n.\u0275cmp=rt({type:n,selectors:[["app-chat-share-bet"]],inputs:{betInfo:"betInfo"},decls:38,vars:35,consts:[[1,"wrapper"],[1,"header"],[1,"fairness-i","position-absolute","mr-2","mt-2","disabled-on-game-focused",3,"click"],[1,"user","d-flex","justify-content-center","align-items-center"],[1,"avatar","mr-1",3,"src","alt"],[1,"info-blocks"],[1,"info-block"],[1,"title-info-block"],["appColoredMultiplier","",1,"info-data","font-weight-bold"],[1,"info-data"],[1,"info-data",3,"isFreeBet","amount"]],template:function(e,i){if(1&e&&(R(0,"div",0)(1,"div",1)(2,"div",2),Te("click",function(){return i.main.checkFairness(i.betInfo.roundId)}),D()(),R(3,"div",3),fe(4,"img",4),R(5,"div"),U(6),j(7,"maskedUsername"),D()(),R(8,"div",5)(9,"div",6)(10,"div",7),U(11),j(12,"transloco"),D(),R(13,"div",8),U(14),j(15,"multiplierPrecision"),D()(),R(16,"div",6)(17,"div",7),U(18),j(19,"transloco"),j(20,"hideCurrency"),D(),R(21,"div",9),U(22),j(23,"currencyPrecision"),D()()(),R(24,"div",5)(25,"div",6)(26,"div",7),U(27),j(28,"transloco"),D(),R(29,"div",9),U(30),j(31,"multiplierPrecision"),D()(),R(32,"div",6)(33,"div",7),U(34),j(35,"transloco"),j(36,"hideCurrency"),D(),fe(37,"app-bet-amount",10),D()()()),2&e){let r,s,o;E(4),F("src",i.app.getAvatarUrl(i.betInfo.playerAvatar),rn)("alt",i.betInfo.playerName),E(2),te(" ",W(7,14,i.betInfo.playerName)," "),E(5),te("",W(12,16,"shared.cashed_out"),":"),E(3),te(" ",W(15,18,null!==(r=i.betInfo.cashOutMultiplier)&&void 0!==r?r:0),"x "),E(4),Un(" ",W(19,20,"shared.win")," ",W(20,22,i.betInfo.currency),": "),E(4),te(" ",Ut(23,24,null!==(s=i.betInfo.winAmount)&&void 0!==s?s:0,i.betInfo.currencyPrecision)," "),E(5),te("",W(28,27,"shared.round"),":"),E(3),te(" ",W(31,29,i.betInfo.roundMaxMultiplier),"x "),E(4),Un(" ",W(35,31,"shared.bet")," ",W(36,33,i.betInfo.currency),": "),E(3),F("isFreeBet",null!==(o=i.betInfo.isFreeBet)&&void 0!==o&&o)("amount",i.betInfo.betAmount)}},directives:[ED,Dm],pipes:[oa,Gt,uu,Bb,Xn],styles:[".wrapper[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;font-size:11px}.wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;position:relative}.wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{margin-top:3px;font-size:13px}.wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .fairness-i[_ngcontent-%COMP%]{background:url(icon-provabyfair.71eb97eaadfab595.svg) no-repeat center center/contain;min-width:14px;max-width:14px;height:16px;cursor:pointer;right:0;top:0}.wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .fairness-wrapper[_ngcontent-%COMP%]{margin-left:5px;right:5px;top:5px;position:absolute}.wrapper[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{text-align:center;font-size:14px;color:#fff;padding:10px 0 20px}.wrapper[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin-left:2px;width:22px;height:22px}.wrapper[_ngcontent-%COMP%]   .info-blocks[_ngcontent-%COMP%]{display:flex;margin-bottom:11px}.wrapper[_ngcontent-%COMP%]   .info-blocks[_ngcontent-%COMP%]   .info-block[_ngcontent-%COMP%]{width:50%;font-size:12px;flex-shrink:0;padding-left:12%}.wrapper[_ngcontent-%COMP%]   .info-blocks[_ngcontent-%COMP%]   .info-block[_ngcontent-%COMP%]   .title-info-block[_ngcontent-%COMP%]{opacity:.3;display:flex;justify-content:flex-start;align-items:center;height:14px}.wrapper[_ngcontent-%COMP%]   .info-blocks[_ngcontent-%COMP%]   .info-block[_ngcontent-%COMP%]   .info-data[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;height:14px;margin-top:5px;color:#fff}"],changeDetection:0}),n})();var Ub=(()=>(function(n){n.Claimed="CLAIMED",n.Free="FREE",n.Canceled="CANCELED"}(Ub||(Ub={})),Ub))();function A3e(n,t){if(1&n&&(at(0),R(1,"div",11),fe(2,"img",12),R(3,"div",13),U(4),j(5,"maskedUsername"),D()(),lt()),2&n){const e=ne().$implicit,i=ne();E(2),F("src",i.app.getAvatarUrl(e.playerAvatar),rn),E(1),wt("me",e.isMe),E(1),te(" ",W(5,4,e.playerName)," ")}}function R3e(n,t){if(1&n){const e=ft();at(0),R(1,"button",14),Te("click",function(){ot(e);const r=ne().$implicit,s=ne();return s.onClaimRain({place:r.place,rainId:s.rainInfo.id})}),U(2),j(3,"transloco"),D(),lt()}if(2&n){const e=ne(2);E(1),F("disabled",!e.rainInfo.isCanClaim),E(1),te(" ",W(3,2,"shared.claim")," ")}}function D3e(n,t){1&n&&(at(0),R(1,"button",15),U(2),j(3,"transloco"),D(),lt()),2&n&&(E(1),F("disabled",!0),E(1),te(" ",W(3,2,"shared.claim")," "))}function N3e(n,t){if(1&n&&(R(0,"div",7)(1,"div",8)(2,"span"),U(3),j(4,"currencyPrecision"),j(5,"hideCurrency"),D()(),at(6,9),K(7,A3e,6,6,"ng-container",10),K(8,R3e,4,4,"ng-container",10),K(9,D3e,4,4,"ng-container",10),lt(),D()),2&n){const e=t.$implicit,i=ne();E(3),Un(" ",Ut(4,6,i.rainInfo.amountPerPlayer,i.rainInfo.currencyPrecision)," ",W(5,9,i.rainInfo.currency)," "),E(3),F("ngSwitch",e.status),E(1),F("ngSwitchCase",i.rainNodeStatus.Claimed),E(1),F("ngSwitchCase",i.rainNodeStatus.Free),E(1),F("ngSwitchCase",i.rainNodeStatus.Canceled)}}let sg=class{constructor(t,e,i,r){this.app=t,this.stomp=e,this.cd=i,this.soundService=r,this.rainNodeStatus=Ub}ngOnInit(){this.stomp.response(Pi.RainClaim).pipe(Bt(t=>{var e;return t.rainId===this.rainInfo.id||(null===(e=t.errorMessageParams)||void 0===e?void 0:e.rainId)===this.rainInfo.id}),Ct(this)).subscribe(t=>this.onRainClaimResponse(t))}onClaimRain(t){this.rainInfo.isCanClaim&&(this.rainInfo.isCanClaim=!1,this.stomp.request(yo.RainClaim,t))}onRainClaimResponse(t){200!==t.code?this.rainInfo.isCanClaim=910!==t.code:(t.status!==Ub.Canceled&&this.soundService.play(mo.FreeBet),this.rainInfo.placesInfo[t.place-1]=Object.assign(Object.assign({},this.rainInfo.placesInfo[t.place-1]),{playerName:t.playerName,playerAvatar:t.playerAvatar,isMe:t.isMe,status:t.status})),this.cd.detectChanges()}};function k3e(n,t){if(1&n&&(at(0),R(1,"div",3),fe(2,"app-chat-message-ban",4),D(),lt()),2&n){const e=ne();E(2),F("banInfo",e.message.banInfo)}}function F3e(n,t){if(1&n&&(at(0),R(1,"div",3),fe(2,"app-chat-message-restriction",5),D(),lt()),2&n){const e=ne();E(2),F("restrictionMessage",e.message)}}sg.\u0275fac=function(t){return new(t||sg)(z(ln),z(Da),z(Sn),z(fh))},sg.\u0275cmp=rt({type:sg,selectors:[["app-chat-rain"]],inputs:{rainInfo:"rainInfo"},decls:14,vars:14,consts:[[1,"rain-wrapper"],[1,"body"],[1,"claim-wrapper"],["class","claim-block",4,"ngFor","ngForOf"],[1,"footer"],[1,"footer-info"],[1,"amount"],[1,"claim-block"],[1,"amount","mr-2","px-2"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"user","d-flex","align-items-center"],["alt","avatar",1,"avatar","mr-1",3,"src"],[1,"username"],[1,"btn","btn-warning","btn-claim","text-uppercase",3,"disabled","click"],[1,"btn","btn-warning","btn-claim","text-uppercase",3,"disabled"]],template:function(t,e){1&t&&(R(0,"div",0)(1,"div",1)(2,"div",2),K(3,N3e,10,11,"div",3),D()(),R(4,"div",4)(5,"div",5)(6,"span"),U(7),j(8,"transloco"),j(9,"transloco"),D(),R(10,"span",6),U(11),j(12,"currencyPrecision"),j(13,"hideCurrency"),D()()()()),2&t&&(E(3),F("ngForOf",e.rainInfo.placesInfo),E(4),Un(" ",W(8,5,"shared.rain")," \u{1f327} | ",W(9,7,"shared.total")," "),E(4),Un(" ",Ut(12,9,e.rainInfo.fullAmount,e.rainInfo.currencyPrecision)," ",W(13,12,e.rainInfo.currency)," "))},directives:[oi,Fs,co],pipes:[Xn,Bb,oa,Gt],styles:[".rain-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;background:rgba(0,0,0,.2)}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:20px 0 15px}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:flex-start;margin:5px auto;color:#fff}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{margin-right:9px;border-radius:11px;border:solid 1px #427f00;background-color:#123405;font-size:14px;padding-top:3px;padding-bottom:3px}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin-left:2px;width:22px;height:22px}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .username.me[_ngcontent-%COMP%]{color:#e30c32}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]   .btn-claim[_ngcontent-%COMP%]{min-width:80px;height:22px;font-size:14px;padding:0 5px}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]   .btn-claim[_ngcontent-%COMP%]:disabled{cursor:auto;opacity:.2;pointer-events:none}.rain-wrapper[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{max-height:34px;min-height:34px;width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;color:#9ea0a3}.rain-wrapper[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{color:#fff}"],changeDetection:0}),sg=Ke([Qn()],sg);const L3e=function(n,t,e){return{low:n,medium:t,high:e}};function B3e(n,t){if(1&n&&(at(0),R(1,"div",6)(2,"div",7),fe(3,"app-chat-message-regular",8),D(),fe(4,"app-chat-share-bet",9),D(),lt()),2&n){const e=ne();E(1),F("ngClass",y_(4,L3e,e.message.betInfo.cashOutMultiplier>=e.multiplierLevel.Low&&e.message.betInfo.cashOutMultiplier<e.multiplierLevel.Medium,e.message.betInfo.cashOutMultiplier>=e.multiplierLevel.Medium&&e.message.betInfo.cashOutMultiplier<e.multiplierLevel.High,e.message.betInfo.cashOutMultiplier>=e.multiplierLevel.High)),E(2),F("type",e.messageRegularTypes.Header)("message",e.message),E(1),F("betInfo",e.message.betInfo)}}function U3e(n,t){if(1&n&&(at(0),R(1,"div",10)(2,"div",7),fe(3,"app-chat-message-regular",8),D(),fe(4,"app-chat-rain",11),D(),lt()),2&n){const e=ne();E(3),F("type",e.messageRegularTypes.Header)("message",e.message),E(1),F("rainInfo",e.message.rainInfo)}}const G3e=function(n,t){return{width:n,height:t}};function j3e(n,t){if(1&n&&(at(0),R(1,"div",12)(2,"div"),fe(3,"app-chat-message-regular",8),D(),R(4,"div",13)(5,"div",14),fe(6,"img",15),D()()(),lt()),2&n){const e=ne();E(3),F("type",e.messageRegularTypes.Header)("message",e.message),E(2),F("ngStyle",ta(4,G3e,e.gifWidth+"px",e.gifHeight+"px")),E(1),F("src",e.gifInfo.url,rn)}}function H3e(n,t){if(1&n&&(at(0),R(1,"div",3),fe(2,"app-chat-message-regular",16),D(),lt()),2&n){const e=ne();E(2),F("message",e.message)}}let V3e=(()=>{class n{constructor(){this.gifWidth=0,this.gifHeight=0,this.gifMaxLength=180,this.messageType=Bl,this.messageRegularTypes=Lb,this.multiplierLevel=ph}ngOnInit(){this.isGifShown&&(this.gifInfo=this.message.gifInfo,this.getGifSizes())}getGifSizes(){const e=this.gifInfo.dims[0],i=this.gifInfo.dims[1],r=e>=i;this.gifWidth=r?this.gifMaxLength:e/(i/this.gifMaxLength),this.gifHeight=r?i/(e/this.gifMaxLength):this.gifMaxLength}get isGifShown(){return this.message.type===this.messageType.Gif&&!!this.message.gifInfo}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=rt({type:n,selectors:[["app-chat-message"]],inputs:{message:"message"},decls:7,vars:6,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"mb-2"],[3,"banInfo"],[3,"restrictionMessage"],[1,"win-info-wrapper","mb-2",3,"ngClass"],[1,"msg-wrapper"],[3,"type","message"],[3,"betInfo"],[1,"rain-wrapper","mb-2"],[3,"rainInfo"],[1,"gif-wrapper","mb-2"],[1,"img-wrapper"],[1,"img-container",3,"ngStyle"],["alt","gif",1,"img",3,"src"],[3,"message"]],template:function(e,i){1&e&&(at(0,0),K(1,k3e,3,1,"ng-container",1),K(2,F3e,3,1,"ng-container",1),K(3,B3e,5,8,"ng-container",1),K(4,U3e,5,3,"ng-container",1),K(5,j3e,7,7,"ng-container",1),K(6,H3e,3,1,"ng-container",2),lt()),2&e&&(F("ngSwitch",i.message.type),E(1),F("ngSwitchCase",i.messageType.Ban),E(1),F("ngSwitchCase",i.messageType.Restricted),E(1),F("ngSwitchCase",i.messageType.ShareBet),E(1),F("ngSwitchCase",i.messageType.Rain),E(1),F("ngSwitchCase",i.messageType.Gif))},directives:[Fs,co,h3e,f3e,ys,x3e,I3e,sg,vf,iu],styles:[".win-info-wrapper[_ngcontent-%COMP%]{border-radius:6px;background-color:#1b1c1d}.win-info-wrapper.low[_ngcontent-%COMP%]{background-color:#000e34}.win-info-wrapper.medium[_ngcontent-%COMP%]{background-color:#260034}.win-info-wrapper.high[_ngcontent-%COMP%]{background-color:#34002f}.win-info-wrapper[_ngcontent-%COMP%]   .msg-wrapper[_ngcontent-%COMP%]{background:rgba(0,0,0,.2)}.rain-wrapper[_ngcontent-%COMP%]{border-radius:6px;background-color:#055522}.gif-wrapper[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]{margin:4px 10px 0 30px}.gif-wrapper[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]{border-radius:6px;overflow:hidden}.gif-wrapper[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:100%;height:100%}.msg-wrapper[_ngcontent-%COMP%]{min-height:40px;padding-top:10px}"],changeDetection:0}),n})();const z3e=["container"];function W3e(n,t){1&n&&fe(0,"app-chat-message",3),2&n&&F("message",t.$implicit)}let $3e=(()=>{class n{constructor(e,i){this.messageService=e,this.scrollService=i,this.trackByMessageId=(r,s)=>s.id}ngAfterViewInit(){this.scrollService.scrollNativeElement=this.containerRef.nativeElement,this.scrollService.scrollToBottom(300)}}return n.\u0275fac=function(e){return new(e||n)(z(Ep),z(nb))},n.\u0275cmp=rt({type:n,selectors:[["app-chat-messages-list"]],viewQuery:function(e,i){if(1&e&&Lr(z3e,5),2&e){let r;kn(r=Fn())&&(i.containerRef=r.first)}},decls:4,vars:4,consts:[[1,"messages-container","scroll-y"],["container",""],[3,"message",4,"ngFor","ngForOf","ngForTrackBy"],[3,"message"]],template:function(e,i){1&e&&(R(0,"div",0,1),K(2,W3e,1,1,"app-chat-message",2),j(3,"async"),D()),2&e&&(E(2),F("ngForOf",W(3,2,i.messageService.messages$))("ngForTrackBy",i.trackByMessageId))},directives:[oi,V3e],pipes:[Pr],styles:[".messages-container[_ngcontent-%COMP%]{height:calc(100% - 67px);width:100%;max-width:360px;margin:0;position:relative;padding-top:10px;z-index:100;font-size:13px;line-height:13px;overflow-x:hidden}"],changeDetection:0}),n})();var jh=(()=>(function(n){n.Emoji="Emoji",n.Gif="Gif",n.Rain="Rain"}(jh||(jh={})),jh))();const Ua=JSON.parse('[{"no":1,"title":"face with tears of joy","category":"Favorites","pic":"\u{1f602}"},{"no":2,"title":"smiling face with heart-eyes","category":"Favorites","pic":"\u{1f60d}"},{"no":3,"title":"smiling face with smiling eyes","category":"Favorites","pic":"\u{1f60a}"},{"no":4,"title":"confused face","category":"Favorites","pic":"\u{1f615}"},{"no":5,"title":"OK hand","category":"Favorites","pic":"\u{1f44c}"},{"no":6,"title":"rocket","category":"Favorites","pic":"\u{1f680}"},{"no":7,"title":"trophy","category":"Favorites","pic":"\u{1f3c6}"},{"no":8,"title":"beer mug","category":"Favorites","pic":"\u{1f37a}"},{"no":9,"title":"red heart","category":"Favorites","pic":"\u2764\ufe0f"},{"no":10,"title":"grinning face with smiling eyes","category":"People","pic":"\u{1f604}"},{"no":11,"title":"grinning face with big eyes","category":"People","pic":"\u{1f603}"},{"no":12,"title":"grinning face","category":"People","pic":"\u{1f600}"},{"no":13,"title":"smiling face with smiling eyes","category":"People","pic":"\u{1f60a}"},{"no":14,"title":"winking face","category":"People","pic":"\u{1f609}"},{"no":15,"title":"smiling face with heart-eyes","category":"People","pic":"\u{1f60d}"},{"no":16,"title":"face blowing a kiss","category":"People","pic":"\u{1f618}"},{"no":17,"title":"kissing face with closed eyes","category":"People","pic":"\u{1f61a}"},{"no":18,"title":"kissing face","category":"People","pic":"\u{1f617}"},{"no":19,"title":"kissing face with smiling eyes","category":"People","pic":"\u{1f619}"},{"no":20,"title":"winking face with tongue","category":"People","pic":"\u{1f61c}"},{"no":21,"title":"squinting face with tongue","category":"People","pic":"\u{1f61d}"},{"no":22,"title":"face with tongue","category":"People","pic":"\u{1f61b}"},{"no":23,"title":"flushed face","category":"People","pic":"\u{1f633}"},{"no":24,"title":"beaming face with smiling eyes","category":"People","pic":"\u{1f601}"},{"no":25,"title":"pensive face","category":"People","pic":"\u{1f614}"},{"no":26,"title":"relieved face","category":"People","pic":"\u{1f60c}"},{"no":27,"title":"unamused face","category":"People","pic":"\u{1f612}"},{"no":28,"title":"disappointed face","category":"People","pic":"\u{1f61e}"},{"no":29,"title":"persevering face","category":"People","pic":"\u{1f623}"},{"no":30,"title":"crying face","category":"People","pic":"\u{1f622}"},{"no":31,"title":"face with tears of joy","category":"People","pic":"\u{1f602}"},{"no":32,"title":"loudly crying face","category":"People","pic":"\u{1f62d}"},{"no":33,"title":"sleepy face","category":"People","pic":"\u{1f62a}"},{"no":34,"title":"sad but relieved face","category":"People","pic":"\u{1f625}"},{"no":35,"title":"anxious face with sweat","category":"People","pic":"\u{1f630}"},{"no":36,"title":"grinning face with sweat","category":"People","pic":"\u{1f605}"},{"no":37,"title":"downcast face with sweat","category":"People","pic":"\u{1f613}"},{"no":38,"title":"weary face","category":"People","pic":"\u{1f629}"},{"no":39,"title":"tired face","category":"People","pic":"\u{1f62b}"},{"no":40,"title":"fearful face","category":"People","pic":"\u{1f628}"},{"no":41,"title":"face screaming in fear","category":"People","pic":"\u{1f631}"},{"no":42,"title":"angry face","category":"People","pic":"\u{1f620}"},{"no":43,"title":"pouting face","category":"People","pic":"\u{1f621}"},{"no":44,"title":"face with steam from nose","category":"People","pic":"\u{1f624}"},{"no":45,"title":"confounded face","category":"People","pic":"\u{1f616}"},{"no":46,"title":"grinning squinting face","category":"People","pic":"\u{1f606}"},{"no":47,"title":"face savoring food","category":"People","pic":"\u{1f60b}"},{"no":48,"title":"face with medical mask","category":"People","pic":"\u{1f637}"},{"no":49,"title":"smiling face with sunglasses","category":"People","pic":"\u{1f60e}"},{"no":50,"title":"sleeping face","category":"People","pic":"\u{1f634}"},{"no":51,"title":"dizzy face","category":"People","pic":"\u{1f635}"},{"no":52,"title":"astonished face","category":"People","pic":"\u{1f632}"},{"no":53,"title":"worried face","category":"People","pic":"\u{1f61f}"},{"no":54,"title":"frowning face with open mouth","category":"People","pic":"\u{1f626}"},{"no":55,"title":"anguished face","category":"People","pic":"\u{1f627}"},{"no":56,"title":"angry face with horns","category":"People","pic":"\u{1f47f}"},{"no":57,"title":"face with open mouth","category":"People","pic":"\u{1f62e}"},{"no":58,"title":"grimacing face","category":"People","pic":"\u{1f62c}"},{"no":59,"title":"neutral face","category":"People","pic":"\u{1f610}"},{"no":60,"title":"confused face","category":"People","pic":"\u{1f615}"},{"no":61,"title":"hushed face","category":"People","pic":"\u{1f62f}"},{"no":62,"title":"smirking face","category":"People","pic":"\u{1f60f}"},{"no":63,"title":"expressionless face","category":"People","pic":"\u{1f611}"},{"no":64,"title":"slightly frowning face","category":"People","pic":"\u{1f641}"},{"no":65,"title":"face with rolling eyes","category":"People","pic":"\u{1f644}"},{"no":66,"title":"thinking face","category":"People","pic":"\u{1f914}"},{"no":67,"title":"zipper-mouth face","category":"People","pic":"\u{1f910}"},{"no":68,"title":"face with thermometer","category":"People","pic":"\u{1f912}"},{"no":69,"title":"face with head-bandage","category":"People","pic":"\u{1f915}"},{"no":70,"title":"slightly smiling face","category":"People","pic":"\u{1f642}"},{"no":71,"title":"upside-down face","category":"People","pic":"\u{1f643}"},{"no":72,"title":"money-mouth face","category":"People","pic":"\u{1f911}"},{"no":73,"title":"hugging face","category":"People","pic":"\u{1f917}"},{"no":74,"title":"nerd face","category":"People","pic":"\u{1f913}"},{"no":75,"title":"princess","category":"People","pic":"\u{1f478}"},{"no":76,"title":"ogre","category":"People","pic":"\u{1f479}"},{"no":77,"title":"goblin","category":"People","pic":"\u{1f47a}"},{"no":78,"title":"see-no-evil monkey","category":"People","pic":"\u{1f648}"},{"no":79,"title":"hear-no-evil monkey","category":"People","pic":"\u{1f649}"},{"no":80,"title":"speak-no-evil monkey","category":"People","pic":"\u{1f64a}"},{"no":81,"title":"skull","category":"People","pic":"\u{1f480}"},{"no":82,"title":"alien","category":"People","pic":"\u{1f47d}"},{"no":83,"title":"pile of poo","category":"People","pic":"\u{1f4a9}"},{"no":84,"title":"fire","category":"People","pic":"\u{1f525}"},{"no":85,"title":"sparkles","category":"People","pic":"\u2728"},{"no":86,"title":"glowing star","category":"People","pic":"\u{1f31f}"},{"no":87,"title":"collision","category":"People","pic":"\u{1f4a5}"},{"no":88,"title":"sweat droplets","category":"People","pic":"\u{1f4a6}"},{"no":89,"title":"droplet","category":"People","pic":"\u{1f4a7}"},{"no":90,"title":"zzz","category":"People","pic":"\u{1f4a4}"},{"no":91,"title":"dashing away","category":"People","pic":"\u{1f4a8}"},{"no":92,"title":"ear","category":"People","pic":"\u{1f442}"},{"no":93,"title":"eyes","category":"People","pic":"\u{1f440}"},{"no":94,"title":"nose","category":"People","pic":"\u{1f443}"},{"no":95,"title":"tongue","category":"People","pic":"\u{1f445}"},{"no":96,"title":"mouth","category":"People","pic":"\u{1f444}"},{"no":97,"title":"thumbs up","category":"People","pic":"\u{1f44d}"},{"no":98,"title":"thumbs down","category":"People","pic":"\u{1f44e}"},{"no":99,"title":"OK hand","category":"People","pic":"\u{1f44c}"},{"no":100,"title":"oncoming fist","category":"People","pic":"\u{1f44a}"},{"no":101,"title":"raised fist","category":"People","pic":"\u270a"},{"no":102,"title":"waving hand","category":"People","pic":"\u{1f44b}"},{"no":103,"title":"raised hand","category":"People","pic":"\u270b"},{"no":104,"title":"open hands","category":"People","pic":"\u{1f450}"},{"no":105,"title":"backhand index pointing up","category":"People","pic":"\u{1f446}"},{"no":106,"title":"backhand index pointing down","category":"People","pic":"\u{1f447}"},{"no":107,"title":"backhand index pointing right","category":"People","pic":"\u{1f449}"},{"no":108,"title":"backhand index pointing left","category":"People","pic":"\u{1f448}"},{"no":109,"title":"sign of the horns","category":"People","pic":"\u{1f918}"},{"no":110,"title":"hand with fingers splayed","category":"People","pic":"\u{1f590}"},{"no":111,"title":"vulcan salute","category":"People","pic":"\u{1f596}"},{"no":112,"title":"middle finger","category":"People","pic":"\u{1f595}"},{"no":113,"title":"raising hands","category":"People","pic":"\u{1f64c}"},{"no":114,"title":"folded hands","category":"People","pic":"\u{1f64f}"},{"no":115,"title":"clapping hands","category":"People","pic":"\u{1f44f}"},{"no":116,"title":"flexed biceps","category":"People","pic":"\u{1f4aa}"},{"no":117,"title":"woman dancing","category":"People","pic":"\u{1f483}"},{"no":118,"title":"woman and man holding hands","category":"People","pic":"\u{1f46b}"},{"no":119,"title":"family","category":"People","pic":"\u{1f46a}"},{"no":120,"title":"kiss","category":"People","pic":"\u{1f48f}"},{"no":121,"title":"person gesturing OK","category":"People","pic":"\u{1f646}"},{"no":122,"title":"person gesturing NO","category":"People","pic":"\u{1f645}"},{"no":123,"title":"person tipping hand","category":"People","pic":"\u{1f481}"},{"no":124,"title":"person raising hand","category":"People","pic":"\u{1f64b}"},{"no":125,"title":"person getting massage","category":"People","pic":"\u{1f486}"},{"no":126,"title":"person getting haircut","category":"People","pic":"\u{1f487}"},{"no":127,"title":"nail polish","category":"People","pic":"\u{1f485}"},{"no":128,"title":"bride with veil","category":"People","pic":"\u{1f470}"},{"no":129,"title":"person pouting","category":"People","pic":"\u{1f64e}"},{"no":130,"title":"person frowning","category":"People","pic":"\u{1f64d}"},{"no":131,"title":"person bowing","category":"People","pic":"\u{1f647}"},{"no":132,"title":"top hat","category":"People","pic":"\u{1f3a9}"},{"no":133,"title":"crown","category":"People","pic":"\u{1f451}"},{"no":134,"title":"red heart","category":"People","pic":"\u2764\ufe0f"},{"no":135,"title":"yellow heart","category":"People","pic":"\u{1f49b}"},{"no":136,"title":"blue heart","category":"People","pic":"\u{1f499}"},{"no":137,"title":"purple heart","category":"People","pic":"\u{1f49c}"},{"no":138,"title":"green heart","category":"People","pic":"\u{1f49a}"},{"no":139,"title":"broken heart","category":"People","pic":"\u{1f494}"},{"no":140,"title":"growing heart","category":"People","pic":"\u{1f497}"},{"no":141,"title":"beating heart","category":"People","pic":"\u{1f493}"},{"no":142,"title":"two hearts","category":"People","pic":"\u{1f495}"},{"no":143,"title":"sparkling heart","category":"People","pic":"\u{1f496}"},{"no":144,"title":"revolving hearts","category":"People","pic":"\u{1f49e}"},{"no":145,"title":"heart with arrow","category":"People","pic":"\u{1f498}"},{"no":146,"title":"love letter","category":"People","pic":"\u{1f48c}"},{"no":147,"title":"kiss mark","category":"People","pic":"\u{1f48b}"},{"no":148,"title":"ring","category":"People","pic":"\u{1f48d}"},{"no":149,"title":"gem stone","category":"People","pic":"\u{1f48e}"},{"no":150,"title":"robot","category":"People","pic":"\u{1f916}"},{"no":151,"title":"dog face","category":"Nature","pic":"\u{1f436}"},{"no":152,"title":"wolf","category":"Nature","pic":"\u{1f43a}"},{"no":153,"title":"cat face","category":"Nature","pic":"\u{1f431}"},{"no":154,"title":"mouse face","category":"Nature","pic":"\u{1f42d}"},{"no":155,"title":"hamster","category":"Nature","pic":"\u{1f439}"},{"no":156,"title":"rabbit face","category":"Nature","pic":"\u{1f430}"},{"no":157,"title":"frog","category":"Nature","pic":"\u{1f438}"},{"no":158,"title":"tiger face","category":"Nature","pic":"\u{1f42f}"},{"no":159,"title":"koala","category":"Nature","pic":"\u{1f428}"},{"no":160,"title":"bear","category":"Nature","pic":"\u{1f43b}"},{"no":161,"title":"pig face","category":"Nature","pic":"\u{1f437}"},{"no":162,"title":"pig nose","category":"Nature","pic":"\u{1f43d}"},{"no":163,"title":"cow face","category":"Nature","pic":"\u{1f42e}"},{"no":164,"title":"boar","category":"Nature","pic":"\u{1f417}"},{"no":165,"title":"monkey face","category":"Nature","pic":"\u{1f435}"},{"no":166,"title":"monkey","category":"Nature","pic":"\u{1f412}"},{"no":167,"title":"horse face","category":"Nature","pic":"\u{1f434}"},{"no":168,"title":"ewe","category":"Nature","pic":"\u{1f411}"},{"no":169,"title":"elephant","category":"Nature","pic":"\u{1f418}"},{"no":170,"title":"panda","category":"Nature","pic":"\u{1f43c}"},{"no":171,"title":"penguin","category":"Nature","pic":"\u{1f427}"},{"no":172,"title":"bird","category":"Nature","pic":"\u{1f426}"},{"no":173,"title":"baby chick","category":"Nature","pic":"\u{1f424}"},{"no":174,"title":"front-facing baby chick","category":"Nature","pic":"\u{1f425}"},{"no":175,"title":"hatching chick","category":"Nature","pic":"\u{1f423}"},{"no":176,"title":"chicken","category":"Nature","pic":"\u{1f414}"},{"no":177,"title":"snake","category":"Nature","pic":"\u{1f40d}"},{"no":178,"title":"turtle","category":"Nature","pic":"\u{1f422}"},{"no":179,"title":"bug","category":"Nature","pic":"\u{1f41b}"},{"no":180,"title":"honeybee","category":"Nature","pic":"\u{1f41d}"},{"no":181,"title":"ant","category":"Nature","pic":"\u{1f41c}"},{"no":182,"title":"lady beetle","category":"Nature","pic":"\u{1f41e}"},{"no":183,"title":"snail","category":"Nature","pic":"\u{1f40c}"},{"no":184,"title":"lion","category":"Nature","pic":"\u{1f981}"},{"no":185,"title":"unicorn","category":"Nature","pic":"\u{1f984}"},{"no":186,"title":"spider","category":"Nature","pic":"\u{1f577}"},{"no":187,"title":"spider web","category":"Nature","pic":"\u{1f578}"},{"no":188,"title":"scorpion","category":"Nature","pic":"\u{1f982}"},{"no":189,"title":"crab","category":"Nature","pic":"\u{1f980}"},{"no":190,"title":"turkey","category":"Nature","pic":"\u{1f983}"},{"no":191,"title":"dove","category":"Nature","pic":"\u{1f54a}"},{"no":192,"title":"chipmunk","category":"Nature","pic":"\u{1f43f}"},{"no":193,"title":"octopus","category":"Nature","pic":"\u{1f419}"},{"no":194,"title":"spiral shell","category":"Nature","pic":"\u{1f41a}"},{"no":195,"title":"tropical fish","category":"Nature","pic":"\u{1f420}"},{"no":196,"title":"fish","category":"Nature","pic":"\u{1f41f}"},{"no":197,"title":"dolphin","category":"Nature","pic":"\u{1f42c}"},{"no":198,"title":"spouting whale","category":"Nature","pic":"\u{1f433}"},{"no":199,"title":"horse","category":"Nature","pic":"\u{1f40e}"},{"no":200,"title":"dragon face","category":"Nature","pic":"\u{1f432}"},{"no":201,"title":"blowfish","category":"Nature","pic":"\u{1f421}"},{"no":202,"title":"two-hump camel","category":"Nature","pic":"\u{1f42b}"},{"no":203,"title":"poodle","category":"Nature","pic":"\u{1f429}"},{"no":204,"title":"bouquet","category":"Nature","pic":"\u{1f490}"},{"no":205,"title":"rose","category":"Nature","pic":"\u{1f339}"},{"no":206,"title":"sunflower","category":"Nature","pic":"\u{1f33b}"},{"no":207,"title":"mushroom","category":"Nature","pic":"\u{1f344}"},{"no":208,"title":"cactus","category":"Nature","pic":"\u{1f335}"},{"no":209,"title":"new moon","category":"Nature","pic":"\u{1f311}"},{"no":210,"title":"first quarter moon","category":"Nature","pic":"\u{1f313}"},{"no":211,"title":"waxing gibbous moon","category":"Nature","pic":"\u{1f314}"},{"no":212,"title":"full moon","category":"Nature","pic":"\u{1f315}"},{"no":213,"title":"first quarter moon face","category":"Nature","pic":"\u{1f31b}"},{"no":214,"title":"crescent moon","category":"Nature","pic":"\u{1f319}"},{"no":215,"title":"globe showing Asia-Australia","category":"Nature","pic":"\u{1f30f}"},{"no":216,"title":"sun behind cloud","category":"Nature","pic":"\u26c5"},{"no":217,"title":"snowman without snow","category":"Nature","pic":"\u26c4"},{"no":218,"title":"water wave","category":"Nature","pic":"\u{1f30a}"},{"no":219,"title":"sun behind small cloud","category":"Nature","pic":"\u{1f324}"},{"no":220,"title":"sun behind large cloud","category":"Nature","pic":"\u{1f325}"},{"no":221,"title":"sun behind rain cloud","category":"Nature","pic":"\u{1f326}"},{"no":222,"title":"cloud with rain","category":"Nature","pic":"\u{1f327}"},{"no":223,"title":"cloud with lightning","category":"Nature","pic":"\u{1f329}"},{"no":224,"title":"cloud with snow","category":"Nature","pic":"\u{1f328}"},{"no":225,"title":"wind face","category":"Nature","pic":"\u{1f32c}"},{"no":226,"title":"tornado","category":"Nature","pic":"\u{1f32a}"},{"no":227,"title":"graduation cap","category":"Objects","pic":"\u{1f393}"},{"no":228,"title":"fireworks","category":"Objects","pic":"\u{1f386}"},{"no":229,"title":"sparkler","category":"Objects","pic":"\u{1f387}"},{"no":230,"title":"jack-o-lantern","category":"Objects","pic":"\u{1f383}"},{"no":231,"title":"ghost","category":"Objects","pic":"\u{1f47b}"},{"no":232,"title":"Santa Claus","category":"Objects","pic":"\u{1f385}"},{"no":233,"title":"Christmas tree","category":"Objects","pic":"\u{1f384}"},{"no":234,"title":"wrapped gift","category":"Objects","pic":"\u{1f381}"},{"no":235,"title":"party popper","category":"Objects","pic":"\u{1f389}"},{"no":236,"title":"confetti ball","category":"Objects","pic":"\u{1f38a}"},{"no":237,"title":"balloon","category":"Objects","pic":"\u{1f388}"},{"no":238,"title":"light bulb","category":"Objects","pic":"\u{1f4a1}"},{"no":239,"title":"toilet","category":"Objects","pic":"\u{1f6bd}"},{"no":240,"title":"wrench","category":"Objects","pic":"\u{1f527}"},{"no":241,"title":"nut and bolt","category":"Objects","pic":"\u{1f529}"},{"no":242,"title":"hammer","category":"Objects","pic":"\u{1f528}"},{"no":243,"title":"cigarette","category":"Objects","pic":"\u{1f6ac}"},{"no":244,"title":"bomb","category":"Objects","pic":"\u{1f4a3}"},{"no":245,"title":"pistol","category":"Objects","pic":"\u{1f52b}"},{"no":246,"title":"kitchen knife","category":"Objects","pic":"\u{1f52a}"},{"no":247,"title":"pill","category":"Objects","pic":"\u{1f48a}"},{"no":248,"title":"syringe","category":"Objects","pic":"\u{1f489}"},{"no":249,"title":"money bag","category":"Objects","pic":"\u{1f4b0}"},{"no":250,"title":"yen banknote","category":"Objects","pic":"\u{1f4b4}"},{"no":251,"title":"dollar banknote","category":"Objects","pic":"\u{1f4b5}"},{"no":252,"title":"credit card","category":"Objects","pic":"\u{1f4b3}"},{"no":253,"title":"money with wings","category":"Objects","pic":"\u{1f4b8}"},{"no":254,"title":"clapper board","category":"Objects","pic":"\u{1f3ac}"},{"no":255,"title":"microphone","category":"Objects","pic":"\u{1f3a4}"},{"no":256,"title":"alien monster","category":"Objects","pic":"\u{1f47e}"},{"no":257,"title":"video game","category":"Objects","pic":"\u{1f3ae}"},{"no":258,"title":"joker","category":"Objects","pic":"\u{1f0cf}"},{"no":259,"title":"mahjong red dragon","category":"Objects","pic":"\u{1f004}"},{"no":260,"title":"game die","category":"Objects","pic":"\u{1f3b2}"},{"no":261,"title":"direct hit","category":"Objects","pic":"\u{1f3af}"},{"no":262,"title":"pool 8 ball","category":"Objects","pic":"\u{1f3b1}"},{"no":263,"title":"chequered flag","category":"Objects","pic":"\u{1f3c1}"},{"no":264,"title":"trophy","category":"Objects","pic":"\u{1f3c6}"},{"no":265,"title":"beer mug","category":"Objects","pic":"\u{1f37a}"},{"no":266,"title":"cocktail glass","category":"Objects","pic":"\u{1f378}"},{"no":267,"title":"tropical drink","category":"Objects","pic":"\u{1f379}"},{"no":268,"title":"wine glass","category":"Objects","pic":"\u{1f377}"},{"no":269,"title":"fork and knife","category":"Objects","pic":"\u{1f374}"},{"no":270,"title":"pizza","category":"Objects","pic":"\u{1f355}"},{"no":271,"title":"hamburger","category":"Objects","pic":"\u{1f354}"},{"no":272,"title":"french fries","category":"Objects","pic":"\u{1f35f}"},{"no":273,"title":"poultry leg","category":"Objects","pic":"\u{1f357}"},{"no":274,"title":"spaghetti","category":"Objects","pic":"\u{1f35d}"},{"no":275,"title":"bento box","category":"Objects","pic":"\u{1f371}"},{"no":276,"title":"steaming bowl","category":"Objects","pic":"\u{1f35c}"},{"no":277,"title":"cooking","category":"Objects","pic":"\u{1f373}"},{"no":278,"title":"bread","category":"Objects","pic":"\u{1f35e}"},{"no":279,"title":"doughnut","category":"Objects","pic":"\u{1f369}"},{"no":280,"title":"soft ice cream","category":"Objects","pic":"\u{1f366}"},{"no":281,"title":"birthday cake","category":"Objects","pic":"\u{1f382}"},{"no":282,"title":"shortcake","category":"Objects","pic":"\u{1f370}"},{"no":283,"title":"cookie","category":"Objects","pic":"\u{1f36a}"},{"no":284,"title":"chocolate bar","category":"Objects","pic":"\u{1f36b}"},{"no":285,"title":"lollipop","category":"Objects","pic":"\u{1f36d}"},{"no":286,"title":"honey pot","category":"Objects","pic":"\u{1f36f}"},{"no":287,"title":"red apple","category":"Objects","pic":"\u{1f34e}"},{"no":288,"title":"cherries","category":"Objects","pic":"\u{1f352}"},{"no":289,"title":"strawberry","category":"Objects","pic":"\u{1f353}"},{"no":290,"title":"peach","category":"Objects","pic":"\u{1f351}"},{"no":291,"title":"banana","category":"Objects","pic":"\u{1f34c}"},{"no":292,"title":"pineapple","category":"Objects","pic":"\u{1f34d}"},{"no":293,"title":"eggplant","category":"Objects","pic":"\u{1f346}"},{"no":294,"title":"tomato","category":"Objects","pic":"\u{1f345}"},{"no":295,"title":"ear of corn","category":"Objects","pic":"\u{1f33d}"},{"no":296,"title":"hot pepper","category":"Objects","pic":"\u{1f336}"},{"no":297,"title":"cheese wedge","category":"Objects","pic":"\u{1f9c0}"},{"no":298,"title":"hot dog","category":"Objects","pic":"\u{1f32d}"},{"no":299,"title":"taco","category":"Objects","pic":"\u{1f32e}"},{"no":300,"title":"burrito","category":"Objects","pic":"\u{1f32f}"},{"no":301,"title":"popcorn","category":"Objects","pic":"\u{1f37f}"},{"no":302,"title":"bottle with popping cork","category":"Objects","pic":"\u{1f37e}"},{"no":303,"title":"fork and knife with plate","category":"Objects","pic":"\u{1f37d}"},{"no":304,"title":"ping pong","category":"Objects","pic":"\u{1f3d3}"},{"no":305,"title":"sports medal","category":"Objects","pic":"\u{1f3c5}"},{"no":306,"title":"military medal","category":"Objects","pic":"\u{1f396}"},{"no":307,"title":"joystick","category":"Objects","pic":"\u{1f579}"},{"no":308,"title":"hammer and wrench","category":"Objects","pic":"\u{1f6e0}"},{"no":309,"title":"dagger","category":"Objects","pic":"\u{1f5e1}"},{"no":310,"title":"speedboat","category":"Places","pic":"\u{1f6a4}"},{"no":311,"title":"rocket","category":"Places","pic":"\u{1f680}"},{"no":312,"title":"high-speed train","category":"Places","pic":"\u{1f684}"},{"no":313,"title":"bullet train","category":"Places","pic":"\u{1f685}"},{"no":314,"title":"railway car","category":"Places","pic":"\u{1f683}"},{"no":315,"title":"bus","category":"Places","pic":"\u{1f68c}"},{"no":316,"title":"automobile","category":"Places","pic":"\u{1f697}"},{"no":317,"title":"taxi","category":"Places","pic":"\u{1f695}"},{"no":318,"title":"delivery truck","category":"Places","pic":"\u{1f69a}"},{"no":319,"title":"police car light","category":"Places","pic":"\u{1f6a8}"},{"no":320,"title":"police car","category":"Places","pic":"\u{1f693}"},{"no":321,"title":"fire engine","category":"Places","pic":"\u{1f692}"},{"no":322,"title":"ambulance","category":"Places","pic":"\u{1f691}"},{"no":323,"title":"bicycle","category":"Places","pic":"\u{1f6b2}"},{"no":324,"title":"Japanese symbol for beginner","category":"Places","pic":"\u{1f530}"},{"no":325,"title":"fuel pump","category":"Places","pic":"\u26fd"},{"no":326,"title":"red paper lantern","category":"Places","pic":"\u{1f3ee}"},{"no":327,"title":"slot machine","category":"Places","pic":"\u{1f3b0}"},{"no":328,"title":"racing car","category":"Places","pic":"\u{1f3ce}"},{"no":329,"title":"motorcycle","category":"Places","pic":"\u{1f3cd}"},{"no":330,"title":"small airplane","category":"Places","pic":"\u{1f6e9}"},{"no":331,"title":"airplane departure","category":"Places","pic":"\u{1f6eb}"},{"no":332,"title":"airplane arrival","category":"Places","pic":"\u{1f6ec}"},{"no":333,"title":"satellite","category":"Places","pic":"\u{1f6f0}"},{"no":334,"title":"motor boat","category":"Places","pic":"\u{1f6e5}"},{"no":335,"title":"passenger ship","category":"Places","pic":"\u{1f6f3}"},{"no":336,"title":"SOS button","category":"Symbols","pic":"\u{1f198}"},{"no":337,"title":"no one under eighteen","category":"Symbols","pic":"\u{1f51e}"},{"no":338,"title":"no entry","category":"Symbols","pic":"\u26d4"},{"no":339,"title":"check mark button","category":"Symbols","pic":"\u2705"},{"no":340,"title":"VS button","category":"Symbols","pic":"\u{1f19a}"},{"no":341,"title":"chart increasing with yen","category":"Symbols","pic":"\u{1f4b9}"},{"no":342,"title":"heavy dollar sign","category":"Symbols","pic":"\u{1f4b2}"},{"no":343,"title":"currency exchange","category":"Symbols","pic":"\u{1f4b1}"},{"no":344,"title":"cross mark","category":"Symbols","pic":"\u274c"},{"no":345,"title":"exclamation mark","category":"Symbols","pic":"\u2757"},{"no":346,"title":"question mark","category":"Symbols","pic":"\u2753"},{"no":347,"title":"hollow red circle","category":"Symbols","pic":"\u2b55"},{"no":348,"title":"hundred points","category":"Symbols","pic":"\u{1f4af}"},{"no":349,"title":"white flag","category":"Symbols","pic":"\u{1f3f3}"},{"no":350,"title":"black flag","category":"Symbols","pic":"\u{1f3f4}"}]');var hv=(()=>(function(n){n.emoji="emoji",n.rain="rain",n.gif="gif"}(hv||(hv={})),hv))();const Y3e=["*"];let RN=(()=>{class n{constructor(){this.chatInputTools=jh,this.closeTool=new nn}onCloseTool(){this.closeTool.emit()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=rt({type:n,selectors:[["app-chat-input-tool-wrapper"]],inputs:{title:"title"},outputs:{closeTool:"closeTool"},ngContentSelectors:Y3e,decls:12,vars:5,consts:[[1,"modal"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title","text-uppercase"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],[1,"modal-body","p-0"]],template:function(e,i){1&e&&(s0(),R(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),U(5),j(6,"transloco"),D(),R(7,"button",5),Te("click",function(){return i.onCloseTool()}),R(8,"span"),U(9,"\xd7"),D()()(),R(10,"div",6),o0(11),D()()()()),2&e&&(E(1),wt("rain",i.title===i.chatInputTools.Rain),E(4),te(" ",W(6,3,"shared."+i.title)," "))},pipes:[Gt],styles:[".modal[_ngcontent-%COMP%]{position:absolute;display:block;margin-left:auto;margin-right:auto;inset:auto 0 67px;height:auto}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{left:auto;margin:0 auto;height:320px;width:calc(100% - 20px);max-width:calc(100% - 20px)}.modal[_ngcontent-%COMP%]   .modal-dialog.rain[_ngcontent-%COMP%]{height:336px}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{height:100%}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{min-height:36px;max-height:36px}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}"],changeDetection:0}),n})();function X3e(n,t){if(1&n){const e=ft();R(0,"span",9),Te("click",function(){const s=ot(e).$implicit;return ne(2).onClickEmoji(s.pic)}),U(1),D()}if(2&n){const e=t.$implicit;F("title",e.title),E(1),te(" ",e.pic," ")}}function q3e(n,t){if(1&n){const e=ft();R(0,"span",9),Te("click",function(){const s=ot(e).$implicit;return ne(2).onClickEmoji(s.pic)}),U(1),D()}if(2&n){const e=t.$implicit;F("title",e.title),E(1),te(" ",e.pic," ")}}function K3e(n,t){if(1&n){const e=ft();R(0,"span",9),Te("click",function(){const s=ot(e).$implicit;return ne(2).onClickEmoji(s.pic)}),U(1),D()}if(2&n){const e=t.$implicit;F("title",e.title),E(1),te(" ",e.pic," ")}}function J3e(n,t){if(1&n){const e=ft();R(0,"span",9),Te("click",function(){const s=ot(e).$implicit;return ne(2).onClickEmoji(s.pic)}),U(1),D()}if(2&n){const e=t.$implicit;F("title",e.title),E(1),te(" ",e.pic," ")}}function Z3e(n,t){if(1&n){const e=ft();R(0,"span",9),Te("click",function(){const s=ot(e).$implicit;return ne(2).onClickEmoji(s.pic)}),U(1),D()}if(2&n){const e=t.$implicit;F("title",e.title),E(1),te(" ",e.pic," ")}}function Q3e(n,t){if(1&n){const e=ft();R(0,"span",9),Te("click",function(){const s=ot(e).$implicit;return ne(2).onClickEmoji(s.pic)}),U(1),D()}if(2&n){const e=t.$implicit;F("title",e.title),E(1),te(" ",e.pic," ")}}function eFe(n,t){if(1&n&&(at(0),R(1,"div"),U(2),j(3,"transloco"),D(),R(4,"div",6),K(5,X3e,2,2,"span",7),D(),R(6,"div",8),U(7),j(8,"transloco"),D(),R(9,"div",6),K(10,q3e,2,2,"span",7),D(),R(11,"div",8),U(12),j(13,"transloco"),D(),R(14,"div",6),K(15,K3e,2,2,"span",7),D(),R(16,"div",8),U(17),j(18,"transloco"),D(),R(19,"div",6),K(20,J3e,2,2,"span",7),D(),R(21,"div",8),U(22),j(23,"transloco"),D(),R(24,"div",6),K(25,Z3e,2,2,"span",7),D(),R(26,"div",8),U(27),j(28,"transloco"),D(),R(29,"div",6),K(30,Q3e,2,2,"span",7),D(),lt()),2&n){const e=ne();E(2),te(" ",W(3,12,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.favorites")," "),E(3),F("ngForOf",e.emojiFriquentlyUsed),E(2),te(" ",W(8,14,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.people")," "),E(3),F("ngForOf",e.emojiPeople),E(2),te(" ",W(13,16,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.nature")," "),E(3),F("ngForOf",e.emojiNature),E(2),te(" ",W(18,18,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.objects")," "),E(3),F("ngForOf",e.emojiObjects),E(2),te(" ",W(23,20,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.places")," "),E(3),F("ngForOf",e.emojiPlaces),E(2),te(" ",W(28,22,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.symbols")," "),E(3),F("ngForOf",e.emojiSymbols)}}function tFe(n,t){if(1&n){const e=ft();R(0,"span",9),Te("click",function(){const s=ot(e).$implicit;return ne(2).onClickEmoji(s.pic)}),U(1),D()}if(2&n){const e=t.$implicit;F("title",e.title),E(1),te(" ",e.pic," ")}}function nFe(n,t){if(1&n&&(at(0),R(1,"div",6),K(2,tFe,2,2,"span",7),D(),lt()),2&n){const e=ne();E(2),F("ngForOf",e.searchList)}}let iFe=(()=>{class n{constructor(){this.finish=new nn,this.chatInputToolWrapperTitles=hv,this.searchText="",this.searchList=[],this.emojiForSearch=[],this.emojiFriquentlyUsed=[],this.emojiPeople=[],this.emojiNature=[],this.emojiObjects=[],this.emojiPlaces=[],this.emojiSymbols=[]}ngOnInit(){this.emojiForSearch=Ua.slice(9),this.emojiFriquentlyUsed=Ua.slice(0,9),this.emojiPeople=Ua.slice(9,150),this.emojiNature=Ua.slice(150,226),this.emojiObjects=Ua.slice(226,309),this.emojiPlaces=Ua.slice(309,335),this.emojiSymbols=Ua.slice(335)}onModelChange(e){const i=[],r=this.formatMsg(e);if(""!==r&&" "!==r){for(const s of this.emojiForSearch)s.title.includes(e)&&i.push(s);this.searchList=[...i]}else this.searchList=[]}get isShownSearchList(){return!!this.searchText&&this.searchText.length>0}preventDefault(e){e&&e.preventDefault()}formatMsg(e){return e.replace(/\n/gm," ").replace(/ {1,}/g," ").trim()}onClickEmoji(e){this.finish.emit(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=rt({type:n,selectors:[["app-chat-input-tool-emoji"]],outputs:{finish:"finish"},decls:8,vars:8,consts:[[3,"title","closeTool"],[1,"search-wrapper"],[1,"input-wrapper"],["minlength","0",3,"ngModel","placeholder","maxlength","ngModelChange","keydown.enter"],[1,"emoji-list","scroll-y"],[4,"ngIf"],[1,"emoji-group"],["class","emoji-item",3,"title","click",4,"ngFor","ngForOf"],[1,"header"],[1,"emoji-item",3,"title","click"]],template:function(e,i){1&e&&(R(0,"app-chat-input-tool-wrapper",0),Te("closeTool",function(){return i.finish.emit()}),R(1,"div",1)(2,"div",2)(3,"textarea",3),Te("ngModelChange",function(s){return i.searchText=s})("ngModelChange",function(s){return i.onModelChange(s)})("keydown.enter",function(s){return i.preventDefault(s)}),j(4,"transloco"),D()()(),R(5,"div",4),K(6,eFe,31,24,"ng-container",5),K(7,nFe,3,1,"ng-container",5),D()()),2&e&&(F("title",i.chatInputToolWrapperTitles.emoji),E(3),Hu("placeholder",W(4,6,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.search emoji")),F("ngModel",i.searchText)("maxlength",20),E(3),F("ngIf",!i.isShownSearchList),E(1),F("ngIf",i.isShownSearchList))},directives:[RN,fd,Pm,fa,Vo,xm,Nt,oi],pipes:[Gt],styles:[".search-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;min-height:50px;max-height:50px;padding:0 10px;border-bottom:solid 1px #545454}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{width:100%;border-radius:22px;background-color:#000;min-height:30px;max-height:30px;display:flex}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding-left:16px;font-size:13px;width:100%;background:unset;resize:none;max-height:100%;color:#fff;line-height:2;border:none}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-moz-placeholder{color:#d2d2d2}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#d2d2d2}.emoji-list[_ngcontent-%COMP%]{margin-top:10px;font-size:13px;height:100%;overflow:hidden}.emoji-list[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{padding-top:10px}.emoji-list[_ngcontent-%COMP%]   .emoji-group[_ngcontent-%COMP%]{font-size:18px}.emoji-list[_ngcontent-%COMP%]   .emoji-group[_ngcontent-%COMP%]   .emoji-item[_ngcontent-%COMP%]{display:inline-table;text-align:justify;width:30px;line-height:1.07;cursor:pointer;padding:6px;transition:transform 60ms ease-out 60ms}"],changeDetection:0}),n})(),rFe=(()=>{class n{constructor(e,i){this.chatConfigService=e,this.app=i,this.chatInputToolWrapperTitles=hv,this.amountPerUser=.5,this.numberOfUsers=0,this.finish=new nn}ngOnInit(){var e,i;this.numberOfUsers=null!==(i=null===(e=this.chatConfigService.rainConfig)||void 0===e?void 0:e.defaultNumOfPlayers)&&void 0!==i?i:0,this.amountPerUser=this.app.config.minBet}get minNumberOfUsers(){var e,i;return null!==(i=null===(e=this.chatConfigService.rainConfig)||void 0===e?void 0:e.minNumOfPlayers)&&void 0!==i?i:0}get maxNumberOfUsers(){var e,i;return null!==(i=null===(e=this.chatConfigService.rainConfig)||void 0===e?void 0:e.maxNumOfPlayers)&&void 0!==i?i:0}get minAmountPerUser(){var e,i;return null!==(i=null===(e=this.chatConfigService.rainConfig)||void 0===e?void 0:e.rainMinBet)&&void 0!==i?i:0}get maxAmountPerUser(){var e,i,r;return null!==(r=null===(i=null===(e=this.chatConfigService)||void 0===e?void 0:e.rainConfig)||void 0===i?void 0:i.rainMaxBet)&&void 0!==r?r:0}get totalAmount(){return Li.mul(this.amountPerUser,this.numberOfUsers).toDP(this.app.config.betPrecision,Li.ROUND_DOWN).toNumber()}onRain(){const e=new Li(this.amountPerUser).toDP(this.app.config.betPrecision,Li.ROUND_DOWN).toNumber();this.finish.emit({type:Bl.Rain,freeBetAmount:e,places:this.numberOfUsers,text:""})}}return n.\u0275fac=function(e){return new(e||n)(z(tb),z(ln))},n.\u0275cmp=rt({type:n,selectors:[["app-chat-input-tool-rain"]],outputs:{finish:"finish"},decls:42,vars:41,consts:[[3,"title","closeTool"],[1,"content"],[1,"description"],[1,"input-wrapper"],[1,"mt-3"],[1,"currency"],[1,"input-spinner"],[3,"formatPrecision","ngModel","step","min","max","ngModelChange"],[1,"mt-2"],[3,"step","formatPrecision","min","max","ngModel","ngModelChange"],[1,"d-flex","mt-2","justify-content-center"],[1,"total-amount","text-center","font-weight-bold"],[1,"text-center"],[1,"btn-rain","btn","btn-sm","btn-success",3,"click"],[1,"text-uppercase"]],template:function(e,i){1&e&&(R(0,"app-chat-input-tool-wrapper",0),Te("closeTool",function(){return i.finish.emit()}),R(1,"div",1)(2,"div",2),U(3),j(4,"transloco"),D(),R(5,"div",3)(6,"div",4)(7,"span"),U(8),j(9,"transloco"),D(),R(10,"span",5),U(11),j(12,"hideCurrency"),D()(),R(13,"div",6)(14,"app-spinner",7),Te("ngModelChange",function(s){return i.amountPerUser=s}),D()(),R(15,"div",8),U(16),j(17,"transloco"),D(),R(18,"div",6)(19,"app-spinner",9),Te("ngModelChange",function(s){return i.numberOfUsers=s}),D()()(),R(20,"div",10)(21,"div")(22,"span"),U(23),j(24,"transloco"),D(),R(25,"span",5),U(26),j(27,"hideCurrency"),D()()(),R(28,"div",11),U(29),j(30,"currencyPrecision"),D(),R(31,"div",12)(32,"button",13),Te("click",function(){return i.onRain()}),R(33,"span",14),U(34),j(35,"transloco"),D(),R(36,"span"),U(37),j(38,"currencyPrecision"),D(),R(39,"span"),U(40),j(41,"hideCurrency"),D()()()()()),2&e&&(F("title",i.chatInputToolWrapperTitles.rain),E(3),te(" ",W(4,21,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-rain.description")," "),E(5),te(" ",W(9,23,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-rain.amount per player")," "),E(3),Ye(W(12,25,i.app.config.currency)),E(3),F("formatPrecision",i.app.config.betPrecision)("ngModel",i.amountPerUser)("step",i.app.config.betInputStep)("min",i.minAmountPerUser)("max",i.maxAmountPerUser),E(2),te(" ",W(17,27,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-rain.number of players")," "),E(3),F("step",1)("formatPrecision",0)("min",i.minNumberOfUsers)("max",i.maxNumberOfUsers)("ngModel",i.numberOfUsers),E(4),te("",W(24,29,"shared.total"),","),E(3),Ye(W(27,31,i.app.config.currency)),E(3),te(" ",W(30,33,i.totalAmount)," "),E(5),Ye(W(35,35,"shared.rain")),E(3),te(" ",W(38,37,i.totalAmount),""),E(3),te(" ",W(41,39,i.app.config.currency),""))},directives:[RN,Ow,fa,Vo],pipes:[Gt,Bb,Xn],styles:[".content[_ngcontent-%COMP%]{padding:10px;display:flex;flex-direction:column;justify-content:center;align-items:center;font-size:12px}.content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#b1b7bd}.content[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{max-width:240px;margin:0 auto;display:flex;flex-direction:column}.content[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .input-spinner[_ngcontent-%COMP%]{height:30px;font-size:18px;text-align:center}.content[_ngcontent-%COMP%]   .total-amount[_ngcontent-%COMP%]{font-size:22px}.content[_ngcontent-%COMP%]   .btn-rain[_ngcontent-%COMP%]{width:240px;font-size:14px;margin-top:15px}"],changeDetection:0}),n})();function DN(n,t=q_){return Je((e,i)=>{let r=null,s=null,o=null;const a=()=>{if(r){r.unsubscribe(),r=null;const c=s;s=null,i.next(c)}};function l(){const c=o+n,u=t.now();if(u<c)return r=this.schedule(void 0,c-u),void i.add(r);a()}e.subscribe(ue(i,c=>{s=c,o=t.now(),r||(r=t.schedule(l,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{s=r=null}))})}const dX=function(n){return{background:n}};function sFe(n,t){if(1&n){const e=ft();R(0,"div",8)(1,"div",9),Te("click",function(){const s=ot(e).$implicit;return ne(2).shareGif(s.id)}),D()()}if(2&n){const e=t.$implicit;E(1),F("ngStyle",di(1,dX,"url("+e.url+") center center/cover"))}}function oFe(n,t){if(1&n&&(at(0),K(1,sFe,2,3,"div",7),lt()),2&n){const e=ne();E(1),F("ngForOf",e.chatService.top10Gifs)}}function aFe(n,t){if(1&n){const e=ft();R(0,"div",8)(1,"div",9),Te("click",function(){const s=ot(e).$implicit;return ne(3).shareGif(s.id)}),D()()}if(2&n){const e=t.$implicit;E(1),F("ngStyle",di(1,dX,"url("+e.url+") center center/cover"))}}function lFe(n,t){if(1&n&&(at(0),K(1,aFe,2,3,"div",7),lt()),2&n){const e=ne(2);E(1),F("ngForOf",e.searchList)}}function cFe(n,t){1&n&&(R(0,"div",11),fe(1,"app-loader"),D())}function uFe(n,t){if(1&n&&(at(0),K(1,lFe,2,1,"ng-container",6),K(2,cFe,2,0,"div",10),lt()),2&n){const e=ne();E(1),F("ngIf",e.searchList&&e.searchList.length),E(1),F("ngIf",!(e.searchList&&e.searchList.length))}}let og=class{constructor(t,e,i){this.stomp=t,this.cd=e,this.chatService=i,this.finish=new nn,this.searchInput=new Qe,this.chatInputToolWrapperTitles=hv,this.searchText="",this.searchList=[]}ngOnInit(){this.stomp.response(Pi.GifsSearch).pipe(Ct(this)).subscribe(t=>{const e=this.formatMsg(this.searchText);if(""===e||" "===e)return this.searchList=[],void this.cd.detectChanges();this.searchList=t.gifsInfo,this.cd.detectChanges()}),this.searchInput.pipe(DN(1e3),lp(),Ct(this)).subscribe(t=>{this.getGifs(t)})}getGifs(t){this.stomp.request(yo.GifsSearch,{tag:t})}onModelChange(t){const e=this.formatMsg(t);""!==e&&" "!==e?this.searchInput.next(e):this.searchList=[]}get isShownSearchList(){return!!this.searchText&&this.searchText.trim().length>0}formatMsg(t){return t.replace(/\n/gm," ").replace(/ {1,}/g," ").trim()}preventDefault(t){t&&t.preventDefault()}shareGif(t){this.finish.emit({type:Bl.Gif,gifId:t,text:""})}};og.\u0275fac=function(t){return new(t||og)(z(Da),z(Sn),z(dv))},og.\u0275cmp=rt({type:og,selectors:[["app-chat-input-tool-gif"]],outputs:{finish:"finish"},decls:9,vars:8,consts:[[3,"title","closeTool"],[1,"search-wrapper"],[1,"input-wrapper"],[1,"i-block"],["minlength","0",3,"ngModel","placeholder","maxlength","ngModelChange","keydown.enter"],[1,"gif-list","scroll-y"],[4,"ngIf"],["class","gif-wrapper",4,"ngFor","ngForOf"],[1,"gif-wrapper"],[1,"gif-item",3,"ngStyle","click"],["class","loader-wrapper",4,"ngIf"],[1,"loader-wrapper"]],template:function(t,e){1&t&&(R(0,"app-chat-input-tool-wrapper",0),Te("closeTool",function(){return e.finish.emit()}),R(1,"div",1)(2,"div",2),fe(3,"div",3),R(4,"textarea",4),Te("ngModelChange",function(r){return e.searchText=r})("ngModelChange",function(r){return e.onModelChange(r)})("keydown.enter",function(r){return e.preventDefault(r)}),j(5,"transloco"),D()()(),R(6,"div",5),K(7,oFe,2,1,"ng-container",6),K(8,uFe,3,2,"ng-container",6),D()()),2&t&&(F("title",e.chatInputToolWrapperTitles.gif),E(4),Hu("placeholder",W(5,6,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-gif.search gif")),F("ngModel",e.searchText)("maxlength",20),E(3),F("ngIf",!e.isShownSearchList),E(1),F("ngIf",e.isShownSearchList))},directives:[RN,fd,Pm,fa,Vo,xm,Nt,oi,vf,Nc],pipes:[Gt],styles:[".search-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;min-height:50px;max-height:50px;padding:0 10px;border-bottom:solid 1px #545454}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{width:100%;border-radius:22px;background-color:#000;min-height:30px;max-height:30px;display:flex}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding-left:16px;font-size:13px;width:100%;background:unset;resize:none;max-height:100%;color:#fff;line-height:2;border:none}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-moz-placeholder{color:#d2d2d2}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#d2d2d2}.gif-list[_ngcontent-%COMP%]{font-size:13px;height:100%;overflow:hidden;display:flex;flex-wrap:wrap;padding-bottom:36px}.gif-list[_ngcontent-%COMP%]   .gif-wrapper[_ngcontent-%COMP%]{width:50%;height:118px;padding:5px}.gif-list[_ngcontent-%COMP%]   .gif-wrapper[_ngcontent-%COMP%]   .gif-item[_ngcontent-%COMP%]{border-radius:6px;width:100%;height:100%;cursor:pointer;transition:transform 60ms ease-out 60ms}.loader-wrapper[_ngcontent-%COMP%]{margin:0 auto}"],changeDetection:0}),og=Ke([Qn()],og);const dFe=["input"];function hFe(n,t){if(1&n){const e=ft();R(0,"div",11),Te("click",function(){ot(e);const r=ne();return r.showToolModal(r.chatInputTools.Emoji)}),D()}}function fFe(n,t){if(1&n){const e=ft();R(0,"div",12),Te("click",function(){ot(e);const r=ne();return r.showToolModal(r.chatInputTools.Gif)}),D()}}function pFe(n,t){if(1&n){const e=ft();R(0,"div",13),Te("click",function(){ot(e);const r=ne();return r.showToolModal(r.chatInputTools.Rain)}),fe(1,"div",14),R(2,"div",15),U(3),j(4,"transloco"),D()()}2&n&&(E(3),Ye(W(4,1,"shared.rain")))}function gFe(n,t){if(1&n){const e=ft();R(0,"app-chat-input-tool-emoji",16),Te("finish",function(r){return ot(e),ne().onCloseToolModal(r)}),D()}}function _Fe(n,t){if(1&n){const e=ft();R(0,"app-chat-input-tool-rain",16),Te("finish",function(r){return ot(e),ne().onCloseToolModal(r)}),D()}}function mFe(n,t){if(1&n){const e=ft();R(0,"app-chat-input-tool-gif",16),Te("finish",function(r){return ot(e),ne().onCloseToolModal(r)}),D()}}function vFe(n,t){if(1&n){const e=ft();R(0,"div",17)(1,"div",18)(2,"div",19),Te("animationend",function(){return ot(e),ne().onWaitEnd()}),D()(),R(3,"p"),U(4),j(5,"transloco"),D()()}if(2&n){const e=ne();E(2),pc("animation-duration",e.chatConfigService.sendMessageDelay,"ms"),E(2),Ye(W(5,3,"game.chat-widget.chat-input.please wait"))}}let ag=class{constructor(t,e,i,r,s,o,a){this.app=t,this.chatConfigService=e,this.mainService=i,this.antiSpamService=r,this.chatService=s,this.cd=o,this.chatMessageService=a,this.message="",this.chatInputTools=jh,this.toolModal=null}ngOnInit(){this.value="",wi(this.inputRef.nativeElement,"input").pipe(ua(50),Ct(this)).subscribe(()=>{this.cd.detectChanges()}),wi(this.inputRef.nativeElement,"keydown").pipe(Bt(t=>13===t.which),Ct(this)).subscribe(t=>{t.preventDefault(),this.sendMessage(),this.cd.detectChanges()}),this.chatService.onTagUser.pipe(Ct(this)).subscribe(t=>{this.addToInput(t),this.cd.detectChanges()}),this.antiSpamService.isMessageSendingBlocked=!1}addToInput(t,e=!1){t.length<=this.leftLength&&(this.value=e?t:`${this.value?this.value:""}${t}`)}onClickSend(){this.sendMessage()}get isValid(){const t=this.value.length;return t>=1&&t<=this.chatConfigService.maxMessageLength}sendMessage(){const t=function yFe(n){return n.replace(/\n/gm," ").replace(/ {1,}/g," ").trim()}(this.value);""===t||" "===t||!this.isValid||(this.value="",this.chatMessageService.sendMessage({type:Bl.Text,text:t}),this.showToolModal(null),setTimeout(()=>{this.inputRef.nativeElement.blur()}))}onCloseToolModal(t){void 0!==t?!1===this.antiSpamService.isMessageSendingBlocked&&("object"==typeof t?(this.chatMessageService.sendMessage(t),this.showToolModal(null)):this.addToInput(t)):this.showToolModal(null)}showToolModal(t=null){this.toolModal!==t||null===this.toolModal?this.toolModal=t:this.onCloseToolModal()}onWaitEnd(){this.antiSpamService.isMessageSendingBlocked=!1,setTimeout(()=>{this.inputRef.nativeElement.focus()})}get isEmojiShown(){return this.toolModal===jh.Emoji}get isRainShown(){return this.toolModal===jh.Rain}get isGifShown(){return this.toolModal===jh.Gif}get leftLength(){return this.chatConfigService.maxMessageLength-(this.value?this.value.length:0)}get value(){return this.inputRef.nativeElement.value}set value(t){this.inputRef.nativeElement.value=t}};function bFe(n,t){if(1&n){const e=ft();R(0,"div",1),Te("click",function(){return ot(e),ne().scrollService.onScrollToBottom()}),U(1),j(2,"transloco"),fe(3,"span",2),D()}2&n&&(E(1),te(" ",W(2,1,"game.chat-widget.New messages")," "))}ag.\u0275fac=function(t){return new(t||ag)(z(ln),z(tb),z(Zi),z(Rm),z(dv),z(Sn),z(Ep))},ag.\u0275cmp=rt({type:ag,selectors:[["app-chat-input"]],viewQuery:function(t,e){if(1&t&&Lr(dFe,7),2&t){let i;kn(i=Fn())&&(e.inputRef=i.first)}},decls:16,vars:15,consts:[[1,"input-message"],["required","","minlength","1",1,"scroll-y",3,"placeholder"],["input",""],[1,"tools"],["class","smiles",3,"click",4,"ngIf"],["class","gif",3,"click",4,"ngIf"],["class","rain-wrapper",3,"click",4,"ngIf"],[1,"left-length"],[1,"enter",3,"disabled","click"],[3,"finish",4,"ngIf"],["class","chat-input-overlay",4,"ngIf"],[1,"smiles",3,"click"],[1,"gif",3,"click"],[1,"rain-wrapper",3,"click"],[1,"i-rain"],[1,"text"],[3,"finish"],[1,"chat-input-overlay"],[1,"time-left-loading"],[1,"time-left-loading-thumb",3,"animationend"]],template:function(t,e){1&t&&(R(0,"div",0),fe(1,"textarea",1,2),j(3,"transloco"),R(4,"div",3),K(5,hFe,1,0,"div",4),K(6,fFe,1,0,"div",5),K(7,pFe,5,3,"div",6),R(8,"div",7),U(9),D()(),R(10,"button",8),Te("click",function(){return e.onClickSend()}),D(),K(11,gFe,1,0,"app-chat-input-tool-emoji",9),K(12,_Fe,1,0,"app-chat-input-tool-rain",9),K(13,mFe,1,0,"app-chat-input-tool-gif",9),K(14,vFe,6,5,"div",10),j(15,"async"),D()),2&t&&(E(1),Hu("placeholder",W(3,11,"shared.reply")),ui("maxlength",e.chatConfigService.maxMessageLength),E(4),F("ngIf",e.app.isDesktop),E(1),F("ngIf",!!e.chatConfigService.topGifs),E(1),F("ngIf",e.chatConfigService.rainConfig&&e.chatConfigService.isFreeBetsEnabled),E(2),Ye(e.leftLength),E(1),F("disabled",!e.isValid),E(1),F("ngIf",e.isEmojiShown),E(1),F("ngIf",e.isRainShown),E(1),F("ngIf",e.isGifShown),E(1),F("ngIf",W(15,13,e.antiSpamService.isMessageSendingBlocked$)))},directives:[Nt,iFe,rFe,og],pipes:[Gt,Pr],styles:["[_nghost-%COMP%]{width:inherit}.input-message[_ngcontent-%COMP%]{margin:0 auto;height:67px;position:relative;z-index:110;background-color:#000;border-top:1px solid #2a2b2e}.input-message[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{margin:7px 0 0 12px;border:0;resize:none;width:calc(100% - 50px);display:block;height:34px;font-size:13px;color:#fff;line-height:1;background:unset;position:relative;overflow:hidden}.input-message[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-moz-placeholder{color:#747474}.input-message[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#747474}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]{width:calc(100% - 20px);position:absolute;bottom:5px;left:14px;color:#747474;display:flex;align-items:flex-end;font-size:13px}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{cursor:pointer}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:active{transform:translateY(1px)}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .smiles[_ngcontent-%COMP%]{width:14px;height:14px;background:url(smiley.571c039004529d0e.svg) no-repeat center center/contain}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .smiles[_ngcontent-%COMP%]:hover{background:url(smiley-h.1e50d8284ac7440f.svg) no-repeat center center/contain}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .gif[_ngcontent-%COMP%]{width:25px;height:14px;margin-left:5px;background:url(gif.d79a6fe11716cc0d.svg) no-repeat center center/contain}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .gif[_ngcontent-%COMP%]:hover{background:url(gif-h.80355691f0bc81db.svg) no-repeat center center/contain}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .rain-wrapper[_ngcontent-%COMP%]{margin-left:10px;display:flex;align-items:flex-end;justify-content:center;cursor:pointer}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .rain-wrapper[_ngcontent-%COMP%]:hover   .i-rain[_ngcontent-%COMP%]{background:url(rain-h.5a0773f47cf64531.svg) no-repeat center center/contain}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .rain-wrapper[_ngcontent-%COMP%]:hover   .text[_ngcontent-%COMP%]{color:#fff}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .rain-wrapper[_ngcontent-%COMP%]   .i-rain[_ngcontent-%COMP%]{background:url(rain.03deaf6b8844a05d.svg) no-repeat center center/contain;width:10px;height:14px}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .rain-wrapper[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{padding-left:2px;line-height:1}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .left-length[_ngcontent-%COMP%]{margin-left:auto;margin-right:5px;cursor:auto;line-height:1}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .left-length[_ngcontent-%COMP%]:active{transform:unset}.input-message[_ngcontent-%COMP%]   .enter[_ngcontent-%COMP%]{position:absolute;right:10px;top:50%;transform:translateY(-50%);border:none;background:url(enter.6f74e8cc9d963344.svg) no-repeat;background-size:contain;height:16px;padding:0;width:11px;cursor:pointer}.input-message[_ngcontent-%COMP%]   .enter[_ngcontent-%COMP%]:active{transform:translateY(calc(-50% + 1px))}.input-message[_ngcontent-%COMP%]   .enter[_ngcontent-%COMP%]:disabled{opacity:.3}.input-message[_ngcontent-%COMP%]   .chat-input-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;border-radius:4px 4px 0 0;background:rgba(0,0,0,.2);display:flex;justify-content:center;align-items:center;flex-direction:column}.input-message[_ngcontent-%COMP%]   .chat-input-overlay[_ngcontent-%COMP%]   .time-left-loading[_ngcontent-%COMP%]{height:6px;width:160px;border:1px solid #b0bbc8;border-radius:4px;overflow:hidden;opacity:.5}.input-message[_ngcontent-%COMP%]   .chat-input-overlay[_ngcontent-%COMP%]   .time-left-loading[_ngcontent-%COMP%]   .time-left-loading-thumb[_ngcontent-%COMP%]{height:6px;width:160px;border-radius:2px;background:#b0bbc8;transform:translate(-160px);animation:chat-input-loading;animation-timing-function:linear}.input-message[_ngcontent-%COMP%]   .chat-input-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:12px;color:#b0bbc8}@keyframes chat-input-loading{0%{transform:translate(0)}to{transform:translate(-160px)}}"],changeDetection:0}),ag=Ke([Qn()],ag);let SFe=(()=>{class n{constructor(e){this.scrollService=e}}return n.\u0275fac=function(e){return new(e||n)(z(nb))},n.\u0275cmp=rt({type:n,selectors:[["app-chat-body"]],decls:4,vars:3,consts:[["class","notification",3,"click",4,"ngIf"],[1,"notification",3,"click"],[1,"i-arrow"]],template:function(e,i){1&e&&(fe(0,"app-chat-messages-list")(1,"app-chat-input"),K(2,bFe,4,3,"div",0),j(3,"async")),2&e&&(E(2),F("ngIf",W(3,1,i.scrollService.newMessagesAdded$)))},directives:[$3e,ag,Nt],pipes:[Pr,Gt],styles:[".chat-input[_ngcontent-%COMP%]{height:67px}.notification[_ngcontent-%COMP%]{position:absolute;z-index:109;cursor:pointer;left:50%;bottom:85px;transform:translate(-50%);height:26px;border-radius:15px;border:1px solid #767b85;background:rgba(98,102,113,.65);color:#fff;font-size:12px;line-height:12px;width:200px;display:flex;justify-content:center;align-items:center}.notification[_ngcontent-%COMP%]   .i-arrow[_ngcontent-%COMP%]{display:block;background-image:url(chat-arrow.2b1d0992c5029c79.svg);margin-right:3px;border:none;width:12px;height:10px;background-repeat:no-repeat;background-position:center;background-size:contain}"],changeDetection:0}),n})();function CFe(n,t){1&n&&fe(0,"app-chat-body",4)}function EFe(n,t){1&n&&(R(0,"div",5)(1,"span"),U(2),j(3,"transloco"),D()()),2&n&&(E(2),te(" ",W(3,1,"game.chat-widget.chat-connector-message.Establishing a chat connection...")," "))}function TFe(n,t){1&n&&(R(0,"div",5)(1,"span"),U(2),j(3,"transloco"),D()()),2&n&&(E(2),te(" ",W(3,1,"game.chat-widget.chat-connector-message.Establishing a chat connection...")," "))}function wFe(n,t){1&n&&(R(0,"div",5)(1,"span"),U(2),j(3,"transloco"),D()()),2&n&&(E(2),te(" ",W(3,1,"game.chat-widget.chat-connector-message.Chat has been disconnected.")," "))}function MFe(n,t){if(1&n&&(R(0,"div",1),fe(1,"app-chat-header"),K(2,CFe,1,0,"app-chat-body",2),K(3,EFe,4,3,"div",3),K(4,TFe,4,3,"div",3),K(5,wFe,4,3,"div",3),D()),2&n){const e=t.ngIf,i=ne();E(2),F("ngIf",i.chat.inited&&e===i.connectorState.Connected),E(1),F("ngIf",!i.chat.inited&&e===(i.connectorState.None||i.connectorState.Connected)),E(1),F("ngIf",e===i.connectorState.Reconnecting),E(1),F("ngIf",e===i.connectorState.Disconnected)}}let lg=class{constructor(t,e,i,r,s){this.stomp=t,this.chat=e,this.scrollService=i,this.chatFeatureService=r,this.cd=s,this.connectorState=Ra}ngOnInit(){this.initChat(),this.chatFeatureService.isOpen$.pipe(Bt(t=>t),Ct(this)).subscribe(()=>this.scrollService.scrollToBottom()),wi(document.fonts,"loadingdone").pipe(Ct(this)).subscribe(()=>this.scrollService.scrollToBottom())}initChat(){this.stomp.response(Pi.ChatInit).pipe(Ct(this)).subscribe(()=>{this.cd.detectChanges()})}};lg.\u0275fac=function(t){return new(t||lg)(z(Da),z(dv),z(nb),z(il),z(Sn))},lg.\u0275cmp=rt({type:lg,selectors:[["app-new-chat"]],decls:2,vars:3,consts:[["class","chat-wrapper",4,"ngIf"],[1,"chat-wrapper"],["class","chat-body",4,"ngIf"],["class","state-message-wrapper",4,"ngIf"],[1,"chat-body"],[1,"state-message-wrapper"]],template:function(t,e){1&t&&(K(0,MFe,6,4,"div",0),j(1,"async")),2&t&&F("ngIf",W(1,1,e.stomp.state$).state)},directives:[Nt,t3e,SFe],pipes:[Pr,Gt],styles:['.chat-wrapper[_ngcontent-%COMP%]{width:100%;bottom:0;border-radius:0;background:#000000;color:#fff;margin:0 auto;height:100%;position:relative;display:flex;flex-direction:column;align-items:center}.chat-wrapper[_ngcontent-%COMP%]:before{content:"";display:block;position:absolute;width:100%;height:14px;left:0;top:var(--headerHeight);z-index:999;color:#0f0f11;background-image:linear-gradient(-180deg,rgba(0,0,0,.5) 0%,rgba(0,0,0,0) 100%)}.chat-wrapper[_ngcontent-%COMP%]   .modal-back[_ngcontent-%COMP%]{width:100%;height:100%;background:rgba(22,29,54,.8);position:absolute;bottom:0;left:0;z-index:101}.chat-wrapper[_ngcontent-%COMP%]   .chat-body[_ngcontent-%COMP%]{height:calc(100% - var(--headerHeight));width:100%;max-width:360px}.chat-wrapper[_ngcontent-%COMP%]   .state-message-wrapper[_ngcontent-%COMP%]{position:absolute;top:var(--headerHeight);left:0;display:flex;align-items:center;justify-content:center;width:100%;height:100%;background:#000000;z-index:120}'],changeDetection:0}),lg=Ke([Qn()],lg);let OFe=(()=>{class n{constructor(e,i){this.chatService=e,this.mainService=i}}return n.\u0275fac=function(e){return new(e||n)(z(il),z(Zi))},n.\u0275cmp=rt({type:n,selectors:[["app-chat-header"]],decls:10,vars:3,consts:[[1,"header"],[1,"online-wrapper","position-absolute","d-flex","align-items-center"],[1,"green-circle"],[1,"buttons"],["type","button","aria-label","Close",1,"close",3,"click"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1),fe(2,"div",2),R(3,"span"),U(4),j(5,"async"),D()(),R(6,"div",3)(7,"button",4),Te("click",function(){return i.chatService.isOpen=!1}),R(8,"span"),U(9,"\xd7"),D()()()()),2&e&&(E(4),Ye(W(5,1,i.mainService.onlinePlayers$)))},pipes:[Pr],styles:["[_nghost-%COMP%]{width:inherit}.header[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:7px 13px;height:var(--headerHeight);position:relative;align-items:center}.header[_ngcontent-%COMP%]   .online-wrapper[_ngcontent-%COMP%]{left:50%;transform:translate(-50%);font-size:14px}.header[_ngcontent-%COMP%]   .online-wrapper[_ngcontent-%COMP%]   .green-circle[_ngcontent-%COMP%]{width:6px;height:6px;background:#28a909;border-radius:50%;margin:0 3px}.header[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex}.header[_ngcontent-%COMP%]   .btn-hide[_ngcontent-%COMP%]{background-image:url(close.9967d3df9ff555ef.svg)}.header[_ngcontent-%COMP%]   .btn-hide[_ngcontent-%COMP%]:hover{background-image:url(close-h.968f898f80e88637.svg)}.header[_ngcontent-%COMP%]   .btn-hide.collapsed[_ngcontent-%COMP%]{background-image:url(up.4943769bc0c142a3.svg)}.header[_ngcontent-%COMP%]   .btn-turn-off[_ngcontent-%COMP%]{background-image:url(turn-off.bdd3b4a95d2281a2.svg)}.header[_ngcontent-%COMP%]   .btn-turn-off[_ngcontent-%COMP%]:hover{background-image:url(turn-off-h.a4314be086df307c.svg)}"],changeDetection:0}),n})();var xw=(()=>(function(n){n.reply="reply",n.translate="translate"}(xw||(xw={})),xw))(),Gb=(()=>(function(n){n.header="header"}(Gb||(Gb={})),Gb))(),fv=(()=>(function(n){n.ban="ban",n.winInfo="win_info",n.rain="rain",n.gif="gif"}(fv||(fv={})),fv))(),pv=(()=>(function(n){n.moderator="moderator",n.bot="bot",n.user="user"}(pv||(pv={})),pv))();function PFe(n,t){if(1&n&&(R(0,"span",5),U(1),j(2,"maskedUsername"),D()),2&n){const e=ne();E(1),te(" ",W(2,1,e.banInfo.playerName)," ")}}function xFe(n,t){1&n&&(R(0,"span"),U(1),j(2,"transloco"),D()),2&n&&(E(1),te(" ",W(2,1,"game.chat-widget.chat-message.chat-message-ban.you")," "))}function IFe(n,t){1&n&&(R(0,"span"),U(1),j(2,"transloco"),D()),2&n&&(E(1),te(" ",W(2,1,"game.chat-widget.chat-message.chat-message-ban.has been")," "))}function AFe(n,t){1&n&&(R(0,"span"),U(1),j(2,"transloco"),D()),2&n&&(E(1),te(" ",W(2,1,"game.chat-widget.chat-message.chat-message-ban.have been")," "))}function RFe(n,t){1&n&&(R(0,"span",6),U(1),j(2,"transloco"),D()),2&n&&(E(1),te(" ",W(2,1,"game.chat-widget.chat-message.chat-message-ban.banned-other")," "))}function DFe(n,t){1&n&&(R(0,"span",6),U(1),j(2,"transloco"),D()),2&n&&(E(1),te(" ",W(2,1,"game.chat-widget.chat-message.chat-message-ban.banned-me")," "))}function NFe(n,t){if(1&n&&(R(0,"span"),U(1),j(2,"transloco"),D()),2&n){const e=ne();E(1),Un(" ",e.day,"",W(2,2,"game.chat-widget.chat-message.chat-message-ban.day"),"")}}function kFe(n,t){if(1&n&&(R(0,"span"),U(1),j(2,"transloco"),D()),2&n){const e=ne();E(1),Un(" ",e.hour,"",W(2,2,"game.chat-widget.chat-message.chat-message-ban.hour"),"")}}function FFe(n,t){if(1&n&&(R(0,"span"),U(1),j(2,"transloco"),D()),2&n){const e=ne();E(1),Un(" ",e.min,"",W(2,2,"game.chat-widget.chat-message.chat-message-ban.min"),"")}}function LFe(n,t){if(1&n&&(R(0,"span"),U(1),j(2,"transloco"),D()),2&n){const e=ne();E(1),Un(" ",e.sec,"",W(2,2,"game.chat-widget.chat-message.chat-message-ban.sec"),"")}}function BFe(n,t){if(1&n&&(R(0,"span"),U(1),j(2,"transloco"),D()),2&n){const e=ne();E(1),te(" ",W(2,1,"game.chat-widget.chat-message.chat-message-ban."+e.banInfo.reason)," ")}}function UFe(n,t){if(1&n&&(R(0,"span"),U(1),D()),2&n){const e=ne();E(1),Ye(e.banInfo.reason)}}let GFe=(()=>{class n{constructor(){this.isShownDay=!1,this.isShownHour=!1,this.isShownMin=!1,this.isShownSec=!1,this.day=0,this.hour=0,this.min=0,this.sec=0,this.isReasonOther=!1}ngOnInit(){this.setBanTime(),this.setBanReasonShown()}setBanTime(){if(!this.banInfo)return;let e=new Li(0);this.banInfo.isMyResponse?(e=new Li(this.banInfo.chatBanEndDate).minus(Date.now()).div(1e3),e=e.lte(0)?new Li(1):e):e=new Li(this.banInfo.duration),this.day=e.div(86400).floor().toNumber(),this.hour=e.mod(86400).div(3600).floor().toNumber(),this.min=e.mod(3600).div(60).floor().toNumber(),this.sec=e.mod(60).floor().toNumber(),this.isShownDay=!!this.day,this.isShownHour=!!this.hour,this.isShownMin=!!this.min,this.isShownSec=!!this.sec}setBanReasonShown(){switch(this.banInfo.reason){case"strong language":case"spam":this.isReasonOther=!1;break;default:this.isReasonOther=!0}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=rt({type:n,selectors:[["app-chat-message-ban"]],inputs:{banInfo:"banInfo"},decls:20,vars:18,consts:[[1,"message-ban"],[1,"text","canSelect"],["class","player-name",4,"ngIf"],[4,"ngIf"],["class","font-weight-bold",4,"ngIf"],[1,"player-name"],[1,"font-weight-bold"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1),K(2,PFe,3,3,"span",2),K(3,xFe,3,3,"span",3),K(4,IFe,3,3,"span",3),K(5,AFe,3,3,"span",3),K(6,RFe,3,3,"span",4),K(7,DFe,3,3,"span",4),R(8,"span"),U(9),j(10,"transloco"),D(),K(11,NFe,3,4,"span",3),K(12,kFe,3,4,"span",3),K(13,FFe,3,4,"span",3),K(14,LFe,3,4,"span",3),R(15,"span"),U(16),j(17,"transloco"),D(),K(18,BFe,3,3,"span",3),K(19,UFe,2,1,"span",3),D()()),2&e&&(E(2),F("ngIf",i.banInfo.playerName),E(1),F("ngIf",i.banInfo.isMyResponse),E(1),F("ngIf",i.banInfo.playerName),E(1),F("ngIf",i.banInfo.isMyResponse),E(1),F("ngIf",i.banInfo.playerName),E(1),F("ngIf",i.banInfo.isMyResponse),E(2),te(" ",W(10,14,"game.chat-widget.chat-message.chat-message-ban.from chat for")," "),E(2),F("ngIf",i.isShownDay),E(1),F("ngIf",i.isShownHour),E(1),F("ngIf",i.isShownMin),E(1),F("ngIf",i.isShownSec),E(2),Ye(W(17,16,"game.chat-widget.chat-message.chat-message-ban.reason")),E(2),F("ngIf",!i.isReasonOther),E(1),F("ngIf",i.isReasonOther))},directives:[Nt],pipes:[oa,Gt],styles:[".message-ban[_ngcontent-%COMP%]{min-height:47px;width:100%;border-radius:6px;box-shadow:4px 4px 6px #0000004a;border:solid 1px #f3000c;display:flex;align-items:center;justify-content:center;font-size:13px}.message-ban[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{min-height:100%;width:100%;text-align:center;padding:7px 10px;line-height:1.2;word-break:break-word}.message-ban[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .player-name[_ngcontent-%COMP%]{color:#f3000c}"],changeDetection:0}),n})();const jFe=["(\\[b\\]@\\w+\\[\\/b\\])"],HFe=["(\\[b\\])","(\\[\\/b\\])"],zFe={"Good job! \u{1f62e}":!0,"Wow! \u{1f62e}":!0,"Awesome! \u{1f31f}":!0,"Cool! \u{1f60e}":!0,"That's huge! \u{1f6e9}":!0,"Congratulations \u{1f44f}":!0,"Best in this round with HUGE WIN! \u{1f44f}":!0," made a rain! \u{1f327}\u{1f60a}":!0,"Free bets for everyone! \u{1f60a}":!0};function hX(n){return new RegExp(n.join("|"),"g")}function WFe(n,t){1&n&&(R(0,"span",4),U(1," Mod "),D())}function $Fe(n,t){1&n&&(R(0,"span",5),U(1," Bot "),D())}let YFe=(()=>{class n{constructor(e,i,r){this.oldChat=e,this.app=i,this.maskedUsernamePipe=r}tagUser(){this.oldChat.tagUser(this.username)}get isModeratorMessageType(){return this.senderType===pv.moderator}get isBotMessageType(){return this.senderType===pv.bot}get username(){return this.isBotMessageType||this.isModeratorMessageType?this.playerName:this.maskedUsernamePipe.transform(this.playerName)}}return n.\u0275fac=function(e){return new(e||n)(z(hd),z(ln),z(oa))},n.\u0275cmp=rt({type:n,selectors:[["app-chat-message-name"]],inputs:{playerName:"playerName",senderType:"senderType"},features:[Jn([oa])],decls:5,vars:3,consts:[[1,"name-wrapper"],[1,"name","canSelect",3,"click"],["class","font-weight-bold prefix prefix-mod",4,"ngIf"],["class","font-weight-bold prefix prefix-bot",4,"ngIf"],[1,"font-weight-bold","prefix","prefix-mod"],[1,"font-weight-bold","prefix","prefix-bot"]],template:function(e,i){1&e&&(R(0,"span",0)(1,"span",1),Te("click",function(){return i.tagUser()}),U(2),D(),K(3,WFe,2,0,"span",2),K(4,$Fe,2,0,"span",3),D()),2&e&&(E(2),Ye(i.username),E(1),F("ngIf",i.isModeratorMessageType),E(1),F("ngIf",i.isBotMessageType))},directives:[Nt],styles:[".name-wrapper[_ngcontent-%COMP%]{margin-right:6px;align-items:center}.name-wrapper[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{color:#ffffff80;cursor:pointer}.name-wrapper[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]:hover{cursor:pointer;color:#fff}.name-wrapper[_ngcontent-%COMP%]   .prefix[_ngcontent-%COMP%]{color:#013674;font-size:11px;margin-left:3px;padding:1px 3px;border-radius:4px}.name-wrapper[_ngcontent-%COMP%]   .prefix-mod[_ngcontent-%COMP%]{background-color:#27a708}.name-wrapper[_ngcontent-%COMP%]   .prefix-bot[_ngcontent-%COMP%]{background-color:#1279f1}"],changeDetection:0}),n})();function XFe(n,t){if(1&n&&(R(0,"span",7),U(1),D()),2&n){const e=ne().$implicit;wt("reply-me",e.isReplyForMe),E(1),te(" ",e.str," ")}}function qFe(n,t){if(1&n&&(R(0,"span"),U(1),j(2,"transloco"),D()),2&n){const e=ne().$implicit;E(1),Ye(W(2,1,"game.chat-widget.chat-message."+e.str))}}function KFe(n,t){if(1&n&&(R(0,"span"),U(1),D()),2&n){const e=ne().$implicit;E(1),Ye(e.str)}}function JFe(n,t){if(1&n&&(at(0)(1,3),K(2,XFe,2,3,"span",4),K(3,qFe,3,3,"span",5),K(4,KFe,2,1,"span",6),lt()()),2&n){const e=t.$implicit,i=ne();E(1),F("ngSwitch",e.type),E(1),F("ngSwitchCase",i.chatMessageChunkTypes.reply),E(1),F("ngSwitchCase",i.chatMessageChunkTypes.translate)}}let ZFe=(()=>{class n{constructor(){this.chatMessageChunkTypes=xw,this.chatMessageSenderTypes=pv,this.messageChunks=[]}ngOnInit(){this.makeMessageChunks()}makeMessageChunks(){this.message&&this.message.split(hX(jFe)).forEach(i=>{if(""===i)return;const r=this.getChunkTypeMessage(i),s={str:this.getChunkMessage(i,r),type:r};this.messageChunks.push(s)})}getChunkMessage(e,i){return i===this.chatMessageChunkTypes.reply?e.replace(hX(HFe),""):e}getChunkTypeMessage(e){return function VFe(n){return/(\[b\]@\w+\[\/b\])/g.test(n)}(e)?this.chatMessageChunkTypes.reply:this.isShouldBeTranslated&&zFe.hasOwnProperty(e)?this.chatMessageChunkTypes.translate:""}get isShouldBeTranslated(){return this.senderType===this.chatMessageSenderTypes.bot||this.messageType===fv.rain||this.messageType===fv.winInfo}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=rt({type:n,selectors:[["app-chat-message-text"]],inputs:{message:"message",playerName:"playerName",messageType:"messageType",senderType:"senderType"},decls:3,vars:3,consts:[[1,"text","canSelect"],[3,"senderType","playerName"],[4,"ngFor","ngForOf"],[3,"ngSwitch"],["class","reply",3,"reply-me",4,"ngSwitchCase"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"reply"]],template:function(e,i){1&e&&(R(0,"span",0),fe(1,"app-chat-message-name",1),K(2,JFe,5,3,"ng-container",2),D()),2&e&&(E(1),F("senderType",i.senderType)("playerName",i.playerName),E(1),F("ngForOf",i.messageChunks))},directives:[YFe,oi,Fs,co,iu],pipes:[Gt],styles:[".text[_ngcontent-%COMP%]{word-break:break-word;white-space:pre-line;margin-top:3px;color:#b1b7bd}.text[_ngcontent-%COMP%]   .reply[_ngcontent-%COMP%]{color:#fff}.text[_ngcontent-%COMP%]   .reply-me[_ngcontent-%COMP%]{color:#e50539}"],changeDetection:0}),n})();function QFe(n,t){if(1&n&&(R(0,"div",3),U(1),D()),2&n){const e=ne();E(1),te(" ",e.usersLikesNumber," ")}}let cg=class{constructor(t,e){this.cd=t,this.connector=e,this.usersLikesNumber=0,this.loading=!1}ngOnInit(){this.connector.response(mn.Like,200).pipe(Bt(t=>this.messageId===t.messageId),gr(t=>{this.loading=!1,this.usersLikesNumber=t.usersLikesNumber}),Ct(this)).subscribe(()=>this.cd.detectChanges())}onLike(){this.loading||(this.loading=!0,this.isMeLiked=!this.isMeLiked,this.usersLikesNumber=this.hasLikes?this.isMeLiked?++this.usersLikesNumber:--this.usersLikesNumber:1,this.connector.request(Wi.Like,{setLike:this.isMeLiked,messageId:this.messageId}))}get hasLikes(){return!!this.usersLikesNumber}get isActiveMeLike(){return!!this.isMeLiked}};function eLe(n,t){if(1&n&&(at(0),R(1,"div",3)(2,"div",4),fe(3,"img",5),D(),R(4,"div",6)(5,"div",7),fe(6,"app-chat-message-text",8),D()(),R(7,"div",9),fe(8,"app-chat-message-likes",10),D()(),lt()),2&n){const e=ne();E(3),F("src",e.getAvatar(e.message),rn)("alt",e.getAvatar(e.message)),E(3),F("playerName",e.message.playerName)("senderType",e.message.senderType)("messageType",e.message.messageType)("message",e.message.message),E(2),F("messageId",e.message.messageId)("isMeLiked",null==e.message.likes?null:e.message.likes.isMeLiked)("usersLikesNumber",null==e.message.likes?null:e.message.likes.usersLikesNumber)}}function tLe(n,t){if(1&n&&(at(0),R(1,"div",3)(2,"div",4),fe(3,"img",5),D(),R(4,"div",11)(5,"div",7),fe(6,"app-chat-message-text",8),D()(),R(7,"div",9),fe(8,"app-chat-message-likes",10),D()(),lt()),2&n){const e=ne();E(3),F("src",e.getAvatar(e.message),rn)("alt",e.getAvatar(e.message)),E(3),F("playerName",e.message.playerName)("senderType",e.message.senderType)("messageType",e.message.messageType)("message",e.message.message),E(2),F("messageId",e.message.messageId)("isMeLiked",null==e.message.likes?null:e.message.likes.isMeLiked)("usersLikesNumber",null==e.message.likes?null:e.message.likes.usersLikesNumber)}}cg.\u0275fac=function(t){return new(t||cg)(z(Sn),z(Bi))},cg.\u0275cmp=rt({type:cg,selectors:[["app-chat-message-likes"]],inputs:{messageId:"messageId",isMeLiked:"isMeLiked",usersLikesNumber:"usersLikesNumber"},decls:3,vars:3,consts:[[1,"btn-block"],["class","font-weight-bold likes-number",4,"ngIf"],[1,"btn-like",3,"click"],[1,"font-weight-bold","likes-number"]],template:function(t,e){1&t&&(R(0,"div",0),K(1,QFe,2,1,"div",1),R(2,"div",2),Te("click",function(){return e.onLike()}),D()()),2&t&&(E(1),F("ngIf",e.hasLikes),E(1),wt("active",e.isActiveMeLike))},directives:[Nt],styles:[".btn-block[_ngcontent-%COMP%]{margin-top:4px;height:12px;display:flex;justify-content:center;color:#767b85}.btn-block[_ngcontent-%COMP%]   .likes-number[_ngcontent-%COMP%]{position:relative}.btn-block[_ngcontent-%COMP%]   .btn-like[_ngcontent-%COMP%]{height:100%;width:12px;padding:0;margin:0 2px;cursor:pointer;background-image:var(--urlImgLike);background-repeat:no-repeat;background-position:center;background-size:contain;--urlImgLike: url(like.f7eef68f7ba722a9.svg);--urlImgLikeH: url(like-h.42729805ca89d70b.svg)}.btn-block[_ngcontent-%COMP%]   .btn-like.active[_ngcontent-%COMP%]{background-image:var(--urlImgLikeH)}.btn-block[_ngcontent-%COMP%]   .btn-like[_ngcontent-%COMP%]:active{transform:translateY(1px);background-image:var(--urlImgLikeH)}@media (pointer: fine) and (hover: hover){.btn-block[_ngcontent-%COMP%]   .btn-like[_ngcontent-%COMP%]:hover{background-image:var(--urlImgLikeH)}}"],changeDetection:0}),cg=Ke([Qn()],cg);let nLe=(()=>{class n{constructor(){this.chatMessageRegularTypes=Gb}getAvatar(e){return Mi.avatarPath+e.profileImage+`?v=${Mi.version}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=rt({type:n,selectors:[["app-chat-message-regular"]],inputs:{message:"message",type:"type"},decls:3,vars:2,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"message-wrapper"],[1,"avatar-block"],[1,"avatar",3,"src","alt"],[1,"msg-block","msg-block-type-header"],[1,"msg-data"],[3,"playerName","senderType","messageType","message"],[1,"likes-block"],[3,"messageId","isMeLiked","usersLikesNumber"],[1,"msg-block"]],template:function(e,i){1&e&&(at(0,0),K(1,eLe,9,9,"ng-container",1),K(2,tLe,9,9,"ng-container",2),lt()),2&e&&(F("ngSwitch",i.type),E(1),F("ngSwitchCase",i.chatMessageRegularTypes.header))},directives:[Fs,co,ZFe,cg,iu],styles:[".message-wrapper[_ngcontent-%COMP%]{display:flex;width:100%;padding:0 10px 0 8px;align-items:flex-start;border-radius:8px;line-height:normal}.message-wrapper[_ngcontent-%COMP%]   .avatar-block[_ngcontent-%COMP%]{text-align:center}.message-wrapper[_ngcontent-%COMP%]   .avatar-block[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{min-width:22px;min-height:22px;max-width:22px;max-height:22px;border-radius:50%}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]{border-radius:17px;display:flex;flex-direction:column;width:100%;padding:2px 10px 5px 4px}.message-wrapper[_ngcontent-%COMP%]   .msg-block.msg-block-typ-header[_ngcontent-%COMP%]{padding:2px 10px 5px 5px}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;width:100%;align-items:center;justify-content:space-between}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .reply-mobile-wrapper[_ngcontent-%COMP%]{display:inline-block;width:60px;position:absolute;top:-16px;margin-left:auto;margin-right:auto;left:0;right:0}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .reply-wrapper[_ngcontent-%COMP%]{display:none}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .msg-data[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin-top:3px;word-break:break-word}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .msg-data[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .reply[_ngcontent-%COMP%]{color:#fff}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .msg-data[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .reply-me[_ngcontent-%COMP%]{color:#e50539}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .msg-data[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .emoji[_ngcontent-%COMP%]{font-size:24px}.message-wrapper[_ngcontent-%COMP%]   .likes-block[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;flex-basis:32px}"],changeDetection:0}),n})(),fX=(()=>{class n{transform(e,i){return i?"":e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=as({name:"hideCurrency",type:n,pure:!0}),n})(),iLe=(()=>{class n{constructor(e,i){this.app=e,this.main=i}}return n.\u0275fac=function(e){return new(e||n)(z(ln),z(Zi))},n.\u0275cmp=rt({type:n,selectors:[["app-chat-share-bet"]],inputs:{winInfo:"winInfo"},decls:38,vars:36,consts:[[1,"wrapper"],[1,"header"],[1,"fairness-i","position-absolute","mr-2","mt-2","disabled-on-game-focused",3,"click"],[1,"user","d-flex","justify-content-center","align-items-center"],[1,"avatar","mr-1",3,"src","alt"],[1,"info-blocks"],[1,"info-block"],[1,"title-info-block"],["appColoredMultiplier","",1,"info-data","font-weight-bold"],[1,"info-data"],[1,"info-data",3,"isFreeBet","amount"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1)(2,"div",2),Te("click",function(){return i.main.checkFairness(i.winInfo.roundId)}),D()(),R(3,"div",3),fe(4,"img",4),R(5,"div"),U(6),j(7,"maskedUsername"),D()(),R(8,"div",5)(9,"div",6)(10,"div",7),U(11),j(12,"transloco"),D(),R(13,"div",8),U(14),j(15,"multiplierPrecision"),D()(),R(16,"div",6)(17,"div",7),U(18),j(19,"transloco"),j(20,"hideCurrency"),D(),R(21,"div",9),U(22),j(23,"currencyPrecision"),D()()(),R(24,"div",5)(25,"div",6)(26,"div",7),U(27),j(28,"transloco"),D(),R(29,"div",9),U(30),j(31,"multiplierPrecision"),D()(),R(32,"div",6)(33,"div",7),U(34),j(35,"transloco"),j(36,"hideCurrency"),D(),fe(37,"app-bet-amount",10),D()()()),2&e&&(E(4),F("src",i.app.getAvatarUrl(i.winInfo.profileImage),rn)("alt",i.app.getAvatarUrl(i.winInfo.profileImage)),E(2),te(" ",W(7,14,i.winInfo.playerName)," "),E(5),te("",W(12,16,"shared.cashed_out"),":"),E(3),te(" ",W(15,18,i.winInfo.multiplier),"x "),E(4),Un(" ",W(19,20,"shared.win"),", ",Ut(20,22,i.winInfo.currency,i.app.config.isCurrencyNameHidden),": "),E(4),te(" ",W(23,25,i.winInfo.winAmount)," "),E(5),te("",W(28,27,"shared.round"),":"),E(3),te(" ",W(31,29,i.winInfo.roundMaxMultiplier),"x "),E(4),Un(" ",W(35,31,"shared.bet"),", ",Ut(36,33,i.winInfo.currency,i.app.config.isCurrencyNameHidden),": "),E(3),F("isFreeBet",i.winInfo.isFreeBet)("amount",i.winInfo.bet))},directives:[ED,Dm],pipes:[oa,Gt,uu,fX,Xn],styles:[".wrapper[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;font-size:11px}.wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;position:relative}.wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{margin-top:3px;font-size:13px}.wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .fairness-i[_ngcontent-%COMP%]{background:url(icon-provabyfair.71eb97eaadfab595.svg) no-repeat center center/contain;min-width:14px;max-width:14px;height:16px;cursor:pointer;right:0;top:0}.wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .fairness-wrapper[_ngcontent-%COMP%]{margin-left:5px;right:5px;top:5px;position:absolute}.wrapper[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{text-align:center;font-size:14px;color:#fff;padding:10px 0 20px}.wrapper[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin-left:2px;width:22px;height:22px}.wrapper[_ngcontent-%COMP%]   .info-blocks[_ngcontent-%COMP%]{display:flex;margin-bottom:11px}.wrapper[_ngcontent-%COMP%]   .info-blocks[_ngcontent-%COMP%]   .info-block[_ngcontent-%COMP%]{width:50%;font-size:12px;flex-shrink:0;padding-left:12%}.wrapper[_ngcontent-%COMP%]   .info-blocks[_ngcontent-%COMP%]   .info-block[_ngcontent-%COMP%]   .title-info-block[_ngcontent-%COMP%]{opacity:.3;display:flex;justify-content:flex-start;align-items:center;height:14px}.wrapper[_ngcontent-%COMP%]   .info-blocks[_ngcontent-%COMP%]   .info-block[_ngcontent-%COMP%]   .info-data[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;height:14px;margin-top:5px;color:#fff}"],changeDetection:0}),n})();var jb=(()=>(function(n){n.Claimed="claimed",n.Free="free",n.Canceled="canceled"}(jb||(jb={})),jb))();function rLe(n,t){if(1&n&&(at(0),R(1,"div",11),fe(2,"img",12),R(3,"div",13),U(4),j(5,"maskedUsername"),D()(),lt()),2&n){const e=ne().$implicit,i=ne();E(2),F("src",i.app.getAvatarUrl(e.profileImage),rn)("alt",i.app.getAvatarUrl(e.profileImage)),E(1),wt("me",e.isMe),E(1),te(" ",W(5,5,e.playerName)," ")}}function sLe(n,t){if(1&n){const e=ft();at(0),R(1,"button",14),Te("click",function(){ot(e);const r=ne().$implicit,s=ne();return s.onClaimRain({rainWinnerId:r.rainWinnerId,rainId:s.rainInfo.rainId})}),U(2),j(3,"transloco"),D(),lt()}if(2&n){const e=ne(2);E(1),F("disabled",!e.rainInfo.isCanClaim),E(1),te(" ",W(3,2,"shared.claim")," ")}}function oLe(n,t){1&n&&(at(0),R(1,"button",15),U(2),j(3,"transloco"),D(),lt()),2&n&&(E(1),F("disabled",!0),E(1),te(" ",W(3,2,"shared.claim")," "))}function aLe(n,t){if(1&n&&(R(0,"div",7)(1,"div",8)(2,"span"),U(3),j(4,"currencyPrecision"),j(5,"hideCurrency"),D()(),at(6,9),K(7,rLe,6,7,"ng-container",10),K(8,sLe,4,4,"ng-container",10),K(9,oLe,4,4,"ng-container",10),lt(),D()),2&n){const e=t.$implicit,i=ne();E(3),Un(" ",W(4,6,i.rainInfo.rainAmountPerUser)," ",Ut(5,8,i.rainInfo.currency,i.app.config.isCurrencyNameHidden)," "),E(3),F("ngSwitch",e.rainNodeStatus),E(1),F("ngSwitchCase",i.rainNodeStatus.Claimed),E(1),F("ngSwitchCase",i.rainNodeStatus.Free),E(1),F("ngSwitchCase",i.rainNodeStatus.Canceled)}}let ug=class{constructor(t,e,i,r,s,o){this.connector=t,this.captcha=e,this.cd=i,this.freeBets=r,this.app=s,this.soundService=o,this.rainNodeStatus=jb}ngOnInit(){this.connector.response(mn.ClaimRainWin).pipe(Bt(t=>t.rainId===this.rainInfo.rainId),Ct(this)).subscribe(t=>this.responseClaimRain(t))}onClaimRain(t){this.rainInfo.isCanClaim&&(this.rainInfo.isCanClaim=!1,this.app.config.reCaptchaSiteKey?this.captcha.execute(this.app.config.reCaptchaSiteKey,"claimRain",e=>{t.captchaUserToken=e,this.connector.request(Wi.ClaimRainWin,t)}):this.connector.request(Wi.ClaimRainWin,t))}responseClaimRain(t){200!==t.code?this.rainInfo.isCanClaim=!0:(t.rainNodeStatus!==jb.Canceled&&this.soundService.play(mo.FreeBet),this.rainInfo.rainWinnerInfo[t.rainWinnerId]=Object.assign(Object.assign({},this.rainInfo.rainWinnerInfo[t.rainWinnerId]),{playerName:t.playerName,profileImage:t.profileImage,isMe:t.isMe,rainNodeStatus:t.rainNodeStatus}),t.freeBetInfo&&this.freeBets.add(t.freeBetInfo)),this.cd.detectChanges()}get rainWinnersInfo(){return Object.values(this.rainInfo.rainWinnerInfo)}};function lLe(n,t){if(1&n&&(at(0),R(1,"div",3),fe(2,"app-chat-message-ban",4),D(),lt()),2&n){const e=ne();E(2),F("banInfo",e.message.banInfo)}}ug.\u0275fac=function(t){return new(t||ug)(z(Bi),z(E9),z(Sn),z(bu),z(ln),z(fh))},ug.\u0275cmp=rt({type:ug,selectors:[["app-chat-rain"]],inputs:{rainInfo:"rainInfo"},decls:14,vars:14,consts:[[1,"rain-wrapper"],[1,"body"],[1,"claim-wrapper"],["class","claim-block",4,"ngFor","ngForOf"],[1,"footer"],[1,"footer-info"],[1,"amount"],[1,"claim-block"],[1,"amount","mr-2","px-2"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"user","d-flex","align-items-center"],[1,"avatar","mr-1",3,"src","alt"],[1,"username"],[1,"btn","btn-warning","btn-claim","text-uppercase",3,"disabled","click"],[1,"btn","btn-warning","btn-claim","text-uppercase",3,"disabled"]],template:function(t,e){1&t&&(R(0,"div",0)(1,"div",1)(2,"div",2),K(3,aLe,10,11,"div",3),D()(),R(4,"div",4)(5,"div",5)(6,"span"),U(7),j(8,"transloco"),j(9,"transloco"),D(),R(10,"span",6),U(11),j(12,"currencyPrecision"),j(13,"hideCurrency"),D()()()()),2&t&&(E(3),F("ngForOf",e.rainWinnersInfo),E(4),Un(" ",W(8,5,"shared.rain")," \u{1f327} | ",W(9,7,"shared.total")," "),E(4),Un(" ",W(12,9,e.rainInfo.rainFullAmount)," ",Ut(13,11,e.rainInfo.currency,e.app.config.isCurrencyNameHidden)," "))},directives:[oi,Fs,co],pipes:[Xn,fX,oa,Gt],styles:[".rain-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;background:rgba(0,0,0,.2)}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:20px 0 15px}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:flex-start;margin:5px auto;color:#fff}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{margin-right:9px;border-radius:11px;border:solid 1px #427f00;background-color:#123405;font-size:14px;padding-top:3px;padding-bottom:3px}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin-left:2px;width:22px;height:22px}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .username.me[_ngcontent-%COMP%]{color:#e30c32}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]   .btn-claim[_ngcontent-%COMP%]{min-width:80px;height:22px;font-size:14px;padding:0 5px}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]   .btn-claim[_ngcontent-%COMP%]:disabled{cursor:auto;opacity:.2;pointer-events:none}.rain-wrapper[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{max-height:34px;min-height:34px;width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;color:#9ea0a3}.rain-wrapper[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{color:#fff}"],changeDetection:0}),ug=Ke([Qn()],ug);const cLe=function(n,t,e){return{low:n,medium:t,high:e}};function uLe(n,t){if(1&n&&(at(0),R(1,"div",5)(2,"div",6),fe(3,"app-chat-message-regular",7),D(),fe(4,"app-chat-share-bet",8),D(),lt()),2&n){const e=ne();E(1),F("ngClass",y_(4,cLe,e.message.winInfo.multiplier>=e.multiplierLevel.Low&&e.message.winInfo.multiplier<e.multiplierLevel.Medium,e.message.winInfo.multiplier>=e.multiplierLevel.Medium&&e.message.winInfo.multiplier<e.multiplierLevel.High,e.message.winInfo.multiplier>=e.multiplierLevel.High)),E(2),F("type",e.chatMessageRegularTypes.header)("message",e.message),E(1),F("winInfo",e.message.winInfo)}}function dLe(n,t){if(1&n&&(at(0),R(1,"div",9)(2,"div",6),fe(3,"app-chat-message-regular",7),D(),fe(4,"app-chat-rain",10),D(),lt()),2&n){const e=ne();E(3),F("type",e.chatMessageRegularTypes.header)("message",e.message),E(1),F("rainInfo",e.message.rainInfo)}}const hLe=function(n,t){return{width:n,height:t}};function fLe(n,t){if(1&n&&(at(0),R(1,"div",12)(2,"div"),fe(3,"app-chat-message-regular",7),D(),R(4,"div",13)(5,"div",14),fe(6,"img",15),D()()(),lt()),2&n){const e=ne(2);E(3),F("type",e.chatMessageRegularTypes.header)("message",e.message),E(2),F("ngStyle",ta(4,hLe,e.gifWidth+"px",e.gifHeight+"px")),E(1),F("src",e.gifInfo.url,rn)}}function pLe(n,t){if(1&n&&(at(0),K(1,fLe,7,7,"ng-container",11),lt()),2&n){const e=ne();E(1),F("ngIf",e.gifInfo)}}function gLe(n,t){if(1&n&&(at(0),R(1,"div",3),fe(2,"app-chat-message-regular",16),D(),lt()),2&n){const e=ne();E(2),F("message",e.message)}}let _Le=(()=>{class n{constructor(){this.gifMaxLength=180,this.chatMessageTypes=fv,this.chatMessageRegularTypes=Gb,this.multiplierLevel=ph}ngOnInit(){this.isGifShown&&(this.gifInfo="object"==typeof this.message.gifInfo?this.message.gifInfo:JSON.parse(this.message.gifInfo),this.getGifSizes())}getGifSizes(){const e=this.gifInfo.dims[0],i=this.gifInfo.dims[1],r=e>=i;this.gifWidth=r?this.gifMaxLength:e/(i/this.gifMaxLength),this.gifHeight=r?i/(e/this.gifMaxLength):this.gifMaxLength}get isGifShown(){return this.message.messageType===this.chatMessageTypes.gif&&!!this.message.gifInfo}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=rt({type:n,selectors:[["app-chat-message"]],inputs:{message:"message"},decls:6,vars:5,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"mb-2"],[3,"banInfo"],[1,"win-info-wrapper","mb-2",3,"ngClass"],[1,"msg-wrapper"],[3,"type","message"],[3,"winInfo"],[1,"rain-wrapper","mb-2"],[3,"rainInfo"],[4,"ngIf"],[1,"gif-wrapper","mb-2"],[1,"img-wrapper"],[1,"img-container",3,"ngStyle"],["alt","gif",1,"img",3,"src"],[3,"message"]],template:function(e,i){1&e&&(at(0,0),K(1,lLe,3,1,"ng-container",1),K(2,uLe,5,8,"ng-container",1),K(3,dLe,5,3,"ng-container",1),K(4,pLe,2,1,"ng-container",1),K(5,gLe,3,1,"ng-container",2),lt()),2&e&&(F("ngSwitch",i.message.messageType),E(1),F("ngSwitchCase",i.chatMessageTypes.ban),E(1),F("ngSwitchCase",i.chatMessageTypes.winInfo),E(1),F("ngSwitchCase",i.chatMessageTypes.rain),E(1),F("ngSwitchCase",i.chatMessageTypes.gif))},directives:[Fs,co,GFe,ys,nLe,iLe,ug,Nt,vf,iu],styles:[".win-info-wrapper[_ngcontent-%COMP%]{border-radius:6px;background-color:#1b1c1d}.win-info-wrapper.low[_ngcontent-%COMP%]{background-color:#000e34}.win-info-wrapper.medium[_ngcontent-%COMP%]{background-color:#260034}.win-info-wrapper.high[_ngcontent-%COMP%]{background-color:#34002f}.win-info-wrapper[_ngcontent-%COMP%]   .msg-wrapper[_ngcontent-%COMP%]{background:rgba(0,0,0,.2)}.rain-wrapper[_ngcontent-%COMP%]{border-radius:6px;background-color:#055522}.gif-wrapper[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]{margin:4px 10px 0 30px}.gif-wrapper[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]{border-radius:6px;overflow:hidden}.gif-wrapper[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:100%;height:100%}.msg-wrapper[_ngcontent-%COMP%]{min-height:40px;padding-top:10px}"],changeDetection:0}),n})();var Hh=(()=>(function(n){n.emoji="emoji",n.gif="gif",n.rain="rain"}(Hh||(Hh={})),Hh))(),gv=(()=>(function(n){n.emoji="emoji",n.rain="rain",n.gif="gif"}(gv||(gv={})),gv))();const mLe=["*"];let NN=(()=>{class n{constructor(){this.chatInputTools=Hh,this.closeTool=new nn}onCloseTool(){this.closeTool.emit()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=rt({type:n,selectors:[["app-chat-input-tool-wrapper"]],inputs:{title:"title"},outputs:{closeTool:"closeTool"},ngContentSelectors:mLe,decls:12,vars:5,consts:[[1,"modal"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title","text-uppercase"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],[1,"modal-body","p-0"]],template:function(e,i){1&e&&(s0(),R(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),U(5),j(6,"transloco"),D(),R(7,"button",5),Te("click",function(){return i.onCloseTool()}),R(8,"span"),U(9,"\xd7"),D()()(),R(10,"div",6),o0(11),D()()()()),2&e&&(E(1),wt("rain",i.title===i.chatInputTools.rain),E(4),te(" ",W(6,3,"shared."+i.title)," "))},pipes:[Gt],styles:[".modal[_ngcontent-%COMP%]{position:absolute;display:block;margin-left:auto;margin-right:auto;inset:auto 0 67px;height:auto}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{left:auto;margin:0 auto;height:320px;width:calc(100% - 20px);max-width:calc(100% - 20px)}.modal[_ngcontent-%COMP%]   .modal-dialog.rain[_ngcontent-%COMP%]{height:336px}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{--headerHeight: 36px;height:100%}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{min-height:var(--headerHeight);max-height:var(--headerHeight)}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:calc(100% - var(--headerHeight))}"],changeDetection:0}),n})();function vLe(n,t){if(1&n){const e=ft();R(0,"span",9),Te("click",function(){const s=ot(e).$implicit;return ne(2).onClickEmoji(s.pic)}),U(1),D()}if(2&n){const e=t.$implicit;F("title",e.title),E(1),te(" ",e.pic," ")}}function yLe(n,t){if(1&n){const e=ft();R(0,"span",9),Te("click",function(){const s=ot(e).$implicit;return ne(2).onClickEmoji(s.pic)}),U(1),D()}if(2&n){const e=t.$implicit;F("title",e.title),E(1),te(" ",e.pic," ")}}function bLe(n,t){if(1&n){const e=ft();R(0,"span",9),Te("click",function(){const s=ot(e).$implicit;return ne(2).onClickEmoji(s.pic)}),U(1),D()}if(2&n){const e=t.$implicit;F("title",e.title),E(1),te(" ",e.pic," ")}}function SLe(n,t){if(1&n){const e=ft();R(0,"span",9),Te("click",function(){const s=ot(e).$implicit;return ne(2).onClickEmoji(s.pic)}),U(1),D()}if(2&n){const e=t.$implicit;F("title",e.title),E(1),te(" ",e.pic," ")}}function CLe(n,t){if(1&n){const e=ft();R(0,"span",9),Te("click",function(){const s=ot(e).$implicit;return ne(2).onClickEmoji(s.pic)}),U(1),D()}if(2&n){const e=t.$implicit;F("title",e.title),E(1),te(" ",e.pic," ")}}function ELe(n,t){if(1&n){const e=ft();R(0,"span",9),Te("click",function(){const s=ot(e).$implicit;return ne(2).onClickEmoji(s.pic)}),U(1),D()}if(2&n){const e=t.$implicit;F("title",e.title),E(1),te(" ",e.pic," ")}}function TLe(n,t){if(1&n&&(at(0),R(1,"div"),U(2),j(3,"transloco"),D(),R(4,"div",6),K(5,vLe,2,2,"span",7),D(),R(6,"div",8),U(7),j(8,"transloco"),D(),R(9,"div",6),K(10,yLe,2,2,"span",7),D(),R(11,"div",8),U(12),j(13,"transloco"),D(),R(14,"div",6),K(15,bLe,2,2,"span",7),D(),R(16,"div",8),U(17),j(18,"transloco"),D(),R(19,"div",6),K(20,SLe,2,2,"span",7),D(),R(21,"div",8),U(22),j(23,"transloco"),D(),R(24,"div",6),K(25,CLe,2,2,"span",7),D(),R(26,"div",8),U(27),j(28,"transloco"),D(),R(29,"div",6),K(30,ELe,2,2,"span",7),D(),lt()),2&n){const e=ne();E(2),te(" ",W(3,12,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.favorites")," "),E(3),F("ngForOf",e.emojiFriquentlyUsed),E(2),te(" ",W(8,14,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.people")," "),E(3),F("ngForOf",e.emojiPeople),E(2),te(" ",W(13,16,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.nature")," "),E(3),F("ngForOf",e.emojiNature),E(2),te(" ",W(18,18,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.objects")," "),E(3),F("ngForOf",e.emojiObjects),E(2),te(" ",W(23,20,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.places")," "),E(3),F("ngForOf",e.emojiPlaces),E(2),te(" ",W(28,22,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.symbols")," "),E(3),F("ngForOf",e.emojiSymbols)}}function wLe(n,t){if(1&n){const e=ft();R(0,"span",9),Te("click",function(){const s=ot(e).$implicit;return ne(2).onClickEmoji(s.pic)}),U(1),D()}if(2&n){const e=t.$implicit;F("title",e.title),E(1),te(" ",e.pic," ")}}function MLe(n,t){if(1&n&&(at(0),R(1,"div",6),K(2,wLe,2,2,"span",7),D(),lt()),2&n){const e=ne();E(2),F("ngForOf",e.searchList)}}let OLe=(()=>{class n{constructor(){this.finish=new nn,this.chatInputToolWrapperTitles=gv,this.searchText="",this.searchList=[],this.emojiForSearch=[],this.emojiFriquentlyUsed=[],this.emojiPeople=[],this.emojiNature=[],this.emojiObjects=[],this.emojiPlaces=[],this.emojiSymbols=[]}ngOnInit(){this.emojiForSearch=Ua.slice(9),this.emojiFriquentlyUsed=Ua.slice(0,9),this.emojiPeople=Ua.slice(9,150),this.emojiNature=Ua.slice(150,226),this.emojiObjects=Ua.slice(226,309),this.emojiPlaces=Ua.slice(309,335),this.emojiSymbols=Ua.slice(335)}onModelChange(e){const i=[],r=this.formatMsg(e);if(""!==r&&" "!==r){for(const s of this.emojiForSearch)s.title.includes(e)&&i.push(s);this.searchList=[...i]}else this.searchList=[]}get isShownSearchList(){return!!this.searchText&&this.searchText.length>0}preventDefault(e){e&&e.preventDefault()}formatMsg(e){return e.replace(/\n/gm," ").replace(/ {1,}/g," ").trim()}onClickEmoji(e){this.finish.emit({str:e})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=rt({type:n,selectors:[["app-chat-input-tool-emoji"]],outputs:{finish:"finish"},decls:8,vars:8,consts:[[3,"title","closeTool"],[1,"search-wrapper"],[1,"input-wrapper"],["minlength","0",3,"ngModel","placeholder","maxlength","ngModelChange","keydown.enter"],[1,"emoji-list","scroll-y"],[4,"ngIf"],[1,"emoji-group"],["class","emoji-item",3,"title","click",4,"ngFor","ngForOf"],[1,"header"],[1,"emoji-item",3,"title","click"]],template:function(e,i){1&e&&(R(0,"app-chat-input-tool-wrapper",0),Te("closeTool",function(){return i.finish.emit()}),R(1,"div",1)(2,"div",2)(3,"textarea",3),Te("ngModelChange",function(s){return i.searchText=s})("ngModelChange",function(s){return i.onModelChange(s)})("keydown.enter",function(s){return i.preventDefault(s)}),j(4,"transloco"),D()()(),R(5,"div",4),K(6,TLe,31,24,"ng-container",5),K(7,MLe,3,1,"ng-container",5),D()()),2&e&&(F("title",i.chatInputToolWrapperTitles.emoji),E(3),Hu("placeholder",W(4,6,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.search emoji")),F("ngModel",i.searchText)("maxlength",20),E(3),F("ngIf",!i.isShownSearchList),E(1),F("ngIf",i.isShownSearchList))},directives:[NN,fd,Pm,fa,Vo,xm,Nt,oi],pipes:[Gt],styles:[".search-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;min-height:50px;max-height:50px;padding:0 10px;border-bottom:solid 1px #545454}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{width:100%;border-radius:22px;background-color:#000;min-height:30px;max-height:30px;display:flex}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding-left:16px;font-size:13px;width:100%;background:unset;resize:none;max-height:100%;color:#fff;line-height:2;border:none}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-moz-placeholder{color:#d2d2d2}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#d2d2d2}.emoji-list[_ngcontent-%COMP%]{margin-top:10px;font-size:13px;height:100%;overflow:hidden}.emoji-list[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{padding-top:10px}.emoji-list[_ngcontent-%COMP%]   .emoji-group[_ngcontent-%COMP%]{font-size:18px}.emoji-list[_ngcontent-%COMP%]   .emoji-group[_ngcontent-%COMP%]   .emoji-item[_ngcontent-%COMP%]{display:inline-table;text-align:justify;width:30px;line-height:1.07;cursor:pointer;padding:6px;transition:transform 60ms ease-out 60ms}"],changeDetection:0}),n})(),PLe=(()=>{class n{constructor(e,i){this.app=e,this.currencyPrecisionPipe=i,this.chatInputToolWrapperTitles=gv,this.amountPerUser=.5,this.numberOfUsers=0,this.finish=new nn}ngOnInit(){this.numberOfUsers=this.app.config.chat.rain.defaultNumOfUsers,this.amountPerUser=this.app.config.minBet}get minNumberOfUsers(){return this.app.config.chat.rain.minNumOfUsers}get maxNumberOfUsers(){return this.app.config.chat.rain.maxNumOfUsers}get minAmountPerUser(){return this.app.config.chat.rain.rainMinBet}get maxAmountPerUser(){return this.app.config.chat.rain.rainMaxBet}get totalAmount(){return Li.mul(this.amountPerUser,this.numberOfUsers).toNumber()}onRain(){const e=`/rain:${this.currencyPrecisionPipe.transform(this.amountPerUser)}:${this.numberOfUsers} `;this.finish.emit({str:e})}}return n.\u0275fac=function(e){return new(e||n)(z(ln),z(Xn))},n.\u0275cmp=rt({type:n,selectors:[["app-chat-input-tool-rain"]],outputs:{finish:"finish"},decls:39,vars:35,consts:[[3,"title","closeTool"],[1,"content"],[1,"description"],[1,"input-wrapper"],[1,"mt-3"],[1,"currency"],[1,"input-spinner"],[3,"formatPrecision","ngModel","step","min","max","ngModelChange"],[1,"mt-2"],[3,"step","formatPrecision","min","max","ngModel","ngModelChange"],[1,"d-flex","mt-2","justify-content-center"],[1,"total-amount","text-center","font-weight-bold"],[1,"text-center"],[1,"btn-rain","btn","btn-sm","btn-success",3,"click"],[1,"text-uppercase"]],template:function(e,i){1&e&&(R(0,"app-chat-input-tool-wrapper",0),Te("closeTool",function(){return i.finish.emit()}),R(1,"div",1)(2,"div",2),U(3),j(4,"transloco"),D(),R(5,"div",3)(6,"div",4)(7,"span"),U(8),j(9,"transloco"),D(),R(10,"span",5),U(11),D()(),R(12,"div",6)(13,"app-spinner",7),Te("ngModelChange",function(s){return i.amountPerUser=s}),D()(),R(14,"div",8),U(15),j(16,"transloco"),D(),R(17,"div",6)(18,"app-spinner",9),Te("ngModelChange",function(s){return i.numberOfUsers=s}),D()()(),R(19,"div",10)(20,"div")(21,"span"),U(22),j(23,"transloco"),D(),R(24,"span",5),U(25),D()()(),R(26,"div",11),U(27),j(28,"currencyPrecision"),D(),R(29,"div",12)(30,"button",13),Te("click",function(){return i.onRain()}),R(31,"span",14),U(32),j(33,"transloco"),D(),R(34,"span"),U(35),j(36,"currencyPrecision"),D(),R(37,"span"),U(38),D()()()()()),2&e&&(F("title",i.chatInputToolWrapperTitles.rain),E(3),te(" ",W(4,21,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-rain.description")," "),E(5),te(" ",W(9,23,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-rain.amount per player")," "),E(3),Ye(i.app.config.currency),E(2),F("formatPrecision",i.app.config.betPrecision)("ngModel",i.amountPerUser)("step",i.app.config.betInputStep)("min",i.minAmountPerUser)("max",i.maxAmountPerUser),E(2),te(" ",W(16,25,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-rain.number of players")," "),E(3),F("step",1)("formatPrecision",0)("min",i.minNumberOfUsers)("max",i.maxNumberOfUsers)("ngModel",i.numberOfUsers),E(4),te("",W(23,27,"shared.total"),","),E(3),te(" ",i.app.config.currency,""),E(2),te(" ",W(28,29,i.totalAmount)," "),E(5),Ye(W(33,31,"shared.rain")),E(3),te(" ",W(36,33,i.totalAmount),""),E(3),te(" ",i.app.config.currency,""))},directives:[NN,Ow,fa,Vo],pipes:[Gt,Xn],styles:[".content[_ngcontent-%COMP%]{padding:10px;display:flex;flex-direction:column;justify-content:center;align-items:center;font-size:12px}.content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#b1b7bd}.content[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{max-width:240px;margin:0 auto;display:flex;flex-direction:column}.content[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .input-spinner[_ngcontent-%COMP%]{height:30px;font-size:18px;text-align:center}.content[_ngcontent-%COMP%]   .total-amount[_ngcontent-%COMP%]{font-size:22px}.content[_ngcontent-%COMP%]   .btn-rain[_ngcontent-%COMP%]{width:240px;font-size:14px;margin-top:15px}"],changeDetection:0}),n})();const pX=function(n){return{background:n}};function xLe(n,t){if(1&n){const e=ft();R(0,"div",8)(1,"div",9),Te("click",function(){const s=ot(e).$implicit;return ne(2).shareGif(s.id)}),D()()}if(2&n){const e=t.$implicit;E(1),F("ngStyle",di(1,pX,"url("+e.url+") center center/cover"))}}function ILe(n,t){if(1&n&&(at(0),K(1,xLe,2,3,"div",7),lt()),2&n){const e=ne();E(1),F("ngForOf",e.oldChat.top10Gifs)}}function ALe(n,t){if(1&n){const e=ft();R(0,"div",8)(1,"div",9),Te("click",function(){const s=ot(e).$implicit;return ne(3).shareGif(s.id)}),D()()}if(2&n){const e=t.$implicit;E(1),F("ngStyle",di(1,pX,"url("+e.url+") center center/cover"))}}function RLe(n,t){if(1&n&&(at(0),K(1,ALe,2,3,"div",7),lt()),2&n){const e=ne(2);E(1),F("ngForOf",e.searchList)}}function DLe(n,t){1&n&&(R(0,"div",11),fe(1,"app-loader"),D())}function NLe(n,t){if(1&n&&(at(0),K(1,RLe,2,1,"ng-container",6),K(2,DLe,2,0,"div",10),lt()),2&n){const e=ne();E(1),F("ngIf",e.searchList&&e.searchList.length),E(1),F("ngIf",!(e.searchList&&e.searchList.length))}}let dg=class{constructor(t,e,i){this.connector=t,this.cd=e,this.oldChat=i,this.finish=new nn,this.searchInput=new Qe,this.chatInputToolWrapperTitles=gv,this.searchText="",this.searchList=[]}ngOnInit(){this.connector.response(mn.SearchGifs,200).pipe(Ct(this)).subscribe(t=>{const e=this.formatMsg(this.searchText);if(""===e||" "===e)return this.searchList=[],void this.cd.detectChanges();this.searchList=Array.isArray(t.gifsInfo)?t.gifsInfo:QG(t.gifsInfo),this.cd.detectChanges()}),this.searchInput.pipe(DN(1e3),lp(),Ct(this)).subscribe(t=>{this.getGifs(t)})}getGifs(t){this.connector.request(Wi.SearchGifs,{tag:t})}onModelChange(t){const e=this.formatMsg(t);""!==e&&" "!==e?this.searchInput.next(e):this.searchList=[]}get isShownSearchList(){return!!this.searchText&&this.searchText.trim().length>0}formatMsg(t){return t.replace(/\n/gm," ").replace(/ {1,}/g," ").trim()}preventDefault(t){t&&t.preventDefault()}shareGif(t){this.finish.emit({str:`/gif:${t} `})}};dg.\u0275fac=function(t){return new(t||dg)(z(Bi),z(Sn),z(hd))},dg.\u0275cmp=rt({type:dg,selectors:[["app-chat-input-tool-gif"]],outputs:{finish:"finish"},decls:9,vars:8,consts:[[3,"title","closeTool"],[1,"search-wrapper"],[1,"input-wrapper"],[1,"i-block"],["minlength","0",3,"ngModel","placeholder","maxlength","ngModelChange","keydown.enter"],[1,"gif-list","scroll-y"],[4,"ngIf"],["class","gif-wrapper",4,"ngFor","ngForOf"],[1,"gif-wrapper"],[1,"gif-item",3,"ngStyle","click"],["class","loader-wrapper",4,"ngIf"],[1,"loader-wrapper"]],template:function(t,e){1&t&&(R(0,"app-chat-input-tool-wrapper",0),Te("closeTool",function(){return e.finish.emit()}),R(1,"div",1)(2,"div",2),fe(3,"div",3),R(4,"textarea",4),Te("ngModelChange",function(r){return e.searchText=r})("ngModelChange",function(r){return e.onModelChange(r)})("keydown.enter",function(r){return e.preventDefault(r)}),j(5,"transloco"),D()()(),R(6,"div",5),K(7,ILe,2,1,"ng-container",6),K(8,NLe,3,2,"ng-container",6),D()()),2&t&&(F("title",e.chatInputToolWrapperTitles.gif),E(4),Hu("placeholder",W(5,6,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-gif.search gif")),F("ngModel",e.searchText)("maxlength",20),E(3),F("ngIf",!e.isShownSearchList),E(1),F("ngIf",e.isShownSearchList))},directives:[NN,fd,Pm,fa,Vo,xm,Nt,oi,vf,Nc],pipes:[Gt],styles:[".search-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;min-height:50px;max-height:50px;padding:0 10px;border-bottom:solid 1px #545454}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{width:100%;border-radius:22px;background-color:#000;min-height:30px;max-height:30px;display:flex}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding-left:16px;font-size:13px;width:100%;background:unset;resize:none;max-height:100%;color:#fff;line-height:2;border:none}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-moz-placeholder{color:#d2d2d2}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#d2d2d2}.gif-list[_ngcontent-%COMP%]{font-size:13px;height:100%;overflow:hidden;display:flex;flex-wrap:wrap}.gif-list[_ngcontent-%COMP%]   .gif-wrapper[_ngcontent-%COMP%]{width:50%;height:118px;padding:5px}.gif-list[_ngcontent-%COMP%]   .gif-wrapper[_ngcontent-%COMP%]   .gif-item[_ngcontent-%COMP%]{border-radius:6px;width:100%;height:100%;cursor:pointer;transition:transform 60ms ease-out 60ms}.loader-wrapper[_ngcontent-%COMP%]{margin:0 auto}"],changeDetection:0}),dg=Ke([Qn()],dg);const kLe=["input"];function FLe(n,t){if(1&n){const e=ft();R(0,"div",11),Te("click",function(){ot(e);const r=ne();return r.showToolModal(r.chatInputTools.emoji)}),D()}}function LLe(n,t){if(1&n){const e=ft();R(0,"div",12),Te("click",function(){ot(e);const r=ne();return r.showToolModal(r.chatInputTools.gif)}),D()}}function BLe(n,t){if(1&n){const e=ft();R(0,"div",13),Te("click",function(){ot(e);const r=ne();return r.showToolModal(r.chatInputTools.rain)}),fe(1,"div",14),R(2,"div",15),U(3),j(4,"transloco"),D()()}2&n&&(E(3),Ye(W(4,1,"shared.rain")))}function ULe(n,t){if(1&n){const e=ft();R(0,"app-chat-input-tool-emoji",16),Te("finish",function(r){return ot(e),ne().onCloseToolModal(r,"emoji")}),D()}}function GLe(n,t){if(1&n){const e=ft();R(0,"app-chat-input-tool-rain",16),Te("finish",function(r){return ot(e),ne().onCloseToolModal(r,"rain")}),D()}}function jLe(n,t){if(1&n){const e=ft();R(0,"app-chat-input-tool-gif",16),Te("finish",function(r){return ot(e),ne().onCloseToolModal(r,"gif")}),D()}}function HLe(n,t){if(1&n){const e=ft();R(0,"div",17)(1,"div",18)(2,"div",19),Te("animationend",function(){return ot(e),ne().onWaitEnd()}),D()(),R(3,"p"),U(4),j(5,"transloco"),D()()}if(2&n){const e=ne();E(2),pc("animation-duration",e.app.config.chat.sendMessageDelay,"ms"),E(2),Ye(W(5,3,"game.chat-widget.chat-input.please wait"))}}let hg=class{constructor(t,e,i,r,s){this.oldChat=t,this.app=e,this.mainService=i,this.cd=r,this.connector=s,this.message="",this.wait=!1,this.chatInputTools=Hh,this.toolModal=null}ngOnInit(){this.value="",wi(this.inputRef.nativeElement,"input").pipe(ua(50),Ct(this)).subscribe(()=>{this.cd.detectChanges()}),wi(this.inputRef.nativeElement,"keydown").pipe(Bt(t=>13===t.which),Ct(this)).subscribe(t=>{t.preventDefault(),this.sendMessage(),this.cd.detectChanges()}),this.oldChat.onTagUser.pipe(Ct(this)).subscribe(t=>{this.addToInput(t),this.cd.detectChanges()})}addToInput(t,e=!1){t.length<=this.leftLength&&(this.value=e?t:`${this.value?this.value:""}${t}`)}onClickSend(){this.sendMessage()}get isValid(){const t=this.value.length;return t>=1&&t<=this.app.config.chat.maxMessageLength}sendMessage(){const t=function VLe(n){return n.replace(/\n/gm," ").replace(/ {1,}/g," ").trim()}(this.value);""===t||" "===t||!this.isValid||(this.value="",this.wait=!0,this.connector.request(this.oldChat.isChatApiV2OrLater?Wi.AddChatMessageV2:Wi.AddChatMessage,{message:t}),this.showToolModal(null),setTimeout(()=>{this.inputRef.nativeElement.blur()}))}onCloseToolModal(t,e){void 0!==t?!1===this.wait&&("gif"===e?(this.addToInput(t.str),this.sendMessage()):"emoji"===e?this.addToInput(t.str):"rain"===e&&(this.addToInput(t.str,!0),this.showToolModal(null))):this.showToolModal(null)}showToolModal(t=null){this.toolModal!==t||null===this.toolModal?this.toolModal=t:this.onCloseToolModal()}onWaitEnd(){this.wait=!1,setTimeout(()=>{this.inputRef.nativeElement.focus()})}get isEmojiShown(){return this.toolModal===Hh.emoji}get isRainShown(){return this.toolModal===Hh.rain}get isGifShown(){return this.toolModal===Hh.gif}get leftLength(){return this.app.config.chat.maxMessageLength-(this.value?this.value.length:0)}get value(){return this.inputRef.nativeElement.value}set value(t){this.inputRef.nativeElement.value=t}};hg.\u0275fac=function(t){return new(t||hg)(z(hd),z(ln),z(Zi),z(Sn),z(Bi))},hg.\u0275cmp=rt({type:hg,selectors:[["app-chat-input"]],viewQuery:function(t,e){if(1&t&&Lr(kLe,7),2&t){let i;kn(i=Fn())&&(e.inputRef=i.first)}},decls:15,vars:13,consts:[[1,"input-message"],["required","","minlength","1",1,"scroll-y",3,"placeholder"],["input",""],[1,"tools"],["class","smiles",3,"click",4,"ngIf"],["class","gif",3,"click",4,"ngIf"],["class","rain-wrapper",3,"click",4,"ngIf"],[1,"left-length"],[1,"enter",3,"disabled","click"],[3,"finish",4,"ngIf"],["class","chat-input-overlay",4,"ngIf"],[1,"smiles",3,"click"],[1,"gif",3,"click"],[1,"rain-wrapper",3,"click"],[1,"i-rain"],[1,"text"],[3,"finish"],[1,"chat-input-overlay"],[1,"time-left-loading"],[1,"time-left-loading-thumb",3,"animationend"]],template:function(t,e){1&t&&(R(0,"div",0),fe(1,"textarea",1,2),j(3,"transloco"),R(4,"div",3),K(5,FLe,1,0,"div",4),K(6,LLe,1,0,"div",5),K(7,BLe,5,3,"div",6),R(8,"div",7),U(9),D()(),R(10,"button",8),Te("click",function(){return e.onClickSend()}),D(),K(11,ULe,1,0,"app-chat-input-tool-emoji",9),K(12,GLe,1,0,"app-chat-input-tool-rain",9),K(13,jLe,1,0,"app-chat-input-tool-gif",9),K(14,HLe,6,5,"div",10),D()),2&t&&(E(1),Hu("placeholder",W(3,11,"shared.reply")),ui("maxlength",e.app.config.chat.maxMessageLength),E(4),F("ngIf",e.app.isDesktop),E(1),F("ngIf",e.app.config.chat.isGifsEnabled),E(1),F("ngIf",e.app.config.chat.rain.isEnabled),E(2),Ye(e.leftLength),E(1),F("disabled",!e.isValid),E(1),F("ngIf",e.isEmojiShown),E(1),F("ngIf",e.isRainShown),E(1),F("ngIf",e.isGifShown),E(1),F("ngIf",e.wait))},directives:[Nt,OLe,PLe,dg],pipes:[Gt],styles:["[_nghost-%COMP%]{width:inherit}.input-message[_ngcontent-%COMP%]{margin:0 auto;height:67px;position:relative;z-index:110;background-color:#000;border-top:1px solid #2a2b2e}.input-message[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{margin:7px 0 0 12px;border:0;resize:none;width:calc(100% - 50px);display:block;height:34px;font-size:13px;color:#fff;line-height:1;background:unset;position:relative;overflow:hidden}.input-message[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-moz-placeholder{color:#747474}.input-message[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#747474}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]{width:calc(100% - 20px);position:absolute;bottom:5px;left:14px;color:#747474;display:flex;align-items:flex-end;font-size:13px}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{cursor:pointer}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:active{transform:translateY(1px)}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .smiles[_ngcontent-%COMP%]{width:14px;height:14px;background:url(smiley.571c039004529d0e.svg) no-repeat center center/contain}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .smiles[_ngcontent-%COMP%]:hover{background:url(smiley-h.1e50d8284ac7440f.svg) no-repeat center center/contain}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .gif[_ngcontent-%COMP%]{width:25px;height:14px;margin-left:5px;background:url(gif.d79a6fe11716cc0d.svg) no-repeat center center/contain}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .gif[_ngcontent-%COMP%]:hover{background:url(gif-h.80355691f0bc81db.svg) no-repeat center center/contain}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .rain-wrapper[_ngcontent-%COMP%]{margin-left:10px;display:flex;align-items:flex-end;justify-content:center;cursor:pointer}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .rain-wrapper[_ngcontent-%COMP%]:hover   .i-rain[_ngcontent-%COMP%]{background:url(rain-h.5a0773f47cf64531.svg) no-repeat center center/contain}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .rain-wrapper[_ngcontent-%COMP%]:hover   .text[_ngcontent-%COMP%]{color:#fff}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .rain-wrapper[_ngcontent-%COMP%]   .i-rain[_ngcontent-%COMP%]{background:url(rain.03deaf6b8844a05d.svg) no-repeat center center/contain;width:10px;height:14px}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .rain-wrapper[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{padding-left:2px;line-height:1}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .left-length[_ngcontent-%COMP%]{margin-left:auto;margin-right:5px;cursor:auto;line-height:1}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .left-length[_ngcontent-%COMP%]:active{transform:unset}.input-message[_ngcontent-%COMP%]   .enter[_ngcontent-%COMP%]{position:absolute;right:10px;top:50%;transform:translateY(-50%);border:none;background:url(enter.6f74e8cc9d963344.svg) no-repeat;background-size:contain;height:16px;padding:0;width:11px;cursor:pointer}.input-message[_ngcontent-%COMP%]   .enter[_ngcontent-%COMP%]:active{transform:translateY(calc(-50% + 1px))}.input-message[_ngcontent-%COMP%]   .enter[_ngcontent-%COMP%]:disabled{opacity:.3}.input-message[_ngcontent-%COMP%]   .chat-input-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;border-radius:4px 4px 0 0;background:rgba(0,0,0,.2);display:flex;justify-content:center;align-items:center;flex-direction:column}.input-message[_ngcontent-%COMP%]   .chat-input-overlay[_ngcontent-%COMP%]   .time-left-loading[_ngcontent-%COMP%]{height:6px;width:160px;border:1px solid #b0bbc8;border-radius:4px;overflow:hidden;opacity:.5}.input-message[_ngcontent-%COMP%]   .chat-input-overlay[_ngcontent-%COMP%]   .time-left-loading[_ngcontent-%COMP%]   .time-left-loading-thumb[_ngcontent-%COMP%]{height:6px;width:160px;border-radius:2px;background:#b0bbc8;transform:translate(-160px);animation:chat-input-loading;animation-timing-function:linear}.input-message[_ngcontent-%COMP%]   .chat-input-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:12px;color:#b0bbc8}@keyframes chat-input-loading{0%{transform:translate(0)}to{transform:translate(-160px)}}"],changeDetection:0}),hg=Ke([Qn()],hg);const zLe=["container"];function WLe(n,t){1&n&&fe(0,"app-chat-message",5),2&n&&F("message",t.$implicit)}function $Le(n,t){if(1&n){const e=ft();R(0,"div",6),Te("click",function(){return ot(e),ne().onScrollToBottom()}),U(1),j(2,"transloco"),fe(3,"span",7),D()}2&n&&(E(1),te(" ",W(2,1,"game.chat-widget.New messages")," "))}let fg=class{constructor(t,e,i,r,s,o,a){this.connector=t,this.app=e,this.zone=i,this.chatFeatureService=r,this.oldChat=s,this.messageService=o,this.cd=a,this.newMessagesAdded=!1,this.trackByMessageId=(l,c)=>c.messageId}ngOnInit(){this.scrollNativeElement=this.containerRef.nativeElement,this.connector.response(mn.AddChatMessage,200).pipe(Ct(this)).subscribe(t=>this.onReceiveMessage(t)),this.connector.response(mn.AddChatMessages,200).pipe(Ct(this)).subscribe(t=>this.onAddChatMessages(t)),this.connector.response(mn.DeleteChatMessage,200).pipe(Ct(this)).subscribe(t=>this.onDeleteMessage(t.messageIdList)),this.chatFeatureService.isOpen$.pipe(Bt(t=>!0===t),Ct(this)).subscribe(()=>this.scrollToBottom()),wi(document.fonts,"loadingdone").pipe(Ct(this)).subscribe(()=>this.scrollToBottom())}ngAfterViewInit(){this.scrollToBottom(100),wi(this.scrollNativeElement,"scroll").pipe(DN(300),Bt(()=>this.isScrollAtBottom&&this.newMessagesAdded),Ct(this)).subscribe(()=>{this.newMessagesAdded=!1,this.cd.detectChanges()})}onReceiveMessage(t){this.oldChat.messages.push(t.message),this.oldChat.messages.length>this.app.config.chat.maxMessages&&this.oldChat.messages.shift(),this.keepUpScroll(),this.cd.detectChanges(),!1===this.chatFeatureService.isOpen&&"rain"===t.message.messageType&&this.notifyAboutRain()}keepUpScroll(){this.isScrollAtBottom?(this.newMessagesAdded=!1,this.scrollToBottom()):this.newMessagesAdded=!0}notifyAboutRain(){this.messageService.add({value:"rain-has-been-dropped",lifeTime:5e3,context:Tr.success,callback:()=>{setTimeout(()=>{this.chatFeatureService.isOpen=!0},300)}})}onAddChatMessages(t){const e=t.messages.some(i=>"rain"===i.messageType);this.oldChat.messages.push(...t.messages),this.oldChat.messages=this.oldChat.messages.slice(-this.app.config.chat.maxMessages),this.keepUpScroll(),this.cd.detectChanges(),!1===this.chatFeatureService.isOpen&&e&&this.notifyAboutRain()}onDeleteMessage(t){this.oldChat.messages=this.oldChat.messages.filter(e=>!t.includes(e.messageId)),this.cd.detectChanges()}onScrollToBottom(){this.newMessagesAdded=!1,this.scrollToBottom()}get isScrollAtBottom(){return Math.abs(this.scrollNativeElement.scrollHeight-this.scrollNativeElement.clientHeight-this.scrollNativeElement.scrollTop)<=1}scrollToBottom(t=0){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.scrollNativeElement.scrollTop=this.scrollNativeElement.scrollHeight},t)})}};function YLe(n,t){if(1&n&&(R(0,"div",13),fe(1,"app-engagement-tool",14),D()),2&n){const e=ne();E(1),F("engagementTools",e.app.config.engagementTools)("gameIdentifier",e.gameIdentifier)}}function XLe(n,t){if(1&n){const e=ft();R(0,"app-play-board",15),Te("webglContextLost",function(){return ot(e),ne().handleWebglContextLost()}),D()}}function qLe(n,t){1&n&&fe(0,"app-new-chat")}function KLe(n,t){1&n&&fe(0,"app-chat-widget")}function JLe(n,t){if(1&n&&(R(0,"div",16),K(1,qLe,1,0,"app-new-chat",17),K(2,KLe,1,0,"ng-template",null,18,No),D()),2&n){const e=Fi(3),i=ne();E(1),F("ngIf",null==i.app.config.engagementTools?null:i.app.config.engagementTools.isExternalChatEnabled)("ngIfElse",e)}}fg.\u0275fac=function(t){return new(t||fg)(z(Bi),z(ln),z(Zn),z(il),z(hd),z(Fl),z(Sn))},fg.\u0275cmp=rt({type:fg,selectors:[["app-chat-widget"]],viewQuery:function(t,e){if(1&t&&Lr(zLe,7),2&t){let i;kn(i=Fn())&&(e.containerRef=i.first)}},decls:7,vars:3,consts:[[1,"wrapper"],[1,"messages-container","scroll-y"],["container",""],[3,"message",4,"ngFor","ngForOf","ngForTrackBy"],["class","notification",3,"click",4,"ngIf"],[3,"message"],[1,"notification",3,"click"],[1,"i-arrow"]],template:function(t,e){1&t&&(R(0,"div",0),fe(1,"app-chat-header"),R(2,"div",1,2),K(4,WLe,1,1,"app-chat-message",3),D(),fe(5,"app-chat-input"),K(6,$Le,4,3,"div",4),D()),2&t&&(E(4),F("ngForOf",e.oldChat.messages)("ngForTrackBy",e.trackByMessageId),E(2),F("ngIf",e.newMessagesAdded))},directives:[OFe,oi,_Le,hg,Nt],pipes:[Gt],styles:['.wrapper[_ngcontent-%COMP%]{width:100%;bottom:0;border-radius:0;background:#000000;color:#fff;margin:0 auto;height:100%;position:relative;display:flex;flex-direction:column;align-items:center}.wrapper[_ngcontent-%COMP%]:before{content:"";display:block;position:absolute;width:100%;height:14px;left:0;top:var(--headerHeight);z-index:999;color:#0f0f11;background-image:linear-gradient(-180deg,rgba(0,0,0,.5) 0%,rgba(0,0,0,0) 100%)}.wrapper[_ngcontent-%COMP%]   .modal-back[_ngcontent-%COMP%]{width:100%;height:100%;background:rgba(22,29,54,.8);position:absolute;bottom:0;left:0;z-index:101}.wrapper[_ngcontent-%COMP%]   .messages-container[_ngcontent-%COMP%]{height:calc(100% - 96px);width:100%;max-width:360px;margin:0;position:relative;padding-top:10px;z-index:100;font-size:13px;line-height:13px;overflow-x:hidden}.wrapper[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]{position:absolute;z-index:109;cursor:pointer;left:50%;bottom:85px;transform:translate(-50%);height:26px;border-radius:15px;border:1px solid #767b85;background:rgba(98,102,113,.65);color:#fff;font-size:12px;line-height:12px;width:200px;display:flex;justify-content:center;align-items:center}.wrapper[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]   .i-arrow[_ngcontent-%COMP%]{display:block;background-image:url(chat-arrow.2b1d0992c5029c79.svg);margin-right:3px;border:none;width:12px;height:10px;background-repeat:no-repeat;background-position:center;background-size:contain}'],changeDetection:0}),fg=Ke([Qn()],fg);let pg=class{constructor(t,e,i,r,s,o,a,l,c,u,d,f,y){this.chatFeatureService=t,this.freeBets=e,this.app=i,this.window=r,this.renderer=s,this.ifc=o,this.connector=a,this.modal=l,this.betControls=c,this.main=u,this.cd=d,this.urlParams=f,this.multiServer=y,this.gameIdentifier="AVIATOR",this.isOpenChat=!1,this.shouldRenderPlayBoard=!0}ngOnInit(){this.chatFeatureService.isOpen$.pipe(Ct(this)).subscribe(t=>{this.isOpenChat=t,this.checkBodyScroll(),this.cd.detectChanges()}),this.window.onResize$.pipe(Ct(this)).subscribe(()=>{this.checkBodyScroll(),this.cd.detectChanges()}),this.ifc.receive$(pr.UpdateBalance).pipe(Ct(this)).subscribe(()=>this.connector.request(Wi.UpdateBalance,null)),this.ifc.receive$(pr.ContinueInternalRealityCheck).pipe(Ct(this)).subscribe(()=>this.sendNotificationCallback(bp.Continue)),this.ifc.receive$(pr.StopInternalRealityCheck).pipe(Ct(this)).subscribe(()=>this.sendNotificationCallback(bp.Stop)),this.connector.response(mn.InternalRealityCheck).pipe(Ct(this)).subscribe(t=>this.onInternalRealityCheck(t)),this.betControls.betSetted$.pipe(Bt(()=>!!this.app.config.isActiveGameFocused),Ct(this)).subscribe(t=>this.onBetSetted(t)),this.main.getState(Ji.Bet).pipe(Ct(this)).subscribe(()=>this.ifc.send(hi.StartBetTimer)),this.main.getState(Ji.End).pipe(Ct(this)).subscribe(()=>this.ifc.send(hi.EndRound)),this.showInitModals(),this.app.setGameInited()}ngAfterViewInit(){this.multiServer.showNotification()}sendNotificationCallback(t){this.connector.request(Wi.NotificationCallback,{notificationType:Qy.RealityCheck,action:t})}checkBodyScroll(){this.isGameWrap?this.renderer.addClass(document.body,"body-scroll-y"):this.renderer.removeClass(document.body,"body-scroll-y")}get isGameWrap(){return!(this.window.getSize().width<dd.lg||this.window.getSize().width>=dd.xl1300)&&this.isOpenChat}onInternalRealityCheck(t){this.ifc.send(hi.InternalRealityCheck,{code:t.code,errorMessage:t.errorMessage,message:t.message}),this.app.isIrcDisplayModal&&this.modal.open(Wn.notification,{type:ed.InternalRealityCheck,message:t.message})}onBetSetted(t){t?this.renderer.addClass(document.body,"game-focused"):this.renderer.removeClass(document.body,"game-focused")}showInitModals(){if(!this.app.isGameInited){if(this.app.config.isAlderneyModalShownOnInit||this.app.config.modalShownOnInit===Gy.Alderney)return void this.modal.open(Wn.notification,{type:ed.Alderney});if(this.app.config.modalShownOnInit===Gy.GameRules)return void this.modal.open(Wn.rules)}}handleWebglContextLost(){this.shouldRenderPlayBoard=!1,this.cd.detectChanges(),this.shouldRenderPlayBoard=!0,this.cd.detectChanges()}};function ZLe(n,t){if(1&n&&(at(0),R(1,"h4",5),U(2),j(3,"transloco"),D(),R(4,"p"),U(5),j(6,"transloco"),D(),lt()),2&n){const e=ne(2);E(2),Ye(W(3,2,e.message.heading)),E(3),te(" ",W(6,4,"shared.ui-components.toastr.toastr-message."+e.message.value)," ")}}function QLe(n,t){if(1&n&&(R(0,"p",8),U(1),D()),2&n){const e=ne(3);E(1),te(" ",e.getTranslation(e.message.value,e.message.errorMessageParams,e.message.scope)," ")}}function eBe(n,t){if(1&n){const e=ft();R(0,"p",9),Te("click",function(r){return ot(e),ne(3).onMessageClick(r)}),U(1),D()}if(2&n){const e=ne(3);E(1),te(" ",e.getTranslation(e.message.value,e.message.errorMessageParams,e.message.scope)," ")}}function tBe(n,t){if(1&n&&(at(0),K(1,QLe,2,1,"p",6),K(2,eBe,2,1,"p",7),lt()),2&n){const e=ne(2);E(1),F("ngIf",!e.message.callback),E(1),F("ngIf",e.message.callback)}}function nBe(n,t){if(1&n){const e=ft();R(0,"button",10),Te("click",function(r){return ot(e),ne(2).onCloseIconClick(r)}),R(1,"span"),U(2,"\xd7"),D()()}}function iBe(n,t){if(1&n){const e=ft();R(0,"div",2),Te("mouseenter",function(){return ot(e),ne().onMouseEnter()})("mouseleave",function(){return ot(e),ne().onMouseLeave()}),K(1,ZLe,7,6,"ng-container",3),K(2,tBe,3,2,"ng-container",3),K(3,nBe,3,0,"button",4),D()}if(2&n){const e=ne();wt("alert-dismissible",e.isClosable),F("@messageState",void 0)("ngClass",e.context),E(1),F("ngIf",e.message.heading),E(1),F("ngIf",!e.message.heading),E(1),F("ngIf",e.isClosable)}}function rBe(n,t){if(1&n&&(at(0),R(1,"div",17),U(2),D(),R(3,"div",16),U(4),j(5,"number"),D(),lt()),2&n){const e=ne(2);E(2),te(" ",e.getTranslation(e.message.value,e.message.errorMessageParams,e.message.scope,e.message.params)," "),E(2),te(" ",Ut(5,2,e.message.params.multiplier,"1.2-2"),"x ")}}function sBe(n,t){1&n&&(at(0),R(1,"div",17),U(2),j(3,"transloco"),D(),lt()),2&n&&(E(2),te(" ",W(3,1,"shared.ui-components.toastr.toastr-message.You have reached the Maximum Win amount!")," "))}function oBe(n,t){if(1&n){const e=ft();R(0,"div",11),Te("mouseenter",function(){return ot(e),ne().onMouseEnter()})("mouseleave",function(){return ot(e),ne().onMouseLeave()}),R(1,"div",12),K(2,rBe,6,5,"ng-container",3),K(3,sBe,4,3,"ng-container",3),D(),R(4,"div",13)(5,"div",14)(6,"span"),U(7),j(8,"transloco"),D(),R(9,"span",15),U(10),D()(),R(11,"div",16)(12,"span"),U(13),j(14,"currencyPrecision"),D()()(),R(15,"button",10),Te("click",function(r){return ot(e),ne().onCloseIconClick(r)}),R(16,"span"),U(17,"\xd7"),D()()()}if(2&n){const e=ne();wt("celebrated",e.isWinCelebrated),F("@messageState",void 0),E(2),F("ngIf",!e.message.params.isMaxWinAutoCashOut),E(1),F("ngIf",e.message.params.isMaxWinAutoCashOut),E(1),wt("celebrated",e.isWinCelebrated),E(3),Ye(W(8,10,"shared.win")),E(3),te(" ",e.message.params.currency,""),E(3),Ye(W(14,12,e.message.params.winAmount))}}function aBe(n,t){}function lBe(n,t){if(1&n){const e=ft();R(0,"button",21),Te("click",function(r){return ot(e),ne(2).onCloseIconClick(r)}),D()}}function cBe(n,t){if(1&n){const e=ft();R(0,"div",18),Te("mouseenter",function(){return ot(e),ne().onMouseEnter()})("mouseleave",function(){return ot(e),ne().onMouseLeave()}),R(1,"div",19),U(2),D(),K(3,lBe,1,0,"button",20),D()}if(2&n){const e=ne();wt("alert-dismissible",e.isClosable),F("@messageState",void 0)("ngClass",e.context),E(2),te(" ",e.getTranslation(e.message.value,e.message.errorMessageParams,e.message.scope)," "),E(1),F("ngIf",e.isClosable)}}pg.\u0275fac=function(t){return new(t||pg)(z(il),z(bu),z(ln),z(Hy),z(Do),z(Fo),z(Bi),z(jo),z(Su),z(Zi),z(Sn),z(kl),z(wm))},pg.\u0275cmp=rt({type:pg,selectors:[["app-game"]],decls:20,vars:17,consts:[[1,"main-wrapper"],[1,"main-container"],[1,"main-header"],[1,"w-100","h-100"],[1,"game-container"],[1,"info-board","pt-2"],[1,"game-play"],["class","missions-holder my-1",4,"ngIf"],[1,"result-history","disabled-on-game-focused","my-2"],[1,"stage-board"],[3,"webglContextLost",4,"ngIf"],[1,"bet-controls"],["class","chat-bar",4,"ngIf"],[1,"missions-holder","my-1"],[3,"engagementTools","gameIdentifier"],[3,"webglContextLost"],[1,"chat-bar"],[4,"ngIf","ngIfElse"],["oldChat",""]],template:function(t,e){1&t&&(R(0,"div",0)(1,"div",1)(2,"div",2),fe(3,"app-header"),D(),R(4,"div",3)(5,"div",4)(6,"div",5),fe(7,"app-bets-widget")(8,"app-spribe-footer"),D(),R(9,"div",6),K(10,YLe,2,2,"div",7),R(11,"div",8),fe(12,"app-stats-widget"),D(),R(13,"div",9),fe(14,"app-free-bet"),K(15,XLe,1,0,"app-play-board",10),D(),R(16,"div",11),fe(17,"app-bet-controls"),D()()()()(),K(18,JLe,4,2,"div",12),j(19,"async"),D()),2&t&&(pc("--headerHeight","38px"),wt("hide-chat-bar",!e.isOpenChat),E(1),pc("--headerHeightDynamic",e.urlParams.aviaport?0:"var(--headerHeight)"),wt("h-100",e.app.useInnerScroll),E(3),wt("--scrollable",e.app.useInnerScroll),E(1),wt("game-wrap",e.isGameWrap),E(5),F("ngIf",null==e.app.config.engagementTools?null:e.app.config.engagementTools.host),E(5),F("ngIf",e.shouldRenderPlayBoard),E(3),F("ngIf",W(19,15,e.chatFeatureService.isChatEnabled$)))},directives:[Mp,WIe,XIe,Nt,Zp,Qp,eg,tg,ig,lg,fg],pipes:[Pr],styles:[".main-wrapper[_ngcontent-%COMP%]{position:relative;height:100%}.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]{position:relative;width:calc(100% - 280px);height:100%;padding-top:var(--headerHeightDynamic);background:#0e0e0e}.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .main-header[_ngcontent-%COMP%]{height:var(--headerHeightDynamic);position:fixed;width:inherit;top:0;left:0;z-index:840}.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:row}.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]   .info-board[_ngcontent-%COMP%]{height:100%;flex-grow:0;flex-shrink:0;width:100%;padding-left:10px;display:flex;flex-direction:column}.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]   .game-play[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;justify-content:space-between;overflow-y:hidden;padding:0 10px 10px}.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]   .game-play[_ngcontent-%COMP%]   .result-history[_ngcontent-%COMP%]{min-height:22px;max-height:22px;display:flex;justify-content:center;align-items:center}.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]   .game-play[_ngcontent-%COMP%]   .stage-board[_ngcontent-%COMP%]{height:100%;position:relative}.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]   .game-play[_ngcontent-%COMP%]   .bet-controls[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-shrink:0;padding-top:10px}.main-wrapper[_ngcontent-%COMP%]   .chat-bar[_ngcontent-%COMP%]{position:fixed;width:280px;height:100%;top:0;right:0;bottom:0;z-index:850}.main-wrapper.hide-chat-bar[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]{width:100%!important}.main-wrapper.hide-chat-bar[_ngcontent-%COMP%]   .chat-bar[_ngcontent-%COMP%]{visibility:hidden;top:-5000px;right:-5000px;z-index:-99999}@media (max-width: 991.98px){.main-container[_ngcontent-%COMP%]:not(.h-100){height:auto!important}.game-container[_ngcontent-%COMP%]{flex-direction:column-reverse!important;padding-left:5px!important;padding-right:5px!important;height:auto!important}.info-board[_ngcontent-%COMP%]{height:80vh!important;padding-left:0!important;padding-top:20px!important}.game-play[_ngcontent-%COMP%]{padding:0!important}.stage-board[_ngcontent-%COMP%]{height:calc(40vh - var(--headerHeightDynamic))!important;min-height:200px!important}.bet-controls[_ngcontent-%COMP%]{padding-top:5px!important}}@media (min-width: 992px){.info-board[_ngcontent-%COMP%]{min-width:320px!important;max-width:320px!important}.game-play[_ngcontent-%COMP%]{width:calc(100% - 320px)!important}}@media (min-width: 1200px){.info-board[_ngcontent-%COMP%]{min-width:370px!important;max-width:370px!important}.game-play[_ngcontent-%COMP%]{width:calc(100% - 370px)!important}}@media (min-width: 1399.98px){.main-container[_ngcontent-%COMP%]{width:calc(100% - 320px)!important}.chat-bar[_ngcontent-%COMP%]{width:320px!important}.info-board[_ngcontent-%COMP%]{min-width:410px!important;max-width:410px!important}.game-play[_ngcontent-%COMP%]{width:calc(100% - 410px)!important}}@media (max-width: 767.98px){.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]{width:100%!important}.main-wrapper[_ngcontent-%COMP%]   .chat-bar[_ngcontent-%COMP%]{position:fixed!important;width:100%;top:0;height:100%}}.--scrollable[_ngcontent-%COMP%]{overflow-y:auto;-webkit-overflow-scrolling:touch}.game-wrap.game-container[_ngcontent-%COMP%]{flex-direction:column-reverse!important;padding-left:10px!important;padding-right:10px!important;height:auto!important}.game-wrap[_ngcontent-%COMP%]   .info-board[_ngcontent-%COMP%]{height:80vh!important;padding-left:0!important;padding-top:20px!important;min-width:100%!important;max-width:100%!important}.game-wrap[_ngcontent-%COMP%]   .game-play[_ngcontent-%COMP%]{padding:0!important;width:100%!important}.game-wrap[_ngcontent-%COMP%]   .stage-board[_ngcontent-%COMP%]{height:calc(40vh - var(--headerHeightDynamic))!important;min-height:200px!important}"],changeDetection:0}),pg=Ke([Qn()],pg);let uBe=(()=>{class n{constructor(e,i){this.translate=e,this.betControls=i,this.closeMessage=new nn,this.BsMessageTemplate=Af}getTranslation(e,i,r,s){return r===ey.Challenges?e:this.translate.translate(`shared.ui-components.toastr.toastr-message.${e}`,{amount:null==i?void 0:i.amount,duration:null==i?void 0:i.duration,minBalance:null==i?void 0:i.minBalance,currency:null==i?void 0:i.currency,betId:null==s?void 0:s.betId})||e}ngAfterViewInit(){this.message.lifeTimeInfinite||this.initTimeout()}get template(){return this.message.template?this.message.template:Af.Alert}get context(){return this.message.context?this.message.context:Tr.primary}get isClosable(){return!1!==this.message.closable}get isWinCelebrated(){return this.betControls.isWinCelebrated(this.message.params.winAmount,this.message.params.betAmount)}initTimeout(){this.timeoutRef=setTimeout(()=>{this.closeMessage.emit(this.index)},this.message.lifeTime||3e3)}clearTimeout(){this.timeoutRef&&(clearTimeout(this.timeoutRef),this.timeoutRef=void 0)}onMouseEnter(){this.clearTimeout()}onMouseLeave(){this.message.lifeTimeInfinite||this.initTimeout()}onCloseIconClick(e){e.preventDefault(),this.clearTimeout(),this.closeMessage.emit(this.index)}onMessageClick(e){var i,r;null===(r=(i=this.message).callback)||void 0===r||r.call(i),this.onCloseIconClick(e)}ngOnDestroy(){this.clearTimeout()}}return n.\u0275fac=function(e){return new(e||n)(z(op),z(Su))},n.\u0275cmp=rt({type:n,selectors:[["app-bs-message-item"]],inputs:{message:"message",index:"index"},outputs:{closeMessage:"closeMessage"},decls:5,vars:5,consts:[[3,"ngSwitch"],[3,"ngSwitchCase"],[1,"alert",3,"ngClass","mouseenter","mouseleave"],[4,"ngIf"],["type","button","class","close",3,"click",4,"ngIf"],[1,"alert-heading"],["class","m-0",4,"ngIf"],["class","m-0","style","cursor: pointer",3,"click",4,"ngIf"],[1,"m-0"],[1,"m-0",2,"cursor","pointer",3,"click"],["type","button",1,"close",3,"click"],[1,"alert-win",3,"mouseenter","mouseleave"],[1,"multiplier"],[1,"win"],[1,"label","no-wrap"],[1,"currency"],[1,"value"],[1,"label"],[1,"challenge-message",3,"ngClass","mouseenter","mouseleave"],[1,"content"],["type","button","class","close-btn",3,"click",4,"ngIf"],["type","button",1,"close-btn",3,"click"]],template:function(e,i){1&e&&(at(0,0),K(1,iBe,4,7,"ng-template",1),K(2,oBe,18,14,"ng-template",1),K(3,aBe,0,0,"ng-template",1),K(4,cBe,4,6,"ng-template",1),lt()),2&e&&(F("ngSwitch",i.template),E(1),F("ngSwitchCase",i.BsMessageTemplate.Alert),E(1),F("ngSwitchCase",i.BsMessageTemplate.Win),E(1),F("ngSwitchCase",i.BsMessageTemplate.Toast),E(1),F("ngSwitchCase",i.BsMessageTemplate.Challenge))},directives:[Fs,co,ys,Nt],pipes:[Gt,Xd,Xn],styles:['.alert-win[_ngcontent-%COMP%]{position:relative;justify-content:space-around;border-radius:26px;background-color:#383a3e;text-align:center;display:flex;height:56px;align-items:center;padding-top:5px;padding-bottom:5px;margin-bottom:1rem;box-shadow:0 0 8px #0000004d;border:1px solid #2c2d30}.alert-win.celebrated[_ngcontent-%COMP%]{background-color:#123405;border:1px solid #427f00}.alert-win[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{padding:0 8px;color:#d2d2d2}.alert-win[_ngcontent-%COMP%]   .multiplier[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;width:100%;height:100%;padding:0 10px}.alert-win[_ngcontent-%COMP%]   .multiplier[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:12px;line-height:12px;color:#9ea0a3}.alert-win[_ngcontent-%COMP%]   .multiplier[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:20px;line-height:20px;display:flex;justify-content:center;margin-top:3px}.alert-win[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]{font-weight:700;border-radius:23px;background-color:#2c2d30;display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative;min-width:120px;margin-left:auto;height:100%;flex-direction:column}.alert-win[_ngcontent-%COMP%]   .win.celebrated[_ngcontent-%COMP%]{background-color:#4eaf11;width:100%;padding:0 26px}.alert-win[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]:after{content:" ";position:absolute;background:url(win-icon.2e1ac1503318fc63.svg) no-repeat;width:31px;height:31px;right:0;opacity:.5}.alert-win[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]:before{content:" ";position:absolute;background:url(win-icon-copy.6a5f7c6a70530963.svg) no-repeat;width:31px;height:31px;left:0;opacity:.5}.alert-win[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:14px;line-height:14px;text-shadow:0 1px 2px rgba(0,0,0,.5);z-index:2}.alert-win[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]   .no-wrap[_ngcontent-%COMP%]{white-space:nowrap}.alert-win[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{margin-top:2px;min-width:60px;display:flex;justify-content:center;align-items:center;height:16px;font-size:20px;line-height:20px;font-weight:700;text-shadow:0 1px 2px rgba(0,0,0,.5);z-index:2}.challenge-message[_ngcontent-%COMP%]{display:flex;position:relative;align-items:center;font-size:14px;color:#fff;min-height:51px;padding:2px;margin:10px 0;border-radius:100px}.challenge-message.alert-success[_ngcontent-%COMP%]{background-color:#6ab32b}.challenge-message.alert-success[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{background-color:#3e9e0a}.challenge-message.alert-warning[_ngcontent-%COMP%]{background-color:#fec223;color:#000}.challenge-message.alert-warning[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{background-color:#ff9f00}.challenge-message.alert-warning[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:url(message-close-black.5fac8589d88be916.svg) no-repeat center center}.challenge-message.alert-danger[_ngcontent-%COMP%]{background-color:#e50539}.challenge-message.alert-danger[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{background-color:#b1072e}.challenge-message[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:280px;min-height:47px;display:flex;align-items:center;justify-content:flex-start;text-align:start;line-height:17px;border-radius:100px;padding:10px 15px}.challenge-message[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{width:18px;height:18px;border:none;margin:0 8px;background:url(message-close-white.a2d3f382dc08166e.svg) no-repeat center center;cursor:pointer}'],data:{animation:[ON("messageState",[jNe("visible",Hc({transform:"translateY(0)",opacity:1})),Rb("void => *",[Hc({transform:"translateY(100%)",opacity:0}),uv("300ms ease-out")]),Rb("* => void",[uv("250ms ease-in",Hc({height:0,opacity:0,transform:"translateY(-100%)"}))])])]},changeDetection:0}),n})();function dBe(n,t){if(1&n){const e=ft();R(0,"app-bs-message-item",2),Te("closeMessage",function(r){return ot(e),ne().onMessageClose(r)}),D()}if(2&n){const i=t.index;F("message",t.$implicit)("index",i)("@messageAnimation",void 0)}}let gg=class{constructor(t,e,i){this.message=t,this.app=e,this.cd=i}ngOnInit(){this.message.message$.pipe(Ct(this)).subscribe(t=>{if(t)if(t instanceof Array){let e=t.filter(i=>this.key===i.key);this.messages=this.messages?[...this.messages,...e]:[...e],this.cd.detectChanges()}else this.key===t.key&&(this.messages=this.messages?[...this.messages,t]:[t],this.cd.detectChanges())}),this.message.clearById$.pipe(Ct(this)).subscribe(t=>{var e;this.messages=null===(e=this.messages)||void 0===e?void 0:e.filter(i=>i.id!==t),this.cd.detectChanges()})}onMessageClose(t){var e;null===(e=this.messages)||void 0===e||e.splice(t,1)}};function hBe(n,t){1&n&&(R(0,"div",3),U(1),j(2,"transloco"),D()),2&n&&(E(1),te(" ",W(2,1,"shared.components.connector.reconnect")," "))}function fBe(n,t){1&n&&(R(0,"div",3),U(1),j(2,"transloco"),D()),2&n&&(E(1),te(" ",W(2,1,"shared.components.connector.slow connection")," "))}function pBe(n,t){if(1&n&&(R(0,"div",1),K(1,hBe,3,3,"div",2),K(2,fBe,3,3,"div",2),D()),2&n){const e=ne();F("@messageState",void 0),E(1),F("ngIf",e.reconnect),E(1),F("ngIf",e.connectionSlow)}}gg.\u0275fac=function(t){return new(t||gg)(z(Fl),z(ln),z(Sn))},gg.\u0275cmp=rt({type:gg,selectors:[["app-bs-message"]],inputs:{key:"key"},decls:2,vars:1,consts:[[1,"bs-message","top-center"],[3,"message","index","closeMessage",4,"ngFor","ngForOf"],[3,"message","index","closeMessage"]],template:function(t,e){1&t&&(R(0,"div",0),K(1,dBe,1,3,"app-bs-message-item",1),D()),2&t&&(E(1),F("ngForOf",e.messages))},directives:[oi,uBe],styles:[".bs-message[_ngcontent-%COMP%]{position:fixed;width:320px;overflow:hidden;z-index:2000}.bs-message.top-center[_ngcontent-%COMP%]{left:50%;transform:translate(-50%);top:10px}.bs-message.top-left[_ngcontent-%COMP%]{left:10px;top:10px}.bs-message.center-center[_ngcontent-%COMP%]{left:50%;top:50%;transform:translate(-50%,-50%)}.bs-message.bottom-center[_ngcontent-%COMP%]{left:50%;transform:translate(-50%);bottom:10px}"],data:{animation:[ON("messageAnimation",[Rb(":enter, :leave",[function VNe(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}("@*",function HNe(n=null){return{type:9,options:n}}())])])]},changeDetection:0}),gg=Ke([Qn()],gg);let _g=class{constructor(t,e){this.connector=t,this.cd=e,this.ConnectorState=Hi,this.state=Hi.None}ngOnInit(){this.connector.state$.pipe(Ct(this)).subscribe(({state:t})=>{this.state!==t&&(this.state=t,this.cd.detectChanges())})}get reconnect(){return this.state===Hi.Reconnecting}get connectionSlow(){return this.state===Hi.SlowConnection}};_g.\u0275fac=function(t){return new(t||_g)(z(Bi),z(Sn))},_g.\u0275cmp=rt({type:_g,selectors:[["app-connector"]],decls:1,vars:1,consts:[["class","connector",4,"ngIf"],[1,"connector"],["class","alert alert-warning",4,"ngIf"],[1,"alert","alert-warning"]],template:function(t,e){1&t&&K(0,pBe,3,3,"div",0),2&t&&F("ngIf",e.reconnect||e.connectionSlow)},directives:[Nt],pipes:[Gt],styles:[".connector[_ngcontent-%COMP%]{position:fixed;z-index:99999;top:20px;left:50%;transform:translate(-50%)}.connector[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{width:300px}"],data:{animation:[ON("messageState",[Rb("void => *",[Hc({transform:"translate(-50%,-100%)",opacity:0}),uv("300ms ease-out")]),Rb("* => void",[uv("250ms ease-in",Hc({opacity:0,transform:"translate(-50%,-100%)"}))])])]},changeDetection:0}),_g=Ke([Qn()],_g);const gBe=function(n){return{allowedCurrencies:n}};function _Be(n,t){if(1&n&&(R(0,"div",7),U(1),j(2,"transloco"),j(3,"join"),D()),2&n){const e=ne();E(1),te(" ",Ut(2,1,"shared.components.disconnect-message.For your region, the game can only be played with {{allowedCurrencies}} currency(ies)",di(6,gBe,W(3,4,e.data.allowedCurrencies)))," ")}}function mBe(n,t){1&n&&(R(0,"div",7),U(1),j(2,"transloco"),D()),2&n&&(E(1),te(" ",W(2,1,"shared.thank_you_for_playing"),". "))}function vBe(n,t){1&n&&(R(0,"div",7),U(1),j(2,"transloco"),D()),2&n&&(E(1),te(" ",W(2,1,"shared.components.disconnect-message.text")," "))}function yBe(n,t){if(1&n){const e=ft();R(0,"a",8),Te("click",function(){return ot(e),ne().onBackToHome()}),U(1),j(2,"transloco"),D()}2&n&&(E(1),te(" ",W(2,1,"shared.home")," "))}let bBe=(()=>{class n{constructor(e,i,r,s){this.app=e,this.urlParams=i,this.sound=r,this.ifc=s,this.disconnectReason=sa}ngOnInit(){this.sound.stopAll(),this.ifc.send(hi.Close,Object.assign({},this.data))}onBackToHome(){var e,i;this.app.config&&this.app.config.backToHomeActionType===Em.IfcEvent?this.ifc.send(hi.BackToHome,{returnUrl:null!==(e=this.urlParams.returnUrl)&&void 0!==e?e:""}):window.open(null!==(i=this.urlParams.returnUrl)&&void 0!==i?i:"","_top")}}return n.\u0275fac=function(e){return new(e||n)(z(ln),z(kl),z(fh),z(Fo))},n.\u0275cmp=rt({type:n,selectors:[["app-disconnect-message"]],inputs:{data:"data"},decls:8,vars:4,consts:[[1,"wrapper"],[1,"disconn-icon"],[1,"alert"],[3,"ngSwitch"],["class","text",4,"ngSwitchCase"],["class","text",4,"ngSwitchDefault"],["href","javascript:void(0)","target","_top","class","btn btn-warning btn-lg text-uppercase",3,"click",4,"ngIf"],[1,"text"],["href","javascript:void(0)","target","_top",1,"btn","btn-warning","btn-lg","text-uppercase",3,"click"]],template:function(e,i){1&e&&(R(0,"div",0),fe(1,"div",1),R(2,"div",2),at(3,3),K(4,_Be,4,8,"div",4),K(5,mBe,3,3,"div",4),K(6,vBe,3,3,"div",5),lt(),K(7,yBe,3,3,"a",6),D()()),2&e&&(E(3),F("ngSwitch",i.data.reason),E(1),F("ngSwitchCase",i.disconnectReason.NotAllowedCurrency),E(1),F("ngSwitchCase",i.disconnectReason.RealityCheck),E(2),F("ngIf",i.urlParams.returnUrl&&i.data.reason!==i.disconnectReason.RealityCheck))},directives:[Fs,co,iu,Nt],pipes:[Gt,KG],styles:[".wrapper[_ngcontent-%COMP%]{height:100%;max-height:500px;width:100%;display:flex;justify-content:center;align-items:center;flex-direction:column}.wrapper[_ngcontent-%COMP%]   .disconn-icon[_ngcontent-%COMP%]{background:url(error-page.90b760a72b279788.svg) no-repeat center;width:120px;height:120px;background-size:contain;margin-bottom:40px}.wrapper[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{background-color:#1b1c1d;max-width:600px;width:100%;min-height:204px;border-radius:10px;border:1px solid #2a2b2e;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px 50px}.wrapper[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{text-align:center;margin-bottom:15px}.wrapper[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:160px}"]}),n})();const SBe=["lockUI"];function CBe(n,t){1&n&&(at(0),fe(1,"app-game")(2,"app-bs-message")(3,"app-connector"),lt())}function EBe(n,t){1&n&&(at(0),R(1,"span",3),U(2),j(3,"transloco"),D(),lt()),2&n&&(E(2),Ye(W(3,1,"shared.Connection...")))}function TBe(n,t){if(1&n&&(at(0),fe(1,"app-disconnect-message",4),lt()),2&n){const e=ne();E(1),F("data",e.disconnectData)}}let wBe=(()=>{class n{constructor(e,i,r,s,o,a,l,c,u,d,f,y,O,I,N,k,B,G,Y){this.connector=e,this.app=i,this.mainService=r,this.user=s,this.cd=o,this.sound=a,this.freeBets=l,this.statsService=c,this.oldChat=u,this.frontEndProxyService=d,this.ifc=f,this.renderer=y,this.scriptService=O,this.betControls=I,this.multiplierService=N,this.modalManagerService=k,this.inactivityTimer=B,this.ngbModal=G,this.sharedGameConfigService=Y,this.loaded=!1,this.state=Hi.None,this.ConnectorState=Hi}ngOnInit(){this.setup(),this.connector.init().subscribe(e=>this.onInit(e)),this.ifc.receive$(pr.LockUI).subscribe(e=>this.lockUIHandler(e.value))}lockUIHandler(e){e?(this.renderer.addClass(document.body,"pointer-events-none"),this.renderer.removeClass(this.lockUIRef.nativeElement,"d-none")):(this.renderer.removeClass(document.body,"pointer-events-none"),this.renderer.addClass(this.lockUIRef.nativeElement,"d-none"))}setup(){this.modalManagerService.init(),this.app.isDesktop?this.renderer.addClass(document.body,"scroll-restyle"):this.app.useInnerScroll&&(this.renderer.setStyle(document.body,"overflow-y","hidden"),this.renderer.setStyle(document.body,"min-width","100%"),this.renderer.setStyle(document.body,"width","1px")),this.connector.state$.subscribe(({state:e,data:i})=>{this.state=e,this.disconnectData=i,(e===Hi.Disconnected||e===Hi.Reconnecting||e===Hi.SlowConnection)&&this.ngbModal.dismissAll(),this.cd.detectChanges()}),!1===this.app.isDesktop&&document.addEventListener("visibilitychange",()=>{document.hidden?this.sound.stopAll():this.sound.stopAll(!1)}),BI()&&(this.frontEndProxyService.setup(),this.ifc.init())}onInit(e){this.loaded=!1,this.cd.detectChanges(),this.app.setConfig(e.config),this.user.init(e.user),this.connector.startPingMonitor(e.config.pingIntervalMs),this.app.config.reCaptchaSiteKey&&this.scriptService.registerCaptchaScript(!1,this.app.config.reCaptchaSiteKey,()=>{}),this.app.config.inactivityTimeForDisconnect&&this.inactivityTimer.init(),this.statsService.history=e.roundsInfo,this.betControls.restoreBets(e.activeBets),this.freeBets.setList(e.activeFreeBetsInfo),this.oldChat.initChat(e),this.mainService.init(e),this.multiplierService.init(e),this.sharedGameConfigService.init({betPrecision:e.config.betPrecision,isUseMaskedUsername:void 0===e.config.isUseMaskedUsername||e.config.isUseMaskedUsername,multiplierPrecision:e.config.multiplierPrecision}),this.loaded=!0,this.cd.detectChanges(),this.frontEndProxyService.sendInitialized(),this.ifc.sendInit({balance:e.user.balance,currency:e.config.currency,precision:e.config.betPrecision,sound:e.user.settings.sound,music:e.user.settings.music,animation:e.user.settings.animation,additionalOperatorData:e.additionalOperatorData})}}return n.\u0275fac=function(e){return new(e||n)(z(Bi),z(ln),z(Zi),z(Ll),z(Sn),z(fh),z(bu),z(S9),z(hd),z(lT),z(Fo),z(Do),z(GR),z(Su),z(cT),z(ixe),z(rxe),z(Zy),z($C))},n.\u0275cmp=rt({type:n,selectors:[["app-root"]],viewQuery:function(e,i){if(1&e&&Lr(SBe,7),2&e){let r;kn(r=Fn())&&(i.lockUIRef=r.first)}},decls:5,vars:3,consts:[[4,"ngIf"],[1,"lock-ui","d-none"],["lockUI",""],[1,"loading"],[3,"data"]],template:function(e,i){1&e&&(K(0,CBe,4,0,"ng-container",0),K(1,EBe,4,3,"ng-container",0),K(2,TBe,2,1,"ng-container",0),fe(3,"div",1,2)),2&e&&(F("ngIf",i.loaded&&i.state!==i.ConnectorState.Disconnected),E(1),F("ngIf",!i.loaded&&i.state!==i.ConnectorState.Disconnected),E(1),F("ngIf",i.state===i.ConnectorState.Disconnected))},directives:[Nt,pg,gg,_g,bBe],pipes:[Gt],styles:[".loading[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center}.lock-ui[_ngcontent-%COMP%]{position:fixed;background:rgba(0,0,0,.3);width:100%;height:100%;z-index:9999;top:0;left:0;pointer-events:none}"],changeDetection:0}),n})(),gX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot,en]]}),n})(),MBe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot]]}),n})(),OBe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot]]}),n})(),PBe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot]]}),n})(),xBe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot,OBe,PBe]]}),n})(),IBe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot,Rr,en,MBe,gX,xBe]]}),n})(),ABe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot,IBe]]}),n})(),RBe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot,en]]}),n})(),DBe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot,en]]}),n})(),_X=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot,en]]}),n})(),NBe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot]]}),n})(),mX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot,en,NBe]]}),n})(),vX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot,gX]]}),n})(),yX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot]]}),n})(),bX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot,en,Rc]]}),n})(),SX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot,en,Rr]]}),n})(),kBe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot,Rr]]}),n})(),FBe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot,en,kBe]]}),n})(),LBe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot,en,Rc,FBe]]}),n})(),BBe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot,en,Rr]]}),n})(),CX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot,en,Rc]]}),n})(),UBe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot,en,Rc,mX,_X,vX,yX,bX,SX,LBe,BBe,CX]]}),n})(),EX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot,Y_,Rr]]}),n})(),Ta=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot]]}),n})(),GBe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot,en,EX,Ta]]}),n})(),TX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot,en,Ta,Rr]]}),n})(),jBe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot,en]]}),n})(),HBe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot,en,Rc,jBe,Ta,TX]]}),n})();function wX(n){return null!==n&&"object"==typeof n&&"constructor"in n&&n.constructor===Object}function kN(n,t){void 0===n&&(n={}),void 0===t&&(t={}),Object.keys(t).forEach(e=>{void 0===n[e]?n[e]=t[e]:wX(t[e])&&wX(n[e])&&Object.keys(t[e]).length>0&&kN(n[e],t[e])})}const MX={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Co(){const n="undefined"!=typeof document?document:{};return kN(n,MX),n}const VBe={document:MX,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:n=>"undefined"==typeof setTimeout?(n(),null):setTimeout(n,0),cancelAnimationFrame(n){"undefined"!=typeof setTimeout&&clearTimeout(n)}};function ss(){const n="undefined"!=typeof window?window:{};return kN(n,VBe),n}function Vh(n){return void 0===n&&(n=""),n.trim().split(" ").filter(t=>!!t.trim())}function mg(n,t){return void 0===t&&(t=0),setTimeout(n,t)}function ec(){return Date.now()}function FN(n,t){void 0===t&&(t="x");const e=ss();let i,r,s;const o=function WBe(n){const t=ss();let e;return t.getComputedStyle&&(e=t.getComputedStyle(n,null)),!e&&n.currentStyle&&(e=n.currentStyle),e||(e=n.style),e}(n);return e.WebKitCSSMatrix?(r=o.transform||o.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map(a=>a.replace(",",".")).join(", ")),s=new e.WebKitCSSMatrix("none"===r?"":r)):(s=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=s.toString().split(",")),"x"===t&&(r=e.WebKitCSSMatrix?s.m41:16===i.length?parseFloat(i[12]):parseFloat(i[4])),"y"===t&&(r=e.WebKitCSSMatrix?s.m42:16===i.length?parseFloat(i[13]):parseFloat(i[5])),r||0}function Hb(n){return"object"==typeof n&&null!==n&&n.constructor&&"Object"===Object.prototype.toString.call(n).slice(8,-1)}function $Be(n){return"undefined"!=typeof window&&void 0!==window.HTMLElement?n instanceof HTMLElement:n&&(1===n.nodeType||11===n.nodeType)}function ll(){const n=Object(arguments.length<=0?void 0:arguments[0]),t=["__proto__","constructor","prototype"];for(let e=1;e<arguments.length;e+=1){const i=e<0||arguments.length<=e?void 0:arguments[e];if(null!=i&&!$Be(i)){const r=Object.keys(Object(i)).filter(s=>t.indexOf(s)<0);for(let s=0,o=r.length;s<o;s+=1){const a=r[s],l=Object.getOwnPropertyDescriptor(i,a);void 0!==l&&l.enumerable&&(Hb(n[a])&&Hb(i[a])?i[a].__swiper__?n[a]=i[a]:ll(n[a],i[a]):!Hb(n[a])&&Hb(i[a])?(n[a]={},i[a].__swiper__?n[a]=i[a]:ll(n[a],i[a])):n[a]=i[a])}}}return n}function Vb(n,t,e){n.style.setProperty(t,e)}function OX(n){let{swiper:t,targetPosition:e,side:i}=n;const r=ss(),s=-t.translate;let a,o=null;const l=t.params.speed;t.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(t.cssModeFrameID);const c=e>s?"next":"prev",u=(f,y)=>"next"===c&&f>=y||"prev"===c&&f<=y,d=()=>{a=(new Date).getTime(),null===o&&(o=a);const f=Math.max(Math.min((a-o)/l,1),0),y=.5-Math.cos(f*Math.PI)/2;let O=s+y*(e-s);if(u(O,e)&&(O=e),t.wrapperEl.scrollTo({[i]:O}),u(O,e))return t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[i]:O})}),void r.cancelAnimationFrame(t.cssModeFrameID);t.cssModeFrameID=r.requestAnimationFrame(d)};d()}function vg(n){return n.querySelector(".swiper-slide-transform")||n.shadowRoot&&n.shadowRoot.querySelector(".swiper-slide-transform")||n}function Eo(n,t){return void 0===t&&(t=""),[...n.children].filter(e=>e.matches(t))}function Iw(n){try{return void console.warn(n)}catch(t){}}function cl(n,t){void 0===t&&(t=[]);const e=document.createElement(n);return e.classList.add(...Array.isArray(t)?t:Vh(t)),e}function Aw(n){const t=ss(),e=Co(),i=n.getBoundingClientRect(),r=e.body;return{top:i.top+(n===t?t.scrollY:n.scrollTop)-(n.clientTop||r.clientTop||0),left:i.left+(n===t?t.scrollX:n.scrollLeft)-(n.clientLeft||r.clientLeft||0)}}function zh(n,t){return ss().getComputedStyle(n,null).getPropertyValue(t)}function zb(n){let e,t=n;if(t){for(e=0;null!==(t=t.previousSibling);)1===t.nodeType&&(e+=1);return e}}function yg(n,t){const e=[];let i=n.parentElement;for(;i;)t?i.matches(t)&&e.push(i):e.push(i),i=i.parentElement;return e}function Wb(n,t){t&&n.addEventListener("transitionend",function e(i){i.target===n&&(t.call(n,i),n.removeEventListener("transitionend",e))})}function LN(n,t,e){const i=ss();return e?n["width"===t?"offsetWidth":"offsetHeight"]+parseFloat(i.getComputedStyle(n,null).getPropertyValue("width"===t?"margin-right":"margin-top"))+parseFloat(i.getComputedStyle(n,null).getPropertyValue("width"===t?"margin-left":"margin-bottom")):n.offsetWidth}function li(n){return(Array.isArray(n)?n:[n]).filter(t=>!!t)}let BN,UN,GN;function PX(){return BN||(BN=function qBe(){const n=ss(),t=Co();return{smoothScroll:t.documentElement&&t.documentElement.style&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&t instanceof n.DocumentTouch)}}()),BN}function xX(n){return void 0===n&&(n={}),UN||(UN=function KBe(n){let{userAgent:t}=void 0===n?{}:n;const e=PX(),i=ss(),r=i.navigator.platform,s=t||i.navigator.userAgent,o={ios:!1,android:!1},a=i.screen.width,l=i.screen.height,c=s.match(/(Android);?[\s\/]+([\d.]+)?/);let u=s.match(/(iPad).*OS\s([\d_]+)/);const d=s.match(/(iPod)(.*OS\s([\d_]+))?/),f=!u&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),y="Win32"===r;let O="MacIntel"===r;return!u&&O&&e.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(`${a}x${l}`)>=0&&(u=s.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),O=!1),c&&!y&&(o.os="android",o.android=!0),(u||f||d)&&(o.os="ios",o.ios=!0),o}(n)),UN}var t4e={on(n,t,e){const i=this;if(!i.eventsListeners||i.destroyed||"function"!=typeof t)return i;const r=e?"unshift":"push";return n.split(" ").forEach(s=>{i.eventsListeners[s]||(i.eventsListeners[s]=[]),i.eventsListeners[s][r](t)}),i},once(n,t,e){const i=this;if(!i.eventsListeners||i.destroyed||"function"!=typeof t)return i;function r(){i.off(n,r),r.__emitterProxy&&delete r.__emitterProxy;for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];t.apply(i,o)}return r.__emitterProxy=t,i.on(n,r,e)},onAny(n,t){const e=this;if(!e.eventsListeners||e.destroyed||"function"!=typeof n)return e;const i=t?"unshift":"push";return e.eventsAnyListeners.indexOf(n)<0&&e.eventsAnyListeners[i](n),e},offAny(n){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsAnyListeners)return t;const e=t.eventsAnyListeners.indexOf(n);return e>=0&&t.eventsAnyListeners.splice(e,1),t},off(n,t){const e=this;return!e.eventsListeners||e.destroyed||!e.eventsListeners||n.split(" ").forEach(i=>{void 0===t?e.eventsListeners[i]=[]:e.eventsListeners[i]&&e.eventsListeners[i].forEach((r,s)=>{(r===t||r.__emitterProxy&&r.__emitterProxy===t)&&e.eventsListeners[i].splice(s,1)})}),e},emit(){const n=this;if(!n.eventsListeners||n.destroyed||!n.eventsListeners)return n;let t,e,i;for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return"string"==typeof s[0]||Array.isArray(s[0])?(t=s[0],e=s.slice(1,s.length),i=n):(t=s[0].events,e=s[0].data,i=s[0].context||n),e.unshift(i),(Array.isArray(t)?t:t.split(" ")).forEach(l=>{n.eventsAnyListeners&&n.eventsAnyListeners.length&&n.eventsAnyListeners.forEach(c=>{c.apply(i,[l,...e])}),n.eventsListeners&&n.eventsListeners[l]&&n.eventsListeners[l].forEach(c=>{c.apply(i,e)})}),n}};const IX=(n,t,e)=>{t&&!n.classList.contains(e)?n.classList.add(e):!t&&n.classList.contains(e)&&n.classList.remove(e)},jN=(n,t,e)=>{t&&!n.classList.contains(e)?n.classList.add(e):!t&&n.classList.contains(e)&&n.classList.remove(e)},Rw=(n,t)=>{if(!n||n.destroyed||!n.params)return;const i=t.closest(n.isElement?"swiper-slide":`.${n.params.slideClass}`);if(i){let r=i.querySelector(`.${n.params.lazyPreloaderClass}`);!r&&n.isElement&&(i.shadowRoot?r=i.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{i.shadowRoot&&(r=i.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`),r&&r.remove())})),r&&r.remove()}},HN=(n,t)=>{if(!n.slides[t])return;const e=n.slides[t].querySelector('[loading="lazy"]');e&&e.removeAttribute("loading")},VN=n=>{if(!n||n.destroyed||!n.params)return;let t=n.params.lazyPreloadPrevNext;const e=n.slides.length;if(!e||!t||t<0)return;t=Math.min(t,e);const i="auto"===n.params.slidesPerView?n.slidesPerViewDynamic():Math.ceil(n.params.slidesPerView),r=n.activeIndex;if(n.params.grid&&n.params.grid.rows>1){const o=r,a=[o-t];return a.push(...Array.from({length:t}).map((l,c)=>o+i+c)),void n.slides.forEach((l,c)=>{a.includes(l.column)&&HN(n,c)})}const s=r+i-1;if(n.params.rewind||n.params.loop)for(let o=r-t;o<=s+t;o+=1){const a=(o%e+e)%e;(a<r||a>s)&&HN(n,a)}else for(let o=Math.max(r-t,0);o<=Math.min(s+t,e-1);o+=1)o!==r&&(o>s||o<r)&&HN(n,o)};var h4e={updateSize:function n4e(){const n=this;let t,e;const i=n.el;t=null!=n.params.width?n.params.width:i.clientWidth,e=null!=n.params.height?n.params.height:i.clientHeight,!(0===t&&n.isHorizontal()||0===e&&n.isVertical())&&(t=t-parseInt(zh(i,"padding-left")||0,10)-parseInt(zh(i,"padding-right")||0,10),e=e-parseInt(zh(i,"padding-top")||0,10)-parseInt(zh(i,"padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(e)&&(e=0),Object.assign(n,{width:t,height:e,size:n.isHorizontal()?t:e}))},updateSlides:function i4e(){const n=this;function t(de,xe){return parseFloat(de.getPropertyValue(n.getDirectionLabel(xe))||0)}const e=n.params,{wrapperEl:i,slidesEl:r,size:s,rtlTranslate:o,wrongRTL:a}=n,l=n.virtual&&e.virtual.enabled,c=l?n.virtual.slides.length:n.slides.length,u=Eo(r,`.${n.params.slideClass}, swiper-slide`),d=l?n.virtual.slides.length:u.length;let f=[];const y=[],O=[];let I=e.slidesOffsetBefore;"function"==typeof I&&(I=e.slidesOffsetBefore.call(n));let N=e.slidesOffsetAfter;"function"==typeof N&&(N=e.slidesOffsetAfter.call(n));const k=n.snapGrid.length,B=n.slidesGrid.length;let G=e.spaceBetween,Y=-I,J=0,Z=0;if(void 0===s)return;"string"==typeof G&&G.indexOf("%")>=0?G=parseFloat(G.replace("%",""))/100*s:"string"==typeof G&&(G=parseFloat(G)),n.virtualSize=-G,u.forEach(de=>{o?de.style.marginLeft="":de.style.marginRight="",de.style.marginBottom="",de.style.marginTop=""}),e.centeredSlides&&e.cssMode&&(Vb(i,"--swiper-centered-offset-before",""),Vb(i,"--swiper-centered-offset-after",""));const ge=e.grid&&e.grid.rows>1&&n.grid;let pe;ge?n.grid.initSlides(u):n.grid&&n.grid.unsetSlides();const ae="auto"===e.slidesPerView&&e.breakpoints&&Object.keys(e.breakpoints).filter(de=>void 0!==e.breakpoints[de].slidesPerView).length>0;for(let de=0;de<d;de+=1){let xe;if(pe=0,u[de]&&(xe=u[de]),ge&&n.grid.updateSlide(de,xe,u),!u[de]||"none"!==zh(xe,"display")){if("auto"===e.slidesPerView){ae&&(u[de].style[n.getDirectionLabel("width")]="");const ve=getComputedStyle(xe),ye=xe.style.transform,Re=xe.style.webkitTransform;if(ye&&(xe.style.transform="none"),Re&&(xe.style.webkitTransform="none"),e.roundLengths)pe=n.isHorizontal()?LN(xe,"width",!0):LN(xe,"height",!0);else{const Oe=t(ve,"width"),be=t(ve,"padding-left"),Ee=t(ve,"padding-right"),De=t(ve,"margin-left"),nt=t(ve,"margin-right"),me=ve.getPropertyValue("box-sizing");if(me&&"border-box"===me)pe=Oe+De+nt;else{const{clientWidth:Ve,offsetWidth:et}=xe;pe=Oe+be+Ee+De+nt+(et-Ve)}}ye&&(xe.style.transform=ye),Re&&(xe.style.webkitTransform=Re),e.roundLengths&&(pe=Math.floor(pe))}else pe=(s-(e.slidesPerView-1)*G)/e.slidesPerView,e.roundLengths&&(pe=Math.floor(pe)),u[de]&&(u[de].style[n.getDirectionLabel("width")]=`${pe}px`);u[de]&&(u[de].swiperSlideSize=pe),O.push(pe),e.centeredSlides?(Y=Y+pe/2+J/2+G,0===J&&0!==de&&(Y=Y-s/2-G),0===de&&(Y=Y-s/2-G),Math.abs(Y)<.001&&(Y=0),e.roundLengths&&(Y=Math.floor(Y)),Z%e.slidesPerGroup==0&&f.push(Y),y.push(Y)):(e.roundLengths&&(Y=Math.floor(Y)),(Z-Math.min(n.params.slidesPerGroupSkip,Z))%n.params.slidesPerGroup==0&&f.push(Y),y.push(Y),Y=Y+pe+G),n.virtualSize+=pe+G,J=pe,Z+=1}}if(n.virtualSize=Math.max(n.virtualSize,s)+N,o&&a&&("slide"===e.effect||"coverflow"===e.effect)&&(i.style.width=`${n.virtualSize+G}px`),e.setWrapperSize&&(i.style[n.getDirectionLabel("width")]=`${n.virtualSize+G}px`),ge&&n.grid.updateWrapperSize(pe,f),!e.centeredSlides){const de=[];for(let xe=0;xe<f.length;xe+=1){let ve=f[xe];e.roundLengths&&(ve=Math.floor(ve)),f[xe]<=n.virtualSize-s&&de.push(ve)}f=de,Math.floor(n.virtualSize-s)-Math.floor(f[f.length-1])>1&&f.push(n.virtualSize-s)}if(l&&e.loop){const de=O[0]+G;if(e.slidesPerGroup>1){const xe=Math.ceil((n.virtual.slidesBefore+n.virtual.slidesAfter)/e.slidesPerGroup),ve=de*e.slidesPerGroup;for(let ye=0;ye<xe;ye+=1)f.push(f[f.length-1]+ve)}for(let xe=0;xe<n.virtual.slidesBefore+n.virtual.slidesAfter;xe+=1)1===e.slidesPerGroup&&f.push(f[f.length-1]+de),y.push(y[y.length-1]+de),n.virtualSize+=de}if(0===f.length&&(f=[0]),0!==G){const de=n.isHorizontal()&&o?"marginLeft":n.getDirectionLabel("marginRight");u.filter((xe,ve)=>!(e.cssMode&&!e.loop)||ve!==u.length-1).forEach(xe=>{xe.style[de]=`${G}px`})}if(e.centeredSlides&&e.centeredSlidesBounds){let de=0;O.forEach(ve=>{de+=ve+(G||0)}),de-=G;const xe=de-s;f=f.map(ve=>ve<=0?-I:ve>xe?xe+N:ve)}if(e.centerInsufficientSlides){let de=0;O.forEach(ve=>{de+=ve+(G||0)}),de-=G;const xe=(e.slidesOffsetBefore||0)+(e.slidesOffsetAfter||0);if(de+xe<s){const ve=(s-de-xe)/2;f.forEach((ye,Re)=>{f[Re]=ye-ve}),y.forEach((ye,Re)=>{y[Re]=ye+ve})}}if(Object.assign(n,{slides:u,snapGrid:f,slidesGrid:y,slidesSizesGrid:O}),e.centeredSlides&&e.cssMode&&!e.centeredSlidesBounds){Vb(i,"--swiper-centered-offset-before",-f[0]+"px"),Vb(i,"--swiper-centered-offset-after",n.size/2-O[O.length-1]/2+"px");const de=-n.snapGrid[0],xe=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map(ve=>ve+de),n.slidesGrid=n.slidesGrid.map(ve=>ve+xe)}if(d!==c&&n.emit("slidesLengthChange"),f.length!==k&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),y.length!==B&&n.emit("slidesGridLengthChange"),e.watchSlidesProgress&&n.updateSlidesOffset(),n.emit("slidesUpdated"),!(l||e.cssMode||"slide"!==e.effect&&"fade"!==e.effect)){const de=`${e.containerModifierClass}backface-hidden`,xe=n.el.classList.contains(de);d<=e.maxBackfaceHiddenSlides?xe||n.el.classList.add(de):xe&&n.el.classList.remove(de)}},updateAutoHeight:function r4e(n){const t=this,e=[],i=t.virtual&&t.params.virtual.enabled;let s,r=0;"number"==typeof n?t.setTransition(n):!0===n&&t.setTransition(t.params.speed);const o=a=>i?t.slides[t.getSlideIndexByData(a)]:t.slides[a];if("auto"!==t.params.slidesPerView&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||[]).forEach(a=>{e.push(a)});else for(s=0;s<Math.ceil(t.params.slidesPerView);s+=1){const a=t.activeIndex+s;if(a>t.slides.length&&!i)break;e.push(o(a))}else e.push(o(t.activeIndex));for(s=0;s<e.length;s+=1)if(void 0!==e[s]){const a=e[s].offsetHeight;r=a>r?a:r}(r||0===r)&&(t.wrapperEl.style.height=`${r}px`)},updateSlidesOffset:function s4e(){const n=this,t=n.slides,e=n.isElement?n.isHorizontal()?n.wrapperEl.offsetLeft:n.wrapperEl.offsetTop:0;for(let i=0;i<t.length;i+=1)t[i].swiperSlideOffset=(n.isHorizontal()?t[i].offsetLeft:t[i].offsetTop)-e-n.cssOverflowAdjustment()},updateSlidesProgress:function o4e(n){void 0===n&&(n=this&&this.translate||0);const t=this,e=t.params,{slides:i,rtlTranslate:r,snapGrid:s}=t;if(0===i.length)return;void 0===i[0].swiperSlideOffset&&t.updateSlidesOffset();let o=-n;r&&(o=n),t.visibleSlidesIndexes=[],t.visibleSlides=[];let a=e.spaceBetween;"string"==typeof a&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*t.size:"string"==typeof a&&(a=parseFloat(a));for(let l=0;l<i.length;l+=1){const c=i[l];let u=c.swiperSlideOffset;e.cssMode&&e.centeredSlides&&(u-=i[0].swiperSlideOffset);const d=(o+(e.centeredSlides?t.minTranslate():0)-u)/(c.swiperSlideSize+a),f=(o-s[0]+(e.centeredSlides?t.minTranslate():0)-u)/(c.swiperSlideSize+a),y=-(o-u),O=y+t.slidesSizesGrid[l],I=y>=0&&y<=t.size-t.slidesSizesGrid[l],N=y>=0&&y<t.size-1||O>1&&O<=t.size||y<=0&&O>=t.size;N&&(t.visibleSlides.push(c),t.visibleSlidesIndexes.push(l)),IX(c,N,e.slideVisibleClass),IX(c,I,e.slideFullyVisibleClass),c.progress=r?-d:d,c.originalProgress=r?-f:f}},updateProgress:function a4e(n){const t=this;if(void 0===n){const u=t.rtlTranslate?-1:1;n=t&&t.translate&&t.translate*u||0}const e=t.params,i=t.maxTranslate()-t.minTranslate();let{progress:r,isBeginning:s,isEnd:o,progressLoop:a}=t;const l=s,c=o;if(0===i)r=0,s=!0,o=!0;else{r=(n-t.minTranslate())/i;const u=Math.abs(n-t.minTranslate())<1,d=Math.abs(n-t.maxTranslate())<1;s=u||r<=0,o=d||r>=1,u&&(r=0),d&&(r=1)}if(e.loop){const u=t.getSlideIndexByData(0),d=t.getSlideIndexByData(t.slides.length-1),f=t.slidesGrid[u],y=t.slidesGrid[d],O=t.slidesGrid[t.slidesGrid.length-1],I=Math.abs(n);a=I>=f?(I-f)/O:(I+O-y)/O,a>1&&(a-=1)}Object.assign(t,{progress:r,progressLoop:a,isBeginning:s,isEnd:o}),(e.watchSlidesProgress||e.centeredSlides&&e.autoHeight)&&t.updateSlidesProgress(n),s&&!l&&t.emit("reachBeginning toEdge"),o&&!c&&t.emit("reachEnd toEdge"),(l&&!s||c&&!o)&&t.emit("fromEdge"),t.emit("progress",r)},updateSlidesClasses:function l4e(){const n=this,{slides:t,params:e,slidesEl:i,activeIndex:r}=n,o=n.grid&&e.grid&&e.grid.rows>1,a=d=>Eo(i,`.${e.slideClass}${d}, swiper-slide${d}`)[0];let l,c,u;if(n.virtual&&e.virtual.enabled)if(e.loop){let d=r-n.virtual.slidesBefore;d<0&&(d=n.virtual.slides.length+d),d>=n.virtual.slides.length&&(d-=n.virtual.slides.length),l=a(`[data-swiper-slide-index="${d}"]`)}else l=a(`[data-swiper-slide-index="${r}"]`);else o?(l=t.filter(d=>d.column===r)[0],u=t.filter(d=>d.column===r+1)[0],c=t.filter(d=>d.column===r-1)[0]):l=t[r];l&&(o||(u=function XBe(n,t){const e=[];for(;n.nextElementSibling;){const i=n.nextElementSibling;t?i.matches(t)&&e.push(i):e.push(i),n=i}return e}(l,`.${e.slideClass}, swiper-slide`)[0],e.loop&&!u&&(u=t[0]),c=function YBe(n,t){const e=[];for(;n.previousElementSibling;){const i=n.previousElementSibling;t?i.matches(t)&&e.push(i):e.push(i),n=i}return e}(l,`.${e.slideClass}, swiper-slide`)[0],e.loop&&0===!c&&(c=t[t.length-1]))),t.forEach(d=>{jN(d,d===l,e.slideActiveClass),jN(d,d===u,e.slideNextClass),jN(d,d===c,e.slidePrevClass)}),n.emitSlidesClasses()},updateActiveIndex:function u4e(n){const t=this,e=t.rtlTranslate?t.translate:-t.translate,{snapGrid:i,params:r,activeIndex:s,realIndex:o,snapIndex:a}=t;let c,l=n;const u=y=>{let O=y-t.virtual.slidesBefore;return O<0&&(O=t.virtual.slides.length+O),O>=t.virtual.slides.length&&(O-=t.virtual.slides.length),O};if(void 0===l&&(l=function c4e(n){const{slidesGrid:t,params:e}=n,i=n.rtlTranslate?n.translate:-n.translate;let r;for(let s=0;s<t.length;s+=1)void 0!==t[s+1]?i>=t[s]&&i<t[s+1]-(t[s+1]-t[s])/2?r=s:i>=t[s]&&i<t[s+1]&&(r=s+1):i>=t[s]&&(r=s);return e.normalizeSlideIndex&&(r<0||void 0===r)&&(r=0),r}(t)),i.indexOf(e)>=0)c=i.indexOf(e);else{const y=Math.min(r.slidesPerGroupSkip,l);c=y+Math.floor((l-y)/r.slidesPerGroup)}if(c>=i.length&&(c=i.length-1),l===s&&!t.params.loop)return void(c!==a&&(t.snapIndex=c,t.emit("snapIndexChange")));if(l===s&&t.params.loop&&t.virtual&&t.params.virtual.enabled)return void(t.realIndex=u(l));const d=t.grid&&r.grid&&r.grid.rows>1;let f;if(t.virtual&&r.virtual.enabled&&r.loop)f=u(l);else if(d){const y=t.slides.filter(I=>I.column===l)[0];let O=parseInt(y.getAttribute("data-swiper-slide-index"),10);Number.isNaN(O)&&(O=Math.max(t.slides.indexOf(y),0)),f=Math.floor(O/r.grid.rows)}else if(t.slides[l]){const y=t.slides[l].getAttribute("data-swiper-slide-index");f=y?parseInt(y,10):l}else f=l;Object.assign(t,{previousSnapIndex:a,snapIndex:c,previousRealIndex:o,realIndex:f,previousIndex:s,activeIndex:l}),t.initialized&&VN(t),t.emit("activeIndexChange"),t.emit("snapIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&(o!==f&&t.emit("realIndexChange"),t.emit("slideChange"))},updateClickedSlide:function d4e(n,t){const e=this,i=e.params;let r=n.closest(`.${i.slideClass}, swiper-slide`);!r&&e.isElement&&t&&t.length>1&&t.includes(n)&&[...t.slice(t.indexOf(n)+1,t.length)].forEach(a=>{!r&&a.matches&&a.matches(`.${i.slideClass}, swiper-slide`)&&(r=a)});let o,s=!1;if(r)for(let a=0;a<e.slides.length;a+=1)if(e.slides[a]===r){s=!0,o=a;break}if(!r||!s)return e.clickedSlide=void 0,void(e.clickedIndex=void 0);e.clickedSlide=r,e.clickedIndex=e.virtual&&e.params.virtual.enabled?parseInt(r.getAttribute("data-swiper-slide-index"),10):o,i.slideToClickedSlide&&void 0!==e.clickedIndex&&e.clickedIndex!==e.activeIndex&&e.slideToClickedSlide()}},v4e={getTranslate:function f4e(n){void 0===n&&(n=this.isHorizontal()?"x":"y");const{params:e,rtlTranslate:i,translate:r,wrapperEl:s}=this;if(e.virtualTranslate)return i?-r:r;if(e.cssMode)return r;let o=FN(s,n);return o+=this.cssOverflowAdjustment(),i&&(o=-o),o||0},setTranslate:function p4e(n,t){const e=this,{rtlTranslate:i,params:r,wrapperEl:s,progress:o}=e;let u,a=0,l=0;e.isHorizontal()?a=i?-n:n:l=n,r.roundLengths&&(a=Math.floor(a),l=Math.floor(l)),e.previousTranslate=e.translate,e.translate=e.isHorizontal()?a:l,r.cssMode?s[e.isHorizontal()?"scrollLeft":"scrollTop"]=e.isHorizontal()?-a:-l:r.virtualTranslate||(e.isHorizontal()?a-=e.cssOverflowAdjustment():l-=e.cssOverflowAdjustment(),s.style.transform=`translate3d(${a}px, ${l}px, 0px)`);const d=e.maxTranslate()-e.minTranslate();u=0===d?0:(n-e.minTranslate())/d,u!==o&&e.updateProgress(n),e.emit("setTranslate",e.translate,t)},minTranslate:function g4e(){return-this.snapGrid[0]},maxTranslate:function _4e(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function m4e(n,t,e,i,r){void 0===n&&(n=0),void 0===t&&(t=this.params.speed),void 0===e&&(e=!0),void 0===i&&(i=!0);const s=this,{params:o,wrapperEl:a}=s;if(s.animating&&o.preventInteractionOnTransition)return!1;const l=s.minTranslate(),c=s.maxTranslate();let u;if(u=i&&n>l?l:i&&n<c?c:n,s.updateProgress(u),o.cssMode){const d=s.isHorizontal();if(0===t)a[d?"scrollLeft":"scrollTop"]=-u;else{if(!s.support.smoothScroll)return OX({swiper:s,targetPosition:-u,side:d?"left":"top"}),!0;a.scrollTo({[d?"left":"top"]:-u,behavior:"smooth"})}return!0}return 0===t?(s.setTransition(0),s.setTranslate(u),e&&(s.emit("beforeTransitionStart",t,r),s.emit("transitionEnd"))):(s.setTransition(t),s.setTranslate(u),e&&(s.emit("beforeTransitionStart",t,r),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(f){!s||s.destroyed||f.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,s.animating=!1,e&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}};function AX(n){let{swiper:t,runCallbacks:e,direction:i,step:r}=n;const{activeIndex:s,previousIndex:o}=t;let a=i;if(a||(a=s>o?"next":s<o?"prev":"reset"),t.emit(`transition${r}`),e&&s!==o){if("reset"===a)return void t.emit(`slideResetTransition${r}`);t.emit(`slideChangeTransition${r}`),t.emit("next"===a?`slideNextTransition${r}`:`slidePrevTransition${r}`)}}var C4e={setTransition:function y4e(n,t){const e=this;e.params.cssMode||(e.wrapperEl.style.transitionDuration=`${n}ms`,e.wrapperEl.style.transitionDelay=0===n?"0ms":""),e.emit("setTransition",n,t)},transitionStart:function b4e(n,t){void 0===n&&(n=!0);const e=this,{params:i}=e;i.cssMode||(i.autoHeight&&e.updateAutoHeight(),AX({swiper:e,runCallbacks:n,direction:t,step:"Start"}))},transitionEnd:function S4e(n,t){void 0===n&&(n=!0);const e=this,{params:i}=e;e.animating=!1,!i.cssMode&&(e.setTransition(0),AX({swiper:e,runCallbacks:n,direction:t,step:"End"}))}},I4e={slideTo:function E4e(n,t,e,i,r){void 0===n&&(n=0),void 0===e&&(e=!0),"string"==typeof n&&(n=parseInt(n,10));const s=this;let o=n;o<0&&(o=0);const{params:a,snapGrid:l,slidesGrid:c,previousIndex:u,activeIndex:d,rtlTranslate:f,wrapperEl:y,enabled:O}=s;if(!O&&!i&&!r||s.destroyed||s.animating&&a.preventInteractionOnTransition)return!1;void 0===t&&(t=s.params.speed);const I=Math.min(s.params.slidesPerGroupSkip,o);let N=I+Math.floor((o-I)/s.params.slidesPerGroup);N>=l.length&&(N=l.length-1);const k=-l[N];if(a.normalizeSlideIndex)for(let G=0;G<c.length;G+=1){const Y=-Math.floor(100*k),J=Math.floor(100*c[G]),Z=Math.floor(100*c[G+1]);void 0!==c[G+1]?Y>=J&&Y<Z-(Z-J)/2?o=G:Y>=J&&Y<Z&&(o=G+1):Y>=J&&(o=G)}if(s.initialized&&o!==d&&(!s.allowSlideNext&&(f?k>s.translate&&k>s.minTranslate():k<s.translate&&k<s.minTranslate())||!s.allowSlidePrev&&k>s.translate&&k>s.maxTranslate()&&(d||0)!==o))return!1;let B;if(o!==(u||0)&&e&&s.emit("beforeSlideChangeStart"),s.updateProgress(k),B=o>d?"next":o<d?"prev":"reset",f&&-k===s.translate||!f&&k===s.translate)return s.updateActiveIndex(o),a.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),"slide"!==a.effect&&s.setTranslate(k),"reset"!==B&&(s.transitionStart(e,B),s.transitionEnd(e,B)),!1;if(a.cssMode){const G=s.isHorizontal(),Y=f?k:-k;if(0===t){const J=s.virtual&&s.params.virtual.enabled;J&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),J&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{y[G?"scrollLeft":"scrollTop"]=Y})):y[G?"scrollLeft":"scrollTop"]=Y,J&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1})}else{if(!s.support.smoothScroll)return OX({swiper:s,targetPosition:Y,side:G?"left":"top"}),!0;y.scrollTo({[G?"left":"top"]:Y,behavior:"smooth"})}return!0}return s.setTransition(t),s.setTranslate(k),s.updateActiveIndex(o),s.updateSlidesClasses(),s.emit("beforeTransitionStart",t,i),s.transitionStart(e,B),0===t?s.transitionEnd(e,B):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(Y){!s||s.destroyed||Y.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(e,B))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function T4e(n,t,e,i){void 0===n&&(n=0),void 0===e&&(e=!0),"string"==typeof n&&(n=parseInt(n,10));const r=this;if(r.destroyed)return;void 0===t&&(t=r.params.speed);const s=r.grid&&r.params.grid&&r.params.grid.rows>1;let o=n;if(r.params.loop)if(r.virtual&&r.params.virtual.enabled)o+=r.virtual.slidesBefore;else{let a;if(s){const f=o*r.params.grid.rows;a=r.slides.filter(y=>1*y.getAttribute("data-swiper-slide-index")===f)[0].column}else a=r.getSlideIndexByData(o);const l=s?Math.ceil(r.slides.length/r.params.grid.rows):r.slides.length,{centeredSlides:c}=r.params;let u=r.params.slidesPerView;"auto"===u?u=r.slidesPerViewDynamic():(u=Math.ceil(parseFloat(r.params.slidesPerView,10)),c&&u%2==0&&(u+=1));let d=l-a<u;if(c&&(d=d||a<Math.ceil(u/2)),i&&c&&"auto"!==r.params.slidesPerView&&!s&&(d=!1),d){const f=c?a<r.activeIndex?"prev":"next":a-r.activeIndex-1<r.params.slidesPerView?"next":"prev";r.loopFix({direction:f,slideTo:!0,activeSlideIndex:"next"===f?a+1:a-l+1,slideRealIndex:"next"===f?r.realIndex:void 0})}if(s){const f=o*r.params.grid.rows;o=r.slides.filter(y=>1*y.getAttribute("data-swiper-slide-index")===f)[0].column}else o=r.getSlideIndexByData(o)}return requestAnimationFrame(()=>{r.slideTo(o,t,e,i)}),r},slideNext:function w4e(n,t,e){void 0===t&&(t=!0);const i=this,{enabled:r,params:s,animating:o}=i;if(!r||i.destroyed)return i;void 0===n&&(n=i.params.speed);let a=s.slidesPerGroup;"auto"===s.slidesPerView&&1===s.slidesPerGroup&&s.slidesPerGroupAuto&&(a=Math.max(i.slidesPerViewDynamic("current",!0),1));const l=i.activeIndex<s.slidesPerGroupSkip?1:a;if(s.loop){if(o&&(!i.virtual||!s.virtual.enabled)&&s.loopPreventsSliding)return!1;if(i.loopFix({direction:"next"}),i._clientLeft=i.wrapperEl.clientLeft,i.activeIndex===i.slides.length-1&&s.cssMode)return requestAnimationFrame(()=>{i.slideTo(i.activeIndex+l,n,t,e)}),!0}return i.slideTo(s.rewind&&i.isEnd?0:i.activeIndex+l,n,t,e)},slidePrev:function M4e(n,t,e){void 0===t&&(t=!0);const i=this,{params:r,snapGrid:s,slidesGrid:o,rtlTranslate:a,enabled:l,animating:c}=i;if(!l||i.destroyed)return i;if(void 0===n&&(n=i.params.speed),r.loop){if(c&&(!i.virtual||!r.virtual.enabled)&&r.loopPreventsSliding)return!1;i.loopFix({direction:"prev"}),i._clientLeft=i.wrapperEl.clientLeft}function f(k){return k<0?-Math.floor(Math.abs(k)):Math.floor(k)}const y=f(a?i.translate:-i.translate),O=s.map(k=>f(k));let I=s[O.indexOf(y)-1];if(void 0===I&&r.cssMode){let k;s.forEach((B,G)=>{y>=B&&(k=G)}),void 0!==k&&(I=s[k>0?k-1:k])}let N=0;return void 0!==I&&(N=o.indexOf(I),N<0&&(N=i.activeIndex-1),"auto"===r.slidesPerView&&1===r.slidesPerGroup&&r.slidesPerGroupAuto&&(N=N-i.slidesPerViewDynamic("previous",!0)+1,N=Math.max(N,0))),r.rewind&&i.isBeginning?i.slideTo(i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1,n,t,e):r.loop&&0===i.activeIndex&&r.cssMode?(requestAnimationFrame(()=>{i.slideTo(N,n,t,e)}),!0):i.slideTo(N,n,t,e)},slideReset:function O4e(n,t,e){void 0===t&&(t=!0);const i=this;if(!i.destroyed)return void 0===n&&(n=i.params.speed),i.slideTo(i.activeIndex,n,t,e)},slideToClosest:function P4e(n,t,e,i){void 0===t&&(t=!0),void 0===i&&(i=.5);const r=this;if(r.destroyed)return;void 0===n&&(n=r.params.speed);let s=r.activeIndex;const o=Math.min(r.params.slidesPerGroupSkip,s),a=o+Math.floor((s-o)/r.params.slidesPerGroup),l=r.rtlTranslate?r.translate:-r.translate;if(l>=r.snapGrid[a]){const c=r.snapGrid[a];l-c>(r.snapGrid[a+1]-c)*i&&(s+=r.params.slidesPerGroup)}else{const c=r.snapGrid[a-1];l-c<=(r.snapGrid[a]-c)*i&&(s-=r.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,r.slidesGrid.length-1),r.slideTo(s,n,t,e)},slideToClickedSlide:function x4e(){const n=this;if(n.destroyed)return;const{params:t,slidesEl:e}=n,i="auto"===t.slidesPerView?n.slidesPerViewDynamic():t.slidesPerView;let s,r=n.clickedIndex;const o=n.isElement?"swiper-slide":`.${t.slideClass}`;if(t.loop){if(n.animating)return;s=parseInt(n.clickedSlide.getAttribute("data-swiper-slide-index"),10),t.centeredSlides?r<n.loopedSlides-i/2||r>n.slides.length-n.loopedSlides+i/2?(n.loopFix(),r=n.getSlideIndex(Eo(e,`${o}[data-swiper-slide-index="${s}"]`)[0]),mg(()=>{n.slideTo(r)})):n.slideTo(r):r>n.slides.length-i?(n.loopFix(),r=n.getSlideIndex(Eo(e,`${o}[data-swiper-slide-index="${s}"]`)[0]),mg(()=>{n.slideTo(r)})):n.slideTo(r)}else n.slideTo(r)}},N4e={loopCreate:function A4e(n){const t=this,{params:e,slidesEl:i}=t;if(!e.loop||t.virtual&&t.params.virtual.enabled)return;const r=()=>{Eo(i,`.${e.slideClass}, swiper-slide`).forEach((d,f)=>{d.setAttribute("data-swiper-slide-index",f)})},s=t.grid&&e.grid&&e.grid.rows>1,o=e.slidesPerGroup*(s?e.grid.rows:1),l=s&&t.slides.length%e.grid.rows!=0,c=u=>{for(let d=0;d<u;d+=1){const f=t.isElement?cl("swiper-slide",[e.slideBlankClass]):cl("div",[e.slideClass,e.slideBlankClass]);t.slidesEl.append(f)}};t.slides.length%o!=0?(e.loopAddBlankSlides?(c(o-t.slides.length%o),t.recalcSlides(),t.updateSlides()):Iw("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)"),r()):l?(e.loopAddBlankSlides?(c(e.grid.rows-t.slides.length%e.grid.rows),t.recalcSlides(),t.updateSlides()):Iw("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)"),r()):r(),t.loopFix({slideRealIndex:n,direction:e.centeredSlides?void 0:"next"})},loopFix:function R4e(n){let{slideRealIndex:t,slideTo:e=!0,direction:i,setTranslate:r,activeSlideIndex:s,byController:o,byMousewheel:a}=void 0===n?{}:n;const l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");const{slides:c,allowSlidePrev:u,allowSlideNext:d,slidesEl:f,params:y}=l,{centeredSlides:O}=y;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&y.virtual.enabled)return e&&(y.centeredSlides||0!==l.snapIndex?y.centeredSlides&&l.snapIndex<y.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0):l.slideTo(l.virtual.slides.length,0,!1,!0)),l.allowSlidePrev=u,l.allowSlideNext=d,void l.emit("loopFix");let I=y.slidesPerView;"auto"===I?I=l.slidesPerViewDynamic():(I=Math.ceil(parseFloat(y.slidesPerView,10)),O&&I%2==0&&(I+=1));const N=y.slidesPerGroupAuto?I:y.slidesPerGroup;let k=N;k%N!=0&&(k+=N-k%N),k+=y.loopAdditionalSlides,l.loopedSlides=k;const B=l.grid&&y.grid&&y.grid.rows>1;c.length<I+k?Iw("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):B&&"row"===y.grid.fill&&Iw("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const G=[],Y=[];let J=l.activeIndex;void 0===s?s=l.getSlideIndex(c.filter(ye=>ye.classList.contains(y.slideActiveClass))[0]):J=s;const Z="next"===i||!i,ge="prev"===i||!i;let pe=0,ae=0;const de=B?Math.ceil(c.length/y.grid.rows):c.length,ve=(B?c[s].column:s)+(O&&void 0===r?-I/2+.5:0);if(ve<k){pe=Math.max(k-ve,N);for(let ye=0;ye<k-ve;ye+=1){const Re=ye-Math.floor(ye/de)*de;if(B){const Oe=de-Re-1;for(let be=c.length-1;be>=0;be-=1)c[be].column===Oe&&G.push(be)}else G.push(de-Re-1)}}else if(ve+I>de-k){ae=Math.max(ve-(de-2*k),N);for(let ye=0;ye<ae;ye+=1){const Re=ye-Math.floor(ye/de)*de;B?c.forEach((Oe,be)=>{Oe.column===Re&&Y.push(be)}):Y.push(Re)}}if(l.__preventObserver__=!0,requestAnimationFrame(()=>{l.__preventObserver__=!1}),ge&&G.forEach(ye=>{c[ye].swiperLoopMoveDOM=!0,f.prepend(c[ye]),c[ye].swiperLoopMoveDOM=!1}),Z&&Y.forEach(ye=>{c[ye].swiperLoopMoveDOM=!0,f.append(c[ye]),c[ye].swiperLoopMoveDOM=!1}),l.recalcSlides(),"auto"===y.slidesPerView?l.updateSlides():B&&(G.length>0&&ge||Y.length>0&&Z)&&l.slides.forEach((ye,Re)=>{l.grid.updateSlide(Re,ye,l.slides)}),y.watchSlidesProgress&&l.updateSlidesOffset(),e)if(G.length>0&&ge)if(void 0===t){const Oe=l.slidesGrid[J+pe]-l.slidesGrid[J];a?l.setTranslate(l.translate-Oe):(l.slideTo(J+Math.ceil(pe),0,!1,!0),r&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-Oe,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-Oe))}else r&&(l.slideTo(l.activeIndex+(B?G.length/y.grid.rows:G.length),0,!1,!0),l.touchEventsData.currentTranslate=l.translate);else if(Y.length>0&&Z)if(void 0===t){const Oe=l.slidesGrid[J-ae]-l.slidesGrid[J];a?l.setTranslate(l.translate-Oe):(l.slideTo(J-ae,0,!1,!0),r&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-Oe,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-Oe))}else l.slideTo(l.activeIndex-(B?Y.length/y.grid.rows:Y.length),0,!1,!0);if(l.allowSlidePrev=u,l.allowSlideNext=d,l.controller&&l.controller.control&&!o){const ye={slideRealIndex:t,direction:i,setTranslate:r,activeSlideIndex:s,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach(Re=>{!Re.destroyed&&Re.params.loop&&Re.loopFix(xn(Be({},ye),{slideTo:Re.params.slidesPerView===y.slidesPerView&&e}))}):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix(xn(Be({},ye),{slideTo:l.controller.control.params.slidesPerView===y.slidesPerView&&e}))}l.emit("loopFix")},loopDestroy:function D4e(){const n=this,{params:t,slidesEl:e}=n;if(!t.loop||n.virtual&&n.params.virtual.enabled)return;n.recalcSlides();const i=[];n.slides.forEach(r=>{const s=void 0===r.swiperSlideIndex?1*r.getAttribute("data-swiper-slide-index"):r.swiperSlideIndex;i[s]=r}),n.slides.forEach(r=>{r.removeAttribute("data-swiper-slide-index")}),i.forEach(r=>{e.append(r)}),n.recalcSlides(),n.slideTo(n.realIndex,0)}},L4e={setGrabCursor:function k4e(n){const t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const e="container"===t.params.touchEventsTarget?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),e.style.cursor="move",e.style.cursor=n?"grabbing":"grab",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1})},unsetGrabCursor:function F4e(){const n=this;n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n.isElement&&(n.__preventObserver__=!0),n["container"===n.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1}))}};function RX(n,t,e){const i=ss(),{params:r}=n,s=r.edgeSwipeDetection,o=r.edgeSwipeThreshold;return!s||!(e<=o||e>=i.innerWidth-o)||"prevent"===s&&(t.preventDefault(),!0)}function U4e(n){const t=this,e=Co();let i=n;i.originalEvent&&(i=i.originalEvent);const r=t.touchEventsData;if("pointerdown"===i.type){if(null!==r.pointerId&&r.pointerId!==i.pointerId)return;r.pointerId=i.pointerId}else"touchstart"===i.type&&1===i.targetTouches.length&&(r.touchId=i.targetTouches[0].identifier);if("touchstart"===i.type)return void RX(t,i,i.targetTouches[0].pageX);const{params:s,touches:o,enabled:a}=t;if(!a||!s.simulateTouch&&"mouse"===i.pointerType||t.animating&&s.preventInteractionOnTransition)return;!t.animating&&s.cssMode&&s.loop&&t.loopFix();let l=i.target;if("wrapper"===s.touchEventsTarget&&!t.wrapperEl.contains(l)||"which"in i&&3===i.which||"button"in i&&i.button>0||r.isTouched&&r.isMoved)return;const c=!!s.noSwipingClass&&""!==s.noSwipingClass,u=i.composedPath?i.composedPath():i.path;c&&i.target&&i.target.shadowRoot&&u&&(l=u[0]);const d=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`;if(s.noSwiping&&(i.target&&i.target.shadowRoot?function B4e(n,t){return void 0===t&&(t=this),function e(i){if(!i||i===Co()||i===ss())return null;i.assignedSlot&&(i=i.assignedSlot);const r=i.closest(n);return r||i.getRootNode?r||e(i.getRootNode().host):null}(t)}(d,l):l.closest(d)))return void(t.allowClick=!0);if(s.swipeHandler&&!l.closest(s.swipeHandler))return;o.currentX=i.pageX,o.currentY=i.pageY;const y=o.currentX,O=o.currentY;if(!RX(t,i,y))return;Object.assign(r,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=y,o.startY=O,r.touchStartTime=ec(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,s.threshold>0&&(r.allowThresholdMove=!1);let I=!0;l.matches(r.focusableElements)&&(I=!1,"SELECT"===l.nodeName&&(r.isTouched=!1)),e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==l&&e.activeElement.blur(),(s.touchStartForcePreventDefault||I&&t.allowTouchMove&&s.touchStartPreventDefault)&&!l.isContentEditable&&i.preventDefault(),s.freeMode&&s.freeMode.enabled&&t.freeMode&&t.animating&&!s.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",i)}function G4e(n){const t=Co(),e=this,i=e.touchEventsData,{params:r,touches:s,rtlTranslate:o,enabled:a}=e;if(!a||!r.simulateTouch&&"mouse"===n.pointerType)return;let c,l=n;if(l.originalEvent&&(l=l.originalEvent),"pointermove"===l.type&&(null!==i.touchId||l.pointerId!==i.pointerId))return;if("touchmove"===l.type){if(c=[...l.changedTouches].filter(Z=>Z.identifier===i.touchId)[0],!c||c.identifier!==i.touchId)return}else c=l;if(!i.isTouched)return void(i.startMoving&&i.isScrolling&&e.emit("touchMoveOpposite",l));const u=c.pageX,d=c.pageY;if(l.preventedByNestedSwiper)return s.startX=u,void(s.startY=d);if(!e.allowTouchMove)return l.target.matches(i.focusableElements)||(e.allowClick=!1),void(i.isTouched&&(Object.assign(s,{startX:u,startY:d,currentX:u,currentY:d}),i.touchStartTime=ec()));if(r.touchReleaseOnEdges&&!r.loop)if(e.isVertical()){if(d<s.startY&&e.translate<=e.maxTranslate()||d>s.startY&&e.translate>=e.minTranslate())return i.isTouched=!1,void(i.isMoved=!1)}else if(u<s.startX&&e.translate<=e.maxTranslate()||u>s.startX&&e.translate>=e.minTranslate())return;if(t.activeElement&&l.target===t.activeElement&&l.target.matches(i.focusableElements))return i.isMoved=!0,void(e.allowClick=!1);i.allowTouchCallbacks&&e.emit("touchMove",l),s.previousX=s.currentX,s.previousY=s.currentY,s.currentX=u,s.currentY=d;const f=s.currentX-s.startX,y=s.currentY-s.startY;if(e.params.threshold&&Math.sqrt(Xo(f,2)+Xo(y,2))<e.params.threshold)return;if(void 0===i.isScrolling){let Z;e.isHorizontal()&&s.currentY===s.startY||e.isVertical()&&s.currentX===s.startX?i.isScrolling=!1:f*f+y*y>=25&&(Z=180*Math.atan2(Math.abs(y),Math.abs(f))/Math.PI,i.isScrolling=e.isHorizontal()?Z>r.touchAngle:90-Z>r.touchAngle)}if(i.isScrolling&&e.emit("touchMoveOpposite",l),void 0===i.startMoving&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(i.startMoving=!0),i.isScrolling||"touchmove"===l.type&&i.preventTouchMoveFromPointerMove)return void(i.isTouched=!1);if(!i.startMoving)return;e.allowClick=!1,!r.cssMode&&l.cancelable&&l.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&l.stopPropagation();let O=e.isHorizontal()?f:y,I=e.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;r.oneWayMovement&&(O=Math.abs(O)*(o?1:-1),I=Math.abs(I)*(o?1:-1)),s.diff=O,O*=r.touchRatio,o&&(O=-O,I=-I);const N=e.touchesDirection;e.swipeDirection=O>0?"prev":"next",e.touchesDirection=I>0?"prev":"next";const k=e.params.loop&&!r.cssMode,B="next"===e.touchesDirection&&e.allowSlideNext||"prev"===e.touchesDirection&&e.allowSlidePrev;if(!i.isMoved){if(k&&B&&e.loopFix({direction:e.swipeDirection}),i.startTranslate=e.getTranslate(),e.setTransition(0),e.animating){const Z=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});e.wrapperEl.dispatchEvent(Z)}i.allowMomentumBounce=!1,r.grabCursor&&(!0===e.allowSlideNext||!0===e.allowSlidePrev)&&e.setGrabCursor(!0),e.emit("sliderFirstMove",l)}if((new Date).getTime(),i.isMoved&&i.allowThresholdMove&&N!==e.touchesDirection&&k&&B&&Math.abs(O)>=1)return Object.assign(s,{startX:u,startY:d,currentX:u,currentY:d,startTranslate:i.currentTranslate}),i.loopSwapReset=!0,void(i.startTranslate=i.currentTranslate);e.emit("sliderMove",l),i.isMoved=!0,i.currentTranslate=O+i.startTranslate;let Y=!0,J=r.resistanceRatio;if(r.touchReleaseOnEdges&&(J=0),O>0?(k&&B&&i.allowThresholdMove&&i.currentTranslate>(r.centeredSlides?e.minTranslate()-e.slidesSizesGrid[e.activeIndex+1]:e.minTranslate())&&e.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),i.currentTranslate>e.minTranslate()&&(Y=!1,r.resistance&&(i.currentTranslate=e.minTranslate()-1+Xo(-e.minTranslate()+i.startTranslate+O,J)))):O<0&&(k&&B&&i.allowThresholdMove&&i.currentTranslate<(r.centeredSlides?e.maxTranslate()+e.slidesSizesGrid[e.slidesSizesGrid.length-1]:e.maxTranslate())&&e.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:e.slides.length-("auto"===r.slidesPerView?e.slidesPerViewDynamic():Math.ceil(parseFloat(r.slidesPerView,10)))}),i.currentTranslate<e.maxTranslate()&&(Y=!1,r.resistance&&(i.currentTranslate=e.maxTranslate()+1-Xo(e.maxTranslate()-i.startTranslate-O,J)))),Y&&(l.preventedByNestedSwiper=!0),!e.allowSlideNext&&"next"===e.swipeDirection&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!e.allowSlidePrev&&"prev"===e.swipeDirection&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!e.allowSlidePrev&&!e.allowSlideNext&&(i.currentTranslate=i.startTranslate),r.threshold>0){if(!(Math.abs(O)>r.threshold||i.allowThresholdMove))return void(i.currentTranslate=i.startTranslate);if(!i.allowThresholdMove)return i.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,i.currentTranslate=i.startTranslate,void(s.diff=e.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY)}!r.followFinger||r.cssMode||((r.freeMode&&r.freeMode.enabled&&e.freeMode||r.watchSlidesProgress)&&(e.updateActiveIndex(),e.updateSlidesClasses()),r.freeMode&&r.freeMode.enabled&&e.freeMode&&e.freeMode.onTouchMove(),e.updateProgress(i.currentTranslate),e.setTranslate(i.currentTranslate))}function j4e(n){const t=this,e=t.touchEventsData;let r,i=n;if(i.originalEvent&&(i=i.originalEvent),"touchend"===i.type||"touchcancel"===i.type){if(r=[...i.changedTouches].filter(J=>J.identifier===e.touchId)[0],!r||r.identifier!==e.touchId)return}else{if(null!==e.touchId||i.pointerId!==e.pointerId)return;r=i}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(i.type)&&(!["pointercancel","contextmenu"].includes(i.type)||!t.browser.isSafari&&!t.browser.isWebView))return;e.pointerId=null,e.touchId=null;const{params:o,touches:a,rtlTranslate:l,slidesGrid:c,enabled:u}=t;if(!u||!o.simulateTouch&&"mouse"===i.pointerType)return;if(e.allowTouchCallbacks&&t.emit("touchEnd",i),e.allowTouchCallbacks=!1,!e.isTouched)return e.isMoved&&o.grabCursor&&t.setGrabCursor(!1),e.isMoved=!1,void(e.startMoving=!1);o.grabCursor&&e.isMoved&&e.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);const d=ec(),f=d-e.touchStartTime;if(t.allowClick){const J=i.path||i.composedPath&&i.composedPath();t.updateClickedSlide(J&&J[0]||i.target,J),t.emit("tap click",i),f<300&&d-e.lastClickTime<300&&t.emit("doubleTap doubleClick",i)}if(e.lastClickTime=ec(),mg(()=>{t.destroyed||(t.allowClick=!0)}),!e.isTouched||!e.isMoved||!t.swipeDirection||0===a.diff&&!e.loopSwapReset||e.currentTranslate===e.startTranslate&&!e.loopSwapReset)return e.isTouched=!1,e.isMoved=!1,void(e.startMoving=!1);let y;if(e.isTouched=!1,e.isMoved=!1,e.startMoving=!1,y=o.followFinger?l?t.translate:-t.translate:-e.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled)return void t.freeMode.onTouchEnd({currentPos:y});const O=y>=-t.maxTranslate()&&!t.params.loop;let I=0,N=t.slidesSizesGrid[0];for(let J=0;J<c.length;J+=J<o.slidesPerGroupSkip?1:o.slidesPerGroup){const Z=J<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;void 0!==c[J+Z]?(O||y>=c[J]&&y<c[J+Z])&&(I=J,N=c[J+Z]-c[J]):(O||y>=c[J])&&(I=J,N=c[c.length-1]-c[c.length-2])}let k=null,B=null;o.rewind&&(t.isBeginning?B=o.virtual&&o.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(k=0));const G=(y-c[I])/N,Y=I<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(f>o.longSwipesMs){if(!o.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&t.slideTo(G>=o.longSwipesRatio?o.rewind&&t.isEnd?k:I+Y:I),"prev"===t.swipeDirection&&(G>1-o.longSwipesRatio?t.slideTo(I+Y):null!==B&&G<0&&Math.abs(G)>o.longSwipesRatio?t.slideTo(B):t.slideTo(I))}else{if(!o.shortSwipes)return void t.slideTo(t.activeIndex);!t.navigation||i.target!==t.navigation.nextEl&&i.target!==t.navigation.prevEl?("next"===t.swipeDirection&&t.slideTo(null!==k?k:I+Y),"prev"===t.swipeDirection&&t.slideTo(null!==B?B:I)):t.slideTo(i.target===t.navigation.nextEl?I+Y:I)}}function DX(){const n=this,{params:t,el:e}=n;if(e&&0===e.offsetWidth)return;t.breakpoints&&n.setBreakpoint();const{allowSlideNext:i,allowSlidePrev:r,snapGrid:s}=n,o=n.virtual&&n.params.virtual.enabled;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses(),!("auto"===t.slidesPerView||t.slidesPerView>1)||!n.isEnd||n.isBeginning||n.params.centeredSlides||o&&t.loop?n.params.loop&&!o?n.slideToLoop(n.realIndex,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0):n.slideTo(n.slides.length-1,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&(clearTimeout(n.autoplay.resizeTimeout),n.autoplay.resizeTimeout=setTimeout(()=>{n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.resume()},500)),n.allowSlidePrev=r,n.allowSlideNext=i,n.params.watchOverflow&&s!==n.snapGrid&&n.checkOverflow()}function H4e(n){const t=this;!t.enabled||t.allowClick||(t.params.preventClicks&&n.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(n.stopPropagation(),n.stopImmediatePropagation()))}function V4e(){const n=this,{wrapperEl:t,rtlTranslate:e,enabled:i}=n;if(!i)return;let r;n.previousTranslate=n.translate,n.translate=n.isHorizontal()?-t.scrollLeft:-t.scrollTop,0===n.translate&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();const s=n.maxTranslate()-n.minTranslate();r=0===s?0:(n.translate-n.minTranslate())/s,r!==n.progress&&n.updateProgress(e?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}function z4e(n){const t=this;Rw(t,n.target),!t.params.cssMode&&("auto"===t.params.slidesPerView||t.params.autoHeight)&&t.update()}function W4e(){const n=this;n.documentTouchHandlerProceeded||(n.documentTouchHandlerProceeded=!0,n.params.touchReleaseOnEdges&&(n.el.style.touchAction="auto"))}const NX=(n,t)=>{const e=Co(),{params:i,el:r,wrapperEl:s,device:o}=n,a=!!i.nested,l="on"===t?"addEventListener":"removeEventListener",c=t;!r||"string"==typeof r||(e[l]("touchstart",n.onDocumentTouchStart,{passive:!1,capture:a}),r[l]("touchstart",n.onTouchStart,{passive:!1}),r[l]("pointerdown",n.onTouchStart,{passive:!1}),e[l]("touchmove",n.onTouchMove,{passive:!1,capture:a}),e[l]("pointermove",n.onTouchMove,{passive:!1,capture:a}),e[l]("touchend",n.onTouchEnd,{passive:!0}),e[l]("pointerup",n.onTouchEnd,{passive:!0}),e[l]("pointercancel",n.onTouchEnd,{passive:!0}),e[l]("touchcancel",n.onTouchEnd,{passive:!0}),e[l]("pointerout",n.onTouchEnd,{passive:!0}),e[l]("pointerleave",n.onTouchEnd,{passive:!0}),e[l]("contextmenu",n.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&r[l]("click",n.onClick,!0),i.cssMode&&s[l]("scroll",n.onScroll),n[c](i.updateOnWindowResize?o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate":"observerUpdate",DX,!0),r[l]("load",n.onLoad,{capture:!0}))};var X4e={attachEvents:function $4e(){const n=this,{params:t}=n;n.onTouchStart=U4e.bind(n),n.onTouchMove=G4e.bind(n),n.onTouchEnd=j4e.bind(n),n.onDocumentTouchStart=W4e.bind(n),t.cssMode&&(n.onScroll=V4e.bind(n)),n.onClick=H4e.bind(n),n.onLoad=z4e.bind(n),NX(n,"on")},detachEvents:function Y4e(){NX(this,"off")}};const kX=(n,t)=>n.grid&&t.grid&&t.grid.rows>1;var J4e={setBreakpoint:function q4e(){const n=this,{realIndex:t,initialized:e,params:i,el:r}=n,s=i.breakpoints;if(!s||s&&0===Object.keys(s).length)return;const o=n.getBreakpoint(s,n.params.breakpointsBase,n.el);if(!o||n.currentBreakpoint===o)return;const l=(o in s?s[o]:void 0)||n.originalParams,c=kX(n,i),u=kX(n,l),d=n.params.grabCursor,f=l.grabCursor,y=i.enabled;c&&!u?(r.classList.remove(`${i.containerModifierClass}grid`,`${i.containerModifierClass}grid-column`),n.emitContainerClasses()):!c&&u&&(r.classList.add(`${i.containerModifierClass}grid`),(l.grid.fill&&"column"===l.grid.fill||!l.grid.fill&&"column"===i.grid.fill)&&r.classList.add(`${i.containerModifierClass}grid-column`),n.emitContainerClasses()),d&&!f?n.unsetGrabCursor():!d&&f&&n.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(G=>{if(void 0===l[G])return;const Y=i[G]&&i[G].enabled,J=l[G]&&l[G].enabled;Y&&!J&&n[G].disable(),!Y&&J&&n[G].enable()});const O=l.direction&&l.direction!==i.direction,I=i.loop&&(l.slidesPerView!==i.slidesPerView||O),N=i.loop;O&&e&&n.changeDirection(),ll(n.params,l);const k=n.params.enabled,B=n.params.loop;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),y&&!k?n.disable():!y&&k&&n.enable(),n.currentBreakpoint=o,n.emit("_beforeBreakpoint",l),e&&(I?(n.loopDestroy(),n.loopCreate(t),n.updateSlides()):!N&&B?(n.loopCreate(t),n.updateSlides()):N&&!B&&n.loopDestroy()),n.emit("breakpoint",l)},getBreakpoint:function K4e(n,t,e){if(void 0===t&&(t="window"),!n||"container"===t&&!e)return;let i=!1;const r=ss(),s="window"===t?r.innerHeight:e.clientHeight,o=Object.keys(n).map(a=>{if("string"==typeof a&&0===a.indexOf("@")){const l=parseFloat(a.substr(1));return{value:s*l,point:a}}return{value:a,point:a}});o.sort((a,l)=>parseInt(a.value,10)-parseInt(l.value,10));for(let a=0;a<o.length;a+=1){const{point:l,value:c}=o[a];"window"===t?r.matchMedia(`(min-width: ${c}px)`).matches&&(i=l):c<=e.clientWidth&&(i=l)}return i||"max"}},t5e={addClasses:function Q4e(){const n=this,{classNames:t,params:e,rtl:i,el:r,device:s}=n,o=function Z4e(n,t){const e=[];return n.forEach(i=>{"object"==typeof i?Object.keys(i).forEach(r=>{i[r]&&e.push(t+r)}):"string"==typeof i&&e.push(t+i)}),e}(["initialized",e.direction,{"free-mode":n.params.freeMode&&e.freeMode.enabled},{autoheight:e.autoHeight},{rtl:i},{grid:e.grid&&e.grid.rows>1},{"grid-column":e.grid&&e.grid.rows>1&&"column"===e.grid.fill},{android:s.android},{ios:s.ios},{"css-mode":e.cssMode},{centered:e.cssMode&&e.centeredSlides},{"watch-progress":e.watchSlidesProgress}],e.containerModifierClass);t.push(...o),r.classList.add(...t),n.emitContainerClasses()},removeClasses:function e5e(){const{el:t,classNames:e}=this;!t||"string"==typeof t||(t.classList.remove(...e),this.emitContainerClasses())}},zN={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function r5e(n,t){return function(i){void 0===i&&(i={});const r=Object.keys(i)[0],s=i[r];"object"==typeof s&&null!==s?(!0===n[r]&&(n[r]={enabled:!0}),"navigation"===r&&n[r]&&n[r].enabled&&!n[r].prevEl&&!n[r].nextEl&&(n[r].auto=!0),["pagination","scrollbar"].indexOf(r)>=0&&n[r]&&n[r].enabled&&!n[r].el&&(n[r].auto=!0),r in n&&"enabled"in s?("object"==typeof n[r]&&!("enabled"in n[r])&&(n[r].enabled=!0),n[r]||(n[r]={enabled:!1}),ll(t,i)):ll(t,i)):ll(t,i)}}const WN={eventsEmitter:t4e,update:h4e,translate:v4e,transition:C4e,slide:I4e,loop:N4e,grabCursor:L4e,events:X4e,breakpoints:J4e,checkOverflow:{checkOverflow:function n5e(){const n=this,{isLocked:t,params:e}=n,{slidesOffsetBefore:i}=e;if(i){const r=n.slides.length-1;n.isLocked=n.size>n.slidesGrid[r]+n.slidesSizesGrid[r]+2*i}else n.isLocked=1===n.snapGrid.length;!0===e.allowSlideNext&&(n.allowSlideNext=!n.isLocked),!0===e.allowSlidePrev&&(n.allowSlidePrev=!n.isLocked),t&&t!==n.isLocked&&(n.isEnd=!1),t!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}},classes:t5e},$N={};class ul{constructor(){let t,e;for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];1===r.length&&r[0].constructor&&"Object"===Object.prototype.toString.call(r[0]).slice(8,-1)?e=r[0]:[t,e]=r,e||(e={}),e=ll({},e),t&&!e.el&&(e.el=t);const o=Co();if(e.el&&"string"==typeof e.el&&o.querySelectorAll(e.el).length>1){const u=[];return o.querySelectorAll(e.el).forEach(d=>{const f=ll({},e,{el:d});u.push(new ul(f))}),u}const a=this;a.__swiper__=!0,a.support=PX(),a.device=xX({userAgent:e.userAgent}),a.browser=function ZBe(){return GN||(GN=function JBe(){const n=ss(),t=xX();let e=!1;function i(){const a=n.navigator.userAgent.toLowerCase();return a.indexOf("safari")>=0&&a.indexOf("chrome")<0&&a.indexOf("android")<0}if(i()){const a=String(n.navigator.userAgent);if(a.includes("Version/")){const[l,c]=a.split("Version/")[1].split(" ")[0].split(".").map(u=>Number(u));e=l<16||16===l&&c<2}}const r=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent),s=i();return{isSafari:e||s,needPerspectiveFix:e,need3dFix:s||r&&t.ios,isWebView:r}}()),GN}(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],e.modules&&Array.isArray(e.modules)&&a.modules.push(...e.modules);const l={};a.modules.forEach(u=>{u({params:e,swiper:a,extendParams:r5e(e,l),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});const c=ll({},zN,l);return a.params=ll({},c,$N,e),a.originalParams=ll({},a.params),a.passedParams=ll({},e),a.params&&a.params.on&&Object.keys(a.params.on).forEach(u=>{a.on(u,a.params.on[u])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:t,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===a.params.direction,isVertical:()=>"vertical"===a.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/Xo(2,23))*Xo(2,23)},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getDirectionLabel(t){return this.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]}getSlideIndex(t){const{slidesEl:e,params:i}=this,s=zb(Eo(e,`.${i.slideClass}, swiper-slide`)[0]);return zb(t)-s}getSlideIndexByData(t){return this.getSlideIndex(this.slides.filter(e=>1*e.getAttribute("data-swiper-slide-index")===t)[0])}recalcSlides(){const{slidesEl:e,params:i}=this;this.slides=Eo(e,`.${i.slideClass}, swiper-slide`)}enable(){const t=this;t.enabled||(t.enabled=!0,t.params.grabCursor&&t.setGrabCursor(),t.emit("enable"))}disable(){const t=this;!t.enabled||(t.enabled=!1,t.params.grabCursor&&t.unsetGrabCursor(),t.emit("disable"))}setProgress(t,e){const i=this;t=Math.min(Math.max(t,0),1);const r=i.minTranslate(),o=(i.maxTranslate()-r)*t+r;i.translateTo(o,void 0===e?0:e),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const e=t.el.className.split(" ").filter(i=>0===i.indexOf("swiper")||0===i.indexOf(t.params.containerModifierClass));t.emit("_containerClasses",e.join(" "))}getSlideClasses(t){const e=this;return e.destroyed?"":t.className.split(" ").filter(i=>0===i.indexOf("swiper-slide")||0===i.indexOf(e.params.slideClass)).join(" ")}emitSlidesClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const e=[];t.slides.forEach(i=>{const r=t.getSlideClasses(i);e.push({slideEl:i,classNames:r}),t.emit("_slideClass",i,r)}),t.emit("_slideClasses",e)}slidesPerViewDynamic(t,e){void 0===t&&(t="current"),void 0===e&&(e=!1);const{params:r,slides:s,slidesGrid:o,slidesSizesGrid:a,size:l,activeIndex:c}=this;let u=1;if("number"==typeof r.slidesPerView)return r.slidesPerView;if(r.centeredSlides){let f,d=s[c]?Math.ceil(s[c].swiperSlideSize):0;for(let y=c+1;y<s.length;y+=1)s[y]&&!f&&(d+=Math.ceil(s[y].swiperSlideSize),u+=1,d>l&&(f=!0));for(let y=c-1;y>=0;y-=1)s[y]&&!f&&(d+=s[y].swiperSlideSize,u+=1,d>l&&(f=!0))}else if("current"===t)for(let d=c+1;d<s.length;d+=1)(e?o[d]+a[d]-o[c]<l:o[d]-o[c]<l)&&(u+=1);else for(let d=c-1;d>=0;d-=1)o[c]-o[d]<l&&(u+=1);return u}update(){const t=this;if(!t||t.destroyed)return;const{snapGrid:e,params:i}=t;function r(){const a=Math.min(Math.max(t.rtlTranslate?-1*t.translate:t.translate,t.maxTranslate()),t.minTranslate());t.setTranslate(a),t.updateActiveIndex(),t.updateSlidesClasses()}let s;i.breakpoints&&t.setBreakpoint(),[...t.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&Rw(t,o)}),t.updateSize(),t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),i.freeMode&&i.freeMode.enabled&&!i.cssMode?(r(),i.autoHeight&&t.updateAutoHeight()):(s=t.slideTo(("auto"===i.slidesPerView||i.slidesPerView>1)&&t.isEnd&&!i.centeredSlides?(t.virtual&&i.virtual.enabled?t.virtual.slides:t.slides).length-1:t.activeIndex,0,!1,!0),s||r()),i.watchOverflow&&e!==t.snapGrid&&t.checkOverflow(),t.emit("update")}changeDirection(t,e){void 0===e&&(e=!0);const i=this,r=i.params.direction;return t||(t="horizontal"===r?"vertical":"horizontal"),t===r||"horizontal"!==t&&"vertical"!==t||(i.el.classList.remove(`${i.params.containerModifierClass}${r}`),i.el.classList.add(`${i.params.containerModifierClass}${t}`),i.emitContainerClasses(),i.params.direction=t,i.slides.forEach(s=>{"vertical"===t?s.style.width="":s.style.height=""}),i.emit("changeDirection"),e&&i.update()),i}changeLanguageDirection(t){const e=this;e.rtl&&"rtl"===t||!e.rtl&&"ltr"===t||(e.rtl="rtl"===t,e.rtlTranslate="horizontal"===e.params.direction&&e.rtl,e.rtl?(e.el.classList.add(`${e.params.containerModifierClass}rtl`),e.el.dir="rtl"):(e.el.classList.remove(`${e.params.containerModifierClass}rtl`),e.el.dir="ltr"),e.update())}mount(t){const e=this;if(e.mounted)return!0;let i=t||e.params.el;if("string"==typeof i&&(i=document.querySelector(i)),!i)return!1;i.swiper=e,i.parentNode&&i.parentNode.host&&i.parentNode.host.nodeName===e.params.swiperElementNodeName.toUpperCase()&&(e.isElement=!0);const r=()=>`.${(e.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=i&&i.shadowRoot&&i.shadowRoot.querySelector?i.shadowRoot.querySelector(r()):Eo(i,r())[0];return!o&&e.params.createElements&&(o=cl("div",e.params.wrapperClass),i.append(o),Eo(i,`.${e.params.slideClass}`).forEach(a=>{o.append(a)})),Object.assign(e,{el:i,wrapperEl:o,slidesEl:e.isElement&&!i.parentNode.host.slideSlots?i.parentNode.host:o,hostEl:e.isElement?i.parentNode.host:i,mounted:!0,rtl:"rtl"===i.dir.toLowerCase()||"rtl"===zh(i,"direction"),rtlTranslate:"horizontal"===e.params.direction&&("rtl"===i.dir.toLowerCase()||"rtl"===zh(i,"direction")),wrongRTL:"-webkit-box"===zh(o,"display")}),!0}init(t){const e=this;if(e.initialized||!1===e.mount(t))return e;e.emit("beforeInit"),e.params.breakpoints&&e.setBreakpoint(),e.addClasses(),e.updateSize(),e.updateSlides(),e.params.watchOverflow&&e.checkOverflow(),e.params.grabCursor&&e.enabled&&e.setGrabCursor(),e.slideTo(e.params.loop&&e.virtual&&e.params.virtual.enabled?e.params.initialSlide+e.virtual.slidesBefore:e.params.initialSlide,0,e.params.runCallbacksOnInit,!1,!0),e.params.loop&&e.loopCreate(),e.attachEvents();const r=[...e.el.querySelectorAll('[loading="lazy"]')];return e.isElement&&r.push(...e.hostEl.querySelectorAll('[loading="lazy"]')),r.forEach(s=>{s.complete?Rw(e,s):s.addEventListener("load",o=>{Rw(e,o.target)})}),VN(e),e.initialized=!0,VN(e),e.emit("init"),e.emit("afterInit"),e}destroy(t,e){void 0===t&&(t=!0),void 0===e&&(e=!0);const i=this,{params:r,el:s,wrapperEl:o,slides:a}=i;return void 0===i.params||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),r.loop&&i.loopDestroy(),e&&(i.removeClasses(),s&&"string"!=typeof s&&s.removeAttribute("style"),o&&o.removeAttribute("style"),a&&a.length&&a.forEach(l=>{l.classList.remove(r.slideVisibleClass,r.slideFullyVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(l=>{i.off(l)}),!1!==t&&(i.el&&"string"!=typeof i.el&&(i.el.swiper=null),function zBe(n){const t=n;Object.keys(t).forEach(e=>{try{t[e]=null}catch(i){}try{delete t[e]}catch(i){}})}(i)),i.destroyed=!0),null}static extendDefaults(t){ll($N,t)}static get extendedDefaults(){return $N}static get defaults(){return zN}static installModule(t){ul.prototype.__modules__||(ul.prototype.__modules__=[]);const e=ul.prototype.__modules__;"function"==typeof t&&e.indexOf(t)<0&&e.push(t)}static use(t){return Array.isArray(t)?(t.forEach(e=>ul.installModule(e)),ul):(ul.installModule(t),ul)}}function YN(n,t,e,i){return n.params.createElements&&Object.keys(i).forEach(r=>{if(!e[r]&&!0===e.auto){let s=Eo(n.el,`.${i[r]}`)[0];s||(s=cl("div",i[r]),s.className=i[r],n.el.append(s)),e[r]=s,t[r]=s}}),e}function Pd(n){return void 0===n&&(n=""),`.${n.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function S5e(n){const t=this,{params:e,slidesEl:i}=t;e.loop&&t.loopDestroy();const r=s=>{if("string"==typeof s){const o=document.createElement("div");o.innerHTML=s,i.append(o.children[0]),o.innerHTML=""}else i.append(s)};if("object"==typeof n&&"length"in n)for(let s=0;s<n.length;s+=1)n[s]&&r(n[s]);else r(n);t.recalcSlides(),e.loop&&t.loopCreate(),(!e.observer||t.isElement)&&t.update()}function C5e(n){const t=this,{params:e,activeIndex:i,slidesEl:r}=t;e.loop&&t.loopDestroy();let s=i+1;const o=a=>{if("string"==typeof a){const l=document.createElement("div");l.innerHTML=a,r.prepend(l.children[0]),l.innerHTML=""}else r.prepend(a)};if("object"==typeof n&&"length"in n){for(let a=0;a<n.length;a+=1)n[a]&&o(n[a]);s=i+n.length}else o(n);t.recalcSlides(),e.loop&&t.loopCreate(),(!e.observer||t.isElement)&&t.update(),t.slideTo(s,0,!1)}function E5e(n,t){const e=this,{params:i,activeIndex:r,slidesEl:s}=e;let o=r;i.loop&&(o-=e.loopedSlides,e.loopDestroy(),e.recalcSlides());const a=e.slides.length;if(n<=0)return void e.prependSlide(t);if(n>=a)return void e.appendSlide(t);let l=o>n?o+1:o;const c=[];for(let u=a-1;u>=n;u-=1){const d=e.slides[u];d.remove(),c.unshift(d)}if("object"==typeof t&&"length"in t){for(let u=0;u<t.length;u+=1)t[u]&&s.append(t[u]);l=o>n?o+t.length:o}else s.append(t);for(let u=0;u<c.length;u+=1)s.append(c[u]);e.recalcSlides(),i.loop&&e.loopCreate(),(!i.observer||e.isElement)&&e.update(),e.slideTo(i.loop?l+e.loopedSlides:l,0,!1)}function T5e(n){const t=this,{params:e,activeIndex:i}=t;let r=i;e.loop&&(r-=t.loopedSlides,t.loopDestroy());let o,s=r;if("object"==typeof n&&"length"in n){for(let a=0;a<n.length;a+=1)o=n[a],t.slides[o]&&t.slides[o].remove(),o<s&&(s-=1);s=Math.max(s,0)}else o=n,t.slides[o]&&t.slides[o].remove(),o<s&&(s-=1),s=Math.max(s,0);t.recalcSlides(),e.loop&&t.loopCreate(),(!e.observer||t.isElement)&&t.update(),t.slideTo(e.loop?s+t.loopedSlides:s,0,!1)}function w5e(){const n=this,t=[];for(let e=0;e<n.slides.length;e+=1)t.push(e);n.removeSlide(t)}function _v(n){const{effect:t,swiper:e,on:i,setTranslate:r,setTransition:s,overwriteParams:o,perspective:a,recreateShadows:l,getEffectParams:c}=n;let u;i("beforeInit",()=>{if(e.params.effect!==t)return;e.classNames.push(`${e.params.containerModifierClass}${t}`),a&&a()&&e.classNames.push(`${e.params.containerModifierClass}3d`);const d=o?o():{};Object.assign(e.params,d),Object.assign(e.originalParams,d)}),i("setTranslate",()=>{e.params.effect===t&&r()}),i("setTransition",(d,f)=>{e.params.effect===t&&s(f)}),i("transitionEnd",()=>{if(e.params.effect===t&&l){if(!c||!c().slideShadows)return;e.slides.forEach(d=>{d.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(f=>f.remove())}),l()}}),i("virtualUpdate",()=>{e.params.effect===t&&(e.slides.length||(u=!0),requestAnimationFrame(()=>{u&&e.slides&&e.slides.length&&(r(),u=!1)}))})}function $b(n,t){const e=vg(t);return e!==t&&(e.style.backfaceVisibility="hidden",e.style["-webkit-backface-visibility"]="hidden"),e}function Dw(n){let{swiper:t,duration:e,transformElements:i,allSlides:r}=n;const{activeIndex:s}=t;if(t.params.virtualTranslate&&0!==e){let l,a=!1;l=r?i:i.filter(c=>{const u=c.classList.contains("swiper-slide-transform")?(a=>a.parentElement?a.parentElement:t.slides.filter(c=>c.shadowRoot&&c.shadowRoot===a.parentNode)[0])(c):c;return t.getSlideIndex(u)===s}),l.forEach(c=>{Wb(c,()=>{if(a||!t||t.destroyed)return;a=!0,t.animating=!1;const u=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});t.wrapperEl.dispatchEvent(u)})})}}function mv(n,t,e){const i=`swiper-slide-shadow${e?`-${e}`:""}${n?` swiper-slide-shadow-${n}`:""}`,r=vg(t);let s=r.querySelector(`.${i.split(" ").join(".")}`);return s||(s=cl("div",i.split(" ")),r.append(s)),s}Object.keys(WN).forEach(n=>{Object.keys(WN[n]).forEach(t=>{ul.prototype[t]=WN[n][t]})}),ul.use([function QBe(n){let{swiper:t,on:e,emit:i}=n;const r=ss();let s=null,o=null;const a=()=>{!t||t.destroyed||!t.initialized||(i("beforeResize"),i("resize"))},u=()=>{!t||t.destroyed||!t.initialized||i("orientationchange")};e("init",()=>{t.params.resizeObserver&&void 0!==r.ResizeObserver?!t||t.destroyed||!t.initialized||(s=new ResizeObserver(d=>{o=r.requestAnimationFrame(()=>{const{width:f,height:y}=t;let O=f,I=y;d.forEach(N=>{let{contentBoxSize:k,contentRect:B,target:G}=N;G&&G!==t.el||(O=B?B.width:(k[0]||k).inlineSize,I=B?B.height:(k[0]||k).blockSize)}),(O!==f||I!==y)&&a()})}),s.observe(t.el)):(r.addEventListener("resize",a),r.addEventListener("orientationchange",u))}),e("destroy",()=>{o&&r.cancelAnimationFrame(o),s&&s.unobserve&&t.el&&(s.unobserve(t.el),s=null),r.removeEventListener("resize",a),r.removeEventListener("orientationchange",u)})},function e4e(n){let{swiper:t,extendParams:e,on:i,emit:r}=n;const s=[],o=ss(),a=function(u,d){void 0===d&&(d={});const y=new(o.MutationObserver||o.WebkitMutationObserver)(O=>{if(t.__preventObserver__)return;if(1===O.length)return void r("observerUpdate",O[0]);const I=function(){r("observerUpdate",O[0])};o.requestAnimationFrame?o.requestAnimationFrame(I):o.setTimeout(I,0)});y.observe(u,{attributes:void 0===d.attributes||d.attributes,childList:void 0===d.childList||d.childList,characterData:void 0===d.characterData||d.characterData}),s.push(y)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),i("init",()=>{if(t.params.observer){if(t.params.observeParents){const u=yg(t.hostEl);for(let d=0;d<u.length;d+=1)a(u[d])}a(t.hostEl,{childList:t.params.observeSlideChildren}),a(t.wrapperEl,{attributes:!1})}}),i("destroy",()=>{s.forEach(u=>{u.disconnect()}),s.splice(0,s.length)})}]);const D5e=[function s5e(n){let s,{swiper:t,extendParams:e,on:i,emit:r}=n;e({virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,renderExternalUpdate:!0,addSlidesBefore:0,addSlidesAfter:0}});const o=Co();t.virtual={cache:{},from:void 0,to:void 0,slides:[],offset:0,slidesGrid:[]};const a=o.createElement("div");function l(O,I){const N=t.params.virtual;if(N.cache&&t.virtual.cache[I])return t.virtual.cache[I];let k;return N.renderSlide?(k=N.renderSlide.call(t,O,I),"string"==typeof k&&(a.innerHTML=k,k=a.children[0])):k=t.isElement?cl("swiper-slide"):cl("div",t.params.slideClass),k.setAttribute("data-swiper-slide-index",I),N.renderSlide||(k.innerHTML=O),N.cache&&(t.virtual.cache[I]=k),k}function c(O,I){const{slidesPerView:N,slidesPerGroup:k,centeredSlides:B,loop:G,initialSlide:Y}=t.params;if(I&&!G&&Y>0)return;const{addSlidesBefore:J,addSlidesAfter:Z}=t.params.virtual,{from:ge,to:pe,slides:ae,slidesGrid:de,offset:xe}=t.virtual;t.params.cssMode||t.updateActiveIndex();const ve=t.activeIndex||0;let ye,Re,Oe;ye=t.rtlTranslate?"right":t.isHorizontal()?"left":"top",B?(Re=Math.floor(N/2)+k+Z,Oe=Math.floor(N/2)+k+J):(Re=N+(k-1)+Z,Oe=(G?N:k)+J);let be=ve-Oe,Ee=ve+Re;G||(be=Math.max(be,0),Ee=Math.min(Ee,ae.length-1));let De=(t.slidesGrid[be]||0)-(t.slidesGrid[0]||0);function nt(){t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),r("virtualUpdate")}if(G&&ve>=Oe?(be-=Oe,B||(De+=t.slidesGrid[0])):G&&ve<Oe&&(be=-Oe,B&&(De+=t.slidesGrid[0])),Object.assign(t.virtual,{from:be,to:Ee,offset:De,slidesGrid:t.slidesGrid,slidesBefore:Oe,slidesAfter:Re}),ge===be&&pe===Ee&&!O)return t.slidesGrid!==de&&De!==xe&&t.slides.forEach(vt=>{vt.style[ye]=De-Math.abs(t.cssOverflowAdjustment())+"px"}),t.updateProgress(),void r("virtualUpdate");if(t.params.virtual.renderExternal)return t.params.virtual.renderExternal.call(t,{offset:De,from:be,to:Ee,slides:function(){const kt=[];for(let Vt=be;Vt<=Ee;Vt+=1)kt.push(ae[Vt]);return kt}()}),void(t.params.virtual.renderExternalUpdate?nt():r("virtualUpdate"));const me=[],Ve=[],et=vt=>{let kt=vt;return vt<0?kt=ae.length+vt:kt>=ae.length&&(kt-=ae.length),kt};if(O)t.slides.filter(vt=>vt.matches(`.${t.params.slideClass}, swiper-slide`)).forEach(vt=>{vt.remove()});else for(let vt=ge;vt<=pe;vt+=1)if(vt<be||vt>Ee){const kt=et(vt);t.slides.filter(Vt=>Vt.matches(`.${t.params.slideClass}[data-swiper-slide-index="${kt}"], swiper-slide[data-swiper-slide-index="${kt}"]`)).forEach(Vt=>{Vt.remove()})}const Tt=G?2*ae.length:ae.length;for(let vt=G?-ae.length:0;vt<Tt;vt+=1)if(vt>=be&&vt<=Ee){const kt=et(vt);void 0===pe||O?Ve.push(kt):(vt>pe&&Ve.push(kt),vt<ge&&me.push(kt))}if(Ve.forEach(vt=>{t.slidesEl.append(l(ae[vt],vt))}),G)for(let vt=me.length-1;vt>=0;vt-=1){const kt=me[vt];t.slidesEl.prepend(l(ae[kt],kt))}else me.sort((vt,kt)=>kt-vt),me.forEach(vt=>{t.slidesEl.prepend(l(ae[vt],vt))});Eo(t.slidesEl,".swiper-slide, swiper-slide").forEach(vt=>{vt.style[ye]=De-Math.abs(t.cssOverflowAdjustment())+"px"}),nt()}i("beforeInit",()=>{if(!t.params.virtual.enabled)return;let O;if(void 0===t.passedParams.virtual.slides){const I=[...t.slidesEl.children].filter(N=>N.matches(`.${t.params.slideClass}, swiper-slide`));I&&I.length&&(t.virtual.slides=[...I],O=!0,I.forEach((N,k)=>{N.setAttribute("data-swiper-slide-index",k),t.virtual.cache[k]=N,N.remove()}))}O||(t.virtual.slides=t.params.virtual.slides),t.classNames.push(`${t.params.containerModifierClass}virtual`),t.params.watchSlidesProgress=!0,t.originalParams.watchSlidesProgress=!0,c(!1,!0)}),i("setTranslate",()=>{!t.params.virtual.enabled||(t.params.cssMode&&!t._immediateVirtual?(clearTimeout(s),s=setTimeout(()=>{c()},100)):c())}),i("init update resize",()=>{!t.params.virtual.enabled||t.params.cssMode&&Vb(t.wrapperEl,"--swiper-virtual-size",`${t.virtualSize}px`)}),Object.assign(t.virtual,{appendSlide:function u(O){if("object"==typeof O&&"length"in O)for(let I=0;I<O.length;I+=1)O[I]&&t.virtual.slides.push(O[I]);else t.virtual.slides.push(O);c(!0)},prependSlide:function d(O){const I=t.activeIndex;let N=I+1,k=1;if(Array.isArray(O)){for(let B=0;B<O.length;B+=1)O[B]&&t.virtual.slides.unshift(O[B]);N=I+O.length,k=O.length}else t.virtual.slides.unshift(O);if(t.params.virtual.cache){const B=t.virtual.cache,G={};Object.keys(B).forEach(Y=>{const J=B[Y],Z=J.getAttribute("data-swiper-slide-index");Z&&J.setAttribute("data-swiper-slide-index",parseInt(Z,10)+k),G[parseInt(Y,10)+k]=J}),t.virtual.cache=G}c(!0),t.slideTo(N,0)},removeSlide:function f(O){if(null==O)return;let I=t.activeIndex;if(Array.isArray(O))for(let N=O.length-1;N>=0;N-=1)t.params.virtual.cache&&(delete t.virtual.cache[O[N]],Object.keys(t.virtual.cache).forEach(k=>{k>O&&(t.virtual.cache[k-1]=t.virtual.cache[k],t.virtual.cache[k-1].setAttribute("data-swiper-slide-index",k-1),delete t.virtual.cache[k])})),t.virtual.slides.splice(O[N],1),O[N]<I&&(I-=1),I=Math.max(I,0);else t.params.virtual.cache&&(delete t.virtual.cache[O],Object.keys(t.virtual.cache).forEach(N=>{N>O&&(t.virtual.cache[N-1]=t.virtual.cache[N],t.virtual.cache[N-1].setAttribute("data-swiper-slide-index",N-1),delete t.virtual.cache[N])})),t.virtual.slides.splice(O,1),O<I&&(I-=1),I=Math.max(I,0);c(!0),t.slideTo(I,0)},removeAllSlides:function y(){t.virtual.slides=[],t.params.virtual.cache&&(t.virtual.cache={}),c(!0),t.slideTo(0,0)},update:c})},function o5e(n){let{swiper:t,extendParams:e,on:i,emit:r}=n;const s=Co(),o=ss();function a(u){if(!t.enabled)return;const{rtlTranslate:d}=t;let f=u;f.originalEvent&&(f=f.originalEvent);const y=f.keyCode||f.charCode,O=t.params.keyboard.pageUpDown,I=O&&33===y,N=O&&34===y,k=37===y,B=39===y,G=38===y,Y=40===y;if(!t.allowSlideNext&&(t.isHorizontal()&&B||t.isVertical()&&Y||N)||!t.allowSlidePrev&&(t.isHorizontal()&&k||t.isVertical()&&G||I))return!1;if(!(f.shiftKey||f.altKey||f.ctrlKey||f.metaKey||s.activeElement&&s.activeElement.nodeName&&("input"===s.activeElement.nodeName.toLowerCase()||"textarea"===s.activeElement.nodeName.toLowerCase()))){if(t.params.keyboard.onlyInViewport&&(I||N||k||B||G||Y)){let J=!1;if(yg(t.el,`.${t.params.slideClass}, swiper-slide`).length>0&&0===yg(t.el,`.${t.params.slideActiveClass}`).length)return;const Z=t.el,ge=Z.clientWidth,pe=Z.clientHeight,ae=o.innerWidth,de=o.innerHeight,xe=Aw(Z);d&&(xe.left-=Z.scrollLeft);const ve=[[xe.left,xe.top],[xe.left+ge,xe.top],[xe.left,xe.top+pe],[xe.left+ge,xe.top+pe]];for(let ye=0;ye<ve.length;ye+=1){const Re=ve[ye];if(Re[0]>=0&&Re[0]<=ae&&Re[1]>=0&&Re[1]<=de){if(0===Re[0]&&0===Re[1])continue;J=!0}}if(!J)return}t.isHorizontal()?((I||N||k||B)&&(f.preventDefault?f.preventDefault():f.returnValue=!1),((N||B)&&!d||(I||k)&&d)&&t.slideNext(),((I||k)&&!d||(N||B)&&d)&&t.slidePrev()):((I||N||G||Y)&&(f.preventDefault?f.preventDefault():f.returnValue=!1),(N||Y)&&t.slideNext(),(I||G)&&t.slidePrev()),r("keyPress",y)}}function l(){t.keyboard.enabled||(s.addEventListener("keydown",a),t.keyboard.enabled=!0)}function c(){!t.keyboard.enabled||(s.removeEventListener("keydown",a),t.keyboard.enabled=!1)}t.keyboard={enabled:!1},e({keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}}),i("init",()=>{t.params.keyboard.enabled&&l()}),i("destroy",()=>{t.keyboard.enabled&&c()}),Object.assign(t.keyboard,{enable:l,disable:c})},function a5e(n){let{swiper:t,extendParams:e,on:i,emit:r}=n;const s=ss();e({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null,noMousewheelClass:"swiper-no-mousewheel"}}),t.mousewheel={enabled:!1};let o,l,a=ec();const c=[];function d(){!t.enabled||(t.mouseEntered=!0)}function f(){!t.enabled||(t.mouseEntered=!1)}function y(G){return!(t.params.mousewheel.thresholdDelta&&G.delta<t.params.mousewheel.thresholdDelta||t.params.mousewheel.thresholdTime&&ec()-a<t.params.mousewheel.thresholdTime)&&(G.delta>=6&&ec()-a<60||(G.direction<0?(!t.isEnd||t.params.loop)&&!t.animating&&(t.slideNext(),r("scroll",G.raw)):(!t.isBeginning||t.params.loop)&&!t.animating&&(t.slidePrev(),r("scroll",G.raw)),a=(new s.Date).getTime(),!1))}function I(G){let Y=G,J=!0;if(!t.enabled||G.target.closest(`.${t.params.mousewheel.noMousewheelClass}`))return;const Z=t.params.mousewheel;t.params.cssMode&&Y.preventDefault();let ge=t.el;"container"!==t.params.mousewheel.eventsTarget&&(ge=document.querySelector(t.params.mousewheel.eventsTarget));const pe=ge&&ge.contains(Y.target);if(!t.mouseEntered&&!pe&&!Z.releaseOnEdges)return!0;Y.originalEvent&&(Y=Y.originalEvent);let ae=0;const de=t.rtlTranslate?-1:1,xe=function u(G){let ge=0,pe=0,ae=0,de=0;return"detail"in G&&(pe=G.detail),"wheelDelta"in G&&(pe=-G.wheelDelta/120),"wheelDeltaY"in G&&(pe=-G.wheelDeltaY/120),"wheelDeltaX"in G&&(ge=-G.wheelDeltaX/120),"axis"in G&&G.axis===G.HORIZONTAL_AXIS&&(ge=pe,pe=0),ae=10*ge,de=10*pe,"deltaY"in G&&(de=G.deltaY),"deltaX"in G&&(ae=G.deltaX),G.shiftKey&&!ae&&(ae=de,de=0),(ae||de)&&G.deltaMode&&(1===G.deltaMode?(ae*=40,de*=40):(ae*=800,de*=800)),ae&&!ge&&(ge=ae<1?-1:1),de&&!pe&&(pe=de<1?-1:1),{spinX:ge,spinY:pe,pixelX:ae,pixelY:de}}(Y);if(Z.forceToAxis)if(t.isHorizontal()){if(!(Math.abs(xe.pixelX)>Math.abs(xe.pixelY)))return!0;ae=-xe.pixelX*de}else{if(!(Math.abs(xe.pixelY)>Math.abs(xe.pixelX)))return!0;ae=-xe.pixelY}else ae=Math.abs(xe.pixelX)>Math.abs(xe.pixelY)?-xe.pixelX*de:-xe.pixelY;if(0===ae)return!0;Z.invert&&(ae=-ae);let ve=t.getTranslate()+ae*Z.sensitivity;if(ve>=t.minTranslate()&&(ve=t.minTranslate()),ve<=t.maxTranslate()&&(ve=t.maxTranslate()),J=!!t.params.loop||!(ve===t.minTranslate()||ve===t.maxTranslate()),J&&t.params.nested&&Y.stopPropagation(),t.params.freeMode&&t.params.freeMode.enabled){const ye={time:ec(),delta:Math.abs(ae),direction:Math.sign(ae)},Re=l&&ye.time<l.time+500&&ye.delta<=l.delta&&ye.direction===l.direction;if(!Re){l=void 0;let Oe=t.getTranslate()+ae*Z.sensitivity;const be=t.isBeginning,Ee=t.isEnd;if(Oe>=t.minTranslate()&&(Oe=t.minTranslate()),Oe<=t.maxTranslate()&&(Oe=t.maxTranslate()),t.setTransition(0),t.setTranslate(Oe),t.updateProgress(),t.updateActiveIndex(),t.updateSlidesClasses(),(!be&&t.isBeginning||!Ee&&t.isEnd)&&t.updateSlidesClasses(),t.params.loop&&t.loopFix({direction:ye.direction<0?"next":"prev",byMousewheel:!0}),t.params.freeMode.sticky){clearTimeout(o),o=void 0,c.length>=15&&c.shift();const De=c.length?c[c.length-1]:void 0,nt=c[0];if(c.push(ye),De&&(ye.delta>De.delta||ye.direction!==De.direction))c.splice(0);else if(c.length>=15&&ye.time-nt.time<500&&nt.delta-ye.delta>=1&&ye.delta<=6){const me=ae>0?.8:.2;l=ye,c.splice(0),o=mg(()=>{t.slideToClosest(t.params.speed,!0,void 0,me)},0)}o||(o=mg(()=>{l=ye,c.splice(0),t.slideToClosest(t.params.speed,!0,void 0,.5)},500))}if(Re||r("scroll",Y),t.params.autoplay&&t.params.autoplayDisableOnInteraction&&t.autoplay.stop(),Z.releaseOnEdges&&(Oe===t.minTranslate()||Oe===t.maxTranslate()))return!0}}else{const ye={time:ec(),delta:Math.abs(ae),direction:Math.sign(ae),raw:G};c.length>=2&&c.shift();const Re=c.length?c[c.length-1]:void 0;if(c.push(ye),Re?(ye.direction!==Re.direction||ye.delta>Re.delta||ye.time>Re.time+150)&&y(ye):y(ye),function O(G){const Y=t.params.mousewheel;if(G.direction<0){if(t.isEnd&&!t.params.loop&&Y.releaseOnEdges)return!0}else if(t.isBeginning&&!t.params.loop&&Y.releaseOnEdges)return!0;return!1}(ye))return!0}return Y.preventDefault?Y.preventDefault():Y.returnValue=!1,!1}function N(G){let Y=t.el;"container"!==t.params.mousewheel.eventsTarget&&(Y=document.querySelector(t.params.mousewheel.eventsTarget)),Y[G]("mouseenter",d),Y[G]("mouseleave",f),Y[G]("wheel",I)}function k(){return t.params.cssMode?(t.wrapperEl.removeEventListener("wheel",I),!0):!t.mousewheel.enabled&&(N("addEventListener"),t.mousewheel.enabled=!0,!0)}function B(){return t.params.cssMode?(t.wrapperEl.addEventListener(event,I),!0):!!t.mousewheel.enabled&&(N("removeEventListener"),t.mousewheel.enabled=!1,!0)}i("init",()=>{!t.params.mousewheel.enabled&&t.params.cssMode&&B(),t.params.mousewheel.enabled&&k()}),i("destroy",()=>{t.params.cssMode&&k(),t.mousewheel.enabled&&B()}),Object.assign(t.mousewheel,{enable:k,disable:B})},function l5e(n){let{swiper:t,extendParams:e,on:i,emit:r}=n;function s(O){let I;return O&&"string"==typeof O&&t.isElement&&(I=t.el.querySelector(O),I)?I:(O&&("string"==typeof O&&(I=[...document.querySelectorAll(O)]),t.params.uniqueNavElements&&"string"==typeof O&&I&&I.length>1&&1===t.el.querySelectorAll(O).length?I=t.el.querySelector(O):I&&1===I.length&&(I=I[0])),O&&!I?O:I)}function o(O,I){const N=t.params.navigation;(O=li(O)).forEach(k=>{k&&(k.classList[I?"add":"remove"](...N.disabledClass.split(" ")),"BUTTON"===k.tagName&&(k.disabled=I),t.params.watchOverflow&&t.enabled&&k.classList[t.isLocked?"add":"remove"](N.lockClass))})}function a(){const{nextEl:O,prevEl:I}=t.navigation;if(t.params.loop)return o(I,!1),void o(O,!1);o(I,t.isBeginning&&!t.params.rewind),o(O,t.isEnd&&!t.params.rewind)}function l(O){O.preventDefault(),(!t.isBeginning||t.params.loop||t.params.rewind)&&(t.slidePrev(),r("navigationPrev"))}function c(O){O.preventDefault(),(!t.isEnd||t.params.loop||t.params.rewind)&&(t.slideNext(),r("navigationNext"))}function u(){const O=t.params.navigation;if(t.params.navigation=YN(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!O.nextEl&&!O.prevEl)return;let I=s(O.nextEl),N=s(O.prevEl);Object.assign(t.navigation,{nextEl:I,prevEl:N}),I=li(I),N=li(N);const k=(B,G)=>{B&&B.addEventListener("click","next"===G?c:l),!t.enabled&&B&&B.classList.add(...O.lockClass.split(" "))};I.forEach(B=>k(B,"next")),N.forEach(B=>k(B,"prev"))}function d(){let{nextEl:O,prevEl:I}=t.navigation;O=li(O),I=li(I);const N=(k,B)=>{k.removeEventListener("click","next"===B?c:l),k.classList.remove(...t.params.navigation.disabledClass.split(" "))};O.forEach(k=>N(k,"next")),I.forEach(k=>N(k,"prev"))}e({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,prevEl:null},i("init",()=>{!1===t.params.navigation.enabled?y():(u(),a())}),i("toEdge fromEdge lock unlock",()=>{a()}),i("destroy",()=>{d()}),i("enable disable",()=>{let{nextEl:O,prevEl:I}=t.navigation;O=li(O),I=li(I),t.enabled?a():[...O,...I].filter(N=>!!N).forEach(N=>N.classList.add(t.params.navigation.lockClass))}),i("click",(O,I)=>{let{nextEl:N,prevEl:k}=t.navigation;N=li(N),k=li(k);const B=I.target;let G=k.includes(B)||N.includes(B);if(t.isElement&&!G){const Y=I.path||I.composedPath&&I.composedPath();Y&&(G=Y.find(J=>N.includes(J)||k.includes(J)))}if(t.params.navigation.hideOnClick&&!G){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===B||t.pagination.el.contains(B)))return;let Y;N.length?Y=N[0].classList.contains(t.params.navigation.hiddenClass):k.length&&(Y=k[0].classList.contains(t.params.navigation.hiddenClass)),r(!0===Y?"navigationShow":"navigationHide"),[...N,...k].filter(J=>!!J).forEach(J=>J.classList.toggle(t.params.navigation.hiddenClass))}});const y=()=>{t.el.classList.add(...t.params.navigation.navigationDisabledClass.split(" ")),d()};Object.assign(t.navigation,{enable:()=>{t.el.classList.remove(...t.params.navigation.navigationDisabledClass.split(" ")),u(),a()},disable:y,update:a,init:u,destroy:d})},function c5e(n){let{swiper:t,extendParams:e,on:i,emit:r}=n;const s="swiper-pagination";e({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:k=>k,formatFractionTotal:k=>k,bulletClass:`${s}-bullet`,bulletActiveClass:`${s}-bullet-active`,modifierClass:`${s}-`,currentClass:`${s}-current`,totalClass:`${s}-total`,hiddenClass:`${s}-hidden`,progressbarFillClass:`${s}-progressbar-fill`,progressbarOppositeClass:`${s}-progressbar-opposite`,clickableClass:`${s}-clickable`,lockClass:`${s}-lock`,horizontalClass:`${s}-horizontal`,verticalClass:`${s}-vertical`,paginationDisabledClass:`${s}-disabled`}}),t.pagination={el:null,bullets:[]};let o,a=0;function l(){return!t.params.pagination.el||!t.pagination.el||Array.isArray(t.pagination.el)&&0===t.pagination.el.length}function c(k,B){const{bulletActiveClass:G}=t.params.pagination;!k||(k=k[("prev"===B?"previous":"next")+"ElementSibling"])&&(k.classList.add(`${G}-${B}`),(k=k[("prev"===B?"previous":"next")+"ElementSibling"])&&k.classList.add(`${G}-${B}-${B}`))}function u(k){const B=k.target.closest(Pd(t.params.pagination.bulletClass));if(!B)return;k.preventDefault();const G=zb(B)*t.params.slidesPerGroup;if(t.params.loop){if(t.realIndex===G)return;t.slideToLoop(G)}else t.slideTo(G)}function d(){const k=t.rtl,B=t.params.pagination;if(l())return;let Y,J,G=t.pagination.el;G=li(G);const ge=t.params.loop?Math.ceil((t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length)/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?(J=t.previousRealIndex||0,Y=t.params.slidesPerGroup>1?Math.floor(t.realIndex/t.params.slidesPerGroup):t.realIndex):void 0!==t.snapIndex?(Y=t.snapIndex,J=t.previousSnapIndex):(J=t.previousIndex||0,Y=t.activeIndex||0),"bullets"===B.type&&t.pagination.bullets&&t.pagination.bullets.length>0){const pe=t.pagination.bullets;let ae,de,xe;if(B.dynamicBullets&&(o=LN(pe[0],t.isHorizontal()?"width":"height",!0),G.forEach(ve=>{ve.style[t.isHorizontal()?"width":"height"]=o*(B.dynamicMainBullets+4)+"px"}),B.dynamicMainBullets>1&&void 0!==J&&(a+=Y-(J||0),a>B.dynamicMainBullets-1?a=B.dynamicMainBullets-1:a<0&&(a=0)),ae=Math.max(Y-a,0),de=ae+(Math.min(pe.length,B.dynamicMainBullets)-1),xe=(de+ae)/2),pe.forEach(ve=>{const ye=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(Re=>`${B.bulletActiveClass}${Re}`)].map(Re=>"string"==typeof Re&&Re.includes(" ")?Re.split(" "):Re).flat();ve.classList.remove(...ye)}),G.length>1)pe.forEach(ve=>{const ye=zb(ve);ye===Y?ve.classList.add(...B.bulletActiveClass.split(" ")):t.isElement&&ve.setAttribute("part","bullet"),B.dynamicBullets&&(ye>=ae&&ye<=de&&ve.classList.add(...`${B.bulletActiveClass}-main`.split(" ")),ye===ae&&c(ve,"prev"),ye===de&&c(ve,"next"))});else{const ve=pe[Y];if(ve&&ve.classList.add(...B.bulletActiveClass.split(" ")),t.isElement&&pe.forEach((ye,Re)=>{ye.setAttribute("part",Re===Y?"bullet-active":"bullet")}),B.dynamicBullets){const ye=pe[ae],Re=pe[de];for(let Oe=ae;Oe<=de;Oe+=1)pe[Oe]&&pe[Oe].classList.add(...`${B.bulletActiveClass}-main`.split(" "));c(ye,"prev"),c(Re,"next")}}if(B.dynamicBullets){const ve=Math.min(pe.length,B.dynamicMainBullets+4),ye=(o*ve-o)/2-xe*o,Re=k?"right":"left";pe.forEach(Oe=>{Oe.style[t.isHorizontal()?Re:"top"]=`${ye}px`})}}G.forEach((pe,ae)=>{if("fraction"===B.type&&(pe.querySelectorAll(Pd(B.currentClass)).forEach(de=>{de.textContent=B.formatFractionCurrent(Y+1)}),pe.querySelectorAll(Pd(B.totalClass)).forEach(de=>{de.textContent=B.formatFractionTotal(ge)})),"progressbar"===B.type){let de;de=B.progressbarOpposite?t.isHorizontal()?"vertical":"horizontal":t.isHorizontal()?"horizontal":"vertical";const xe=(Y+1)/ge;let ve=1,ye=1;"horizontal"===de?ve=xe:ye=xe,pe.querySelectorAll(Pd(B.progressbarFillClass)).forEach(Re=>{Re.style.transform=`translate3d(0,0,0) scaleX(${ve}) scaleY(${ye})`,Re.style.transitionDuration=`${t.params.speed}ms`})}"custom"===B.type&&B.renderCustom?(pe.innerHTML=B.renderCustom(t,Y+1,ge),0===ae&&r("paginationRender",pe)):(0===ae&&r("paginationRender",pe),r("paginationUpdate",pe)),t.params.watchOverflow&&t.enabled&&pe.classList[t.isLocked?"add":"remove"](B.lockClass)})}function f(){const k=t.params.pagination;if(l())return;const B=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.grid&&t.params.grid.rows>1?t.slides.length/Math.ceil(t.params.grid.rows):t.slides.length;let G=t.pagination.el;G=li(G);let Y="";if("bullets"===k.type){let J=t.params.loop?Math.ceil(B/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&t.params.freeMode.enabled&&J>B&&(J=B);for(let Z=0;Z<J;Z+=1)Y+=k.renderBullet?k.renderBullet.call(t,Z,k.bulletClass):`<${k.bulletElement} ${t.isElement?'part="bullet"':""} class="${k.bulletClass}"></${k.bulletElement}>`}"fraction"===k.type&&(Y=k.renderFraction?k.renderFraction.call(t,k.currentClass,k.totalClass):`<span class="${k.currentClass}"></span> / <span class="${k.totalClass}"></span>`),"progressbar"===k.type&&(Y=k.renderProgressbar?k.renderProgressbar.call(t,k.progressbarFillClass):`<span class="${k.progressbarFillClass}"></span>`),t.pagination.bullets=[],G.forEach(J=>{"custom"!==k.type&&(J.innerHTML=Y||""),"bullets"===k.type&&t.pagination.bullets.push(...J.querySelectorAll(Pd(k.bulletClass)))}),"custom"!==k.type&&r("paginationRender",G[0])}function y(){t.params.pagination=YN(t,t.originalParams.pagination,t.params.pagination,{el:"swiper-pagination"});const k=t.params.pagination;if(!k.el)return;let B;"string"==typeof k.el&&t.isElement&&(B=t.el.querySelector(k.el)),!B&&"string"==typeof k.el&&(B=[...document.querySelectorAll(k.el)]),B||(B=k.el),B&&0!==B.length&&(t.params.uniqueNavElements&&"string"==typeof k.el&&Array.isArray(B)&&B.length>1&&(B=[...t.el.querySelectorAll(k.el)],B.length>1&&(B=B.filter(G=>yg(G,".swiper")[0]===t.el)[0])),Array.isArray(B)&&1===B.length&&(B=B[0]),Object.assign(t.pagination,{el:B}),B=li(B),B.forEach(G=>{"bullets"===k.type&&k.clickable&&G.classList.add(...(k.clickableClass||"").split(" ")),G.classList.add(k.modifierClass+k.type),G.classList.add(t.isHorizontal()?k.horizontalClass:k.verticalClass),"bullets"===k.type&&k.dynamicBullets&&(G.classList.add(`${k.modifierClass}${k.type}-dynamic`),a=0,k.dynamicMainBullets<1&&(k.dynamicMainBullets=1)),"progressbar"===k.type&&k.progressbarOpposite&&G.classList.add(k.progressbarOppositeClass),k.clickable&&G.addEventListener("click",u),t.enabled||G.classList.add(k.lockClass)}))}function O(){const k=t.params.pagination;if(l())return;let B=t.pagination.el;B&&(B=li(B),B.forEach(G=>{G.classList.remove(k.hiddenClass),G.classList.remove(k.modifierClass+k.type),G.classList.remove(t.isHorizontal()?k.horizontalClass:k.verticalClass),k.clickable&&(G.classList.remove(...(k.clickableClass||"").split(" ")),G.removeEventListener("click",u))})),t.pagination.bullets&&t.pagination.bullets.forEach(G=>G.classList.remove(...k.bulletActiveClass.split(" ")))}i("changeDirection",()=>{if(!t.pagination||!t.pagination.el)return;const k=t.params.pagination;let{el:B}=t.pagination;B=li(B),B.forEach(G=>{G.classList.remove(k.horizontalClass,k.verticalClass),G.classList.add(t.isHorizontal()?k.horizontalClass:k.verticalClass)})}),i("init",()=>{!1===t.params.pagination.enabled?N():(y(),f(),d())}),i("activeIndexChange",()=>{void 0===t.snapIndex&&d()}),i("snapIndexChange",()=>{d()}),i("snapGridLengthChange",()=>{f(),d()}),i("destroy",()=>{O()}),i("enable disable",()=>{let{el:k}=t.pagination;k&&(k=li(k),k.forEach(B=>B.classList[t.enabled?"remove":"add"](t.params.pagination.lockClass)))}),i("lock unlock",()=>{d()}),i("click",(k,B)=>{const G=B.target,Y=li(t.pagination.el);if(t.params.pagination.el&&t.params.pagination.hideOnClick&&Y&&Y.length>0&&!G.classList.contains(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&G===t.navigation.nextEl||t.navigation.prevEl&&G===t.navigation.prevEl))return;const J=Y[0].classList.contains(t.params.pagination.hiddenClass);r(!0===J?"paginationShow":"paginationHide"),Y.forEach(Z=>Z.classList.toggle(t.params.pagination.hiddenClass))}});const N=()=>{t.el.classList.add(t.params.pagination.paginationDisabledClass);let{el:k}=t.pagination;k&&(k=li(k),k.forEach(B=>B.classList.add(t.params.pagination.paginationDisabledClass))),O()};Object.assign(t.pagination,{enable:()=>{t.el.classList.remove(t.params.pagination.paginationDisabledClass);let{el:k}=t.pagination;k&&(k=li(k),k.forEach(B=>B.classList.remove(t.params.pagination.paginationDisabledClass))),y(),f(),d()},disable:N,render:f,update:d,init:y,destroy:O})},function u5e(n){let{swiper:t,extendParams:e,on:i,emit:r}=n;const s=Co();let c,u,d,f,o=!1,a=null,l=null;function y(){if(!t.params.scrollbar.el||!t.scrollbar.el)return;const{scrollbar:ve,rtlTranslate:ye}=t,{dragEl:Re,el:Oe}=ve,be=t.params.scrollbar;let De=u,nt=(d-u)*(t.params.loop?t.progressLoop:t.progress);ye?(nt=-nt,nt>0?(De=u-nt,nt=0):-nt+u>d&&(De=d+nt)):nt<0?(De=u+nt,nt=0):nt+u>d&&(De=d-nt),t.isHorizontal()?(Re.style.transform=`translate3d(${nt}px, 0, 0)`,Re.style.width=`${De}px`):(Re.style.transform=`translate3d(0px, ${nt}px, 0)`,Re.style.height=`${De}px`),be.hide&&(clearTimeout(a),Oe.style.opacity=1,a=setTimeout(()=>{Oe.style.opacity=0,Oe.style.transitionDuration="400ms"},1e3))}function I(){if(!t.params.scrollbar.el||!t.scrollbar.el)return;const{scrollbar:ve}=t,{dragEl:ye,el:Re}=ve;ye.style.width="",ye.style.height="",d=t.isHorizontal()?Re.offsetWidth:Re.offsetHeight,f=t.size/(t.virtualSize+t.params.slidesOffsetBefore-(t.params.centeredSlides?t.snapGrid[0]:0)),u="auto"===t.params.scrollbar.dragSize?d*f:parseInt(t.params.scrollbar.dragSize,10),t.isHorizontal()?ye.style.width=`${u}px`:ye.style.height=`${u}px`,Re.style.display=f>=1?"none":"",t.params.scrollbar.hide&&(Re.style.opacity=0),t.params.watchOverflow&&t.enabled&&ve.el.classList[t.isLocked?"add":"remove"](t.params.scrollbar.lockClass)}function N(ve){return t.isHorizontal()?ve.clientX:ve.clientY}function k(ve){const{scrollbar:ye,rtlTranslate:Re}=t,{el:Oe}=ye;let be;be=(N(ve)-Aw(Oe)[t.isHorizontal()?"left":"top"]-(null!==c?c:u/2))/(d-u),be=Math.max(Math.min(be,1),0),Re&&(be=1-be);const Ee=t.minTranslate()+(t.maxTranslate()-t.minTranslate())*be;t.updateProgress(Ee),t.setTranslate(Ee),t.updateActiveIndex(),t.updateSlidesClasses()}function B(ve){const ye=t.params.scrollbar,{scrollbar:Re,wrapperEl:Oe}=t,{el:be,dragEl:Ee}=Re;o=!0,c=ve.target===Ee?N(ve)-ve.target.getBoundingClientRect()[t.isHorizontal()?"left":"top"]:null,ve.preventDefault(),ve.stopPropagation(),Oe.style.transitionDuration="100ms",Ee.style.transitionDuration="100ms",k(ve),clearTimeout(l),be.style.transitionDuration="0ms",ye.hide&&(be.style.opacity=1),t.params.cssMode&&(t.wrapperEl.style["scroll-snap-type"]="none"),r("scrollbarDragStart",ve)}function G(ve){const{scrollbar:ye,wrapperEl:Re}=t,{el:Oe,dragEl:be}=ye;!o||(ve.preventDefault&&ve.cancelable?ve.preventDefault():ve.returnValue=!1,k(ve),Re.style.transitionDuration="0ms",Oe.style.transitionDuration="0ms",be.style.transitionDuration="0ms",r("scrollbarDragMove",ve))}function Y(ve){const ye=t.params.scrollbar,{scrollbar:Re,wrapperEl:Oe}=t,{el:be}=Re;!o||(o=!1,t.params.cssMode&&(t.wrapperEl.style["scroll-snap-type"]="",Oe.style.transitionDuration=""),ye.hide&&(clearTimeout(l),l=mg(()=>{be.style.opacity=0,be.style.transitionDuration="400ms"},1e3)),r("scrollbarDragEnd",ve),ye.snapOnRelease&&t.slideToClosest())}function J(ve){const{scrollbar:ye,params:Re}=t,Oe=ye.el;if(!Oe)return;const Ee=!!Re.passiveListeners&&{passive:!1,capture:!1},De=!!Re.passiveListeners&&{passive:!0,capture:!1};if(!Oe)return;const nt="on"===ve?"addEventListener":"removeEventListener";Oe[nt]("pointerdown",B,Ee),s[nt]("pointermove",G,Ee),s[nt]("pointerup",Y,De)}function pe(){const{scrollbar:ve,el:ye}=t;t.params.scrollbar=YN(t,t.originalParams.scrollbar,t.params.scrollbar,{el:"swiper-scrollbar"});const Re=t.params.scrollbar;if(!Re.el)return;let Oe,be;if("string"==typeof Re.el&&t.isElement&&(Oe=t.el.querySelector(Re.el)),Oe||"string"!=typeof Re.el)Oe||(Oe=Re.el);else if(Oe=s.querySelectorAll(Re.el),!Oe.length)return;t.params.uniqueNavElements&&"string"==typeof Re.el&&Oe.length>1&&1===ye.querySelectorAll(Re.el).length&&(Oe=ye.querySelector(Re.el)),Oe.length>0&&(Oe=Oe[0]),Oe.classList.add(t.isHorizontal()?Re.horizontalClass:Re.verticalClass),Oe&&(be=Oe.querySelector(Pd(t.params.scrollbar.dragClass)),be||(be=cl("div",t.params.scrollbar.dragClass),Oe.append(be))),Object.assign(ve,{el:Oe,dragEl:be}),Re.draggable&&function Z(){!t.params.scrollbar.el||!t.scrollbar.el||J("on")}(),Oe&&Oe.classList[t.enabled?"remove":"add"](...Vh(t.params.scrollbar.lockClass))}function ae(){const ve=t.params.scrollbar,ye=t.scrollbar.el;ye&&ye.classList.remove(...Vh(t.isHorizontal()?ve.horizontalClass:ve.verticalClass)),function ge(){!t.params.scrollbar.el||!t.scrollbar.el||J("off")}()}e({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),t.scrollbar={el:null,dragEl:null},i("changeDirection",()=>{if(!t.scrollbar||!t.scrollbar.el)return;const ve=t.params.scrollbar;let{el:ye}=t.scrollbar;ye=li(ye),ye.forEach(Re=>{Re.classList.remove(ve.horizontalClass,ve.verticalClass),Re.classList.add(t.isHorizontal()?ve.horizontalClass:ve.verticalClass)})}),i("init",()=>{!1===t.params.scrollbar.enabled?xe():(pe(),I(),y())}),i("update resize observerUpdate lock unlock changeDirection",()=>{I()}),i("setTranslate",()=>{y()}),i("setTransition",(ve,ye)=>{!function O(ve){!t.params.scrollbar.el||!t.scrollbar.el||(t.scrollbar.dragEl.style.transitionDuration=`${ve}ms`)}(ye)}),i("enable disable",()=>{const{el:ve}=t.scrollbar;ve&&ve.classList[t.enabled?"remove":"add"](...Vh(t.params.scrollbar.lockClass))}),i("destroy",()=>{ae()});const xe=()=>{t.el.classList.add(...Vh(t.params.scrollbar.scrollbarDisabledClass)),t.scrollbar.el&&t.scrollbar.el.classList.add(...Vh(t.params.scrollbar.scrollbarDisabledClass)),ae()};Object.assign(t.scrollbar,{enable:()=>{t.el.classList.remove(...Vh(t.params.scrollbar.scrollbarDisabledClass)),t.scrollbar.el&&t.scrollbar.el.classList.remove(...Vh(t.params.scrollbar.scrollbarDisabledClass)),pe(),I(),y()},disable:xe,updateSize:I,setTranslate:y,init:pe,destroy:ae})},function d5e(n){let{swiper:t,extendParams:e,on:i}=n;e({parallax:{enabled:!1}});const r="[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]",s=(l,c)=>{const{rtl:u}=t,d=u?-1:1,f=l.getAttribute("data-swiper-parallax")||"0";let y=l.getAttribute("data-swiper-parallax-x"),O=l.getAttribute("data-swiper-parallax-y");const I=l.getAttribute("data-swiper-parallax-scale"),N=l.getAttribute("data-swiper-parallax-opacity"),k=l.getAttribute("data-swiper-parallax-rotate");if(y||O?(y=y||"0",O=O||"0"):t.isHorizontal()?(y=f,O="0"):(O=f,y="0"),y=y.indexOf("%")>=0?parseInt(y,10)*c*d+"%":y*c*d+"px",O=O.indexOf("%")>=0?parseInt(O,10)*c+"%":O*c+"px",null!=N){const G=N-(N-1)*(1-Math.abs(c));l.style.opacity=G}let B=`translate3d(${y}, ${O}, 0px)`;null!=I&&(B+=` scale(${I-(I-1)*(1-Math.abs(c))})`),k&&null!=k&&(B+=` rotate(${k*c*-1}deg)`),l.style.transform=B},o=()=>{const{el:l,slides:c,progress:u,snapGrid:d}=t,y=Eo(l,r);t.isElement&&y.push(...Eo(t.hostEl,r)),y.forEach(O=>{s(O,u)}),c.forEach((O,I)=>{let N=O.progress;t.params.slidesPerGroup>1&&"auto"!==t.params.slidesPerView&&(N+=Math.ceil(I/2)-u*(d.length-1)),N=Math.min(Math.max(N,-1),1),O.querySelectorAll(`${r}, [data-swiper-parallax-rotate]`).forEach(k=>{s(k,N)})})};i("beforeInit",()=>{!t.params.parallax.enabled||(t.params.watchSlidesProgress=!0,t.originalParams.watchSlidesProgress=!0)}),i("init",()=>{!t.params.parallax.enabled||o()}),i("setTranslate",()=>{!t.params.parallax.enabled||o()}),i("setTransition",(l,c)=>{!t.params.parallax.enabled||function(l){void 0===l&&(l=t.params.speed);const{el:c,hostEl:u}=t,d=[...c.querySelectorAll(r)];t.isElement&&d.push(...u.querySelectorAll(r)),d.forEach(f=>{let y=parseInt(f.getAttribute("data-swiper-parallax-duration"),10)||l;0===l&&(y=0),f.style.transitionDuration=`${y}ms`})}(c)})},function h5e(n){let{swiper:t,extendParams:e,on:i,emit:r}=n;const s=ss();e({zoom:{enabled:!1,limitToOriginalSize:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}}),t.zoom={enabled:!1};let l,c,o=1,a=!1;const u=[],d={originX:0,originY:0,slideEl:void 0,slideWidth:void 0,slideHeight:void 0,imageEl:void 0,imageWrapEl:void 0,maxRatio:3},f={isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},y={x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0};let pe,O=1;function I(){if(u.length<2)return 1;const et=u[0].pageY,Tt=u[1].pageY;return Math.sqrt(Xo(u[1].pageX-u[0].pageX,2)+Xo(Tt-et,2))}function N(){const Ve=t.params.zoom,et=d.imageWrapEl.getAttribute("data-swiper-zoom")||Ve.maxRatio;return Ve.limitToOriginalSize&&d.imageEl&&d.imageEl.naturalWidth?Math.min(d.imageEl.naturalWidth/d.imageEl.offsetWidth,et):et}function G(Ve){const et=function B(){return t.isElement?"swiper-slide":`.${t.params.slideClass}`}();return!!(Ve.target.matches(et)||t.slides.filter(st=>st.contains(Ve.target)).length>0)}function J(Ve){if("mouse"===Ve.pointerType&&u.splice(0,u.length),!G(Ve))return;const et=t.params.zoom;if(l=!1,c=!1,u.push(Ve),!(u.length<2)){if(l=!0,d.scaleStart=I(),!d.slideEl){d.slideEl=Ve.target.closest(`.${t.params.slideClass}, swiper-slide`),d.slideEl||(d.slideEl=t.slides[t.activeIndex]);let st=d.slideEl.querySelector(`.${et.containerClass}`);if(st&&(st=st.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),d.imageEl=st,d.imageWrapEl=st?yg(d.imageEl,`.${et.containerClass}`)[0]:void 0,!d.imageWrapEl)return void(d.imageEl=void 0);d.maxRatio=N()}if(d.imageEl){const[st,Tt]=function k(){if(u.length<2)return{x:null,y:null};const Ve=d.imageEl.getBoundingClientRect();return[(u[0].pageX+(u[1].pageX-u[0].pageX)/2-Ve.x-s.scrollX)/o,(u[0].pageY+(u[1].pageY-u[0].pageY)/2-Ve.y-s.scrollY)/o]}();d.originX=st,d.originY=Tt,d.imageEl.style.transitionDuration="0ms"}a=!0}}function Z(Ve){if(!G(Ve))return;const et=t.params.zoom,st=t.zoom,Tt=u.findIndex(vt=>vt.pointerId===Ve.pointerId);Tt>=0&&(u[Tt]=Ve),!(u.length<2)&&(c=!0,d.scaleMove=I(),d.imageEl&&(st.scale=d.scaleMove/d.scaleStart*o,st.scale>d.maxRatio&&(st.scale=d.maxRatio-1+Xo(st.scale-d.maxRatio+1,.5)),st.scale<et.minRatio&&(st.scale=et.minRatio+1-Xo(et.minRatio-st.scale+1,.5)),d.imageEl.style.transform=`translate3d(0,0,0) scale(${st.scale})`))}function ge(Ve){if(!G(Ve)||"mouse"===Ve.pointerType&&"pointerout"===Ve.type)return;const et=t.params.zoom,st=t.zoom,Tt=u.findIndex(vt=>vt.pointerId===Ve.pointerId);Tt>=0&&u.splice(Tt,1),l&&c&&(l=!1,c=!1,d.imageEl&&(st.scale=Math.max(Math.min(st.scale,d.maxRatio),et.minRatio),d.imageEl.style.transitionDuration=`${t.params.speed}ms`,d.imageEl.style.transform=`translate3d(0,0,0) scale(${st.scale})`,o=st.scale,a=!1,st.scale>1&&d.slideEl?d.slideEl.classList.add(`${et.zoomedSlideClass}`):st.scale<=1&&d.slideEl&&d.slideEl.classList.remove(`${et.zoomedSlideClass}`),1===st.scale&&(d.originX=0,d.originY=0,d.slideEl=void 0)))}function ae(){t.touchEventsData.preventTouchMoveFromPointerMove=!1}function ve(Ve){if(!G(Ve)||!function Y(Ve){const et=`.${t.params.zoom.containerClass}`;return!!(Ve.target.matches(et)||[...t.hostEl.querySelectorAll(et)].filter(st=>st.contains(Ve.target)).length>0)}(Ve))return;const et=t.zoom;if(!d.imageEl||!f.isTouched||!d.slideEl)return;f.isMoved||(f.width=d.imageEl.offsetWidth||d.imageEl.clientWidth,f.height=d.imageEl.offsetHeight||d.imageEl.clientHeight,f.startX=FN(d.imageWrapEl,"x")||0,f.startY=FN(d.imageWrapEl,"y")||0,d.slideWidth=d.slideEl.offsetWidth,d.slideHeight=d.slideEl.offsetHeight,d.imageWrapEl.style.transitionDuration="0ms");const Tt=f.height*et.scale;if(f.minX=Math.min(d.slideWidth/2-f.width*et.scale/2,0),f.maxX=-f.minX,f.minY=Math.min(d.slideHeight/2-Tt/2,0),f.maxY=-f.minY,f.touchesCurrent.x=u.length>0?u[0].pageX:Ve.pageX,f.touchesCurrent.y=u.length>0?u[0].pageY:Ve.pageY,Math.max(Math.abs(f.touchesCurrent.x-f.touchesStart.x),Math.abs(f.touchesCurrent.y-f.touchesStart.y))>5&&(t.allowClick=!1),!f.isMoved&&!a){if(t.isHorizontal()&&(Math.floor(f.minX)===Math.floor(f.startX)&&f.touchesCurrent.x<f.touchesStart.x||Math.floor(f.maxX)===Math.floor(f.startX)&&f.touchesCurrent.x>f.touchesStart.x))return f.isTouched=!1,void ae();if(!t.isHorizontal()&&(Math.floor(f.minY)===Math.floor(f.startY)&&f.touchesCurrent.y<f.touchesStart.y||Math.floor(f.maxY)===Math.floor(f.startY)&&f.touchesCurrent.y>f.touchesStart.y))return f.isTouched=!1,void ae()}Ve.cancelable&&Ve.preventDefault(),Ve.stopPropagation(),function de(){clearTimeout(pe),t.touchEventsData.preventTouchMoveFromPointerMove=!0,pe=setTimeout(()=>{ae()})}(),f.isMoved=!0;const kt=(et.scale-o)/(d.maxRatio-t.params.zoom.minRatio),{originX:Vt,originY:Pn}=d;f.currentX=f.touchesCurrent.x-f.touchesStart.x+f.startX+kt*(f.width-2*Vt),f.currentY=f.touchesCurrent.y-f.touchesStart.y+f.startY+kt*(f.height-2*Pn),f.currentX<f.minX&&(f.currentX=f.minX+1-Xo(f.minX-f.currentX+1,.8)),f.currentX>f.maxX&&(f.currentX=f.maxX-1+Xo(f.currentX-f.maxX+1,.8)),f.currentY<f.minY&&(f.currentY=f.minY+1-Xo(f.minY-f.currentY+1,.8)),f.currentY>f.maxY&&(f.currentY=f.maxY-1+Xo(f.currentY-f.maxY+1,.8)),y.prevPositionX||(y.prevPositionX=f.touchesCurrent.x),y.prevPositionY||(y.prevPositionY=f.touchesCurrent.y),y.prevTime||(y.prevTime=Date.now()),y.x=(f.touchesCurrent.x-y.prevPositionX)/(Date.now()-y.prevTime)/2,y.y=(f.touchesCurrent.y-y.prevPositionY)/(Date.now()-y.prevTime)/2,Math.abs(f.touchesCurrent.x-y.prevPositionX)<2&&(y.x=0),Math.abs(f.touchesCurrent.y-y.prevPositionY)<2&&(y.y=0),y.prevPositionX=f.touchesCurrent.x,y.prevPositionY=f.touchesCurrent.y,y.prevTime=Date.now(),d.imageWrapEl.style.transform=`translate3d(${f.currentX}px, ${f.currentY}px,0)`}function Re(){const Ve=t.zoom;d.slideEl&&t.activeIndex!==t.slides.indexOf(d.slideEl)&&(d.imageEl&&(d.imageEl.style.transform="translate3d(0,0,0) scale(1)"),d.imageWrapEl&&(d.imageWrapEl.style.transform="translate3d(0,0,0)"),d.slideEl.classList.remove(`${t.params.zoom.zoomedSlideClass}`),Ve.scale=1,o=1,d.slideEl=void 0,d.imageEl=void 0,d.imageWrapEl=void 0,d.originX=0,d.originY=0)}function Oe(Ve){const et=t.zoom,st=t.params.zoom;if(!d.slideEl){Ve&&Ve.target&&(d.slideEl=Ve.target.closest(`.${t.params.slideClass}, swiper-slide`)),d.slideEl||(d.slideEl=t.params.virtual&&t.params.virtual.enabled&&t.virtual?Eo(t.slidesEl,`.${t.params.slideActiveClass}`)[0]:t.slides[t.activeIndex]);let Rd=d.slideEl.querySelector(`.${st.containerClass}`);Rd&&(Rd=Rd.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),d.imageEl=Rd,d.imageWrapEl=Rd?yg(d.imageEl,`.${st.containerClass}`)[0]:void 0}if(!d.imageEl||!d.imageWrapEl)return;let Tt,vt,kt,Vt,Pn,cn,Qt,Ft,vn,tn,Qi,Nn,bn,fs,lr,pl,zc,Du;t.params.cssMode&&(t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.touchAction="none"),d.slideEl.classList.add(`${st.zoomedSlideClass}`),void 0===f.touchesStart.x&&Ve?(Tt=Ve.pageX,vt=Ve.pageY):(Tt=f.touchesStart.x,vt=f.touchesStart.y);const ps="number"==typeof Ve?Ve:null;1===o&&ps&&(Tt=void 0,vt=void 0);const Ad=N();et.scale=ps||Ad,o=ps||Ad,!Ve||1===o&&ps?(Qt=0,Ft=0):(zc=d.slideEl.offsetWidth,Du=d.slideEl.offsetHeight,kt=Aw(d.slideEl).left+s.scrollX,Vt=Aw(d.slideEl).top+s.scrollY,Pn=kt+zc/2-Tt,cn=Vt+Du/2-vt,vn=d.imageEl.offsetWidth||d.imageEl.clientWidth,tn=d.imageEl.offsetHeight||d.imageEl.clientHeight,Qi=vn*et.scale,Nn=tn*et.scale,bn=Math.min(zc/2-Qi/2,0),fs=Math.min(Du/2-Nn/2,0),lr=-bn,pl=-fs,Qt=Pn*et.scale,Ft=cn*et.scale,Qt<bn&&(Qt=bn),Qt>lr&&(Qt=lr),Ft<fs&&(Ft=fs),Ft>pl&&(Ft=pl)),ps&&1===et.scale&&(d.originX=0,d.originY=0),d.imageWrapEl.style.transitionDuration="300ms",d.imageWrapEl.style.transform=`translate3d(${Qt}px, ${Ft}px,0)`,d.imageEl.style.transitionDuration="300ms",d.imageEl.style.transform=`translate3d(0,0,0) scale(${et.scale})`}function be(){const Ve=t.zoom,et=t.params.zoom;if(!d.slideEl){d.slideEl=t.params.virtual&&t.params.virtual.enabled&&t.virtual?Eo(t.slidesEl,`.${t.params.slideActiveClass}`)[0]:t.slides[t.activeIndex];let st=d.slideEl.querySelector(`.${et.containerClass}`);st&&(st=st.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),d.imageEl=st,d.imageWrapEl=st?yg(d.imageEl,`.${et.containerClass}`)[0]:void 0}!d.imageEl||!d.imageWrapEl||(t.params.cssMode&&(t.wrapperEl.style.overflow="",t.wrapperEl.style.touchAction=""),Ve.scale=1,o=1,d.imageWrapEl.style.transitionDuration="300ms",d.imageWrapEl.style.transform="translate3d(0,0,0)",d.imageEl.style.transitionDuration="300ms",d.imageEl.style.transform="translate3d(0,0,0) scale(1)",d.slideEl.classList.remove(`${et.zoomedSlideClass}`),d.slideEl=void 0,d.originX=0,d.originY=0)}function Ee(Ve){const et=t.zoom;et.scale&&1!==et.scale?be():Oe(Ve)}function De(){return{passiveListener:!!t.params.passiveListeners&&{passive:!0,capture:!1},activeListenerWithCapture:!t.params.passiveListeners||{passive:!1,capture:!0}}}function nt(){const Ve=t.zoom;if(Ve.enabled)return;Ve.enabled=!0;const{passiveListener:et,activeListenerWithCapture:st}=De();t.wrapperEl.addEventListener("pointerdown",J,et),t.wrapperEl.addEventListener("pointermove",Z,st),["pointerup","pointercancel","pointerout"].forEach(Tt=>{t.wrapperEl.addEventListener(Tt,ge,et)}),t.wrapperEl.addEventListener("pointermove",ve,st)}function me(){const Ve=t.zoom;if(!Ve.enabled)return;Ve.enabled=!1;const{passiveListener:et,activeListenerWithCapture:st}=De();t.wrapperEl.removeEventListener("pointerdown",J,et),t.wrapperEl.removeEventListener("pointermove",Z,st),["pointerup","pointercancel","pointerout"].forEach(Tt=>{t.wrapperEl.removeEventListener(Tt,ge,et)}),t.wrapperEl.removeEventListener("pointermove",ve,st)}Object.defineProperty(t.zoom,"scale",{get:()=>O,set(Ve){O!==Ve&&r("zoomChange",Ve,d.imageEl,d.slideEl),O=Ve}}),i("init",()=>{t.params.zoom.enabled&&nt()}),i("destroy",()=>{me()}),i("touchStart",(Ve,et)=>{!t.zoom.enabled||function xe(Ve){if(!d.imageEl||f.isTouched)return;t.device.android&&Ve.cancelable&&Ve.preventDefault(),f.isTouched=!0;const st=u.length>0?u[0]:Ve;f.touchesStart.x=st.pageX,f.touchesStart.y=st.pageY}(et)}),i("touchEnd",(Ve,et)=>{!t.zoom.enabled||function ye(){const Ve=t.zoom;if(!d.imageEl)return;if(!f.isTouched||!f.isMoved)return f.isTouched=!1,void(f.isMoved=!1);f.isTouched=!1,f.isMoved=!1;let et=300,st=300;const vt=f.currentX+y.x*et,Vt=f.currentY+y.y*st;0!==y.x&&(et=Math.abs((vt-f.currentX)/y.x)),0!==y.y&&(st=Math.abs((Vt-f.currentY)/y.y));const Pn=Math.max(et,st);f.currentX=vt,f.currentY=Vt;const Qt=f.height*Ve.scale;f.minX=Math.min(d.slideWidth/2-f.width*Ve.scale/2,0),f.maxX=-f.minX,f.minY=Math.min(d.slideHeight/2-Qt/2,0),f.maxY=-f.minY,f.currentX=Math.max(Math.min(f.currentX,f.maxX),f.minX),f.currentY=Math.max(Math.min(f.currentY,f.maxY),f.minY),d.imageWrapEl.style.transitionDuration=`${Pn}ms`,d.imageWrapEl.style.transform=`translate3d(${f.currentX}px, ${f.currentY}px,0)`}()}),i("doubleTap",(Ve,et)=>{!t.animating&&t.params.zoom.enabled&&t.zoom.enabled&&t.params.zoom.toggle&&Ee(et)}),i("transitionEnd",()=>{t.zoom.enabled&&t.params.zoom.enabled&&Re()}),i("slideChange",()=>{t.zoom.enabled&&t.params.zoom.enabled&&t.params.cssMode&&Re()}),Object.assign(t.zoom,{enable:nt,disable:me,in:Oe,out:be,toggle:Ee})},function f5e(n){let{swiper:t,extendParams:e,on:i}=n;function r(c,u){const d=function(){let I,N,k;return(B,G)=>{for(N=-1,I=B.length;I-N>1;)k=I+N>>1,B[k]<=G?N=k:I=k;return I}}();let f,y;return this.x=c,this.y=u,this.lastIndex=c.length-1,this.interpolate=function(I){return I?(y=d(this.x,I),f=y-1,(I-this.x[f])*(this.y[y]-this.y[f])/(this.x[y]-this.x[f])+this.y[f]):0},this}function l(){!t.controller.control||t.controller.spline&&(t.controller.spline=void 0,delete t.controller.spline)}e({controller:{control:void 0,inverse:!1,by:"slide"}}),t.controller={control:void 0},i("beforeInit",()=>{if("undefined"!=typeof window&&("string"==typeof t.params.controller.control||t.params.controller.control instanceof HTMLElement)){const c=document.querySelector(t.params.controller.control);if(c&&c.swiper)t.controller.control=c.swiper;else if(c){const u=d=>{t.controller.control=d.detail[0],t.update(),c.removeEventListener("init",u)};c.addEventListener("init",u)}}else t.controller.control=t.params.controller.control}),i("update",()=>{l()}),i("resize",()=>{l()}),i("observerUpdate",()=>{l()}),i("setTranslate",(c,u,d)=>{!t.controller.control||t.controller.control.destroyed||t.controller.setTranslate(u,d)}),i("setTransition",(c,u,d)=>{!t.controller.control||t.controller.control.destroyed||t.controller.setTransition(u,d)}),Object.assign(t.controller,{setTranslate:function o(c,u){const d=t.controller.control;let f,y;const O=t.constructor;function I(N){if(N.destroyed)return;const k=t.rtlTranslate?-t.translate:t.translate;"slide"===t.params.controller.by&&(function s(c){t.controller.spline=t.params.loop?new r(t.slidesGrid,c.slidesGrid):new r(t.snapGrid,c.snapGrid)}(N),y=-t.controller.spline.interpolate(-k)),(!y||"container"===t.params.controller.by)&&(f=(N.maxTranslate()-N.minTranslate())/(t.maxTranslate()-t.minTranslate()),(Number.isNaN(f)||!Number.isFinite(f))&&(f=1),y=(k-t.minTranslate())*f+N.minTranslate()),t.params.controller.inverse&&(y=N.maxTranslate()-y),N.updateProgress(y),N.setTranslate(y,t),N.updateActiveIndex(),N.updateSlidesClasses()}if(Array.isArray(d))for(let N=0;N<d.length;N+=1)d[N]!==u&&d[N]instanceof O&&I(d[N]);else d instanceof O&&u!==d&&I(d)},setTransition:function a(c,u){const d=t.constructor,f=t.controller.control;let y;function O(I){I.destroyed||(I.setTransition(c,t),0!==c&&(I.transitionStart(),I.params.autoHeight&&mg(()=>{I.updateAutoHeight()}),Wb(I.wrapperEl,()=>{!f||I.transitionEnd()})))}if(Array.isArray(f))for(y=0;y<f.length;y+=1)f[y]!==u&&f[y]instanceof d&&O(f[y]);else f instanceof d&&u!==f&&O(f)}})},function p5e(n){let{swiper:t,extendParams:e,on:i}=n;e({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null}}),t.a11y={clicked:!1};let s,o,r=null,a=(new Date).getTime();function l(Ee){const De=r;0!==De.length&&(De.innerHTML="",De.innerHTML=Ee)}function u(Ee){(Ee=li(Ee)).forEach(De=>{De.setAttribute("tabIndex","0")})}function d(Ee){(Ee=li(Ee)).forEach(De=>{De.setAttribute("tabIndex","-1")})}function f(Ee,De){(Ee=li(Ee)).forEach(nt=>{nt.setAttribute("role",De)})}function y(Ee,De){(Ee=li(Ee)).forEach(nt=>{nt.setAttribute("aria-roledescription",De)})}function I(Ee,De){(Ee=li(Ee)).forEach(nt=>{nt.setAttribute("aria-label",De)})}function B(Ee){(Ee=li(Ee)).forEach(De=>{De.setAttribute("aria-disabled",!0)})}function G(Ee){(Ee=li(Ee)).forEach(De=>{De.setAttribute("aria-disabled",!1)})}function Y(Ee){if(13!==Ee.keyCode&&32!==Ee.keyCode)return;const De=t.params.a11y,nt=Ee.target;if(!t.pagination||!t.pagination.el||nt!==t.pagination.el&&!t.pagination.el.contains(Ee.target)||Ee.target.matches(Pd(t.params.pagination.bulletClass))){if(t.navigation&&t.navigation.prevEl&&t.navigation.nextEl){const me=li(t.navigation.prevEl);li(t.navigation.nextEl).includes(nt)&&(t.isEnd&&!t.params.loop||t.slideNext(),l(t.isEnd?De.lastSlideMessage:De.nextSlideMessage)),me.includes(nt)&&(t.isBeginning&&!t.params.loop||t.slidePrev(),l(t.isBeginning?De.firstSlideMessage:De.prevSlideMessage))}t.pagination&&nt.matches(Pd(t.params.pagination.bulletClass))&&nt.click()}}function Z(){return t.pagination&&t.pagination.bullets&&t.pagination.bullets.length}function ge(){return Z()&&t.params.pagination.clickable}const ae=(Ee,De,nt)=>{u(Ee),"BUTTON"!==Ee.tagName&&(f(Ee,"button"),Ee.addEventListener("keydown",Y)),I(Ee,nt),function O(Ee,De){(Ee=li(Ee)).forEach(nt=>{nt.setAttribute("aria-controls",De)})}(Ee,De)},de=Ee=>{o&&o!==Ee.target&&!o.contains(Ee.target)&&(s=!0),t.a11y.clicked=!0},xe=()=>{s=!1,requestAnimationFrame(()=>{requestAnimationFrame(()=>{t.destroyed||(t.a11y.clicked=!1)})})},ve=Ee=>{a=(new Date).getTime()},ye=Ee=>{if(t.a11y.clicked||(new Date).getTime()-a<100)return;const De=Ee.target.closest(`.${t.params.slideClass}, swiper-slide`);if(!De||!t.slides.includes(De))return;o=De;const nt=t.slides.indexOf(De)===t.activeIndex,me=t.params.watchSlidesProgress&&t.visibleSlides&&t.visibleSlides.includes(De);nt||me||Ee.sourceCapabilities&&Ee.sourceCapabilities.firesTouchEvents||(t.isHorizontal()?t.el.scrollLeft=0:t.el.scrollTop=0,requestAnimationFrame(()=>{s||(t.params.loop?t.slideToLoop(parseInt(De.getAttribute("data-swiper-slide-index")),0):t.slideTo(t.slides.indexOf(De),0),s=!1)}))},Re=()=>{const Ee=t.params.a11y;Ee.itemRoleDescriptionMessage&&y(t.slides,Ee.itemRoleDescriptionMessage),Ee.slideRole&&f(t.slides,Ee.slideRole);const De=t.slides.length;Ee.slideLabelMessage&&t.slides.forEach((nt,me)=>{const Ve=t.params.loop?parseInt(nt.getAttribute("data-swiper-slide-index"),10):me;I(nt,Ee.slideLabelMessage.replace(/\{\{index\}\}/,Ve+1).replace(/\{\{slidesLength\}\}/,De))})};i("beforeInit",()=>{r=cl("span",t.params.a11y.notificationClass),r.setAttribute("aria-live","assertive"),r.setAttribute("aria-atomic","true")}),i("afterInit",()=>{!t.params.a11y.enabled||(()=>{const Ee=t.params.a11y;t.el.append(r);const De=t.el;Ee.containerRoleDescriptionMessage&&y(De,Ee.containerRoleDescriptionMessage),Ee.containerMessage&&I(De,Ee.containerMessage);const nt=t.wrapperEl,me=Ee.id||nt.getAttribute("id")||`swiper-wrapper-${function c(Ee){return void 0===Ee&&(Ee=16),"x".repeat(Ee).replace(/x/g,()=>Math.round(16*Math.random()).toString(16))}(16)}`,Ve=t.params.autoplay&&t.params.autoplay.enabled?"off":"polite";(function N(Ee,De){(Ee=li(Ee)).forEach(nt=>{nt.setAttribute("id",De)})})(nt,me),function k(Ee,De){(Ee=li(Ee)).forEach(nt=>{nt.setAttribute("aria-live",De)})}(nt,Ve),Re();let{nextEl:et,prevEl:st}=t.navigation?t.navigation:{};et=li(et),st=li(st),et&&et.forEach(vt=>ae(vt,me,Ee.nextSlideMessage)),st&&st.forEach(vt=>ae(vt,me,Ee.prevSlideMessage)),ge()&&li(t.pagination.el).forEach(kt=>{kt.addEventListener("keydown",Y)}),Co().addEventListener("visibilitychange",ve),t.el.addEventListener("focus",ye,!0),t.el.addEventListener("focus",ye,!0),t.el.addEventListener("pointerdown",de,!0),t.el.addEventListener("pointerup",xe,!0)})()}),i("slidesLengthChange snapGridLengthChange slidesGridLengthChange",()=>{!t.params.a11y.enabled||Re()}),i("fromEdge toEdge afterInit lock unlock",()=>{!t.params.a11y.enabled||function J(){if(t.params.loop||t.params.rewind||!t.navigation)return;const{nextEl:Ee,prevEl:De}=t.navigation;De&&(t.isBeginning?(B(De),d(De)):(G(De),u(De))),Ee&&(t.isEnd?(B(Ee),d(Ee)):(G(Ee),u(Ee)))}()}),i("paginationUpdate",()=>{!t.params.a11y.enabled||function pe(){const Ee=t.params.a11y;!Z()||t.pagination.bullets.forEach(De=>{t.params.pagination.clickable&&(u(De),t.params.pagination.renderBullet||(f(De,"button"),I(De,Ee.paginationBulletMessage.replace(/\{\{index\}\}/,zb(De)+1)))),De.matches(Pd(t.params.pagination.bulletActiveClass))?De.setAttribute("aria-current","true"):De.removeAttribute("aria-current")})}()}),i("destroy",()=>{!t.params.a11y.enabled||function be(){r&&r.remove();let{nextEl:Ee,prevEl:De}=t.navigation?t.navigation:{};Ee=li(Ee),De=li(De),Ee&&Ee.forEach(me=>me.removeEventListener("keydown",Y)),De&&De.forEach(me=>me.removeEventListener("keydown",Y)),ge()&&li(t.pagination.el).forEach(Ve=>{Ve.removeEventListener("keydown",Y)}),Co().removeEventListener("visibilitychange",ve),t.el&&"string"!=typeof t.el&&(t.el.removeEventListener("focus",ye,!0),t.el.removeEventListener("pointerdown",de,!0),t.el.removeEventListener("pointerup",xe,!0))}()})},function g5e(n){let{swiper:t,extendParams:e,on:i}=n;e({history:{enabled:!1,root:"",replaceState:!1,key:"slides",keepQuery:!1}});let r=!1,s={};const o=y=>y.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,""),a=y=>{const O=ss();let I;I=y?new URL(y):O.location;const N=I.pathname.slice(1).split("/").filter(Y=>""!==Y),k=N.length;return{key:N[k-2],value:N[k-1]}},l=(y,O)=>{const I=ss();if(!r||!t.params.history.enabled)return;let N;N=t.params.url?new URL(t.params.url):I.location;const k=t.virtual&&t.params.virtual.enabled?t.slidesEl.querySelector(`[data-swiper-slide-index="${O}"]`):t.slides[O];let B=o(k.getAttribute("data-history"));if(t.params.history.root.length>0){let Y=t.params.history.root;"/"===Y[Y.length-1]&&(Y=Y.slice(0,Y.length-1)),B=`${Y}/${y?`${y}/`:""}${B}`}else N.pathname.includes(y)||(B=`${y?`${y}/`:""}${B}`);t.params.history.keepQuery&&(B+=N.search);const G=I.history.state;G&&G.value===B||(t.params.history.replaceState?I.history.replaceState({value:B},null,B):I.history.pushState({value:B},null,B))},c=(y,O,I)=>{if(O)for(let N=0,k=t.slides.length;N<k;N+=1){const B=t.slides[N];if(o(B.getAttribute("data-history"))===O){const Y=t.getSlideIndex(B);t.slideTo(Y,y,I)}}else t.slideTo(0,y,I)},u=()=>{s=a(t.params.url),c(t.params.speed,s.value,!1)};i("init",()=>{t.params.history.enabled&&(()=>{const y=ss();if(t.params.history){if(!y.history||!y.history.pushState)return t.params.history.enabled=!1,void(t.params.hashNavigation.enabled=!0);if(r=!0,s=a(t.params.url),!s.key&&!s.value)return void(t.params.history.replaceState||y.addEventListener("popstate",u));c(0,s.value,t.params.runCallbacksOnInit),t.params.history.replaceState||y.addEventListener("popstate",u)}})()}),i("destroy",()=>{t.params.history.enabled&&(()=>{const y=ss();t.params.history.replaceState||y.removeEventListener("popstate",u)})()}),i("transitionEnd _freeModeNoMomentumRelease",()=>{r&&l(t.params.history.key,t.activeIndex)}),i("slideChange",()=>{r&&t.params.cssMode&&l(t.params.history.key,t.activeIndex)})},function _5e(n){let{swiper:t,extendParams:e,emit:i,on:r}=n,s=!1;const o=Co(),a=ss();e({hashNavigation:{enabled:!1,replaceState:!1,watchState:!1,getSlideIndex(f,y){if(t.virtual&&t.params.virtual.enabled){const O=t.slides.filter(N=>N.getAttribute("data-hash")===y)[0];return O?parseInt(O.getAttribute("data-swiper-slide-index"),10):0}return t.getSlideIndex(Eo(t.slidesEl,`.${t.params.slideClass}[data-hash="${y}"], swiper-slide[data-hash="${y}"]`)[0])}}});const l=()=>{i("hashChange");const f=o.location.hash.replace("#",""),y=t.virtual&&t.params.virtual.enabled?t.slidesEl.querySelector(`[data-swiper-slide-index="${t.activeIndex}"]`):t.slides[t.activeIndex];if(f!==(y?y.getAttribute("data-hash"):"")){const I=t.params.hashNavigation.getSlideIndex(t,f);if(void 0===I||Number.isNaN(I))return;t.slideTo(I)}},c=()=>{if(!s||!t.params.hashNavigation.enabled)return;const f=t.virtual&&t.params.virtual.enabled?t.slidesEl.querySelector(`[data-swiper-slide-index="${t.activeIndex}"]`):t.slides[t.activeIndex],y=f?f.getAttribute("data-hash")||f.getAttribute("data-history"):"";t.params.hashNavigation.replaceState&&a.history&&a.history.replaceState?(a.history.replaceState(null,null,`#${y}`||""),i("hashSet")):(o.location.hash=y||"",i("hashSet"))};r("init",()=>{t.params.hashNavigation.enabled&&(()=>{if(!t.params.hashNavigation.enabled||t.params.history&&t.params.history.enabled)return;s=!0;const f=o.location.hash.replace("#","");if(f){const O=t.params.hashNavigation.getSlideIndex(t,f);t.slideTo(O||0,0,t.params.runCallbacksOnInit,!0)}t.params.hashNavigation.watchState&&a.addEventListener("hashchange",l)})()}),r("destroy",()=>{t.params.hashNavigation.enabled&&t.params.hashNavigation.watchState&&a.removeEventListener("hashchange",l)}),r("transitionEnd _freeModeNoMomentumRelease",()=>{s&&c()}),r("slideChange",()=>{s&&t.params.cssMode&&c()})},function m5e(n){let{swiper:t,extendParams:e,on:i,emit:r,params:s}=n;t.autoplay={running:!1,paused:!1,timeLeft:0},e({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let o,a,u,f,y,O,I,N,k,B,l=s&&s.autoplay?s.autoplay.delay:3e3,c=s&&s.autoplay?s.autoplay.delay:3e3,d=(new Date).getTime();function G(De){!t||t.destroyed||!t.wrapperEl||De.target===t.wrapperEl&&(t.wrapperEl.removeEventListener("transitionend",G),!(B||De.detail&&De.detail.bySwiperTouchMove)&&de())}const Y=()=>{if(t.destroyed||!t.autoplay.running)return;t.autoplay.paused?f=!0:f&&(c=u,f=!1);const De=t.autoplay.paused?u:d+c-(new Date).getTime();t.autoplay.timeLeft=De,r("autoplayTimeLeft",De,De/l),a=requestAnimationFrame(()=>{Y()})},Z=De=>{if(t.destroyed||!t.autoplay.running)return;cancelAnimationFrame(a),Y();let nt=void 0===De?t.params.autoplay.delay:De;l=t.params.autoplay.delay,c=t.params.autoplay.delay;const me=(()=>{let De;return De=t.virtual&&t.params.virtual.enabled?t.slides.filter(me=>me.classList.contains("swiper-slide-active"))[0]:t.slides[t.activeIndex],De?parseInt(De.getAttribute("data-swiper-autoplay"),10):void 0})();!Number.isNaN(me)&&me>0&&void 0===De&&(nt=me,l=me,c=me),u=nt;const Ve=t.params.speed,et=()=>{!t||t.destroyed||(t.params.autoplay.reverseDirection?!t.isBeginning||t.params.loop||t.params.rewind?(t.slidePrev(Ve,!0,!0),r("autoplay")):t.params.autoplay.stopOnLastSlide||(t.slideTo(t.slides.length-1,Ve,!0,!0),r("autoplay")):!t.isEnd||t.params.loop||t.params.rewind?(t.slideNext(Ve,!0,!0),r("autoplay")):t.params.autoplay.stopOnLastSlide||(t.slideTo(0,Ve,!0,!0),r("autoplay")),t.params.cssMode&&(d=(new Date).getTime(),requestAnimationFrame(()=>{Z()})))};return nt>0?(clearTimeout(o),o=setTimeout(()=>{et()},nt)):requestAnimationFrame(()=>{et()}),nt},ge=()=>{d=(new Date).getTime(),t.autoplay.running=!0,Z(),r("autoplayStart")},pe=()=>{t.autoplay.running=!1,clearTimeout(o),cancelAnimationFrame(a),r("autoplayStop")},ae=(De,nt)=>{if(t.destroyed||!t.autoplay.running)return;clearTimeout(o),De||(k=!0);const me=()=>{r("autoplayPause"),t.params.autoplay.waitForTransition?t.wrapperEl.addEventListener("transitionend",G):de()};if(t.autoplay.paused=!0,nt)return N&&(u=t.params.autoplay.delay),N=!1,void me();u=(u||t.params.autoplay.delay)-((new Date).getTime()-d),(!(t.isEnd&&u<0)||t.params.loop)&&(u<0&&(u=0),me())},de=()=>{t.isEnd&&u<0&&!t.params.loop||t.destroyed||!t.autoplay.running||(d=(new Date).getTime(),k?(k=!1,Z(u)):Z(),t.autoplay.paused=!1,r("autoplayResume"))},xe=()=>{if(t.destroyed||!t.autoplay.running)return;const De=Co();"hidden"===De.visibilityState&&(k=!0,ae(!0)),"visible"===De.visibilityState&&de()},ve=De=>{"mouse"===De.pointerType&&(k=!0,B=!0,!t.animating&&!t.autoplay.paused&&ae(!0))},ye=De=>{"mouse"===De.pointerType&&(B=!1,t.autoplay.paused&&de())};i("init",()=>{t.params.autoplay.enabled&&(t.params.autoplay.pauseOnMouseEnter&&(t.el.addEventListener("pointerenter",ve),t.el.addEventListener("pointerleave",ye)),Co().addEventListener("visibilitychange",xe),ge())}),i("destroy",()=>{t.el&&"string"!=typeof t.el&&(t.el.removeEventListener("pointerenter",ve),t.el.removeEventListener("pointerleave",ye)),Co().removeEventListener("visibilitychange",xe),t.autoplay.running&&pe()}),i("_freeModeStaticRelease",()=>{(O||k)&&de()}),i("_freeModeNoMomentumRelease",()=>{t.params.autoplay.disableOnInteraction?pe():ae(!0,!0)}),i("beforeTransitionStart",(De,nt,me)=>{t.destroyed||!t.autoplay.running||(me||!t.params.autoplay.disableOnInteraction?ae(!0,!0):pe())}),i("sliderFirstMove",()=>{if(!t.destroyed&&t.autoplay.running){if(t.params.autoplay.disableOnInteraction)return void pe();y=!0,O=!1,k=!1,I=setTimeout(()=>{k=!0,O=!0,ae(!0)},200)}}),i("touchEnd",()=>{if(!t.destroyed&&t.autoplay.running&&y){if(clearTimeout(I),clearTimeout(o),t.params.autoplay.disableOnInteraction)return O=!1,void(y=!1);O&&t.params.cssMode&&de(),O=!1,y=!1}}),i("slideChange",()=>{t.destroyed||!t.autoplay.running||(N=!0)}),Object.assign(t.autoplay,{start:ge,stop:pe,pause:ae,resume:de})},function v5e(n){let{swiper:t,extendParams:e,on:i}=n;e({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let r=!1,s=!1;function o(){const c=t.thumbs.swiper;if(!c||c.destroyed)return;const u=c.clickedIndex,d=c.clickedSlide;if(d&&d.classList.contains(t.params.thumbs.slideThumbActiveClass)||null==u)return;let f;f=c.params.loop?parseInt(c.clickedSlide.getAttribute("data-swiper-slide-index"),10):u,t.params.loop?t.slideToLoop(f):t.slideTo(f)}function a(){const{thumbs:c}=t.params;if(r)return!1;r=!0;const u=t.constructor;if(c.swiper instanceof u)t.thumbs.swiper=c.swiper,Object.assign(t.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(t.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),t.thumbs.swiper.update();else if(Hb(c.swiper)){const d=Object.assign({},c.swiper);Object.assign(d,{watchSlidesProgress:!0,slideToClickedSlide:!1}),t.thumbs.swiper=new u(d),s=!0}return t.thumbs.swiper.el.classList.add(t.params.thumbs.thumbsContainerClass),t.thumbs.swiper.on("tap",o),!0}function l(c){const u=t.thumbs.swiper;if(!u||u.destroyed)return;const d="auto"===u.params.slidesPerView?u.slidesPerViewDynamic():u.params.slidesPerView;let f=1;const y=t.params.thumbs.slideThumbActiveClass;if(t.params.slidesPerView>1&&!t.params.centeredSlides&&(f=t.params.slidesPerView),t.params.thumbs.multipleActiveThumbs||(f=1),f=Math.floor(f),u.slides.forEach(N=>N.classList.remove(y)),u.params.loop||u.params.virtual&&u.params.virtual.enabled)for(let N=0;N<f;N+=1)Eo(u.slidesEl,`[data-swiper-slide-index="${t.realIndex+N}"]`).forEach(k=>{k.classList.add(y)});else for(let N=0;N<f;N+=1)u.slides[t.realIndex+N]&&u.slides[t.realIndex+N].classList.add(y);const O=t.params.thumbs.autoScrollOffset,I=O&&!u.params.loop;if(t.realIndex!==u.realIndex||I){const N=u.activeIndex;let k,B;if(u.params.loop){const G=u.slides.filter(Y=>Y.getAttribute("data-swiper-slide-index")===`${t.realIndex}`)[0];k=u.slides.indexOf(G),B=t.activeIndex>t.previousIndex?"next":"prev"}else k=t.realIndex,B=k>t.previousIndex?"next":"prev";I&&(k+="next"===B?O:-1*O),u.visibleSlidesIndexes&&u.visibleSlidesIndexes.indexOf(k)<0&&(u.params.centeredSlides&&(k=k>N?k-Math.floor(d/2)+1:k+Math.floor(d/2)-1),u.slideTo(k,c?0:void 0))}}t.thumbs={swiper:null},i("beforeInit",()=>{const{thumbs:c}=t.params;if(c&&c.swiper)if("string"==typeof c.swiper||c.swiper instanceof HTMLElement){const u=Co(),d=()=>{const y="string"==typeof c.swiper?u.querySelector(c.swiper):c.swiper;if(y&&y.swiper)c.swiper=y.swiper,a(),l(!0);else if(y){const O=I=>{c.swiper=I.detail[0],y.removeEventListener("init",O),a(),l(!0),c.swiper.update(),t.update()};y.addEventListener("init",O)}return y},f=()=>{t.destroyed||d()||requestAnimationFrame(f)};requestAnimationFrame(f)}else a(),l(!0)}),i("slideChange update resize observerUpdate",()=>{l()}),i("setTransition",(c,u)=>{const d=t.thumbs.swiper;!d||d.destroyed||d.setTransition(u)}),i("beforeDestroy",()=>{const c=t.thumbs.swiper;!c||c.destroyed||s&&c.destroy()}),Object.assign(t.thumbs,{init:a,update:l})},function y5e(n){let{swiper:t,extendParams:e,emit:i,once:r}=n;e({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}}),Object.assign(t,{freeMode:{onTouchStart:function s(){if(t.params.cssMode)return;const l=t.getTranslate();t.setTranslate(l),t.setTransition(0),t.touchEventsData.velocities.length=0,t.freeMode.onTouchEnd({currentPos:t.rtl?t.translate:-t.translate})},onTouchMove:function o(){if(t.params.cssMode)return;const{touchEventsData:l,touches:c}=t;0===l.velocities.length&&l.velocities.push({position:c[t.isHorizontal()?"startX":"startY"],time:l.touchStartTime}),l.velocities.push({position:c[t.isHorizontal()?"currentX":"currentY"],time:ec()})},onTouchEnd:function a(l){let{currentPos:c}=l;if(t.params.cssMode)return;const{params:u,wrapperEl:d,rtlTranslate:f,snapGrid:y,touchEventsData:O}=t,N=ec()-O.touchStartTime;if(c<-t.minTranslate())t.slideTo(t.activeIndex);else if(c>-t.maxTranslate())t.slideTo(t.slides.length<y.length?y.length-1:t.slides.length-1);else{if(u.freeMode.momentum){if(O.velocities.length>1){const pe=O.velocities.pop(),ae=O.velocities.pop(),xe=pe.time-ae.time;t.velocity=(pe.position-ae.position)/xe,t.velocity/=2,Math.abs(t.velocity)<u.freeMode.minimumVelocity&&(t.velocity=0),(xe>150||ec()-pe.time>300)&&(t.velocity=0)}else t.velocity=0;t.velocity*=u.freeMode.momentumVelocityRatio,O.velocities.length=0;let k=1e3*u.freeMode.momentumRatio,G=t.translate+t.velocity*k;f&&(G=-G);let J,Y=!1;const Z=20*Math.abs(t.velocity)*u.freeMode.momentumBounceRatio;let ge;if(G<t.maxTranslate())u.freeMode.momentumBounce?(G+t.maxTranslate()<-Z&&(G=t.maxTranslate()-Z),J=t.maxTranslate(),Y=!0,O.allowMomentumBounce=!0):G=t.maxTranslate(),u.loop&&u.centeredSlides&&(ge=!0);else if(G>t.minTranslate())u.freeMode.momentumBounce?(G-t.minTranslate()>Z&&(G=t.minTranslate()+Z),J=t.minTranslate(),Y=!0,O.allowMomentumBounce=!0):G=t.minTranslate(),u.loop&&u.centeredSlides&&(ge=!0);else if(u.freeMode.sticky){let pe;for(let ae=0;ae<y.length;ae+=1)if(y[ae]>-G){pe=ae;break}G=Math.abs(y[pe]-G)<Math.abs(y[pe-1]-G)||"next"===t.swipeDirection?y[pe]:y[pe-1],G=-G}if(ge&&r("transitionEnd",()=>{t.loopFix()}),0!==t.velocity){if(k=f?Math.abs((-G-t.translate)/t.velocity):Math.abs((G-t.translate)/t.velocity),u.freeMode.sticky){const pe=Math.abs((f?-G:G)-t.translate),ae=t.slidesSizesGrid[t.activeIndex];k=pe<ae?u.speed:pe<2*ae?1.5*u.speed:2.5*u.speed}}else if(u.freeMode.sticky)return void t.slideToClosest();u.freeMode.momentumBounce&&Y?(t.updateProgress(J),t.setTransition(k),t.setTranslate(G),t.transitionStart(!0,t.swipeDirection),t.animating=!0,Wb(d,()=>{!t||t.destroyed||!O.allowMomentumBounce||(i("momentumBounce"),t.setTransition(u.speed),setTimeout(()=>{t.setTranslate(J),Wb(d,()=>{!t||t.destroyed||t.transitionEnd()})},0))})):t.velocity?(i("_freeModeNoMomentumRelease"),t.updateProgress(G),t.setTransition(k),t.setTranslate(G),t.transitionStart(!0,t.swipeDirection),t.animating||(t.animating=!0,Wb(d,()=>{!t||t.destroyed||t.transitionEnd()}))):t.updateProgress(G),t.updateActiveIndex(),t.updateSlidesClasses()}else{if(u.freeMode.sticky)return void t.slideToClosest();u.freeMode&&i("_freeModeNoMomentumRelease")}(!u.freeMode.momentum||N>=u.longSwipesMs)&&(i("_freeModeStaticRelease"),t.updateProgress(),t.updateActiveIndex(),t.updateSlidesClasses())}}}})},function b5e(n){let r,s,o,a,{swiper:t,extendParams:e,on:i}=n;e({grid:{rows:1,fill:"column"}});const l=()=>{let I=t.params.spaceBetween;return"string"==typeof I&&I.indexOf("%")>=0?I=parseFloat(I.replace("%",""))/100*t.size:"string"==typeof I&&(I=parseFloat(I)),I};i("init",()=>{a=t.params.grid&&t.params.grid.rows>1}),i("update",()=>{const{params:I,el:N}=t,k=I.grid&&I.grid.rows>1;a&&!k?(N.classList.remove(`${I.containerModifierClass}grid`,`${I.containerModifierClass}grid-column`),o=1,t.emitContainerClasses()):!a&&k&&(N.classList.add(`${I.containerModifierClass}grid`),"column"===I.grid.fill&&N.classList.add(`${I.containerModifierClass}grid-column`),t.emitContainerClasses()),a=k}),t.grid={initSlides:I=>{const{slidesPerView:N}=t.params,{rows:k,fill:B}=t.params.grid,G=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:I.length;o=Math.floor(G/k),r=Math.floor(G/k)===G/k?G:Math.ceil(G/k)*k,"auto"!==N&&"row"===B&&(r=Math.max(r,N*k)),s=r/k},unsetSlides:()=>{t.slides&&t.slides.forEach(I=>{I.swiperSlideGridSet&&(I.style.height="",I.style[t.getDirectionLabel("margin-top")]="")})},updateSlide:(I,N,k)=>{const{slidesPerGroup:B}=t.params,G=l(),{rows:Y,fill:J}=t.params.grid,Z=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:k.length;let ge,pe,ae;if("row"===J&&B>1){const de=Math.floor(I/(B*Y)),xe=I-Y*B*de,ve=0===de?B:Math.min(Math.ceil((Z-de*Y*B)/Y),B);ae=Math.floor(xe/ve),pe=xe-ae*ve+de*B,ge=pe+ae*r/Y,N.style.order=ge}else"column"===J?(pe=Math.floor(I/Y),ae=I-pe*Y,(pe>o||pe===o&&ae===Y-1)&&(ae+=1,ae>=Y&&(ae=0,pe+=1))):(ae=Math.floor(I/s),pe=I-ae*s);N.row=ae,N.column=pe,N.style.height=`calc((100% - ${(Y-1)*G}px) / ${Y})`,N.style[t.getDirectionLabel("margin-top")]=0!==ae?G&&`${G}px`:"",N.swiperSlideGridSet=!0},updateWrapperSize:(I,N)=>{const{centeredSlides:k,roundLengths:B}=t.params,G=l(),{rows:Y}=t.params.grid;if(t.virtualSize=(I+G)*r,t.virtualSize=Math.ceil(t.virtualSize/Y)-G,t.params.cssMode||(t.wrapperEl.style[t.getDirectionLabel("width")]=`${t.virtualSize+G}px`),k){const J=[];for(let Z=0;Z<N.length;Z+=1){let ge=N[Z];B&&(ge=Math.floor(ge)),N[Z]<t.virtualSize+N[0]&&J.push(ge)}N.splice(0,N.length),N.push(...J)}}}},function M5e(n){let{swiper:t}=n;Object.assign(t,{appendSlide:S5e.bind(t),prependSlide:C5e.bind(t),addSlide:E5e.bind(t),removeSlide:T5e.bind(t),removeAllSlides:w5e.bind(t)})},function O5e(n){let{swiper:t,extendParams:e,on:i}=n;e({fadeEffect:{crossFade:!1}}),_v({effect:"fade",swiper:t,on:i,setTranslate:()=>{const{slides:o}=t;for(let l=0;l<o.length;l+=1){const c=t.slides[l];let d=-c.swiperSlideOffset;t.params.virtualTranslate||(d-=t.translate);let f=0;t.isHorizontal()||(f=d,d=0);const y=t.params.fadeEffect.crossFade?Math.max(1-Math.abs(c.progress),0):1+Math.min(Math.max(c.progress,-1),0),O=$b(0,c);O.style.opacity=y,O.style.transform=`translate3d(${d}px, ${f}px, 0px)`}},setTransition:o=>{const a=t.slides.map(l=>vg(l));a.forEach(l=>{l.style.transitionDuration=`${o}ms`}),Dw({swiper:t,duration:o,transformElements:a,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!t.params.cssMode})})},function P5e(n){let{swiper:t,extendParams:e,on:i}=n;e({cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}});const r=(l,c,u)=>{let d=l.querySelector(u?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),f=l.querySelector(u?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");d||(d=cl("div",("swiper-slide-shadow-cube swiper-slide-shadow-"+(u?"left":"top")).split(" ")),l.append(d)),f||(f=cl("div",("swiper-slide-shadow-cube swiper-slide-shadow-"+(u?"right":"bottom")).split(" ")),l.append(f)),d&&(d.style.opacity=Math.max(-c,0)),f&&(f.style.opacity=Math.max(c,0))};_v({effect:"cube",swiper:t,on:i,setTranslate:()=>{const{el:l,wrapperEl:c,slides:u,width:d,height:f,rtlTranslate:y,size:O,browser:I}=t,N=t.params.cubeEffect,k=t.isHorizontal(),B=t.virtual&&t.params.virtual.enabled;let Y,G=0;N.shadow&&(k?(Y=t.wrapperEl.querySelector(".swiper-cube-shadow"),Y||(Y=cl("div","swiper-cube-shadow"),t.wrapperEl.append(Y)),Y.style.height=`${d}px`):(Y=l.querySelector(".swiper-cube-shadow"),Y||(Y=cl("div","swiper-cube-shadow"),l.append(Y))));for(let Z=0;Z<u.length;Z+=1){const ge=u[Z];let pe=Z;B&&(pe=parseInt(ge.getAttribute("data-swiper-slide-index"),10));let ae=90*pe,de=Math.floor(ae/360);y&&(ae=-ae,de=Math.floor(-ae/360));const xe=Math.max(Math.min(ge.progress,1),-1);let ve=0,ye=0,Re=0;pe%4==0?(ve=4*-de*O,Re=0):(pe-1)%4==0?(ve=0,Re=4*-de*O):(pe-2)%4==0?(ve=O+4*de*O,Re=O):(pe-3)%4==0&&(ve=-O,Re=3*O+4*O*de),y&&(ve=-ve),k||(ye=ve,ve=0);const Oe=`rotateX(${k?0:-ae}deg) rotateY(${k?ae:0}deg) translate3d(${ve}px, ${ye}px, ${Re}px)`;xe<=1&&xe>-1&&(G=90*pe+90*xe,y&&(G=90*-pe-90*xe),t.browser&&t.browser.need3dFix&&Math.abs(G)/90%2==1&&(G+=.001)),ge.style.transform=Oe,N.slideShadows&&r(ge,xe,k)}if(c.style.transformOrigin=`50% 50% -${O/2}px`,c.style["-webkit-transform-origin"]=`50% 50% -${O/2}px`,N.shadow)if(k)Y.style.transform=`translate3d(0px, ${d/2+N.shadowOffset}px, ${-d/2}px) rotateX(89.99deg) rotateZ(0deg) scale(${N.shadowScale})`;else{const Z=Math.abs(G)-90*Math.floor(Math.abs(G)/90),ge=1.5-(Math.sin(2*Z*Math.PI/360)/2+Math.cos(2*Z*Math.PI/360)/2),ae=N.shadowScale/ge;Y.style.transform=`scale3d(${N.shadowScale}, 1, ${ae}) translate3d(0px, ${f/2+N.shadowOffset}px, ${-f/2/ae}px) rotateX(-89.99deg)`}const J=(I.isSafari||I.isWebView)&&I.needPerspectiveFix?-O/2:0;c.style.transform=`translate3d(0px,0,${J}px) rotateX(${t.isHorizontal()?0:G}deg) rotateY(${t.isHorizontal()?-G:0}deg)`,c.style.setProperty("--swiper-cube-translate-z",`${J}px`)},setTransition:l=>{const{el:c,slides:u}=t;if(u.forEach(d=>{d.style.transitionDuration=`${l}ms`,d.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(f=>{f.style.transitionDuration=`${l}ms`})}),t.params.cubeEffect.shadow&&!t.isHorizontal()){const d=c.querySelector(".swiper-cube-shadow");d&&(d.style.transitionDuration=`${l}ms`)}},recreateShadows:()=>{const l=t.isHorizontal();t.slides.forEach(c=>{const u=Math.max(Math.min(c.progress,1),-1);r(c,u,l)})},getEffectParams:()=>t.params.cubeEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0})})},function x5e(n){let{swiper:t,extendParams:e,on:i}=n;e({flipEffect:{slideShadows:!0,limitRotation:!0}});const r=(l,c)=>{let u=t.isHorizontal()?l.querySelector(".swiper-slide-shadow-left"):l.querySelector(".swiper-slide-shadow-top"),d=t.isHorizontal()?l.querySelector(".swiper-slide-shadow-right"):l.querySelector(".swiper-slide-shadow-bottom");u||(u=mv("flip",l,t.isHorizontal()?"left":"top")),d||(d=mv("flip",l,t.isHorizontal()?"right":"bottom")),u&&(u.style.opacity=Math.max(-c,0)),d&&(d.style.opacity=Math.max(c,0))};_v({effect:"flip",swiper:t,on:i,setTranslate:()=>{const{slides:l,rtlTranslate:c}=t,u=t.params.flipEffect;for(let d=0;d<l.length;d+=1){const f=l[d];let y=f.progress;t.params.flipEffect.limitRotation&&(y=Math.max(Math.min(f.progress,1),-1));const O=f.swiperSlideOffset;let N=-180*y,k=0,B=t.params.cssMode?-O-t.translate:-O,G=0;t.isHorizontal()?c&&(N=-N):(G=B,B=0,k=-N,N=0),t.browser&&t.browser.need3dFix&&(Math.abs(N)/90%2==1&&(N+=.001),Math.abs(k)/90%2==1&&(k+=.001)),f.style.zIndex=-Math.abs(Math.round(y))+l.length,u.slideShadows&&r(f,y);const Y=`translate3d(${B}px, ${G}px, 0px) rotateX(${k}deg) rotateY(${N}deg)`;$b(0,f).style.transform=Y}},setTransition:l=>{const c=t.slides.map(u=>vg(u));c.forEach(u=>{u.style.transitionDuration=`${l}ms`,u.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(d=>{d.style.transitionDuration=`${l}ms`})}),Dw({swiper:t,duration:l,transformElements:c})},recreateShadows:()=>{t.slides.forEach(l=>{let c=l.progress;t.params.flipEffect.limitRotation&&(c=Math.max(Math.min(l.progress,1),-1)),r(l,c)})},getEffectParams:()=>t.params.flipEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!t.params.cssMode})})},function I5e(n){let{swiper:t,extendParams:e,on:i}=n;e({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}}),_v({effect:"coverflow",swiper:t,on:i,setTranslate:()=>{const{width:o,height:a,slides:l,slidesSizesGrid:c}=t,u=t.params.coverflowEffect,d=t.isHorizontal(),f=t.translate,y=d?o/2-f:a/2-f,O=d?u.rotate:-u.rotate,I=u.depth;for(let N=0,k=l.length;N<k;N+=1){const B=l[N],G=c[N],J=(y-B.swiperSlideOffset-G/2)/G,Z="function"==typeof u.modifier?u.modifier(J):J*u.modifier;let ge=d?O*Z:0,pe=d?0:O*Z,ae=-I*Math.abs(Z),de=u.stretch;"string"==typeof de&&-1!==de.indexOf("%")&&(de=parseFloat(u.stretch)/100*G);let xe=d?0:de*Z,ve=d?de*Z:0,ye=1-(1-u.scale)*Math.abs(Z);Math.abs(ve)<.001&&(ve=0),Math.abs(xe)<.001&&(xe=0),Math.abs(ae)<.001&&(ae=0),Math.abs(ge)<.001&&(ge=0),Math.abs(pe)<.001&&(pe=0),Math.abs(ye)<.001&&(ye=0),t.browser&&t.browser.need3dFix&&(Math.abs(ge)/90%2==1&&(ge+=.001),Math.abs(pe)/90%2==1&&(pe+=.001));const Re=`translate3d(${ve}px,${xe}px,${ae}px)  rotateX(${pe}deg) rotateY(${ge}deg) scale(${ye})`;if($b(0,B).style.transform=Re,B.style.zIndex=1-Math.abs(Math.round(Z)),u.slideShadows){let be=B.querySelector(d?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),Ee=B.querySelector(d?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");be||(be=mv("coverflow",B,d?"left":"top")),Ee||(Ee=mv("coverflow",B,d?"right":"bottom")),be&&(be.style.opacity=Z>0?Z:0),Ee&&(Ee.style.opacity=-Z>0?-Z:0)}}},setTransition:o=>{t.slides.map(l=>vg(l)).forEach(l=>{l.style.transitionDuration=`${o}ms`,l.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(c=>{c.style.transitionDuration=`${o}ms`})})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0})})},function A5e(n){let{swiper:t,extendParams:e,on:i}=n;e({creativeEffect:{limitProgress:1,shadowPerProgress:!1,progressMultiplier:1,perspective:!0,prev:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1},next:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1}}});const r=a=>"string"==typeof a?a:`${a}px`;_v({effect:"creative",swiper:t,on:i,setTranslate:()=>{const{slides:a,wrapperEl:l,slidesSizesGrid:c}=t,u=t.params.creativeEffect,{progressMultiplier:d}=u,f=t.params.centeredSlides;f&&(l.style.transform=`translateX(calc(50% - ${c[0]/2-t.params.slidesOffsetBefore||0}px))`);for(let y=0;y<a.length;y+=1){const O=a[y],I=O.progress,N=Math.min(Math.max(O.progress,-u.limitProgress),u.limitProgress);let k=N;f||(k=Math.min(Math.max(O.originalProgress,-u.limitProgress),u.limitProgress));const B=O.swiperSlideOffset,G=[t.params.cssMode?-B-t.translate:-B,0,0],Y=[0,0,0];let J=!1;t.isHorizontal()||(G[1]=G[0],G[0]=0);let Z={translate:[0,0,0],rotate:[0,0,0],scale:1,opacity:1};N<0?(Z=u.next,J=!0):N>0&&(Z=u.prev,J=!0),G.forEach((ye,Re)=>{G[Re]=`calc(${ye}px + (${r(Z.translate[Re])} * ${Math.abs(N*d)}))`}),Y.forEach((ye,Re)=>{let Oe=Z.rotate[Re]*Math.abs(N*d);t.browser&&t.browser.need3dFix&&Math.abs(Oe)/90%2==1&&(Oe+=.001),Y[Re]=Oe}),O.style.zIndex=-Math.abs(Math.round(I))+a.length;const ge=G.join(", "),de=k<0?1+(1-Z.opacity)*k*d:1-(1-Z.opacity)*k*d,xe=`translate3d(${ge}) rotateX(${Y[0]}deg) rotateY(${Y[1]}deg) rotateZ(${Y[2]}deg) ${k<0?`scale(${1+(1-Z.scale)*k*d})`:`scale(${1-(1-Z.scale)*k*d})`}`;if(J&&Z.shadow||!J){let ye=O.querySelector(".swiper-slide-shadow");!ye&&Z.shadow&&(ye=mv("creative",O)),ye&&(ye.style.opacity=Math.min(Math.max(Math.abs(u.shadowPerProgress?N*(1/u.limitProgress):N),0),1))}const ve=$b(0,O);ve.style.transform=xe,ve.style.opacity=de,Z.origin&&(ve.style.transformOrigin=Z.origin)}},setTransition:a=>{const l=t.slides.map(c=>vg(c));l.forEach(c=>{c.style.transitionDuration=`${a}ms`,c.querySelectorAll(".swiper-slide-shadow").forEach(u=>{u.style.transitionDuration=`${a}ms`})}),Dw({swiper:t,duration:a,transformElements:l,allSlides:!0})},perspective:()=>t.params.creativeEffect.perspective,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!t.params.cssMode})})},function R5e(n){let{swiper:t,extendParams:e,on:i}=n;e({cardsEffect:{slideShadows:!0,rotate:!0,perSlideRotate:2,perSlideOffset:8}}),_v({effect:"cards",swiper:t,on:i,setTranslate:()=>{const{slides:o,activeIndex:a,rtlTranslate:l}=t,c=t.params.cardsEffect,{startTranslate:u,isTouched:d}=t.touchEventsData,f=l?-t.translate:t.translate;for(let y=0;y<o.length;y+=1){const O=o[y],I=O.progress,N=Math.min(Math.max(I,-4),4);let k=O.swiperSlideOffset;t.params.centeredSlides&&!t.params.cssMode&&(t.wrapperEl.style.transform=`translateX(${t.minTranslate()}px)`),t.params.centeredSlides&&t.params.cssMode&&(k-=o[0].swiperSlideOffset);let B=t.params.cssMode?-k-t.translate:-k,G=0;const Y=-100*Math.abs(N);let J=1,Z=-c.perSlideRotate*N,ge=c.perSlideOffset-.75*Math.abs(N);const pe=t.virtual&&t.params.virtual.enabled?t.virtual.from+y:y,de=(pe===a||pe===a+1)&&N<0&&N>-1&&(d||t.params.cssMode)&&f>u;if((pe===a||pe===a-1)&&N>0&&N<1&&(d||t.params.cssMode)&&f<u||de){const Re=Xo(1-Math.abs((Math.abs(N)-.5)/.5),.5);Z+=-28*N*Re,J+=-.5*Re,ge+=96*Re,G=-25*Re*Math.abs(N)+"%"}if(B=N<0?`calc(${B}px ${l?"-":"+"} (${ge*Math.abs(N)}%))`:N>0?`calc(${B}px ${l?"-":"+"} (-${ge*Math.abs(N)}%))`:`${B}px`,!t.isHorizontal()){const Re=G;G=B,B=Re}const ve=`\n        translate3d(${B}, ${G}, ${Y}px)\n        rotateZ(${c.rotate?l?-Z:Z:0}deg)\n        scale(${N<0?""+(1+(1-J)*N):""+(1-(1-J)*N)})\n      `;if(c.slideShadows){let Re=O.querySelector(".swiper-slide-shadow");Re||(Re=mv("cards",O)),Re&&(Re.style.opacity=Math.min(Math.max((Math.abs(N)-.5)/.5,0),1))}O.style.zIndex=-Math.abs(Math.round(I))+o.length,$b(0,O).style.transform=ve}},setTransition:o=>{const a=t.slides.map(l=>vg(l));a.forEach(l=>{l.style.transitionDuration=`${o}ms`,l.querySelectorAll(".swiper-slide-shadow").forEach(c=>{c.style.transitionDuration=`${o}ms`})}),Dw({swiper:t,duration:o,transformElements:a})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!t.params.cssMode})})}];ul.use(D5e);const Nw=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function vv(n){return"object"==typeof n&&null!==n&&n.constructor&&"Object"===Object.prototype.toString.call(n).slice(8,-1)&&!n.__swiper__}function XN(n,t){const e=["__proto__","constructor","prototype"];Object.keys(t).filter(i=>e.indexOf(i)<0).forEach(i=>{void 0===n[i]?n[i]=t[i]:vv(t[i])&&vv(n[i])&&Object.keys(t[i]).length>0?t[i].__swiper__?n[i]=t[i]:XN(n[i],t[i]):n[i]=t[i]})}function kw(n){return void 0===n&&(n=""),n.replace(/-[a-z]/g,t=>t.toUpperCase().replace("-",""))}const FX=n=>{if(parseFloat(n)===Number(n))return Number(n);if("true"===n||""===n)return!0;if("false"===n)return!1;if("null"===n)return null;if("undefined"!==n){if("string"==typeof n&&n.includes("{")&&n.includes("}")&&n.includes('"')){let t;try{t=JSON.parse(n)}catch(e){t=n}return t}return n}},LX=["a11y","autoplay","controller","cards-effect","coverflow-effect","creative-effect","cube-effect","fade-effect","flip-effect","free-mode","grid","hash-navigation","history","keyboard","mousewheel","navigation","pagination","parallax","scrollbar","thumbs","virtual","zoom"];function BX(n,t,e){const i={},r={};XN(i,zN);const s=[...Nw,"on"],o=s.map(l=>l.replace(/_/,""));s.forEach(l=>{l=l.replace("_",""),void 0!==n[l]&&(r[l]=n[l])});const a=[...n.attributes];return"string"==typeof t&&void 0!==e&&a.push({name:t,value:vv(e)?Be({},e):e}),a.forEach(l=>{const c=LX.filter(u=>0===l.name.indexOf(`${u}-`))[0];if(c){const u=kw(c),d=kw(l.name.split(`${c}-`)[1]);void 0===r[u]&&(r[u]={}),!0===r[u]&&(r[u]={enabled:!0}),r[u][d]=FX(l.value)}else{const u=kw(l.name);if(!o.includes(u))return;const d=FX(l.value);r[u]&&LX.includes(l.name)&&!vv(d)?(r[u].constructor!==Object&&(r[u]={}),r[u].enabled=!!d):r[u]=d}}),XN(i,r),i.navigation?i.navigation=Be({prevEl:".swiper-button-prev",nextEl:".swiper-button-next"},!0!==i.navigation?i.navigation:{}):!1===i.navigation&&delete i.navigation,i.scrollbar?i.scrollbar=Be({el:".swiper-scrollbar"},!0!==i.scrollbar?i.scrollbar:{}):!1===i.scrollbar&&delete i.scrollbar,i.pagination?i.pagination=Be({el:".swiper-pagination"},!0!==i.pagination?i.pagination:{}):!1===i.pagination&&delete i.pagination,{params:i,passedParams:r}}const B5e=":host{--swiper-theme-color:#007aff}:host{position:relative;display:block;margin-left:auto;margin-right:auto;z-index:1}.swiper{width:100%;height:100%;margin-left:auto;margin-right:auto;position:relative;overflow:hidden;list-style:none;padding:0;z-index:1;display:block}.swiper-vertical>.swiper-wrapper{flex-direction:column}.swiper-wrapper{position:relative;width:100%;height:100%;z-index:1;display:flex;transition-property:transform;transition-timing-function:var(--swiper-wrapper-transition-timing-function,initial);box-sizing:content-box}.swiper-android ::slotted(swiper-slide),.swiper-ios ::slotted(swiper-slide),.swiper-wrapper{transform:translate3d(0px,0,0)}.swiper-horizontal{touch-action:pan-y}.swiper-vertical{touch-action:pan-x}::slotted(swiper-slide){flex-shrink:0;width:100%;height:100%;position:relative;transition-property:transform;display:block}::slotted(.swiper-slide-invisible-blank){visibility:hidden}.swiper-autoheight,.swiper-autoheight ::slotted(swiper-slide){height:auto}.swiper-autoheight .swiper-wrapper{align-items:flex-start;transition-property:transform,height}.swiper-backface-hidden ::slotted(swiper-slide){transform:translateZ(0);-webkit-backface-visibility:hidden;backface-visibility:hidden}.swiper-3d.swiper-css-mode .swiper-wrapper{perspective:1200px}.swiper-3d .swiper-wrapper{transform-style:preserve-3d}.swiper-3d{perspective:1200px}.swiper-3d .swiper-cube-shadow,.swiper-3d ::slotted(swiper-slide){transform-style:preserve-3d}.swiper-css-mode>.swiper-wrapper{overflow:auto;scrollbar-width:none;-ms-overflow-style:none}.swiper-css-mode>.swiper-wrapper::-webkit-scrollbar{display:none}.swiper-css-mode ::slotted(swiper-slide){scroll-snap-align:start start}.swiper-css-mode.swiper-horizontal>.swiper-wrapper{scroll-snap-type:x mandatory}.swiper-css-mode.swiper-vertical>.swiper-wrapper{scroll-snap-type:y mandatory}.swiper-css-mode.swiper-free-mode>.swiper-wrapper{scroll-snap-type:none}.swiper-css-mode.swiper-free-mode ::slotted(swiper-slide){scroll-snap-align:none}.swiper-css-mode.swiper-centered>.swiper-wrapper::before{content:'';flex-shrink:0;order:9999}.swiper-css-mode.swiper-centered ::slotted(swiper-slide){scroll-snap-align:center center;scroll-snap-stop:always}.swiper-css-mode.swiper-centered.swiper-horizontal ::slotted(swiper-slide):first-child{margin-inline-start:var(--swiper-centered-offset-before)}.swiper-css-mode.swiper-centered.swiper-horizontal>.swiper-wrapper::before{height:100%;min-height:1px;width:var(--swiper-centered-offset-after)}.swiper-css-mode.swiper-centered.swiper-vertical ::slotted(swiper-slide):first-child{margin-block-start:var(--swiper-centered-offset-before)}.swiper-css-mode.swiper-centered.swiper-vertical>.swiper-wrapper::before{width:100%;min-width:1px;height:var(--swiper-centered-offset-after)}.swiper-virtual ::slotted(swiper-slide){-webkit-backface-visibility:hidden;transform:translateZ(0)}.swiper-virtual.swiper-css-mode .swiper-wrapper::after{content:'';position:absolute;left:0;top:0;pointer-events:none}.swiper-virtual.swiper-css-mode.swiper-horizontal .swiper-wrapper::after{height:1px;width:var(--swiper-virtual-size)}.swiper-virtual.swiper-css-mode.swiper-vertical .swiper-wrapper::after{width:1px;height:var(--swiper-virtual-size)}:host{--swiper-navigation-size:44px}.swiper-button-next,.swiper-button-prev{position:absolute;top:var(--swiper-navigation-top-offset,50%);width:calc(var(--swiper-navigation-size)/ 44 * 27);height:var(--swiper-navigation-size);margin-top:calc(0px - (var(--swiper-navigation-size)/ 2));z-index:10;cursor:pointer;display:flex;align-items:center;justify-content:center;color:var(--swiper-navigation-color,var(--swiper-theme-color))}.swiper-button-next.swiper-button-disabled,.swiper-button-prev.swiper-button-disabled{opacity:.35;cursor:auto;pointer-events:none}.swiper-button-next.swiper-button-hidden,.swiper-button-prev.swiper-button-hidden{opacity:0;cursor:auto;pointer-events:none}.swiper-navigation-disabled .swiper-button-next,.swiper-navigation-disabled .swiper-button-prev{display:none!important}.swiper-button-next svg,.swiper-button-prev svg{width:100%;height:100%;object-fit:contain;transform-origin:center}.swiper-rtl .swiper-button-next svg,.swiper-rtl .swiper-button-prev svg{transform:rotate(180deg)}.swiper-button-prev,.swiper-rtl .swiper-button-next{left:var(--swiper-navigation-sides-offset,10px);right:auto}.swiper-button-next,.swiper-rtl .swiper-button-prev{right:var(--swiper-navigation-sides-offset,10px);left:auto}.swiper-button-lock{display:none}.swiper-pagination{position:absolute;text-align:center;transition:.3s opacity;transform:translate3d(0,0,0);z-index:10}.swiper-pagination.swiper-pagination-hidden{opacity:0}.swiper-pagination-disabled>.swiper-pagination,.swiper-pagination.swiper-pagination-disabled{display:none!important}.swiper-horizontal>.swiper-pagination-bullets,.swiper-pagination-bullets.swiper-pagination-horizontal,.swiper-pagination-custom,.swiper-pagination-fraction{bottom:var(--swiper-pagination-bottom,8px);top:var(--swiper-pagination-top,auto);left:0;width:100%}.swiper-pagination-bullets-dynamic{overflow:hidden;font-size:0}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transform:scale(.33);position:relative}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active{transform:scale(1)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-main{transform:scale(1)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev{transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev-prev{transform:scale(.33)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next{transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next-next{transform:scale(.33)}.swiper-pagination-bullet{width:var(--swiper-pagination-bullet-width,var(--swiper-pagination-bullet-size,8px));height:var(--swiper-pagination-bullet-height,var(--swiper-pagination-bullet-size,8px));display:inline-block;border-radius:var(--swiper-pagination-bullet-border-radius,50%);background:var(--swiper-pagination-bullet-inactive-color,#000);opacity:var(--swiper-pagination-bullet-inactive-opacity, .2)}button.swiper-pagination-bullet{border:none;margin:0;padding:0;box-shadow:none;-webkit-appearance:none;appearance:none}.swiper-pagination-clickable .swiper-pagination-bullet{cursor:pointer}.swiper-pagination-bullet:only-child{display:none!important}.swiper-pagination-bullet-active{opacity:var(--swiper-pagination-bullet-opacity, 1);background:var(--swiper-pagination-color,var(--swiper-theme-color))}.swiper-pagination-vertical.swiper-pagination-bullets,.swiper-vertical>.swiper-pagination-bullets{right:var(--swiper-pagination-right,8px);left:var(--swiper-pagination-left,auto);top:50%;transform:translate3d(0px,-50%,0)}.swiper-pagination-vertical.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-vertical>.swiper-pagination-bullets .swiper-pagination-bullet{margin:var(--swiper-pagination-bullet-vertical-gap,6px) 0;display:block}.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{top:50%;transform:translateY(-50%);width:8px}.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{display:inline-block;transition:.2s transform,.2s top}.swiper-horizontal>.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets .swiper-pagination-bullet{margin:0 var(--swiper-pagination-bullet-horizontal-gap,4px)}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{left:50%;transform:translateX(-50%);white-space:nowrap}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:.2s transform,.2s left}.swiper-horizontal.swiper-rtl>.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:.2s transform,.2s right}.swiper-pagination-fraction{color:var(--swiper-pagination-fraction-color,inherit)}.swiper-pagination-progressbar{background:var(--swiper-pagination-progressbar-bg-color,rgba(0,0,0,.25));position:absolute}.swiper-pagination-progressbar .swiper-pagination-progressbar-fill{background:var(--swiper-pagination-color,var(--swiper-theme-color));position:absolute;left:0;top:0;width:100%;height:100%;transform:scale(0);transform-origin:left top}.swiper-rtl .swiper-pagination-progressbar .swiper-pagination-progressbar-fill{transform-origin:right top}.swiper-horizontal>.swiper-pagination-progressbar,.swiper-pagination-progressbar.swiper-pagination-horizontal,.swiper-pagination-progressbar.swiper-pagination-vertical.swiper-pagination-progressbar-opposite,.swiper-vertical>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite{width:100%;height:var(--swiper-pagination-progressbar-size,4px);left:0;top:0}.swiper-horizontal>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-horizontal.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-vertical,.swiper-vertical>.swiper-pagination-progressbar{width:var(--swiper-pagination-progressbar-size,4px);height:100%;left:0;top:0}.swiper-pagination-lock{display:none}.swiper-scrollbar{border-radius:var(--swiper-scrollbar-border-radius,10px);position:relative;touch-action:none;background:var(--swiper-scrollbar-bg-color,rgba(0,0,0,.1))}.swiper-scrollbar-disabled>.swiper-scrollbar,.swiper-scrollbar.swiper-scrollbar-disabled{display:none!important}.swiper-horizontal>.swiper-scrollbar,.swiper-scrollbar.swiper-scrollbar-horizontal{position:absolute;left:var(--swiper-scrollbar-sides-offset,1%);bottom:var(--swiper-scrollbar-bottom,4px);top:var(--swiper-scrollbar-top,auto);z-index:50;height:var(--swiper-scrollbar-size,4px);width:calc(100% - 2 * var(--swiper-scrollbar-sides-offset,1%))}.swiper-scrollbar.swiper-scrollbar-vertical,.swiper-vertical>.swiper-scrollbar{position:absolute;left:var(--swiper-scrollbar-left,auto);right:var(--swiper-scrollbar-right,4px);top:var(--swiper-scrollbar-sides-offset,1%);z-index:50;width:var(--swiper-scrollbar-size,4px);height:calc(100% - 2 * var(--swiper-scrollbar-sides-offset,1%))}.swiper-scrollbar-drag{height:100%;width:100%;position:relative;background:var(--swiper-scrollbar-drag-bg-color,rgba(0,0,0,.5));border-radius:var(--swiper-scrollbar-border-radius,10px);left:0;top:0}.swiper-scrollbar-cursor-drag{cursor:move}.swiper-scrollbar-lock{display:none}::slotted(.swiper-slide-zoomed){cursor:move;touch-action:none}.swiper .swiper-notification{position:absolute;left:0;top:0;pointer-events:none;opacity:0;z-index:-1000}.swiper-free-mode>.swiper-wrapper{transition-timing-function:ease-out;margin:0 auto}.swiper-grid>.swiper-wrapper{flex-wrap:wrap}.swiper-grid-column>.swiper-wrapper{flex-wrap:wrap;flex-direction:column}.swiper-fade.swiper-free-mode ::slotted(swiper-slide){transition-timing-function:ease-out}.swiper-fade ::slotted(swiper-slide){pointer-events:none;transition-property:opacity}.swiper-fade ::slotted(swiper-slide) ::slotted(swiper-slide){pointer-events:none}.swiper-fade ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-fade ::slotted(.swiper-slide-active) ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-cube{overflow:visible}.swiper-cube ::slotted(swiper-slide){pointer-events:none;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:1;visibility:hidden;transform-origin:0 0;width:100%;height:100%}.swiper-cube ::slotted(swiper-slide) ::slotted(swiper-slide){pointer-events:none}.swiper-cube.swiper-rtl ::slotted(swiper-slide){transform-origin:100% 0}.swiper-cube ::slotted(.swiper-slide-active),.swiper-cube ::slotted(.swiper-slide-active) ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-cube ::slotted(.swiper-slide-active),.swiper-cube ::slotted(.swiper-slide-next),.swiper-cube ::slotted(.swiper-slide-prev){pointer-events:auto;visibility:visible}.swiper-cube .swiper-cube-shadow{position:absolute;left:0;bottom:0px;width:100%;height:100%;opacity:.6;z-index:0}.swiper-cube .swiper-cube-shadow:before{content:'';background:#000;position:absolute;left:0;top:0;bottom:0;right:0;filter:blur(50px)}.swiper-cube ::slotted(.swiper-slide-next)+::slotted(swiper-slide){pointer-events:auto;visibility:visible}.swiper-flip{overflow:visible}.swiper-flip ::slotted(swiper-slide){pointer-events:none;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:1}.swiper-flip ::slotted(swiper-slide) ::slotted(swiper-slide){pointer-events:none}.swiper-flip ::slotted(.swiper-slide-active),.swiper-flip ::slotted(.swiper-slide-active) ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-creative ::slotted(swiper-slide){-webkit-backface-visibility:hidden;backface-visibility:hidden;overflow:hidden;transition-property:transform,opacity,height}.swiper-cards{overflow:visible}.swiper-cards ::slotted(swiper-slide){transform-origin:center bottom;-webkit-backface-visibility:hidden;backface-visibility:hidden;overflow:hidden}",UX="undefined"==typeof window||"undefined"==typeof HTMLElement?class G5e{}:HTMLElement,GX='<svg width="11" height="20" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.38296 20.0762C0.111788 19.805 0.111788 19.3654 0.38296 19.0942L9.19758 10.2796L0.38296 1.46497C0.111788 1.19379 0.111788 0.754138 0.38296 0.482966C0.654131 0.211794 1.09379 0.211794 1.36496 0.482966L10.4341 9.55214C10.8359 9.9539 10.8359 10.6053 10.4341 11.007L1.36496 20.0762C1.09379 20.3474 0.654131 20.3474 0.38296 20.0762Z" fill="currentColor"/></svg>\n    ',jX=(n,t)=>{if("undefined"!=typeof CSSStyleSheet&&n.adoptedStyleSheets){const e=new CSSStyleSheet;e.replaceSync(t),n.adoptedStyleSheets=[e]}else{const e=document.createElement("style");e.rel="stylesheet",e.textContent=t,n.appendChild(e)}};class HX extends UX{constructor(){super(),this.attachShadow({mode:"open"})}static get nextButtonSvg(){return GX}static get prevButtonSvg(){return GX.replace("/></svg>",' transform-origin="center" transform="rotate(180)"/></svg>')}cssStyles(){return[B5e,...this.injectStyles&&Array.isArray(this.injectStyles)?this.injectStyles:[]].join("\n")}cssLinks(){return this.injectStylesUrls||[]}calcSlideSlots(){const t=this.slideSlots||0,e=[...this.querySelectorAll("[slot^=slide-]")].map(i=>parseInt(i.getAttribute("slot").split("slide-")[1],10));if(this.slideSlots=e.length?Math.max(...e)+1:0,this.rendered)if(this.slideSlots>t)for(let i=t;i<this.slideSlots;i+=1){const r=document.createElement("swiper-slide");r.setAttribute("part",`slide slide-${i+1}`);const s=document.createElement("slot");s.setAttribute("name",`slide-${i+1}`),r.appendChild(s),this.shadowRoot.querySelector(".swiper-wrapper").appendChild(r)}else if(this.slideSlots<t){const i=this.swiper.slides;for(let r=i.length-1;r>=0;r-=1)r>this.slideSlots&&i[r].remove()}}render(){if(this.rendered)return;this.calcSlideSlots();let t=this.cssStyles();this.slideSlots>0&&(t=t.replace(/::slotted\(([a-z-0-9.]*)\)/g,"$1")),t.length&&jX(this.shadowRoot,t),this.cssLinks().forEach(i=>{if(this.shadowRoot.querySelector(`link[href="${i}"]`))return;const s=document.createElement("link");s.rel="stylesheet",s.href=i,this.shadowRoot.appendChild(s)});const e=document.createElement("div");e.classList.add("swiper"),e.part="container",e.innerHTML=`\n      <slot name="container-start"></slot>\n      <div class="swiper-wrapper" part="wrapper">\n        <slot></slot>\n        ${Array.from({length:this.slideSlots}).map((i,r)=>`\n        <swiper-slide part="slide slide-${r}">\n          <slot name="slide-${r}"></slot>\n        </swiper-slide>\n        `).join("")}\n      </div>\n      <slot name="container-end"></slot>\n      ${function N5e(n){return void 0===n&&(n={}),n.navigation&&void 0===n.navigation.nextEl&&void 0===n.navigation.prevEl}(this.passedParams)?`\n        <div part="button-prev" class="swiper-button-prev">${this.constructor.prevButtonSvg}</div>\n        <div part="button-next" class="swiper-button-next">${this.constructor.nextButtonSvg}</div>\n      `:""}\n      ${function k5e(n){return void 0===n&&(n={}),n.pagination&&void 0===n.pagination.el}(this.passedParams)?'\n        <div part="pagination" class="swiper-pagination"></div>\n      ':""}\n      ${function F5e(n){return void 0===n&&(n={}),n.scrollbar&&void 0===n.scrollbar.el}(this.passedParams)?'\n        <div part="scrollbar" class="swiper-scrollbar"></div>\n      ':""}\n    `,this.shadowRoot.appendChild(e),this.rendered=!0}initialize(){var t=this;if(this.initialized)return;this.initialized=!0;const{params:e,passedParams:i}=BX(this);this.swiperParams=e,this.passedParams=i,delete this.swiperParams.init,this.render(),this.swiper=new ul(this.shadowRoot.querySelector(".swiper"),xn(Be(Be({},e.virtual?{}:{observer:!0,observeSlideChildren:this.slideSlots>0}),e),{touchEventsTarget:"container",onAny:function(r){"observerUpdate"===r&&t.calcSlideSlots();const s=e.eventsPrefix?`${e.eventsPrefix}${r.toLowerCase()}`:r.toLowerCase();for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];const c=new CustomEvent(s,{detail:a,bubbles:"hashChange"!==r,cancelable:!0});t.dispatchEvent(c)}}))}connectedCallback(){this.initialized&&this.nested&&this.closest("swiper-slide")&&this.closest("swiper-slide").swiperLoopMoveDOM||!1===this.init||"false"===this.getAttribute("init")||this.initialize()}disconnectedCallback(){this.nested&&this.closest("swiper-slide")&&this.closest("swiper-slide").swiperLoopMoveDOM||(this.swiper&&this.swiper.destroy&&this.swiper.destroy(),this.initialized=!1)}updateSwiperOnPropChange(t,e){const{params:i,passedParams:r}=BX(this,t,e);this.passedParams=r,this.swiperParams=i,(!this.swiper||this.swiper.params[t]!==e)&&function L5e(n){let{swiper:t,slides:e,passedParams:i,changedParams:r,nextEl:s,prevEl:o,scrollbarEl:a,paginationEl:l}=n;const c=r.filter(ae=>"children"!==ae&&"direction"!==ae&&"wrapperClass"!==ae),{params:u,pagination:d,navigation:f,scrollbar:y,virtual:O,thumbs:I}=t;let N,k,B,G,Y,J,Z,ge;r.includes("thumbs")&&i.thumbs&&i.thumbs.swiper&&u.thumbs&&!u.thumbs.swiper&&(N=!0),r.includes("controller")&&i.controller&&i.controller.control&&u.controller&&!u.controller.control&&(k=!0),r.includes("pagination")&&i.pagination&&(i.pagination.el||l)&&(u.pagination||!1===u.pagination)&&d&&!d.el&&(B=!0),r.includes("scrollbar")&&i.scrollbar&&(i.scrollbar.el||a)&&(u.scrollbar||!1===u.scrollbar)&&y&&!y.el&&(G=!0),r.includes("navigation")&&i.navigation&&(i.navigation.prevEl||o)&&(i.navigation.nextEl||s)&&(u.navigation||!1===u.navigation)&&f&&!f.prevEl&&!f.nextEl&&(Y=!0);const pe=ae=>{!t[ae]||(t[ae].destroy(),"navigation"===ae?(t.isElement&&(t[ae].prevEl.remove(),t[ae].nextEl.remove()),u[ae].prevEl=void 0,u[ae].nextEl=void 0,t[ae].prevEl=void 0,t[ae].nextEl=void 0):(t.isElement&&t[ae].el.remove(),u[ae].el=void 0,t[ae].el=void 0))};r.includes("loop")&&t.isElement&&(u.loop&&!i.loop?J=!0:!u.loop&&i.loop?Z=!0:ge=!0),c.forEach(ae=>{if(vv(u[ae])&&vv(i[ae]))Object.assign(u[ae],i[ae]),("navigation"===ae||"pagination"===ae||"scrollbar"===ae)&&"enabled"in i[ae]&&!i[ae].enabled&&pe(ae);else{const de=i[ae];!0!==de&&!1!==de||"navigation"!==ae&&"pagination"!==ae&&"scrollbar"!==ae?u[ae]=i[ae]:!1===de&&pe(ae)}}),c.includes("controller")&&!k&&t.controller&&t.controller.control&&u.controller&&u.controller.control&&(t.controller.control=u.controller.control),r.includes("children")&&e&&O&&u.virtual.enabled?(O.slides=e,O.update(!0)):r.includes("virtual")&&O&&u.virtual.enabled&&(e&&(O.slides=e),O.update(!0)),r.includes("children")&&e&&u.loop&&(ge=!0),N&&I.init()&&I.update(!0),k&&(t.controller.control=u.controller.control),B&&(t.isElement&&(!l||"string"==typeof l)&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),t.el.appendChild(l)),l&&(u.pagination.el=l),d.init(),d.render(),d.update()),G&&(t.isElement&&(!a||"string"==typeof a)&&(a=document.createElement("div"),a.classList.add("swiper-scrollbar"),a.part.add("scrollbar"),t.el.appendChild(a)),a&&(u.scrollbar.el=a),y.init(),y.updateSize(),y.setTranslate()),Y&&(t.isElement&&((!s||"string"==typeof s)&&(s=document.createElement("div"),s.classList.add("swiper-button-next"),s.innerHTML=t.hostEl.constructor.nextButtonSvg,s.part.add("button-next"),t.el.appendChild(s)),(!o||"string"==typeof o)&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),o.innerHTML=t.hostEl.constructor.prevButtonSvg,o.part.add("button-prev"),t.el.appendChild(o))),s&&(u.navigation.nextEl=s),o&&(u.navigation.prevEl=o),f.init(),f.update()),r.includes("allowSlideNext")&&(t.allowSlideNext=i.allowSlideNext),r.includes("allowSlidePrev")&&(t.allowSlidePrev=i.allowSlidePrev),r.includes("direction")&&t.changeDirection(i.direction,!1),(J||ge)&&t.loopDestroy(),(Z||ge)&&t.loopCreate(),t.update()}(Be(Be(Be({swiper:this.swiper,passedParams:this.passedParams,changedParams:[kw(t)]},"navigation"===t&&r[t]?{prevEl:".swiper-button-prev",nextEl:".swiper-button-next"}:{}),"pagination"===t&&r[t]?{paginationEl:".swiper-pagination"}:{}),"scrollbar"===t&&r[t]?{scrollbarEl:".swiper-scrollbar"}:{}))}attributeChangedCallback(t,e,i){!this.initialized||("true"===e&&null===i&&(i=!1),this.updateSwiperOnPropChange(t,i))}static get observedAttributes(){return Nw.filter(e=>e.includes("_")).map(e=>e.replace(/[A-Z]/g,i=>`-${i}`).replace("_","").toLowerCase())}}Nw.forEach(n=>{"init"!==n&&(n=n.replace("_",""),Object.defineProperty(HX.prototype,n,{configurable:!0,get(){return(this.passedParams||{})[n]},set(t){this.passedParams||(this.passedParams={}),this.passedParams[n]=t,this.initialized&&this.updateSwiperOnPropChange(n,t)}}))});"undefined"!=typeof window&&(window.SwiperElementRegisterParams=n=>{Nw.push(...n)}),"undefined"!=typeof window&&(window.customElements.get("swiper-container")||window.customElements.define("swiper-container",HX),window.customElements.get("swiper-slide")||window.customElements.define("swiper-slide",class j5e extends UX{constructor(){super(),this.attachShadow({mode:"open"})}render(){const t=this.lazy||""===this.getAttribute("lazy")||"true"===this.getAttribute("lazy");if(jX(this.shadowRoot,"::slotted(.swiper-slide-shadow),::slotted(.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-top){position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:10}::slotted(.swiper-slide-shadow){background:rgba(0,0,0,.15)}::slotted(.swiper-slide-shadow-left){background-image:linear-gradient(to left,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-right){background-image:linear-gradient(to right,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-top){background-image:linear-gradient(to top,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-bottom){background-image:linear-gradient(to bottom,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-lazy-preloader{animation:swiper-preloader-spin 1s infinite linear;width:42px;height:42px;position:absolute;left:50%;top:50%;margin-left:-21px;margin-top:-21px;z-index:10;transform-origin:50%;box-sizing:border-box;border:4px solid var(--swiper-preloader-color,var(--swiper-theme-color));border-radius:50%;border-top-color:transparent}@keyframes swiper-preloader-spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-top){z-index:0;-webkit-backface-visibility:hidden;backface-visibility:hidden}::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-top){z-index:0;-webkit-backface-visibility:hidden;backface-visibility:hidden}::slotted(.swiper-zoom-container){width:100%;height:100%;display:flex;justify-content:center;align-items:center;text-align:center}::slotted(.swiper-zoom-container)>canvas,::slotted(.swiper-zoom-container)>img,::slotted(.swiper-zoom-container)>svg{max-width:100%;max-height:100%;object-fit:contain}"),this.shadowRoot.appendChild(document.createElement("slot")),t){const e=document.createElement("div");e.classList.add("swiper-lazy-preloader"),e.part.add("preloader"),this.shadowRoot.appendChild(e)}}initialize(){this.render()}connectedCallback(){this.initialize()}}));let V5e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({providers:[HY]}),n})(),z5e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot,en,V5e,Rr]]}),n})(),W5e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot,en,Rc,mX,_X,vX,yX,bX,SX,z5e,CX,HBe]]}),n})(),$5e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot,EX,en,Ta,TX]]}),n})(),Y5e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({providers:[kh,lv,cv,bo,Ib,Sw,zp,Ab,Xn,uu,_Ee("challenges")],imports:[[Ot,en,Rc,ABe,RBe,DBe,UBe,W5e,GBe,$5e]]}),n})(),yv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot]]}),n})(),qN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot]]}),n})(),Wh=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot,Rr]]}),n})(),VX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot,Iz,en,pa,yv,Ta,qN,Wh,Rr,Y_,X_]]}),n})(),Fw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot,en]]}),n})(),xu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot,qN,X_]]}),n})(),X5e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot,en,xu]]}),n})(),q5e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot,Wh,xu,Rr,Y_]]}),n})(),K5e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot,en,lIe,X5e,Ta,xu,Wh,q5e]]}),n})(),J5e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot,Wh,xu,Rr]]}),n})(),Z5e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot,en,Ta,J5e]]}),n})(),Q5e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot,xu,en]]}),n})(),eUe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot,xu,en]]}),n})(),tUe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot,en,xu,Wh,Rr,Y_]]}),n})(),nUe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot,Ta,Q5e,eUe,tUe]]}),n})(),iUe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot,nUe,en,Fw,pa]]}),n})(),rUe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot,Fw,pa,K5e,Z5e,iUe,en]]}),n})(),sUe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot,xu,Ta,en,Rc]]}),n})(),oUe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot]]}),n})(),Yb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot,pa]]}),n})();const pi=!1;function zX(n){return new Wt(3e3,pi)}function GUe(){return"undefined"!=typeof window&&void 0!==window.document}function KN(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function $h(n){switch(n.length){case 0:return new Db;case 1:return n[0];default:return new WY(n)}}function WX(n,t,e,i,r={},s={}){const o=[],a=[];let l=-1,c=null;if(i.forEach(u=>{const d=u.offset,f=d==l,y=f&&c||{};Object.keys(u).forEach(O=>{let I=O,N=u[O];if("offset"!==O)switch(I=t.normalizePropertyName(I,o),N){case"!":N=r[O];break;case Md:N=s[O];break;default:N=t.normalizeStyleValue(O,I,N,o)}y[I]=N}),f||a.push(y),c=y,l=d}),o.length)throw function xUe(n){return new Wt(3502,pi)}();return a}function JN(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&ZN(e,"start",n)));break;case"done":n.onDone(()=>i(e&&ZN(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&ZN(e,"destroy",n)))}}function ZN(n,t,e){const i=e.totalTime,s=QN(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),o=n._data;return null!=o&&(s._data=o),s}function QN(n,t,e,i,r="",s=0,o){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function dl(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function $X(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let ek=(n,t)=>!1,YX=(n,t,e)=>[],XX=null;function tk(n){const t=n.parentNode||n.host;return t===XX?null:t}(KN()||"undefined"!=typeof Element)&&(GUe()?(XX=(()=>document.documentElement)(),ek=(n,t)=>{for(;t;){if(t===n)return!0;t=tk(t)}return!1}):ek=(n,t)=>n.contains(t),YX=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let bg=null,qX=!1;function KX(n){bg||(bg=function HUe(){return"undefined"!=typeof document?document.body:null}()||{},qX=!!bg.style&&"WebkitAppearance"in bg.style);let t=!0;return bg.style&&!function jUe(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in bg.style,!t&&qX&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in bg.style)),t}const JX=ek,ZX=YX;let QX=(()=>{class n{validateStyleProperty(e){return KX(e)}matchesElement(e,i){return!1}containsElement(e,i){return JX(e,i)}getParentElement(e){return tk(e)}query(e,i,r){return ZX(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,o,a=[],l){return new Db(r,s)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})(),nk=(()=>{class n{}return n.NOOP=new QX,n})();const ik="ng-enter",Bw="ng-leave",Uw="ng-trigger",Gw=".ng-trigger",tq="ng-animating",rk=".ng-animating";function Sg(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:sk(parseFloat(t[1]),t[2])}function sk(n,t){return"s"===t?1e3*n:n}function jw(n,t,e){return n.hasOwnProperty("duration")?n:function WUe(n,t,e){let r,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(zX()),{duration:0,delay:0,easing:""};r=sk(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=sk(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else r=n;if(!e){let a=!1,l=t.length;r<0&&(t.push(function aUe(){return new Wt(3100,pi)}()),a=!0),s<0&&(t.push(function lUe(){return new Wt(3101,pi)}()),a=!0),a&&t.splice(l,0,zX())}return{duration:r,delay:s,easing:o}}(n,t,e)}function bv(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Yh(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else bv(n,e);return e}function iq(n,t,e){return e?t+":"+e+";":""}function rq(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=iq(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=iq(0,XUe(e),n.style[e]));n.setAttribute("style",t)}function Iu(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const r=ak(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[r]),n.style[r]=t[i]}),KN()&&rq(n))}function Cg(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=ak(e);n.style[i]=""}),KN()&&rq(n))}function Xb(n){return Array.isArray(n)?1==n.length?n[0]:VY(n):n}const ok=new RegExp("{{\\s*(.+?)\\s*}}","g");function sq(n){let t=[];if("string"==typeof n){let e;for(;e=ok.exec(n);)t.push(e[1]);ok.lastIndex=0}return t}function Hw(n,t,e){const i=n.toString(),r=i.replace(ok,(s,o)=>{let a=t[o];return t.hasOwnProperty(o)||(e.push(function uUe(n){return new Wt(3003,pi)}()),a=""),a.toString()});return r==i?n:r}function Vw(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const YUe=/-+([a-z0-9])/g;function ak(n){return n.replace(YUe,(...t)=>t[1].toUpperCase())}function XUe(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function hl(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function dUe(n){return new Wt(3004,pi)}()}}function oq(n,t){return window.getComputedStyle(n)[t]}function e8e(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function t8e(n,t,e){if(":"==n[0]){const l=function n8e(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function wUe(n){return new Wt(3016,pi)}()),"* => *"}}(n,e);if("function"==typeof l)return void t.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function TUe(n){return new Wt(3015,pi)}()),t;const r=i[1],s=i[2],o=i[3];t.push(aq(r,o));"<"==s[0]&&!("*"==r&&"*"==o)&&t.push(aq(o,r))}(i,e,t)):e.push(n),e}const Yw=new Set(["true","1"]),Xw=new Set(["false","0"]);function aq(n,t){const e=Yw.has(n)||Xw.has(n),i=Yw.has(t)||Xw.has(t);return(r,s)=>{let o="*"==n||n==r,a="*"==t||t==s;return!o&&e&&"boolean"==typeof r&&(o=r?Yw.has(n):Xw.has(n)),!a&&i&&"boolean"==typeof s&&(a=s?Yw.has(t):Xw.has(t)),o&&a}}const i8e=new RegExp("s*:selfs*,?","g");function lk(n,t,e,i){return new r8e(n).build(t,e,i)}class r8e{constructor(t){this._driver=t}build(t,e,i){const r=new a8e(e);this._resetContextStyleTimingState(r);const s=hl(this,Xb(t),r);return r.unsupportedCSSPropertiesFound.size&&r.unsupportedCSSPropertiesFound.keys(),s}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push(function fUe(){return new Wt(3006,pi)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,e))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,e);i+=l.queryCount,r+=l.depCount,o.push(l)}else e.errors.push(function pUe(){return new Wt(3007,pi)}())}),{type:7,name:t.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,o=r||{};i.styles.forEach(a=>{if(qw(a)){const l=a;Object.keys(l).forEach(c=>{sq(l[c]).forEach(u=>{o.hasOwnProperty(u)||s.add(u)})})}}),s.size&&(Vw(s.values()),e.errors.push(function gUe(n,t){return new Wt(3008,pi)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=hl(this,Xb(t.animation),e);return{type:1,matchers:e8e(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Eg(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>hl(this,i,e)),options:Eg(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const s=t.steps.map(o=>{e.currentTime=i;const a=hl(this,o,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:3,steps:s,options:Eg(t.options)}}visitAnimate(t,e){const i=function c8e(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return ck(jw(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=ck(0,0,"");return s.dynamic=!0,s.strValue=e,s}const r=jw(e,t);return ck(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:Hc({});if(5==s.type)r=this.visitKeyframes(s,e);else{let o=t.styles,a=!1;if(!o){a=!0;const c={};i.easing&&(c.easing=i.easing),o=Hc(c)}e.currentTime+=i.duration+i.delay;const l=this.visitStyle(o,e);l.isEmptyStep=a,r=l}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(o=>{"string"==typeof o?o==Md?i.push(o):e.errors.push(function _Ue(n){return new Wt(3002,pi)}()):i.push(o)}):i.push(t.styles);let r=!1,s=null;return i.forEach(o=>{if(qw(o)){const a=o,l=a.easing;if(l&&(s=l,delete a.easing),!r)for(let c in a)if(a[c].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:s,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(o=>{"string"!=typeof o&&Object.keys(o).forEach(a=>{if(!this._driver.validateStyleProperty(a))return delete o[a],void e.unsupportedCSSPropertiesFound.add(a);const l=e.collectedStyles[e.currentQuerySelector],c=l[a];let u=!0;c&&(s!=r&&s>=c.startTime&&r<=c.endTime&&(e.errors.push(function mUe(n,t,e,i,r){return new Wt(3010,pi)}()),u=!1),s=c.startTime),u&&(l[a]={startTime:s,endTime:r}),e.options&&function $Ue(n,t,e){const i=t.params||{},r=sq(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(function cUe(n){return new Wt(3001,pi)}())})}(o[a],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function vUe(){return new Wt(3011,pi)}()),i;let s=0;const o=[];let a=!1,l=!1,c=0;const u=t.steps.map(k=>{const B=this._makeStyleAst(k,e);let G=null!=B.offset?B.offset:function l8e(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(qw(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(qw(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(B.styles),Y=0;return null!=G&&(s++,Y=B.offset=G),l=l||Y<0||Y>1,a=a||Y<c,c=Y,o.push(Y),B});l&&e.errors.push(function yUe(){return new Wt(3012,pi)}()),a&&e.errors.push(function bUe(){return new Wt(3200,pi)}());const d=t.steps.length;let f=0;s>0&&s<d?e.errors.push(function SUe(){return new Wt(3202,pi)}()):0==s&&(f=1/(d-1));const y=d-1,O=e.currentTime,I=e.currentAnimateTimings,N=I.duration;return u.forEach((k,B)=>{const G=f>0?B==y?1:f*B:o[B],Y=G*N;e.currentTime=O+I.delay+Y,I.duration=Y,this._validateStyleAst(k,e),k.offset=G,i.styles.push(k)}),i}visitReference(t,e){return{type:8,animation:hl(this,Xb(t.animation),e),options:Eg(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Eg(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Eg(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,o]=function s8e(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(i8e,"")),n=n.replace(/@\*/g,Gw).replace(/@\w+/g,e=>Gw+"-"+e.substr(1)).replace(/:animating/g,rk),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,dl(e.collectedStyles,e.currentQuerySelector,{});const a=hl(this,Xb(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:t.selector,options:Eg(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function CUe(){return new Wt(3013,pi)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:jw(t.timings,e.errors,!0);return{type:12,animation:hl(this,Xb(t.animation),e),timings:i,options:null}}}class a8e{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function qw(n){return!Array.isArray(n)&&"object"==typeof n}function Eg(n){return n?(n=bv(n)).params&&(n.params=function o8e(n){return n?bv(n):null}(n.params)):n={},n}function ck(n,t,e){return{duration:n,delay:t,easing:e}}function uk(n,t,e,i,r,s,o=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}class Kw{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const h8e=new RegExp(":enter","g"),p8e=new RegExp(":leave","g");function dk(n,t,e,i,r,s={},o={},a,l,c=[]){return(new g8e).buildKeyframes(n,t,e,i,r,s,o,a,l,c)}class g8e{buildKeyframes(t,e,i,r,s,o,a,l,c,u=[]){c=c||new Kw;const d=new hk(t,e,c,r,s,u,[]);d.options=l,d.currentTimeline.setStyles([o],null,d.errors,l),hl(this,i,d);const f=d.timelines.filter(y=>y.containsAnimation());if(Object.keys(a).length){let y;for(let O=f.length-1;O>=0;O--){const I=f[O];if(I.element===e){y=I;break}}y&&!y.allowOnlyTimelineStyles()&&y.setStyles([a],null,d.errors,l)}return f.length?f.map(y=>y.buildKeyframes()):[uk(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const o=null!=i.duration?Sg(i.duration):null,a=null!=i.delay?Sg(i.delay):null;return 0!==o&&t.forEach(l=>{const c=e.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),hl(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Jw);const o=Sg(s.delay);r.delayNextStep(o)}t.steps.length&&(t.steps.forEach(o=>hl(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?Sg(t.options.delay):0;t.steps.forEach(o=>{const a=e.createSubContext(t.options);s&&a.delayNextStep(s),hl(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>e.currentTimeline.mergeTimelineCollectedStyles(o)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return jw(e.params?Hw(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?Sg(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Jw);let o=i;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{e.currentQueryIndex=u;const d=e.createSubContext(t.options,c);s&&d.delayNextStep(s),c===e.element&&(l=d.currentTimeline),hl(this,t.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,s=t.timings,o=Math.abs(s.duration),a=o*(e.currentQueryTotal-1);let l=o*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const u=e.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;hl(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-d+(r.startTime-i.currentTimeline.startTime)}}const Jw={};class hk{constructor(t,e,i,r,s,o,a,l){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Jw,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Zw(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Sg(i.duration)),null!=i.delay&&(r.delay=Sg(i.delay));const s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!e||!o.hasOwnProperty(a))&&(o[a]=Hw(s[a],o,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,s=new hk(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=Jw,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},s=new _8e(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,o){let a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(h8e,"."+this._enterClassName)).replace(p8e,"."+this._leaveClassName);let c=this._driver.query(this.element,t,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!s&&0==a.length&&o.push(function EUe(n){return new Wt(3014,pi)}()),a}}class Zw{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Zw(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||Md,this._currentKeyframe[e]=Md}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&(this._previousKeyframe.easing=e);const s=r&&r.params||{},o=function m8e(n,t){const e={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(t),i.forEach(s=>{e[s]=Md})):Yh(r,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(o).forEach(a=>{const l=Hw(o[a],s,i);this._pendingStyles[a]=l,this._localTimelineStyles.hasOwnProperty(a)||(this._backFill[a]=this._globalTimelineStyles.hasOwnProperty(a)?this._globalTimelineStyles[a]:Md),this._updateStyle(a,l)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],r=t._styleSummary[e];(!i||r.time>i.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=Yh(a,!0);Object.keys(c).forEach(u=>{const d=c[u];"!"==d?t.add(u):d==Md&&e.add(u)}),i||(c.offset=l/this.duration),r.push(c)});const s=t.size?Vw(t.values()):[],o=e.size?Vw(e.values()):[];if(i){const a=r[0],l=bv(a);a.offset=0,l.offset=1,r=[a,l]}return uk(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}}class _8e extends Zw{constructor(t,e,i,r,s,o,a=!1){super(t,e,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],o=i+e,a=e/o,l=Yh(t[0],!1);l.offset=0,s.push(l);const c=Yh(t[0],!1);c.offset=uq(a),s.push(c);const u=t.length-1;for(let d=1;d<=u;d++){let f=Yh(t[d],!1);f.offset=uq((e+f.offset*i)/o),s.push(f)}i=o,e=0,r="",t=s}return uk(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function uq(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class fk{}class v8e extends fk{normalizePropertyName(t,e){return ak(t)}normalizeStyleValue(t,e,i,r){let s="";const o=i.toString().trim();if(y8e[e]&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function hUe(n,t){return new Wt(3005,pi)}())}return o+s}}const y8e=(()=>function b8e(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function dq(n,t,e,i,r,s,o,a,l,c,u,d,f){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:f}}const pk={};class hq{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function S8e(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){const r=this._stateStyles["*"],s=this._stateStyles[t],o=r?r.buildStyles(e,i):{};return s?s.buildStyles(e,i):o}build(t,e,i,r,s,o,a,l,c,u){const d=[],f=this.ast.options&&this.ast.options.params||pk,O=this.buildStyles(i,a&&a.params||pk,d),I=l&&l.params||pk,N=this.buildStyles(r,I,d),k=new Set,B=new Map,G=new Map,Y="void"===r,J={params:Object.assign(Object.assign({},f),I)},Z=u?[]:dk(t,e,this.ast.animation,s,o,O,N,J,c,d);let ge=0;if(Z.forEach(ae=>{ge=Math.max(ae.duration+ae.delay,ge)}),d.length)return dq(e,this._triggerName,i,r,Y,O,N,[],[],B,G,ge,d);Z.forEach(ae=>{const de=ae.element,xe=dl(B,de,{});ae.preStyleProps.forEach(ye=>xe[ye]=!0);const ve=dl(G,de,{});ae.postStyleProps.forEach(ye=>ve[ye]=!0),de!==e&&k.add(de)});const pe=Vw(k.values());return dq(e,this._triggerName,i,r,Y,O,N,Z,pe,B,G,ge)}}class C8e{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},r=bv(this.defaultParams);return Object.keys(t).forEach(s=>{const o=t[s];null!=o&&(r[s]=o)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const o=s;Object.keys(o).forEach(a=>{let l=o[a];l.length>1&&(l=Hw(l,r,e));const c=this.normalizer.normalizePropertyName(a,e);l=this.normalizer.normalizeStyleValue(a,c,l,e),i[c]=l})}}),i}}class T8e{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(r=>{this.states[r.name]=new C8e(r.style,r.options&&r.options.params||{},i)}),fq(this.states,"true","1"),fq(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new hq(t,r,this.states))}),this.fallbackTransition=function w8e(n,t,e){return new hq(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(o=>o.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function fq(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const M8e=new Kw;class O8e{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],s=lk(this._driver,e,i,[]);if(i.length)throw function IUe(n){return new Wt(3503,pi)}();this._animations[t]=s}_buildPlayer(t,e,i){const r=t.element,s=WX(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],s=this._animations[t];let o;const a=new Map;if(s?(o=dk(this._driver,e,s,ik,Bw,{},{},i,M8e,r),o.forEach(u=>{const d=dl(a,u.element,{});u.postStyleProps.forEach(f=>d[f]=null)})):(r.push(function AUe(){return new Wt(3300,pi)}()),o=[]),r.length)throw function RUe(n){return new Wt(3504,pi)}();a.forEach((u,d)=>{Object.keys(u).forEach(f=>{u[f]=this._driver.computeStyle(d,f,Md)})});const c=$h(o.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,{},d)}));return this._playersById[t]=c,c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw function DUe(n){return new Wt(3301,pi)}();return e}listen(t,e,i,r){const s=QN(e,"","","");return JN(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const pq="ng-animate-queued",gk="ng-animate-disabled",R8e=[],gq={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},D8e={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},tc="__ng_removed";class _k{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function L8e(n){return null!=n?n:null}(i?t.value:t),i){const s=bv(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const qb="void",mk=new _k(qb);class N8e{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,nc(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.hasOwnProperty(e))throw function NUe(n,t){return new Wt(3302,pi)}();if(null==i||0==i.length)throw function kUe(n){return new Wt(3303,pi)}();if(!function B8e(n){return"start"==n||"done"==n}(i))throw function FUe(n,t){return new Wt(3400,pi)}();const s=dl(this._elementListeners,t,[]),o={name:e,phase:i,callback:r};s.push(o);const a=dl(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(nc(t,Uw),nc(t,Uw+"-"+e),a[e]=mk),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw function LUe(n){return new Wt(3401,pi)}();return e}trigger(t,e,i,r=!0){const s=this._getTrigger(e),o=new vk(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(nc(t,Uw),nc(t,Uw+"-"+e),this._engine.statesByElement.set(t,a={}));let l=a[e];const c=new _k(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a[e]=c,l||(l=mk),c.value!==qb&&l.value===c.value){if(!function j8e(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(l.params,c.params)){const I=[],N=s.matchStyles(l.value,l.params,I),k=s.matchStyles(c.value,c.params,I);I.length?this._engine.reportError(I):this._engine.afterFlush(()=>{Cg(t,N),Iu(t,k)})}return}const f=dl(this._engine.playersByElement,t,[]);f.forEach(I=>{I.namespaceId==this.id&&I.triggerName==e&&I.queued&&I.destroy()});let y=s.matchTransition(l.value,c.value,t,c.params),O=!1;if(!y){if(!r)return;y=s.fallbackTransition,O=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:y,fromState:l,toState:c,player:o,isFallbackTransition:O}),O||(nc(t,pq),o.onStart(()=>{Sv(t,pq)})),o.onDone(()=>{let I=this.players.indexOf(o);I>=0&&this.players.splice(I,1);const N=this._engine.playersByElement.get(t);if(N){let k=N.indexOf(o);k>=0&&N.splice(k,1)}}),this.players.push(o),f.push(o),o}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,Gw,!0);i.forEach(r=>{if(r[tc])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const s=this._engine.statesByElement.get(t),o=new Map;if(s){const a=[];if(Object.keys(s).forEach(l=>{if(o.set(l,s[l].value),this._triggers[l]){const c=this.trigger(t,l,qb,r);c&&a.push(c)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,o),i&&$h(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(s=>{const o=s.name;if(r.has(o))return;r.add(o);const l=this._triggers[o].fallbackTransition,c=i[o]||mk,u=new _k(qb),d=new vk(this.id,o,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let o=t;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[tc];(!s||s===gq)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){nc(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==i.triggerName){const l=QN(s,i.triggerName,i.fromState.value,i.toState.value);l._data=t,JN(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,o=r.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class k8e{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new N8e(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement,s=i.length-1;if(s>=0){let o=!1;if(void 0!==this.driver.getParentElement){let a=this.driver.getParentElement(e);for(;a;){const l=r.get(a);if(l){const c=i.indexOf(l);i.splice(c+1,0,t),o=!0;break}a=this.driver.getParentElement(a)}}else for(let a=s;a>=0;a--)if(this.driver.containsElement(i[a].hostElement,e)){i.splice(a+1,0,t),o=!0;break}o||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const r=Object.keys(i);for(let s=0;s<r.length;s++){const o=i[r[s]].namespaceId;if(o){const a=this._fetchNamespace(o);a&&e.add(a)}}}return e}trigger(t,e,i,r){if(Qw(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!Qw(e))return;const s=e[tc];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){const o=this._fetchNamespace(t);o&&o.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),nc(t,gk)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Sv(t,gk))}removeNode(t,e,i,r){if(Qw(e)){const s=t?this._fetchNamespace(t):null;if(s?s.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,s){this.collectedLeaveElements.push(e),e[tc]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,i,r,s){return Qw(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,Gw,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,rk,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return $h(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const i=t[tc];if(i&&i.setForRemoval){if(t[tc]=gq,i.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,i.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains(gk))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)nc(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?$h(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function BUe(n){return new Wt(3402,pi)}()}_flushAnimations(t,e){const i=new Kw,r=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(be=>{u.add(be);const Ee=this.driver.query(be,".ng-animate-queued",!0);for(let De=0;De<Ee.length;De++)u.add(Ee[De])});const d=this.bodyNode,f=Array.from(this.statesByElement.keys()),y=vq(f,this.collectedEnterElements),O=new Map;let I=0;y.forEach((be,Ee)=>{const De=ik+I++;O.set(Ee,De),be.forEach(nt=>nc(nt,De))});const N=[],k=new Set,B=new Set;for(let be=0;be<this.collectedLeaveElements.length;be++){const Ee=this.collectedLeaveElements[be],De=Ee[tc];De&&De.setForRemoval&&(N.push(Ee),k.add(Ee),De.hasAnimation?this.driver.query(Ee,".ng-star-inserted",!0).forEach(nt=>k.add(nt)):B.add(Ee))}const G=new Map,Y=vq(f,Array.from(k));Y.forEach((be,Ee)=>{const De=Bw+I++;G.set(Ee,De),be.forEach(nt=>nc(nt,De))}),t.push(()=>{y.forEach((be,Ee)=>{const De=O.get(Ee);be.forEach(nt=>Sv(nt,De))}),Y.forEach((be,Ee)=>{const De=G.get(Ee);be.forEach(nt=>Sv(nt,De))}),N.forEach(be=>{this.processLeaveNode(be)})});const J=[],Z=[];for(let be=this._namespaceList.length-1;be>=0;be--)this._namespaceList[be].drainQueuedTransitions(e).forEach(De=>{const nt=De.player,me=De.element;if(J.push(nt),this.collectedEnterElements.length){const Vt=me[tc];if(Vt&&Vt.setForMove){if(Vt.previousTriggersValues&&Vt.previousTriggersValues.has(De.triggerName)){const Pn=Vt.previousTriggersValues.get(De.triggerName),cn=this.statesByElement.get(De.element);cn&&cn[De.triggerName]&&(cn[De.triggerName].value=Pn)}return void nt.destroy()}}const Ve=!d||!this.driver.containsElement(d,me),et=G.get(me),st=O.get(me),Tt=this._buildInstruction(De,i,st,et,Ve);if(Tt.errors&&Tt.errors.length)return void Z.push(Tt);if(Ve)return nt.onStart(()=>Cg(me,Tt.fromStyles)),nt.onDestroy(()=>Iu(me,Tt.toStyles)),void r.push(nt);if(De.isFallbackTransition)return nt.onStart(()=>Cg(me,Tt.fromStyles)),nt.onDestroy(()=>Iu(me,Tt.toStyles)),void r.push(nt);const vt=[];Tt.timelines.forEach(Vt=>{Vt.stretchStartingKeyframe=!0,this.disabledNodes.has(Vt.element)||vt.push(Vt)}),Tt.timelines=vt,i.append(me,Tt.timelines),o.push({instruction:Tt,player:nt,element:me}),Tt.queriedElements.forEach(Vt=>dl(a,Vt,[]).push(nt)),Tt.preStyleProps.forEach((Vt,Pn)=>{const cn=Object.keys(Vt);if(cn.length){let Qt=l.get(Pn);Qt||l.set(Pn,Qt=new Set),cn.forEach(Ft=>Qt.add(Ft))}}),Tt.postStyleProps.forEach((Vt,Pn)=>{const cn=Object.keys(Vt);let Qt=c.get(Pn);Qt||c.set(Pn,Qt=new Set),cn.forEach(Ft=>Qt.add(Ft))})});if(Z.length){const be=[];Z.forEach(Ee=>{be.push(function UUe(n,t){return new Wt(3505,pi)}())}),J.forEach(Ee=>Ee.destroy()),this.reportError(be)}const ge=new Map,pe=new Map;o.forEach(be=>{const Ee=be.element;i.has(Ee)&&(pe.set(Ee,Ee),this._beforeAnimationBuild(be.player.namespaceId,be.instruction,ge))}),r.forEach(be=>{const Ee=be.element;this._getPreviousPlayers(Ee,!1,be.namespaceId,be.triggerName,null).forEach(nt=>{dl(ge,Ee,[]).push(nt),nt.destroy()})});const ae=N.filter(be=>bq(be,l,c)),de=new Map;mq(de,this.driver,B,c,Md).forEach(be=>{bq(be,l,c)&&ae.push(be)});const ve=new Map;y.forEach((be,Ee)=>{mq(ve,this.driver,new Set(be),l,"!")}),ae.forEach(be=>{const Ee=de.get(be),De=ve.get(be);de.set(be,Object.assign(Object.assign({},Ee),De))});const ye=[],Re=[],Oe={};o.forEach(be=>{const{element:Ee,player:De,instruction:nt}=be;if(i.has(Ee)){if(u.has(Ee))return De.onDestroy(()=>Iu(Ee,nt.toStyles)),De.disabled=!0,De.overrideTotalTime(nt.totalTime),void r.push(De);let me=Oe;if(pe.size>1){let et=Ee;const st=[];for(;et=et.parentNode;){const Tt=pe.get(et);if(Tt){me=Tt;break}st.push(et)}st.forEach(Tt=>pe.set(Tt,me))}const Ve=this._buildAnimation(De.namespaceId,nt,ge,s,ve,de);if(De.setRealPlayer(Ve),me===Oe)ye.push(De);else{const et=this.playersByElement.get(me);et&&et.length&&(De.parentPlayer=$h(et)),r.push(De)}}else Cg(Ee,nt.fromStyles),De.onDestroy(()=>Iu(Ee,nt.toStyles)),Re.push(De),u.has(Ee)&&r.push(De)}),Re.forEach(be=>{const Ee=s.get(be.element);if(Ee&&Ee.length){const De=$h(Ee);be.setRealPlayer(De)}}),r.forEach(be=>{be.parentPlayer?be.syncPlayerEvents(be.parentPlayer):be.destroy()});for(let be=0;be<N.length;be++){const Ee=N[be],De=Ee[tc];if(Sv(Ee,Bw),De&&De.hasAnimation)continue;let nt=[];if(a.size){let Ve=a.get(Ee);Ve&&Ve.length&&nt.push(...Ve);let et=this.driver.query(Ee,rk,!0);for(let st=0;st<et.length;st++){let Tt=a.get(et[st]);Tt&&Tt.length&&nt.push(...Tt)}}const me=nt.filter(Ve=>!Ve.destroyed);me.length?U8e(this,Ee,me):this.processLeaveNode(Ee)}return N.length=0,ye.forEach(be=>{this.players.push(be),be.onDone(()=>{be.destroy();const Ee=this.players.indexOf(be);this.players.splice(Ee,1)}),be.play()}),ye}elementContainsData(t,e){let i=!1;const r=e[tc];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let o=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(o=a)}else{const a=this.playersByElement.get(t);if(a){const l=!s||s==qb;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||o.push(c)})}}return(i||r)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(t,e,i){const s=e.element,o=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const c=l.element,u=c!==s,d=dl(i,c,[]);this._getPreviousPlayers(c,u,o,a,e.toState).forEach(y=>{const O=y.getRealPlayer();O.beforeDestroy&&O.beforeDestroy(),y.destroy(),d.push(y)})}Cg(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,o){const a=e.triggerName,l=e.element,c=[],u=new Set,d=new Set,f=e.timelines.map(O=>{const I=O.element;u.add(I);const N=I[tc];if(N&&N.removedBeforeQueried)return new Db(O.duration,O.delay);const k=I!==l,B=function G8e(n){const t=[];return yq(n,t),t}((i.get(I)||R8e).map(ge=>ge.getRealPlayer())).filter(ge=>!!ge.element&&ge.element===I),G=s.get(I),Y=o.get(I),J=WX(0,this._normalizer,0,O.keyframes,G,Y),Z=this._buildPlayer(O,J,B);if(O.subTimeline&&r&&d.add(I),k){const ge=new vk(t,a,I);ge.setRealPlayer(Z),c.push(ge)}return Z});c.forEach(O=>{dl(this.playersByQueriedElement,O.element,[]).push(O),O.onDone(()=>function F8e(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,O.element,O))}),u.forEach(O=>nc(O,tq));const y=$h(f);return y.onDestroy(()=>{u.forEach(O=>Sv(O,tq)),Iu(l,e.toStyles)}),d.forEach(O=>{dl(r,O,[]).push(y)}),y}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Db(t.duration,t.delay)}}class vk{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Db,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>JN(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){dl(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Qw(n){return n&&1===n.nodeType}function _q(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function mq(n,t,e,i,r){const s=[];e.forEach(l=>s.push(_q(l)));const o=[];i.forEach((l,c)=>{const u={};l.forEach(d=>{const f=u[d]=t.computeStyle(c,d,r);(!f||0==f.length)&&(c[tc]=D8e,o.push(c))}),n.set(c,u)});let a=0;return e.forEach(l=>_q(l,s[a++])),o}function vq(n,t){const e=new Map;if(n.forEach(a=>e.set(a,[])),0==t.length)return e;const r=new Set(t),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=e.has(c)?c:r.has(c)?1:o(c),s.set(a,l),l}return t.forEach(a=>{const l=o(a);1!==l&&e.get(l).push(a)}),e}function nc(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function Sv(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function U8e(n,t,e){$h(e).onDone(()=>n.processLeaveNode(t))}function yq(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof WY?yq(i.players,t):t.push(i)}}function bq(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}class eM{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new k8e(t,e,i),this._timelineEngine=new O8e(t,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){const o=t+"-"+r;let a=this._triggerCache[o];if(!a){const l=[],u=lk(this._driver,s,l,[]);if(l.length)throw function PUe(n,t){return new Wt(3404,pi)}();a=function E8e(n,t,e){return new T8e(n,t,e)}(r,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,r,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[s,o]=$X(i);this._timelineEngine.command(s,e,o,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if("@"==i.charAt(0)){const[o,a]=$X(i);return this._timelineEngine.listen(o,e,a,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let V8e=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Iu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Iu(this._element,this._initialStyles),this._endStyles&&(Iu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Cg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Cg(this._element,this._endStyles),this._endStyles=null),Iu(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function yk(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const r=e[i];z8e(r)&&(t=t||{},t[r]=n[r])}return t}function z8e(n){return"display"===n||"position"===n}class Sq{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(i=>{"offset"!=i&&(t[i]=this._finished?e[i]:oq(this.element,i))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class W8e{validateStyleProperty(t){return KX(t)}matchesElement(t,e){return!1}containsElement(t,e){return JX(t,e)}getParentElement(t){return tk(t)}query(t,e,i){return ZX(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,s,o=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(l.easing=s);const c={},u=o.filter(f=>f instanceof Sq);(function qUe(n,t){return 0===n||0===t})(i,r)&&u.forEach(f=>{let y=f.currentSnapshot;Object.keys(y).forEach(O=>c[O]=y[O])}),e=function KUe(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let s=t[0],o=[];if(i.forEach(a=>{s.hasOwnProperty(a)||o.push(a),s[a]=e[a]}),o.length)for(var r=1;r<t.length;r++){let a=t[r];o.forEach(function(l){a[l]=oq(n,l)})}}return t}(t,e=e.map(f=>Yh(f,!1)),c);const d=function H8e(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=yk(t[0]),t.length>1&&(i=yk(t[t.length-1]))):t&&(e=yk(t)),e||i?new V8e(n,e,i):null}(t,e);return new Sq(t,e,l,d)}}let $8e=(()=>{class n extends MN{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:ac.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?VY(e):e;return Cq(this._renderer,null,i,"register",[r]),new Y8e(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(je(m_),je(Er))},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})();class Y8e extends class GNe{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new X8e(this._id,t,e||{},this._renderer)}}class X8e{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Cq(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function Cq(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const Eq="@.disabled";let q8e=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,o)=>{const a=null==o?void 0:o.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let u=this._rendererCache.get(s);return u||(u=new Tq("",s,this.engine),this._rendererCache.set(s,u)),u}const o=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(o,a,e,u.name,u)};return i.data.animation.forEach(l),new K8e(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(je(m_),je(eM),je(Zn))},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})();class Tq{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==Eq?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class K8e extends Tq{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==Eq?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function J8e(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.substr(1),o="";return"@"!=s.charAt(0)&&([s,o]=function Z8e(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(t,e,i)}}let Q8e=(()=>{class n extends eM{constructor(e,i,r){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(je(Er),je(nk),je(fk))},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})();const wq=new Zt("AnimationModuleType"),Mq=[{provide:MN,useClass:$8e},{provide:fk,useFactory:function e6e(){return new v8e}},{provide:eM,useClass:Q8e},{provide:m_,useFactory:function t6e(n,t,e){return new q8e(n,t,e)},deps:[BS,eM,Zn]}],Oq=[{provide:nk,useFactory:()=>new W8e},{provide:wq,useValue:"BrowserAnimations"},...Mq],n6e=[{provide:nk,useClass:QX},{provide:wq,useValue:"NoopAnimations"},...Mq];let bk=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?n6e:Oq}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({providers:Oq,imports:[rU]}),n})(),i6e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot,en,yv,pa,Yb]]}),n})(),r6e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({providers:[],imports:[[Ot,pa,bk,en,Rr,yv,Fw,Yb]]}),n})(),s6e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({providers:[],imports:[[Ot,Yb,yv,pa,bk,en,Fw,i6e,Rr,r6e]]}),n})(),o6e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot,Yb,en,pa,Rc]]}),n})(),a6e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot,pa,en,o6e,Rc,Rr]]}),n})(),l6e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot,pa,Ta,en,xu,Y_]]}),n})(),c6e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot,pa,Ta,en]]}),n})(),u6e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot,en]]}),n})(),d6e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot,en]]}),n})(),h6e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot]]}),n})(),f6e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot,en,Rr,X_,h6e]]}),n})(),p6e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot,en]]}),n})(),Sk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({providers:[],imports:[[Ot,en,Rr,X_]]}),n})(),g6e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Sk,Ot,Ta,en,Rr]]}),n})(),_6e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot,en]]}),n})(),m6e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot,en]]}),n})(),v6e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot,Ta,en,Wh,xu,Rr]]}),n})(),y6e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot,en,Rr,X_]]}),n})(),b6e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot,en,Yb,pa]]}),n})(),Pq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot]]}),n})(),S6e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot,Wh,VX,en,qN,Pq,Y_,X_,Rr]]}),n})(),C6e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot,S6e,en,yv,pa,Ta,Pq,Rr]]}),n})(),E6e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({providers:[tb,Ep,nb,dv],imports:[[Ot,Iz,en,pa,yv,Ta,Wh,C6e]]}),n})(),T6e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot,Rr,en]]}),n})(),w6e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot,en]]}),n})(),M6e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot,VX,rUe,sUe,s6e,oUe,a6e,l6e,c6e,u6e,f6e,en,p6e,_6e,g6e,Sk,d6e,m6e,v6e,y6e,b6e,Y5e,E6e,T6e,w6e]]}),n})();const nM=T(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function xq(n){return new _e(t=>{Pt(n()).subscribe(t)})}function Iq(){return Je((n,t)=>{let e=null;n._refCount++;const i=ue(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class O6e extends _e{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,pt(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new g;const e=this.getSubject();t.add(this.source.subscribe(ue(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=g.EMPTY)}return t}refCount(){return Iq()(this)}}function P6e(n,t,e,i,r){return(s,o)=>{let a=e,l=t,c=0;s.subscribe(ue(o,u=>{const d=c++;l=a?n(l,u,d):(a=!0,u),i&&o.next(l)},r&&(()=>{a&&o.next(l),o.complete()})))}}function Aq(n,t){return Je(P6e(n,t,arguments.length>=2,!0))}function Ck(n){return n<=0?()=>ht:Je((t,e)=>{let i=[];t.subscribe(ue(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function Rq(n=x6e){return Je((t,e)=>{let i=!1;t.subscribe(ue(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function x6e(){return new nM}function Dq(n){return Je((t,e)=>{let i=!1;t.subscribe(ue(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function Cv(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Bt((r,s)=>n(r,s,i)):Se,Ri(1),e?Dq(t):Rq(()=>new nM))}class xd{constructor(t,e){this.id=t,this.url=e}}class Ek extends xd{constructor(t,e,i="imperative",r=null){super(t,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Kb extends xd{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Nq extends xd{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class R6e extends xd{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class D6e extends xd{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class N6e extends xd{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class k6e extends xd{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class F6e extends xd{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class L6e extends xd{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kq{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Fq{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class B6e{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class U6e{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class G6e{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class j6e{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lq{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ii="primary";class H6e{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ev(n){return new H6e(n)}const Bq="ngNavigationCancelingError";function Tk(n){const t=Error("NavigationCancelingError: "+n);return t[Bq]=!0,t}function z6e(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const o=i[s],a=n[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Au(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!Uq(n[r],t[r]))return!1;return!0}function Uq(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function Gq(n){return Array.prototype.concat.apply([],n)}function jq(n){return n.length>0?n[n.length-1]:null}function To(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Ru(n){return aP(n)?n:r0(n)?ri(Promise.resolve(n)):hn(n)}const Y6e={exact:function zq(n,t,e){if(!wg(n.segments,t.segments)||!iM(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!zq(n.children[i],t.children[i],e))return!1;return!0},subset:Wq},Hq={exact:function X6e(n,t){return Au(n,t)},subset:function q6e(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Uq(n[e],t[e]))},ignored:()=>!0};function Vq(n,t,e){return Y6e[e.paths](n.root,t.root,e.matrixParams)&&Hq[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Wq(n,t,e){return $q(n,t,t.segments,e)}function $q(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!wg(r,e)||t.hasChildren()||!iM(r,e,i))}if(n.segments.length===e.length){if(!wg(n.segments,e)||!iM(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!Wq(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(wg(n.segments,r)&&iM(n.segments,r,i)&&n.children[ii])&&$q(n.children[ii],t,s,i)}}function iM(n,t,e){return t.every((i,r)=>Hq[e](n[r].parameters,i.parameters))}class Tg{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ev(this.queryParams)),this._queryParamMap}toString(){return Z6e.serialize(this)}}class gi{constructor(t,e){this.segments=t,this.children=e,this.parent=null,To(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return rM(this)}}class Jb{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Ev(this.parameters)),this._parameterMap}toString(){return Jq(this)}}function wg(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class Yq{}class Xq{parse(t){const e=new aGe(t);return new Tg(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Zb(t.root,!0)}`,i=function tGe(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${sM(e)}=${sM(r)}`).join("&"):`${sM(e)}=${sM(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams),r="string"==typeof t.fragment?`#${function Q6e(n){return encodeURI(n)}(t.fragment)}`:"";return`${e}${i}${r}`}}const Z6e=new Xq;function rM(n){return n.segments.map(t=>Jq(t)).join("/")}function Zb(n,t){if(!n.hasChildren())return rM(n);if(t){const e=n.children[ii]?Zb(n.children[ii],!1):"",i=[];return To(n.children,(r,s)=>{s!==ii&&i.push(`${s}:${Zb(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function J6e(n,t){let e=[];return To(n.children,(i,r)=>{r===ii&&(e=e.concat(t(i,r)))}),To(n.children,(i,r)=>{r!==ii&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===ii?[Zb(n.children[ii],!1)]:[`${r}:${Zb(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ii]?`${rM(n)}/${e[0]}`:`${rM(n)}/(${e.join("//")})`}}function qq(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function sM(n){return qq(n).replace(/%3B/gi,";")}function wk(n){return qq(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function oM(n){return decodeURIComponent(n)}function Kq(n){return oM(n.replace(/\+/g,"%20"))}function Jq(n){return`${wk(n.path)}${function eGe(n){return Object.keys(n).map(t=>`;${wk(t)}=${wk(n[t])}`).join("")}(n.parameters)}`}const nGe=/^[^\/()?;=#]+/;function aM(n){const t=n.match(nGe);return t?t[0]:""}const iGe=/^[^=?&#]+/,sGe=/^[^&#]+/;class aGe{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new gi([],{}):new gi([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[ii]=new gi(t,e)),i}parseSegment(){const t=aM(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Jb(oM(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=aM(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=aM(this.remaining);r&&(i=r,this.capture(i))}t[oM(e)]=oM(i)}parseQueryParam(t){const e=function rGe(n){const t=n.match(iGe);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const o=function oGe(n){const t=n.match(sGe);return t?t[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const r=Kq(e),s=Kq(i);if(t.hasOwnProperty(r)){let o=t[r];Array.isArray(o)||(o=[o],t[r]=o),o.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=aM(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let s;i.indexOf(":")>-1?(s=i.substr(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=ii);const o=this.parseChildren();e[s]=1===Object.keys(o).length?o[ii]:new gi([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Zq{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Mk(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=Mk(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Ok(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Ok(t,this._root).map(e=>e.value)}}function Mk(n,t){if(n===t.value)return t;for(const e of t.children){const i=Mk(n,e);if(i)return i}return null}function Ok(n,t){if(n===t.value)return[t];for(const e of t.children){const i=Ok(n,e);if(i.length)return i.unshift(t),i}return[]}class Id{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Tv(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class Qq extends Zq{constructor(t,e){super(t),this.snapshot=e,Pk(this,t)}toString(){return this.snapshot.toString()}}function eK(n,t){const e=function lGe(n,t){const o=new lM([],{},{},"",{},ii,t,null,n.root,-1,{});return new nK("",new Id(o,[]))}(n,t),i=new On([new Jb("",{})]),r=new On({}),s=new On({}),o=new On({}),a=new On(""),l=new wv(i,r,o,a,s,ii,t,e.root);return l.snapshot=e.root,new Qq(new Id(l,[]),e)}class wv{constructor(t,e,i,r,s,o,a,l){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ie(t=>Ev(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ie(t=>Ev(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function tK(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function cGe(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class lM{constructor(t,e,i,r,s,o,a,l,c,u,d){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ev(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ev(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class nK extends Zq{constructor(t,e){super(e),this.url=t,Pk(this,e)}toString(){return iK(this._root)}}function Pk(n,t){t.value._routerState=n,t.children.forEach(e=>Pk(n,e))}function iK(n){const t=n.children.length>0?` { ${n.children.map(iK).join(", ")} } `:"";return`${n.value}${t}`}function xk(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Au(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Au(t.params,e.params)||n.params.next(e.params),function W6e(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Au(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Au(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Ik(n,t){const e=Au(n.params,t.params)&&function K6e(n,t){return wg(n,t)&&n.every((e,i)=>Au(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Ik(n.parent,t.parent))}function Qb(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function dGe(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Qb(n,i,r);return Qb(n,i)})}(n,t,e);return new Id(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(a=>Qb(n,a)),o}}const i=function hGe(n){return new wv(new On(n.url),new On(n.params),new On(n.queryParams),new On(n.fragment),new On(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>Qb(n,s));return new Id(i,r)}}function cM(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function e1(n){return"object"==typeof n&&null!=n&&n.outlets}function Ak(n,t,e,i,r){let s={};if(i&&To(i,(a,l)=>{s[l]=Array.isArray(a)?a.map(c=>`${c}`):`${a}`}),n===t)return new Tg(e,s,r);const o=rK(n,t,e);return new Tg(o,s,r)}function rK(n,t,e){const i={};return To(n.children,(r,s)=>{i[s]=r===t?e:rK(r,t,e)}),new gi(n.segments,i)}class sK{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&cM(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(e1);if(r&&r!==jq(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Rk{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function oK(n,t,e){if(n||(n=new gi([],{})),0===n.segments.length&&n.hasChildren())return uM(n,t,e);const i=function vGe(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const o=n.segments[r],a=e[i];if(e1(a))break;const l=`${a}`,c=i<e.length-1?e[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!lK(l,c,o))return s;i+=2}else{if(!lK(l,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new gi(n.segments.slice(0,i.pathIndex),{});return s.children[ii]=new gi(n.segments.slice(i.pathIndex),n.children),uM(s,0,r)}return i.match&&0===r.length?new gi(n.segments,{}):i.match&&!n.hasChildren()?Dk(n,t,e):i.match?uM(n,0,r):Dk(n,t,e)}function uM(n,t,e){if(0===e.length)return new gi(n.segments,{});{const i=function mGe(n){return e1(n[0])?n[0].outlets:{[ii]:n}}(e),r={};return To(i,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=oK(n.children[o],t,s))}),To(n.children,(s,o)=>{void 0===i[o]&&(r[o]=s)}),new gi(n.segments,r)}}function Dk(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(e1(s)){const l=yGe(s.outlets);return new gi(i,l)}if(0===r&&cM(e[0])){i.push(new Jb(n.segments[t].path,aK(e[0]))),r++;continue}const o=e1(s)?s.outlets[ii]:`${s}`,a=r<e.length-1?e[r+1]:null;o&&a&&cM(a)?(i.push(new Jb(o,aK(a))),r+=2):(i.push(new Jb(o,{})),r++)}return new gi(i,{})}function yGe(n){const t={};return To(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=Dk(new gi([],{}),0,e))}),t}function aK(n){const t={};return To(n,(e,i)=>t[i]=`${e}`),t}function lK(n,t,e){return n==e.path&&Au(t,e.parameters)}class SGe{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),xk(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Tv(e);t.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),To(r,(s,o)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=Tv(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);if(i&&i.outlet){const o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=Tv(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=Tv(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new j6e(s.value.snapshot))}),t.children.length&&this.forwardEvent(new U6e(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(xk(r),r===s)if(r.component){const o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),xk(a.route.value),this.activateChildRoutes(t,null,o.children)}else{const a=function CGe(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),l=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=r,o.resolver=l,o.outlet&&o.outlet.activateWith(r,l),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,i)}}class Nk{constructor(t,e){this.routes=t,this.module=e}}function Xh(n){return"function"==typeof n}function Mg(n){return n instanceof Tg}const t1=Symbol("INITIAL_VALUE");function n1(){return ca(n=>ud(n.map(t=>t.pipe(Ri(1),gh(t1)))).pipe(Aq((t,e)=>{let i=!1;return e.reduce((r,s,o)=>r!==t1?r:(s===t1&&(i=!0),i||!1!==s&&o!==e.length-1&&!Mg(s)?r:s),t)},t1),Bt(t=>t!==t1),Ie(t=>Mg(t)?t:!0===t),Ri(1)))}class PGe{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new r1,this.attachRef=null}}class r1{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new PGe,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let cK=(()=>{class n{constructor(e,i,r,s,o){this.parentContexts=e,this.location=i,this.resolver=r,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new nn,this.deactivateEvents=new nn,this.attachEvents=new nn,this.detachEvents=new nn,this.name=s||ii,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const o=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,l=new xGe(e,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(z(r1),z(Ja),z(pf),function sf(n){return function tZ(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const i=e.length;let r=0;for(;r<i;){const s=e[r];if(O3(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<i&&"string"==typeof e[r];)r++;else{if(s===t)return e[r+1];r+=2}}}return null}(As(),n)}("name"),z(Sn))},n.\u0275dir=At({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class xGe{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===wv?this.route:t===r1?this.childContexts:this.parent.get(t,e)}}let uK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=rt({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&fe(0,"router-outlet")},directives:[cK],encapsulation:2}),n})();function dK(n,t=""){for(let e=0;e<n.length;e++){const i=n[e];IGe(i,AGe(t,i))}}function IGe(n,t){n.children&&dK(n.children,t)}function AGe(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function kk(n){const t=n.children&&n.children.map(kk),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==ii&&(e.component=uK),e}function ic(n){return n.outlet||ii}function hK(n,t){const e=n.filter(i=>ic(i)===t);return e.push(...n.filter(i=>ic(i)!==t)),e}const fK={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function dM(n,t,e){var i;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},fK):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const s=(t.matcher||z6e)(e,n,t);if(!s)return Object.assign({},fK);const o={};To(s.posParams,(l,c)=>{o[c]=l.path});const a=s.consumed.length>0?Object.assign(Object.assign({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,remainingSegments:e.slice(s.consumed.length),parameters:a,positionalParamSegments:null!==(i=s.posParams)&&void 0!==i?i:{}}}function hM(n,t,e,i,r="corrected"){if(e.length>0&&function NGe(n,t,e){return e.some(i=>fM(n,t,i)&&ic(i)!==ii)}(n,e,i)){const o=new gi(t,function DGe(n,t,e,i){const r={};r[ii]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const s of e)if(""===s.path&&ic(s)!==ii){const o=new gi([],{});o._sourceSegment=n,o._segmentIndexShift=t.length,r[ic(s)]=o}return r}(n,t,i,new gi(e,n.children)));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===e.length&&function kGe(n,t,e){return e.some(i=>fM(n,t,i))}(n,e,i)){const o=new gi(n.segments,function RGe(n,t,e,i,r,s){const o={};for(const a of i)if(fM(n,e,a)&&!r[ic(a)]){const l=new gi([],{});l._sourceSegment=n,l._segmentIndexShift="legacy"===s?n.segments.length:t.length,o[ic(a)]=l}return Object.assign(Object.assign({},r),o)}(n,t,e,i,n.children,r));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}const s=new gi(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}function fM(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function pK(n,t,e,i){return!!(ic(n)===i||i!==ii&&fM(t,e,n))&&("**"===n.path||dM(t,n,e).matched)}function gK(n,t,e){return 0===t.length&&!n.children[e]}class pM{constructor(t){this.segmentGroup=t||null}}class _K{constructor(t){this.urlTree=t}}function s1(n){return sy(new pM(n))}function mK(n){return sy(new _K(n))}function FGe(n){return sy(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`))}class UGe{constructor(t,e,i,r,s){this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(Vu)}apply(){const t=hM(this.urlTree.root,[],[],this.config).segmentGroup,e=new gi(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,ii).pipe(Ie(s=>this.createUrlTree(Fk(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Cc(s=>{if(s instanceof _K)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof pM?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,ii).pipe(Ie(r=>this.createUrlTree(Fk(r),t.queryParams,t.fragment))).pipe(Cc(r=>{throw r instanceof pM?this.noMatchError(r):r}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const r=t.segments.length>0?new gi([],{[ii]:t}):t;return new Tg(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe(Ie(s=>new gi([],s))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return ri(r).pipe(z_(s=>{const o=i.children[s],a=hK(e,s);return this.expandSegmentGroup(t,a,o,s).pipe(Ie(l=>({segment:l,outlet:s})))}),Aq((s,o)=>(s[o.outlet]=o.segment,s),{}),function I6e(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Bt((r,s)=>n(r,s,i)):Se,Ck(1),e?Dq(t):Rq(()=>new nM))}())}expandSegment(t,e,i,r,s,o){return ri(i).pipe(z_(a=>this.expandSegmentAgainstRoute(t,e,i,a,r,s,o).pipe(Cc(c=>{if(c instanceof pM)return hn(null);throw c}))),Cv(a=>!!a),Cc((a,l)=>{if(a instanceof nM||"EmptyError"===a.name)return gK(e,r,s)?hn(new gi([],{})):s1(e);throw a}))}expandSegmentAgainstRoute(t,e,i,r,s,o,a){return pK(r,e,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o):s1(e):s1(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?mK(s):this.lineralizeSegments(i,s).pipe(Sr(o=>{const a=new gi(o,{});return this.expandSegment(t,a,e,o,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=dM(e,r,s);if(!a)return s1(e);const d=this.applyRedirectCommands(l,r.redirectTo,u);return r.redirectTo.startsWith("/")?mK(d):this.lineralizeSegments(r,d).pipe(Sr(f=>this.expandSegment(t,e,i,f.concat(c),o,!1)))}matchSegmentAgainstRoute(t,e,i,r,s){if("**"===i.path)return i.loadChildren?(i._loadedConfig?hn(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe(Ie(d=>(i._loadedConfig=d,new gi(r,{})))):hn(new gi(r,{}));const{matched:o,consumedSegments:a,remainingSegments:l}=dM(e,i,r);return o?this.getChildConfig(t,i,r).pipe(Sr(u=>{const d=u.module,f=u.routes,{segmentGroup:y,slicedSegments:O}=hM(e,a,l,f),I=new gi(y.segments,y.children);if(0===O.length&&I.hasChildren())return this.expandChildren(d,f,I).pipe(Ie(G=>new gi(a,G)));if(0===f.length&&0===O.length)return hn(new gi(a,{}));const N=ic(i)===s;return this.expandSegment(d,I,f,O,N?ii:s,!0).pipe(Ie(B=>new gi(a.concat(B.segments),B.children)))})):s1(e)}getChildConfig(t,e,i){return e.children?hn(new Nk(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?hn(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe(Sr(r=>r?this.configLoader.load(t.injector,e).pipe(Ie(s=>(e._loadedConfig=s,s))):function LGe(n){return sy(Tk(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(e))):hn(new Nk([],t))}runCanLoadGuards(t,e,i){const r=e.canLoad;if(!r||0===r.length)return hn(!0);const s=r.map(o=>{const a=t.get(o);let l;if(function TGe(n){return n&&Xh(n.canLoad)}(a))l=a.canLoad(e,i);else{if(!Xh(a))throw new Error("Invalid CanLoad guard");l=a(e,i)}return Ru(l)});return hn(s).pipe(n1(),gr(o=>{if(!Mg(o))return;const a=Tk(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),Ie(o=>!0===o))}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return hn(i);if(r.numberOfChildren>1||!r.children[ii])return FGe(t.redirectTo);r=r.children[ii]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new Tg(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return To(t,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const a=r.substring(1);i[s]=e[a]}else i[s]=r}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let o={};return To(e.children,(a,l)=>{o[l]=this.createSegmentGroup(t,a,i,r)}),new gi(s,o)}createSegments(t,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}function Fk(n){const t={};for(const i of Object.keys(n.children)){const s=Fk(n.children[i]);(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function GGe(n){if(1===n.numberOfChildren&&n.children[ii]){const t=n.children[ii];return new gi(n.segments.concat(t.segments),t.children)}return n}(new gi(n.segments,t))}class vK{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class gM{constructor(t,e){this.component=t,this.route=e}}function HGe(n,t,e){const i=n._root;return o1(i,t?t._root:null,e,[i.value])}function _M(n,t,e){const i=function zGe(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(n)}function o1(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Tv(t);return n.children.forEach(o=>{(function WGe(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function $Ge(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!wg(n.url,t.url);case"pathParamsOrQueryParamsChange":return!wg(n.url,t.url)||!Au(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ik(n,t)||!Au(n.queryParams,t.queryParams);default:return!Ik(n,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new vK(i)):(s.data=o.data,s._resolvedData=o._resolvedData),o1(n,t,s.component?a?a.children:null:e,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new gM(a.outlet.component,o))}else o&&a1(t,a,r),r.canActivateChecks.push(new vK(i)),o1(n,null,s.component?a?a.children:null:e,i,r)})(o,s[o.value.outlet],e,i.concat([o.value]),r),delete s[o.value.outlet]}),To(s,(o,a)=>a1(o,e.getContext(a),r)),r}function a1(n,t,e){const i=Tv(n),r=n.value;To(i,(s,o)=>{a1(s,r.component?t?t.children.getContext(o):null:t,e)}),e.canDeactivateChecks.push(new gM(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}class tje{}function yK(n){return new _e(t=>t.error(n))}class ije{constructor(t,e,i,r,s,o){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const t=hM(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,ii);if(null===e)return null;const i=new lM([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ii,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Id(i,e),s=new nK(this.url,r);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(t){const e=t.value,i=tK(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const s of Object.keys(e.children)){const o=e.children[s],a=hK(t,s),l=this.processSegmentGroup(a,o,s);if(null===l)return null;i.push(...l)}const r=bK(i);return function rje(n){n.sort((t,e)=>t.value.outlet===ii?-1:e.value.outlet===ii?1:t.value.outlet.localeCompare(e.value.outlet))}(r),r}processSegment(t,e,i,r){for(const s of t){const o=this.processSegmentAgainstRoute(s,e,i,r);if(null!==o)return o}return gK(e,i,r)?[]:null}processSegmentAgainstRoute(t,e,i,r){if(t.redirectTo||!pK(t,e,i,r))return null;let s,o=[],a=[];if("**"===t.path){const y=i.length>0?jq(i).parameters:{};s=new lM(i,y,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,EK(t),ic(t),t.component,t,SK(e),CK(e)+i.length,TK(t))}else{const y=dM(e,t,i);if(!y.matched)return null;o=y.consumedSegments,a=y.remainingSegments,s=new lM(o,y.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,EK(t),ic(t),t.component,t,SK(e),CK(e)+o.length,TK(t))}const l=function sje(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:c,slicedSegments:u}=hM(e,o,a,l.filter(y=>void 0===y.redirectTo),this.relativeLinkResolution);if(0===u.length&&c.hasChildren()){const y=this.processChildren(l,c);return null===y?null:[new Id(s,y)]}if(0===l.length&&0===u.length)return[new Id(s,[])];const d=ic(t)===r,f=this.processSegment(l,c,u,d?ii:r);return null===f?null:[new Id(s,f)]}}function oje(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function bK(n){const t=[],e=new Set;for(const i of n){if(!oje(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=bK(i.children);t.push(new Id(i.value,r))}return t.filter(i=>!e.has(i))}function SK(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function CK(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function EK(n){return n.data||{}}function TK(n){return n.resolve||{}}function wK(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Lk(n){return ca(t=>{const e=n(t);return e?ri(e).pipe(Ie(()=>t)):hn(t)})}class pje extends class fje{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Bk=new Zt("ROUTES");class MK{constructor(t,e,i,r){this.injector=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const r=this.loadModuleFactory(e.loadChildren).pipe(Ie(s=>{this.onLoadEndListener&&this.onLoadEndListener(e);const o=s.create(t);return new Nk(Gq(o.injector.get(Bk,void 0,Mn.Self|Mn.Optional)).map(kk),o)}),Cc(s=>{throw e._loader$=void 0,s}));return e._loader$=new O6e(r,()=>new Qe).pipe(Iq()),e._loader$}loadModuleFactory(t){return Ru(t()).pipe(Sr(e=>e instanceof y4?hn(e):ri(this.compiler.compileModuleAsync(e))))}}class _je{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function mje(n){throw n}function vje(n,t,e){return t.parse("/")}function OK(n,t){return hn(null)}const yje={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},bje={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let fl=(()=>{class n{constructor(e,i,r,s,o,a,l){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Qe,this.errorHandler=mje,this.malformedUriErrorHandler=vje,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:OK,afterPreactivation:OK},this.urlHandlingStrategy=new _je,this.routeReuseStrategy=new pje,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(Vu),this.console=o.get(Sre);const d=o.get(Zn);this.isNgZoneEnabled=d instanceof Zn&&Zn.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=function $6e(){return new Tg(new gi([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new MK(o,a,f=>this.triggerEvent(new kq(f)),f=>this.triggerEvent(new Fq(f))),this.routerState=eK(this.currentUrlTree,this.rootComponentType),this.transitions=new On({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(Bt(r=>0!==r.id),Ie(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),ca(r=>{let s=!1,o=!1;return hn(r).pipe(gr(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ca(a=>{const l=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return PK(a.source)&&(this.browserUrlTree=a.extractedUrl),hn(a).pipe(ca(d=>{const f=this.transitions.getValue();return i.next(new Ek(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),f!==this.transitions.getValue()?ht:Promise.resolve(d)}),function jGe(n,t,e,i){return ca(r=>function BGe(n,t,e,i,r){return new UGe(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe(Ie(s=>Object.assign(Object.assign({},r),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),gr(d=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:d.urlAfterRedirects})}),function aje(n,t,e,i,r){return Sr(s=>function nje(n,t,e,i,r="emptyOnly",s="legacy"){try{const o=new ije(n,t,e,i,r,s).recognize();return null===o?yK(new tje):hn(o)}catch(o){return yK(o)}}(n,t,s.urlAfterRedirects,e(s.urlAfterRedirects),i,r).pipe(Ie(o=>Object.assign(Object.assign({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,d=>this.serializeUrl(d),this.paramsInheritanceStrategy,this.relativeLinkResolution),gr(d=>{if("eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const y=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(y,d)}this.browserUrlTree=d.urlAfterRedirects}const f=new D6e(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);i.next(f)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:f,extractedUrl:y,source:O,restoredState:I,extras:N}=a,k=new Ek(f,this.serializeUrl(y),O,I);i.next(k);const B=eK(y,this.rootComponentType).snapshot;return hn(Object.assign(Object.assign({},a),{targetSnapshot:B,urlAfterRedirects:y,extras:Object.assign(Object.assign({},N),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),ht}),Lk(a=>{const{targetSnapshot:l,id:c,extractedUrl:u,rawUrl:d,extras:{skipLocationChange:f,replaceUrl:y}}=a;return this.hooks.beforePreactivation(l,{navigationId:c,appliedUrlTree:u,rawUrlTree:d,skipLocationChange:!!f,replaceUrl:!!y})}),gr(a=>{const l=new N6e(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),Ie(a=>Object.assign(Object.assign({},a),{guards:HGe(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function YGe(n,t){return Sr(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=e;return 0===o.length&&0===s.length?hn(Object.assign(Object.assign({},e),{guardsResult:!0})):function XGe(n,t,e,i){return ri(n).pipe(Sr(r=>function eje(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?hn(s.map(a=>{const l=_M(a,t,r);let c;if(function OGe(n){return n&&Xh(n.canDeactivate)}(l))c=Ru(l.canDeactivate(n,t,e,i));else{if(!Xh(l))throw new Error("Invalid CanDeactivate guard");c=Ru(l(n,t,e,i))}return c.pipe(Cv())})).pipe(n1()):hn(!0)}(r.component,r.route,e,t,i)),Cv(r=>!0!==r,!0))}(o,i,r,n).pipe(Sr(a=>a&&function EGe(n){return"boolean"==typeof n}(a)?function qGe(n,t,e,i){return ri(t).pipe(z_(r=>em(function JGe(n,t){return null!==n&&t&&t(new B6e(n)),hn(!0)}(r.route.parent,i),function KGe(n,t){return null!==n&&t&&t(new G6e(n)),hn(!0)}(r.route,i),function QGe(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>function VGe(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(o)).filter(o=>null!==o).map(o=>xq(()=>hn(o.guards.map(l=>{const c=_M(l,o.node,e);let u;if(function MGe(n){return n&&Xh(n.canActivateChild)}(c))u=Ru(c.canActivateChild(i,n));else{if(!Xh(c))throw new Error("Invalid CanActivateChild guard");u=Ru(c(i,n))}return u.pipe(Cv())})).pipe(n1())));return hn(s).pipe(n1())}(n,r.path,e),function ZGe(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return hn(!0);const r=i.map(s=>xq(()=>{const o=_M(s,t,e);let a;if(function wGe(n){return n&&Xh(n.canActivate)}(o))a=Ru(o.canActivate(t,n));else{if(!Xh(o))throw new Error("Invalid CanActivate guard");a=Ru(o(t,n))}return a.pipe(Cv())}));return hn(r).pipe(n1())}(n,r.route,e))),Cv(r=>!0!==r,!0))}(i,s,n,t):hn(a)),Ie(a=>Object.assign(Object.assign({},e),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),gr(a=>{if(Mg(a.guardsResult)){const c=Tk(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw c.url=a.guardsResult,c}const l=new k6e(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),Bt(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),Lk(a=>{if(a.guards.canActivateChecks.length)return hn(a).pipe(gr(l=>{const c=new F6e(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}),ca(l=>{let c=!1;return hn(l).pipe(function lje(n,t){return Sr(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return hn(e);let s=0;return ri(r).pipe(z_(o=>function cje(n,t,e,i){return function uje(n,t,e,i){const r=wK(n);if(0===r.length)return hn({});const s={};return ri(r).pipe(Sr(o=>function dje(n,t,e,i){const r=_M(n,t,i);return Ru(r.resolve?r.resolve(t,e):r(t,e))}(n[o],t,e,i).pipe(gr(a=>{s[o]=a}))),Ck(1),Sr(()=>wK(s).length===r.length?hn(s):ht))}(n._resolve,n,t,i).pipe(Ie(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),tK(n,e).resolve),null)))}(o.route,i,n,t)),gr(()=>s++),Ck(1),Sr(o=>s===r.length?hn(e):ht))})}(this.paramsInheritanceStrategy,this.ngModule.injector),gr({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(l),this.cancelNavigationTransition(l,"At least one route resolver didn't emit any value."))}}))}),gr(l=>{const c=new L6e(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}))}),Lk(a=>{const{targetSnapshot:l,id:c,extractedUrl:u,rawUrl:d,extras:{skipLocationChange:f,replaceUrl:y}}=a;return this.hooks.afterPreactivation(l,{navigationId:c,appliedUrlTree:u,rawUrlTree:d,skipLocationChange:!!f,replaceUrl:!!y})}),Ie(a=>{const l=function uGe(n,t,e){const i=Qb(n,t._root,e?e._root:void 0);return new Qq(i,t)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:l})}),gr(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,t,e)=>Ie(i=>(new SGe(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),gr({next(){s=!0},complete(){s=!0}}),function A6e(n){return Je((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}(()=>{var a;s||o||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===r.id&&(this.currentNavigation=null)}),Cc(a=>{if(o=!0,function V6e(n){return n&&n[Bq]}(a)){const l=Mg(a.url);l||(this.navigated=!0,this.restoreHistory(r,!0));const c=new Nq(r.id,this.serializeUrl(r.extractedUrl),a.message);i.next(c),l?setTimeout(()=>{const u=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),d={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||PK(r.source)};this.scheduleNavigation(u,"imperative",null,d,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const l=new R6e(r.id,this.serializeUrl(r.extractedUrl),a);i.next(l);try{r.resolve(this.errorHandler(a))}catch(c){r.reject(c)}}return ht}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const s={replaceUrl:!0},o=(null===(r=e.state)||void 0===r?void 0:r.navigationId)?e.state:null;if(o){const l=Object.assign({},o);delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(e.url);this.scheduleNavigation(a,i,o,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){dK(e),this.config=e.map(kk),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=i,c=r||this.routerState.root,u=l?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),function fGe(n,t,e,i,r){if(0===e.length)return Ak(t.root,t.root,t.root,i,r);const s=function pGe(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new sK(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return To(s.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?e=!0:".."===a?t++:""!=a&&r.push(a))}),r):[...r,s]},[]);return new sK(e,t,i)}(e);if(s.toRoot())return Ak(t.root,t.root,new gi([],{}),i,r);const o=function gGe(n,t,e){if(n.isAbsolute)return new Rk(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const s=e.snapshot._urlSegment;return new Rk(s,s===t.root,0)}const i=cM(n.commands[0])?0:1;return function _Ge(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new Rk(i,!1,r-s)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(s,t,n),a=o.processChildren?uM(o.segmentGroup,o.index,s.commands):oK(o.segmentGroup,o.index,s.commands);return Ak(t.root,o.segmentGroup,a,i,r)}(c,this.currentUrlTree,e,d,null!=u?u:null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=Mg(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function Sje(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?Object.assign({},yje):!1===i?Object.assign({},bje):i,Mg(e))return Vq(this.currentUrlTree,e,r);const s=this.parseUrl(e);return Vq(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Kb(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,s,o){var a,l;if(this.disposed)return Promise.resolve(!1);let c,u,d;o?(c=o.resolve,u=o.reject,d=o.promise):d=new Promise((O,I)=>{c=O,u=I});const f=++this.navigationId;let y;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),y=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(a=this.browserPageId)&&void 0!==a?a:0:(null!==(l=this.browserPageId)&&void 0!==l?l:0)+1):y=0,this.setTransition({id:f,targetPageId:y,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:s,resolve:c,reject:u,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(O=>Promise.reject(O))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),s=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(e,i=!1){var r,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===o?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===o&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const r=new Nq(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(r),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){sP()},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})();function PK(n){return"imperative"!==n}class xK{}class IK{preload(t,e){return hn(null)}}let AK=(()=>{class n{constructor(e,i,r,s){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=new MK(r,i,l=>e.triggerEvent(new kq(l)),l=>e.triggerEvent(new Fq(l)))}setUpPreloading(){this.subscription=this.router.events.pipe(Bt(e=>e instanceof Kb),z_(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(Vu);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;r.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?r.push(this.preloadConfig(e,s)):s.children&&r.push(this.processRoutes(e,s.children));return ri(r).pipe(xs(),Ie(s=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?hn(i._loadedConfig):this.loader.load(e.injector,i)).pipe(Sr(s=>(i._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(je(fl),je(t5),je(Ds),je(xK))},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})(),jk=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Ek?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Kb&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Lq&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new Lq(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){sP()},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})();const Og=new Zt("ROUTER_CONFIGURATION"),RK=new Zt("ROUTER_FORROOT_GUARD"),wje=[qP,{provide:Yq,useClass:Xq},{provide:fl,useFactory:function Aje(n,t,e,i,r,s,o={},a,l){const c=new fl(null,n,t,e,i,r,Gq(s));return a&&(c.urlHandlingStrategy=a),l&&(c.routeReuseStrategy=l),function Rje(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(o,c),o.enableTracing&&c.events.subscribe(u=>{var d,f;null===(d=console.group)||void 0===d||d.call(console,`Router Event: ${u.constructor.name}`),console.log(u.toString()),console.log(u),null===(f=console.groupEnd)||void 0===f||f.call(console)}),c},deps:[Yq,r1,qP,Ds,t5,Bk,Og,[class gje{},new Hd],[class hje{},new Hd]]},r1,{provide:wv,useFactory:function Dje(n){return n.routerState.root},deps:[fl]},AK,IK,class Tje{preload(t,e){return e().pipe(Cc(()=>hn(null)))}},{provide:Og,useValue:{enableTracing:!1}}];function Mje(){return new o5("Router",fl)}let Oje=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[wje,DK(e),{provide:RK,useFactory:Ije,deps:[[fl,new Hd,new zv]]},{provide:Og,useValue:i||{}},{provide:C_,useFactory:xje,deps:[mf,[new U1(XP),new Hd],Og]},{provide:jk,useFactory:Pje,deps:[fl,$oe,Og]},{provide:xK,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:IK},{provide:o5,multi:!0,useFactory:Mje},[Hk,{provide:mS,multi:!0,useFactory:Nje,deps:[Hk]},{provide:NK,useFactory:kje,deps:[Hk]},{provide:e5,multi:!0,useExisting:NK}]]}}static forChild(e){return{ngModule:n,providers:[DK(e)]}}}return n.\u0275fac=function(e){return new(e||n)(je(RK,8),je(fl,8))},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({}),n})();function Pje(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new jk(n,t,e)}function xje(n,t,e={}){return e.useHash?new fse(n,t):new w5(n,t)}function Ije(n){return"guarded"}function DK(n){return[{provide:oZ,multi:!0,useValue:n},{provide:Bk,multi:!0,useValue:n}]}let Hk=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Qe}appInitializer(){return this.injector.get(use,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(a=>i=a),s=this.injector.get(fl),o=this.injector.get(Og);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),i(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?hn(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),s.initialNavigation()):i(!0),r})}bootstrapListener(e){const i=this.injector.get(Og),r=this.injector.get(AK),s=this.injector.get(jk),o=this.injector.get(fl),a=this.injector.get(vS);e===a.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&o.initialNavigation(),r.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(je(Ds))},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})();function Nje(n){return n.appInitializer.bind(n)}function kje(n){return n.bootstrapListener.bind(n)}const NK=new Zt("Router Initializer");let Lje=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot,en,jge]]}),n})(),Bje=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot,en,Rr]]}),n})(),Uje=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n}),n.\u0275inj=ut({imports:[[Ot,en]]}),n})(),Gje=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=dt({type:n,bootstrap:[wBe]}),n.\u0275inj=ut({providers:[{provide:mS,useFactory:t=>()=>t.init(),deps:[ln],multi:!0},{provide:Xg,useValue:xpe()}],imports:[[rU,bk,M6e,Lje,Oje.forRoot([],{relativeLinkResolution:"legacy"}),bpe,Uje,bEe,Sk,Rc,Bje,wEe]]}),n})();const jje="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function mM(n){return n&&n.Math==Math?n:void 0}const l1="object"==typeof globalThis&&mM(globalThis)||"object"==typeof window&&mM(window)||"object"==typeof self&&mM(self)||"object"==typeof global&&mM(global)||function(){return this}()||{},kK=["debug","info","warn","error","log","assert","trace"],FK={},Wje=function zje(){let n=!1;const t={enable:()=>{n=!0},disable:()=>{n=!1},isEnabled:()=>n};return kK.forEach(jje?e=>{t[e]=(...i)=>{n&&function Vje(n){if(!("console"in l1))return n();const t=l1.console,e={},i=Object.keys(FK);i.forEach(r=>{const s=FK[r];e[r]=t[r],t[r]=s});try{n()}finally{i.forEach(r=>{t[r]=e[r]})}}(()=>{l1.console[e](`Sentry Logger [${e}]:`,...i)})}}:e=>{t[e]=()=>{}}),t}(),$je="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,BK=()=>{let n;return{name:"Dedupe",setupOnce(){},processEvent(t){if(t.type)return t;try{if(function Yje(n,t){return!(!t||!function Xje(n,t){const e=n.message,i=t.message;return!(!e&&!i||e&&!i||!e&&i||e!==i||!GK(n,t)||!UK(n,t))}(n,t)&&!function qje(n,t){const e=jK(t),i=jK(n);return!!(e&&i&&e.type===i.type&&e.value===i.value&&GK(n,t)&&UK(n,t))}(n,t))}(t,n))return $je&&Wje.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(e){}return n=t}}};function UK(n,t){let e=HK(n),i=HK(t);if(!e&&!i)return!0;if(e&&!i||!e&&i||i.length!==e.length)return!1;for(let r=0;r<i.length;r++){const s=i[r],o=e[r];if(s.filename!==o.filename||s.lineno!==o.lineno||s.colno!==o.colno||s.function!==o.function)return!1}return!0}function GK(n,t){let e=n.fingerprint,i=t.fingerprint;if(!e&&!i)return!0;if(e&&!i||!e&&i)return!1;try{return e.join("")===i.join("")}catch(r){return!1}}function jK(n){return n.exception&&n.exception.values&&n.exception.values[0]}function HK(n){const t=n.exception;if(t)try{return t.values[0].stacktrace.frames}catch(e){return}}Xu("Dedupe",BK);const Jje=["Http failure response for","The new multiplier is less than the previous multiplier in the current round"],eHe={dsn:"https://211b12c20385419e9d526a4edd2b9d7f@sentry.spribe.io/10",environment:"release-next",release:Mi.version,ignoreErrors:["URL parameters are missing or invalid","Retry limit of client config exceeded!","network error occurred","Possible side-effect in debug-evaluate","Failed to start the audio device","Identifier 'isMainframe' has already been declared",'Permission denied to access property "dispatchEvent" on cross-origin object'],normalizeDepth:8,integrations:[function Npe(n={}){return!1!==n.instrumentNavigation&&(RG=!0,Dpe=!0),Yfe(Object.assign(Object.assign({},n),{instrumentNavigation:!1}))}(),BK()],maxBreadcrumbs:100,tracesSampleRate:.001,autoSessionTracking:!1,sendClientReports:!1,beforeSend:(n,t)=>function Qje(n,t){var e,i,r,s;const o=null===(i=null===(e=n.exception)||void 0===e?void 0:e.values)||void 0===i?void 0:i[0],a=null===(r=null==o?void 0:o.stacktrace)||void 0===r?void 0:r.frames;if((null==t?void 0:t.originalException)instanceof BC||"Timeout"===(null==t?void 0:t.originalException))return!0;const c="<anonymous>"===(null===(s=null==a?void 0:a[0])||void 0===s?void 0:s.filename);if("ReferenceError"===(null==o?void 0:o.type)&&c)return!0;const u=null==a?void 0:a[a.length-1];return!("eval"!==(null==u?void 0:u.function)||(null==u?void 0:u.filename))||!!Jje.find(y=>{var O;return null===(O=n.message)||void 0===O?void 0:O.includes(y)})&&Math.random()>.001}(n,t)?null:n};(function Cpe(n){const t=Object.assign({defaultIntegrations:p6().filter(e=>"TryCatch"!==e.name)},n);P8(t,"angular"),function Epe(){const t=dS&&dS.major?parseInt(dS.major,10):void 0;t&&(t<10&&Spe&&rpe.warn(`The Sentry SDK does not officially support Angular ${t}.`,"This version of the Sentry SDK supports Angular 10 and above.","Please consider upgrading your Angular version or downgrading the Sentry SDK."),function Ale(n,t){qs().setContext(n,t)}("angular",{version:t}))}(),Gde(t)})(eHe),Mi.production&&function Vre(){d5=!1}(),!1===Mi.loggerEnabled&&window&&["log","debug","warn","info","error"].forEach(t=>{console[t]=function(){}}),document.body.setAttribute("app-version",Mi.version),vae().bootstrapModule(Gje).catch(n=>{const t=n.hasOwnProperty("message")?n.message:n,e=document.getElementById("main-error-message");e.querySelector(".alert").textContent=t.toString(),e.classList.remove("d-none"),document.getElementById("main-loading").classList.add("d-none")})},9170:He=>{"use strict";var H=Object.prototype.hasOwnProperty,A="~";function h(){}function M(v,g,_){this.fn=v,this.context=g,this.once=_||!1}function S(v,g,_,m,w){if("function"!=typeof _)throw new TypeError("The listener must be a function");var P=new M(_,m||v,w),p=A?A+g:g;return v._events[p]?v._events[p].fn?v._events[p]=[v._events[p],P]:v._events[p].push(P):(v._events[p]=P,v._eventsCount++),v}function T(v,g){0==--v._eventsCount?v._events=new h:delete v._events[g]}function b(){this._events=new h,this._eventsCount=0}Object.create&&(h.prototype=Object.create(null),(new h).__proto__||(A=!1)),b.prototype.eventNames=function(){var _,m,g=[];if(0===this._eventsCount)return g;for(m in _=this._events)H.call(_,m)&&g.push(A?m.slice(1):m);return Object.getOwnPropertySymbols?g.concat(Object.getOwnPropertySymbols(_)):g},b.prototype.listeners=function(g){var m=this._events[A?A+g:g];if(!m)return[];if(m.fn)return[m.fn];for(var w=0,P=m.length,p=new Array(P);w<P;w++)p[w]=m[w].fn;return p},b.prototype.listenerCount=function(g){var m=this._events[A?A+g:g];return m?m.fn?1:m.length:0},b.prototype.emit=function(g,_,m,w,P,p){var C=A?A+g:g;if(!this._events[C])return!1;var $,X,x=this._events[C],L=arguments.length;if(x.fn){switch(x.once&&this.removeListener(g,x.fn,void 0,!0),L){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,_),!0;case 3:return x.fn.call(x.context,_,m),!0;case 4:return x.fn.call(x.context,_,m,w),!0;case 5:return x.fn.call(x.context,_,m,w,P),!0;case 6:return x.fn.call(x.context,_,m,w,P,p),!0}for(X=1,$=new Array(L-1);X<L;X++)$[X-1]=arguments[X];x.fn.apply(x.context,$)}else{var ie,re=x.length;for(X=0;X<re;X++)switch(x[X].once&&this.removeListener(g,x[X].fn,void 0,!0),L){case 1:x[X].fn.call(x[X].context);break;case 2:x[X].fn.call(x[X].context,_);break;case 3:x[X].fn.call(x[X].context,_,m);break;case 4:x[X].fn.call(x[X].context,_,m,w);break;default:if(!$)for(ie=1,$=new Array(L-1);ie<L;ie++)$[ie-1]=arguments[ie];x[X].fn.apply(x[X].context,$)}}return!0},b.prototype.on=function(g,_,m){return S(this,g,_,m,!1)},b.prototype.once=function(g,_,m){return S(this,g,_,m,!0)},b.prototype.removeListener=function(g,_,m,w){var P=A?A+g:g;if(!this._events[P])return this;if(!_)return T(this,P),this;var p=this._events[P];if(p.fn)p.fn===_&&(!w||p.once)&&(!m||p.context===m)&&T(this,P);else{for(var C=0,x=[],L=p.length;C<L;C++)(p[C].fn!==_||w&&!p[C].once||m&&p[C].context!==m)&&x.push(p[C]);x.length?this._events[P]=1===x.length?x[0]:x:T(this,P)}return this},b.prototype.removeAllListeners=function(g){var _;return g?this._events[_=A?A+g:g]&&T(this,_):(this._events=new h,this._eventsCount=0),this},b.prototype.off=b.prototype.removeListener,b.prototype.addListener=b.prototype.on,b.prefixed=A,b.EventEmitter=b,He.exports=b},5469:He=>{"use strict";function H(oe,Se,he){he=he||2;var tt,yt,Qe,Kt,pt,Je,ue,We=Se&&Se.length,_e=We?Se[0]*he:oe.length,Ce=A(oe,0,_e,he,!0),Pe=[];if(!Ce||Ce.next===Ce.prev)return Pe;if(We&&(Ce=function g(oe,Se,he,We){var Ce,Pe,Qe,_e=[];for(Ce=0,Pe=Se.length;Ce<Pe;Ce++)(Qe=A(oe,Se[Ce]*We,Ce<Pe-1?Se[Ce+1]*We:oe.length,We,!1))===Qe.next&&(Qe.steiner=!0),_e.push(L(Qe));for(_e.sort(_),Ce=0;Ce<_e.length;Ce++)he=h(he=m(_e[Ce],he),he.next);return he}(oe,Se,Ce,he)),oe.length>80*he){tt=Qe=oe[0],yt=Kt=oe[1];for(var Me=he;Me<_e;Me+=he)(pt=oe[Me])<tt&&(tt=pt),(Je=oe[Me+1])<yt&&(yt=Je),pt>Qe&&(Qe=pt),Je>Kt&&(Kt=Je);ue=0!==(ue=Math.max(Qe-tt,Kt-yt))?1/ue:0}return M(Ce,Pe,he,tt,yt,ue),Pe}function A(oe,Se,he,We,_e){var Ce,Pe;if(_e===Fe(oe,Se,he,We)>0)for(Ce=Se;Ce<he;Ce+=We)Pe=we(Ce,oe[Ce],oe[Ce+1],Pe);else for(Ce=he-We;Ce>=Se;Ce-=We)Pe=we(Ce,oe[Ce],oe[Ce+1],Pe);return Pe&&ie(Pe,Pe.next)&&(Ue(Pe),Pe=Pe.next),Pe}function h(oe,Se){if(!oe)return oe;Se||(Se=oe);var We,he=oe;do{if(We=!1,he.steiner||!ie(he,he.next)&&0!==re(he.prev,he,he.next))he=he.next;else{if(Ue(he),(he=Se=he.prev)===he.next)break;We=!0}}while(We||he!==Se);return Se}function M(oe,Se,he,We,_e,Ce,Pe){if(oe){!Pe&&Ce&&function p(oe,Se,he,We){var _e=oe;do{null===_e.z&&(_e.z=x(_e.x,_e.y,Se,he,We)),_e.prevZ=_e.prev,_e.nextZ=_e.next,_e=_e.next}while(_e!==oe);_e.prevZ.nextZ=null,_e.prevZ=null,function C(oe){var Se,he,We,_e,Ce,Pe,tt,yt,Qe=1;do{for(he=oe,oe=null,Ce=null,Pe=0;he;){for(Pe++,We=he,tt=0,Se=0;Se<Qe&&(tt++,We=We.nextZ);Se++);for(yt=Qe;tt>0||yt>0&&We;)0!==tt&&(0===yt||!We||he.z<=We.z)?(_e=he,he=he.nextZ,tt--):(_e=We,We=We.nextZ,yt--),Ce?Ce.nextZ=_e:oe=_e,_e.prevZ=Ce,Ce=_e;he=We}Ce.nextZ=null,Qe*=2}while(Pe>1)}(_e)}(oe,We,_e,Ce);for(var yt,Qe,tt=oe;oe.prev!==oe.next;)if(yt=oe.prev,Qe=oe.next,Ce?T(oe,We,_e,Ce):S(oe))Se.push(yt.i/he),Se.push(oe.i/he),Se.push(Qe.i/he),Ue(oe),oe=Qe.next,tt=Qe.next;else if((oe=Qe)===tt){Pe?1===Pe?M(oe=b(h(oe),Se,he),Se,he,We,_e,Ce,2):2===Pe&&v(oe,Se,he,We,_e,Ce):M(h(oe),Se,he,We,_e,Ce,1);break}}}function S(oe){var Se=oe.prev,he=oe,We=oe.next;if(re(Se,he,We)>=0)return!1;for(var _e=oe.next.next;_e!==oe.prev;){if($(Se.x,Se.y,he.x,he.y,We.x,We.y,_e.x,_e.y)&&re(_e.prev,_e,_e.next)>=0)return!1;_e=_e.next}return!0}function T(oe,Se,he,We){var _e=oe.prev,Ce=oe,Pe=oe.next;if(re(_e,Ce,Pe)>=0)return!1;for(var Qe=_e.x>Ce.x?_e.x>Pe.x?_e.x:Pe.x:Ce.x>Pe.x?Ce.x:Pe.x,Kt=_e.y>Ce.y?_e.y>Pe.y?_e.y:Pe.y:Ce.y>Pe.y?Ce.y:Pe.y,pt=x(_e.x<Ce.x?_e.x<Pe.x?_e.x:Pe.x:Ce.x<Pe.x?Ce.x:Pe.x,_e.y<Ce.y?_e.y<Pe.y?_e.y:Pe.y:Ce.y<Pe.y?Ce.y:Pe.y,Se,he,We),Je=x(Qe,Kt,Se,he,We),ue=oe.prevZ,Me=oe.nextZ;ue&&ue.z>=pt&&Me&&Me.z<=Je;){if(ue!==oe.prev&&ue!==oe.next&&$(_e.x,_e.y,Ce.x,Ce.y,Pe.x,Pe.y,ue.x,ue.y)&&re(ue.prev,ue,ue.next)>=0||(ue=ue.prevZ,Me!==oe.prev&&Me!==oe.next&&$(_e.x,_e.y,Ce.x,Ce.y,Pe.x,Pe.y,Me.x,Me.y)&&re(Me.prev,Me,Me.next)>=0))return!1;Me=Me.nextZ}for(;ue&&ue.z>=pt;){if(ue!==oe.prev&&ue!==oe.next&&$(_e.x,_e.y,Ce.x,Ce.y,Pe.x,Pe.y,ue.x,ue.y)&&re(ue.prev,ue,ue.next)>=0)return!1;ue=ue.prevZ}for(;Me&&Me.z<=Je;){if(Me!==oe.prev&&Me!==oe.next&&$(_e.x,_e.y,Ce.x,Ce.y,Pe.x,Pe.y,Me.x,Me.y)&&re(Me.prev,Me,Me.next)>=0)return!1;Me=Me.nextZ}return!0}function b(oe,Se,he){var We=oe;do{var _e=We.prev,Ce=We.next.next;!ie(_e,Ce)&&ee(_e,We,We.next,Ce)&&Q(_e,Ce)&&Q(Ce,_e)&&(Se.push(_e.i/he),Se.push(We.i/he),Se.push(Ce.i/he),Ue(We),Ue(We.next),We=oe=Ce),We=We.next}while(We!==oe);return h(We)}function v(oe,Se,he,We,_e,Ce){var Pe=oe;do{for(var tt=Pe.next.next;tt!==Pe.prev;){if(Pe.i!==tt.i&&X(Pe,tt)){var yt=se(Pe,tt);return Pe=h(Pe,Pe.next),yt=h(yt,yt.next),M(Pe,Se,he,We,_e,Ce),void M(yt,Se,he,We,_e,Ce)}tt=tt.next}Pe=Pe.next}while(Pe!==oe)}function _(oe,Se){return oe.x-Se.x}function m(oe,Se){var he=function w(oe,Se){var Pe,he=Se,We=oe.x,_e=oe.y,Ce=-1/0;do{if(_e<=he.y&&_e>=he.next.y&&he.next.y!==he.y){var tt=he.x+(_e-he.y)*(he.next.x-he.x)/(he.next.y-he.y);if(tt<=We&&tt>Ce){if(Ce=tt,tt===We){if(_e===he.y)return he;if(_e===he.next.y)return he.next}Pe=he.x<he.next.x?he:he.next}}he=he.next}while(he!==Se);if(!Pe)return null;if(We===Ce)return Pe;var Je,yt=Pe,Qe=Pe.x,Kt=Pe.y,pt=1/0;he=Pe;do{We>=he.x&&he.x>=Qe&&We!==he.x&&$(_e<Kt?We:Ce,_e,Qe,Kt,_e<Kt?Ce:We,_e,he.x,he.y)&&(Je=Math.abs(_e-he.y)/(We-he.x),Q(he,oe)&&(Je<pt||Je===pt&&(he.x>Pe.x||he.x===Pe.x&&P(Pe,he)))&&(Pe=he,pt=Je)),he=he.next}while(he!==yt);return Pe}(oe,Se);if(!he)return Se;var We=se(he,oe),_e=h(he,he.next);return h(We,We.next),Se===he?_e:Se}function P(oe,Se){return re(oe.prev,oe,Se.prev)<0&&re(Se.next,oe,oe.next)<0}function x(oe,Se,he,We,_e){return(oe=1431655765&((oe=858993459&((oe=252645135&((oe=16711935&((oe=32767*(oe-he)*_e)|oe<<8))|oe<<4))|oe<<2))|oe<<1))|(Se=1431655765&((Se=858993459&((Se=252645135&((Se=16711935&((Se=32767*(Se-We)*_e)|Se<<8))|Se<<4))|Se<<2))|Se<<1))<<1}function L(oe){var Se=oe,he=oe;do{(Se.x<he.x||Se.x===he.x&&Se.y<he.y)&&(he=Se),Se=Se.next}while(Se!==oe);return he}function $(oe,Se,he,We,_e,Ce,Pe,tt){return(_e-Pe)*(Se-tt)-(oe-Pe)*(Ce-tt)>=0&&(oe-Pe)*(We-tt)-(he-Pe)*(Se-tt)>=0&&(he-Pe)*(Ce-tt)-(_e-Pe)*(We-tt)>=0}function X(oe,Se){return oe.next.i!==Se.i&&oe.prev.i!==Se.i&&!function le(oe,Se){var he=oe;do{if(he.i!==oe.i&&he.next.i!==oe.i&&he.i!==Se.i&&he.next.i!==Se.i&&ee(he,he.next,oe,Se))return!0;he=he.next}while(he!==oe);return!1}(oe,Se)&&(Q(oe,Se)&&Q(Se,oe)&&function ce(oe,Se){var he=oe,We=!1,_e=(oe.x+Se.x)/2,Ce=(oe.y+Se.y)/2;do{he.y>Ce!=he.next.y>Ce&&he.next.y!==he.y&&_e<(he.next.x-he.x)*(Ce-he.y)/(he.next.y-he.y)+he.x&&(We=!We),he=he.next}while(he!==oe);return We}(oe,Se)&&(re(oe.prev,oe,Se.prev)||re(oe,Se.prev,Se))||ie(oe,Se)&&re(oe.prev,oe,oe.next)>0&&re(Se.prev,Se,Se.next)>0)}function re(oe,Se,he){return(Se.y-oe.y)*(he.x-Se.x)-(Se.x-oe.x)*(he.y-Se.y)}function ie(oe,Se){return oe.x===Se.x&&oe.y===Se.y}function ee(oe,Se,he,We){var _e=q(re(oe,Se,he)),Ce=q(re(oe,Se,We)),Pe=q(re(he,We,oe)),tt=q(re(he,We,Se));return!!(_e!==Ce&&Pe!==tt||0===_e&&V(oe,he,Se)||0===Ce&&V(oe,We,Se)||0===Pe&&V(he,oe,We)||0===tt&&V(he,Se,We))}function V(oe,Se,he){return Se.x<=Math.max(oe.x,he.x)&&Se.x>=Math.min(oe.x,he.x)&&Se.y<=Math.max(oe.y,he.y)&&Se.y>=Math.min(oe.y,he.y)}function q(oe){return oe>0?1:oe<0?-1:0}function Q(oe,Se){return re(oe.prev,oe,oe.next)<0?re(oe,Se,oe.next)>=0&&re(oe,oe.prev,Se)>=0:re(oe,Se,oe.prev)<0||re(oe,oe.next,Se)<0}function se(oe,Se){var he=new ke(oe.i,oe.x,oe.y),We=new ke(Se.i,Se.x,Se.y),_e=oe.next,Ce=Se.prev;return oe.next=Se,Se.prev=oe,he.next=_e,_e.prev=he,We.next=he,he.prev=We,Ce.next=We,We.prev=Ce,We}function we(oe,Se,he,We){var _e=new ke(oe,Se,he);return We?(_e.next=We.next,_e.prev=We,We.next.prev=_e,We.next=_e):(_e.prev=_e,_e.next=_e),_e}function Ue(oe){oe.next.prev=oe.prev,oe.prev.next=oe.next,oe.prevZ&&(oe.prevZ.nextZ=oe.nextZ),oe.nextZ&&(oe.nextZ.prevZ=oe.prevZ)}function ke(oe,Se,he){this.i=oe,this.x=Se,this.y=he,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Fe(oe,Se,he,We){for(var _e=0,Ce=Se,Pe=he-We;Ce<he;Ce+=We)_e+=(oe[Pe]-oe[Ce])*(oe[Ce+1]+oe[Pe+1]),Pe=Ce;return _e}He.exports=H,He.exports.default=H,H.deviation=function(oe,Se,he,We){var _e=Se&&Se.length,Pe=Math.abs(Fe(oe,0,_e?Se[0]*he:oe.length,he));if(_e)for(var tt=0,yt=Se.length;tt<yt;tt++)Pe-=Math.abs(Fe(oe,Se[tt]*he,tt<yt-1?Se[tt+1]*he:oe.length,he));var pt=0;for(tt=0;tt<We.length;tt+=3){var Je=We[tt]*he,ue=We[tt+1]*he,Me=We[tt+2]*he;pt+=Math.abs((oe[Je]-oe[Me])*(oe[ue+1]-oe[Je+1])-(oe[Je]-oe[ue])*(oe[Me+1]-oe[Je+1]))}return 0===Pe&&0===pt?0:Math.abs((pt-Pe)/Pe)},H.flatten=function(oe){for(var Se=oe[0][0].length,he={vertices:[],holes:[],dimensions:Se},We=0,_e=0;_e<oe.length;_e++){for(var Ce=0;Ce<oe[_e].length;Ce++)for(var Pe=0;Pe<Se;Pe++)he.vertices.push(oe[_e][Ce][Pe]);_e>0&&he.holes.push(We+=oe[_e-1].length)}return he}},6100:He=>{function H(S){return S&&S.constructor&&"function"==typeof S.constructor.isBuffer&&S.constructor.isBuffer(S)}function A(S){return S}function h(S,T){const b=(T=T||{}).delimiter||".",v=T.maxDepth,g=T.transformKey||A,_={};return function m(w,P,p){p=p||1,Object.keys(w).forEach(function(C){const x=w[C],L=T.safe&&Array.isArray(x),$=Object.prototype.toString.call(x),X=H(x),re="[object Object]"===$||"[object Array]"===$,ie=P?P+b+g(C):g(C);if(!L&&!X&&re&&Object.keys(x).length&&(!T.maxDepth||p<v))return m(x,ie,p+1);_[ie]=x})}(S),_}He.exports=h,h.flatten=h,h.unflatten=function M(S,T){const b=(T=T||{}).delimiter||".",v=T.overwrite||!1,g=T.transformKey||A,_={};if(H(S)||"[object Object]"!==Object.prototype.toString.call(S))return S;function w(C){const x=Number(C);return isNaN(x)||-1!==C.indexOf(".")||T.object?C:x}return S=Object.keys(S).reduce(function(C,x){const L=Object.prototype.toString.call(S[x]);return"[object Object]"!==L&&"[object Array]"!==L||function p(C){const x=Object.prototype.toString.call(C);return!C||("[object Array]"===x?!C.length:"[object Object]"===x?!Object.keys(C).length:void 0)}(S[x])?(C[x]=S[x],C):function P(C,x,L){return Object.keys(L).reduce(function($,X){return $[C+b+X]=L[X],$},x)}(x,C,h(S[x],T))},{}),Object.keys(S).forEach(function(C){const x=C.split(b).map(g);let L=w(x.shift()),$=w(x[0]),X=_;for(;void 0!==$;){if("__proto__"===L)return;const re=Object.prototype.toString.call(X[L]),ie="[object Object]"===re||"[object Array]"===re;if(!v&&!ie&&void 0!==X[L])return;(v&&!ie||!v&&null==X[L])&&(X[L]="number"!=typeof $||T.object?{}:[]),X=X[L],x.length>0&&(L=w(x.shift()),$=w(x[0]))}X[L]=M(S[C],T)}),_}},6461:(He,H)=>{var h;!function(){"use strict";var M=function(){this.init()};M.prototype={init:function(){var p=this||S;return p._counter=1e3,p._html5AudioPool=[],p.html5PoolSize=10,p._codecs={},p._howls=[],p._muted=!1,p._volume=1,p._canPlayEvent="canplaythrough",p._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,p.masterGain=null,p.noAudio=!1,p.usingWebAudio=!0,p.autoSuspend=!0,p.ctx=null,p.autoUnlock=!0,p._setup(),p},volume:function(p){var C=this||S;if(p=parseFloat(p),C.ctx||P(),void 0!==p&&p>=0&&p<=1){if(C._volume=p,C._muted)return C;C.usingWebAudio&&C.masterGain.gain.setValueAtTime(p,S.ctx.currentTime);for(var x=0;x<C._howls.length;x++)if(!C._howls[x]._webAudio)for(var L=C._howls[x]._getSoundIds(),$=0;$<L.length;$++){var X=C._howls[x]._soundById(L[$]);X&&X._node&&(X._node.volume=X._volume*p)}return C}return C._volume},mute:function(p){var C=this||S;C.ctx||P(),C._muted=p,C.usingWebAudio&&C.masterGain.gain.setValueAtTime(p?0:C._volume,S.ctx.currentTime);for(var x=0;x<C._howls.length;x++)if(!C._howls[x]._webAudio)for(var L=C._howls[x]._getSoundIds(),$=0;$<L.length;$++){var X=C._howls[x]._soundById(L[$]);X&&X._node&&(X._node.muted=!!p||X._muted)}return C},stop:function(){for(var p=this||S,C=0;C<p._howls.length;C++)p._howls[C].stop();return p},unload:function(){for(var p=this||S,C=p._howls.length-1;C>=0;C--)p._howls[C].unload();return p.usingWebAudio&&p.ctx&&void 0!==p.ctx.close&&(p.ctx.close(),p.ctx=null,P()),p},codecs:function(p){return(this||S)._codecs[p.replace(/^x-/,"")]},_setup:function(){var p=this||S;if(p.state=p.ctx&&p.ctx.state||"suspended",p._autoSuspend(),!p.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(p._canPlayEvent="canplay")}catch(x){p.noAudio=!0}else p.noAudio=!0;try{(new Audio).muted&&(p.noAudio=!0)}catch(x){}return p.noAudio||p._setupCodecs(),p},_setupCodecs:function(){var p=this||S,C=null;try{C="undefined"!=typeof Audio?new Audio:null}catch(V){return p}if(!C||"function"!=typeof C.canPlayType)return p;var x=C.canPlayType("audio/mpeg;").replace(/^no$/,""),L=p._navigator?p._navigator.userAgent:"",$=L.match(/OPR\/([0-6].)/g),X=$&&parseInt($[0].split("/")[1],10)<33,re=-1!==L.indexOf("Safari")&&-1===L.indexOf("Chrome"),ie=L.match(/Version\/(.*?) /),ee=re&&ie&&parseInt(ie[1],10)<15;return p._codecs={mp3:!(X||!x&&!C.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!x,opus:!!C.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!C.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!C.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(C.canPlayType('audio/wav; codecs="1"')||C.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!C.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!C.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(C.canPlayType("audio/x-m4a;")||C.canPlayType("audio/m4a;")||C.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(C.canPlayType("audio/x-m4b;")||C.canPlayType("audio/m4b;")||C.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(C.canPlayType("audio/x-mp4;")||C.canPlayType("audio/mp4;")||C.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(ee||!C.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(ee||!C.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!C.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(C.canPlayType("audio/x-flac;")||C.canPlayType("audio/flac;")).replace(/^no$/,"")},p},_unlockAudio:function(){var p=this||S;if(!p._audioUnlocked&&p.ctx){p._audioUnlocked=!1,p.autoUnlock=!1,!p._mobileUnloaded&&44100!==p.ctx.sampleRate&&(p._mobileUnloaded=!0,p.unload()),p._scratchBuffer=p.ctx.createBuffer(1,1,22050);var C=function(x){for(;p._html5AudioPool.length<p.html5PoolSize;)try{var L=new Audio;L._unlocked=!0,p._releaseHtml5Audio(L)}catch(V){p.noAudio=!0;break}for(var $=0;$<p._howls.length;$++)if(!p._howls[$]._webAudio)for(var X=p._howls[$]._getSoundIds(),re=0;re<X.length;re++){var ie=p._howls[$]._soundById(X[re]);ie&&ie._node&&!ie._node._unlocked&&(ie._node._unlocked=!0,ie._node.load())}p._autoResume();var ee=p.ctx.createBufferSource();ee.buffer=p._scratchBuffer,ee.connect(p.ctx.destination),void 0===ee.start?ee.noteOn(0):ee.start(0),"function"==typeof p.ctx.resume&&p.ctx.resume(),ee.onended=function(){ee.disconnect(0),p._audioUnlocked=!0,document.removeEventListener("touchstart",C,!0),document.removeEventListener("touchend",C,!0),document.removeEventListener("click",C,!0),document.removeEventListener("keydown",C,!0);for(var V=0;V<p._howls.length;V++)p._howls[V]._emit("unlock")}};return document.addEventListener("touchstart",C,!0),document.addEventListener("touchend",C,!0),document.addEventListener("click",C,!0),document.addEventListener("keydown",C,!0),p}},_obtainHtml5Audio:function(){var p=this||S;if(p._html5AudioPool.length)return p._html5AudioPool.pop();var C=(new Audio).play();return C&&"undefined"!=typeof Promise&&(C instanceof Promise||"function"==typeof C.then)&&C.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(p){var C=this||S;return p._unlocked&&C._html5AudioPool.push(p),C},_autoSuspend:function(){var p=this;if(p.autoSuspend&&p.ctx&&void 0!==p.ctx.suspend&&S.usingWebAudio){for(var C=0;C<p._howls.length;C++)if(p._howls[C]._webAudio)for(var x=0;x<p._howls[C]._sounds.length;x++)if(!p._howls[C]._sounds[x]._paused)return p;return p._suspendTimer&&clearTimeout(p._suspendTimer),p._suspendTimer=setTimeout(function(){if(p.autoSuspend){p._suspendTimer=null,p.state="suspending";var L=function(){p.state="suspended",p._resumeAfterSuspend&&(delete p._resumeAfterSuspend,p._autoResume())};p.ctx.suspend().then(L,L)}},3e4),p}},_autoResume:function(){var p=this;if(p.ctx&&void 0!==p.ctx.resume&&S.usingWebAudio)return"running"===p.state&&"interrupted"!==p.ctx.state&&p._suspendTimer?(clearTimeout(p._suspendTimer),p._suspendTimer=null):"suspended"===p.state||"running"===p.state&&"interrupted"===p.ctx.state?(p.ctx.resume().then(function(){p.state="running";for(var C=0;C<p._howls.length;C++)p._howls[C]._emit("resume")}),p._suspendTimer&&(clearTimeout(p._suspendTimer),p._suspendTimer=null)):"suspending"===p.state&&(p._resumeAfterSuspend=!0),p}};var S=new M,T=function(p){p.src&&0!==p.src.length?this.init(p):console.error("An array of source files must be passed with any new Howl.")};T.prototype={init:function(p){var C=this;return S.ctx||P(),C._autoplay=p.autoplay||!1,C._format="string"!=typeof p.format?p.format:[p.format],C._html5=p.html5||!1,C._muted=p.mute||!1,C._loop=p.loop||!1,C._pool=p.pool||5,C._preload="boolean"!=typeof p.preload&&"metadata"!==p.preload||p.preload,C._rate=p.rate||1,C._sprite=p.sprite||{},C._src="string"!=typeof p.src?p.src:[p.src],C._volume=void 0!==p.volume?p.volume:1,C._xhr={method:p.xhr&&p.xhr.method?p.xhr.method:"GET",headers:p.xhr&&p.xhr.headers?p.xhr.headers:null,withCredentials:!(!p.xhr||!p.xhr.withCredentials)&&p.xhr.withCredentials},C._duration=0,C._state="unloaded",C._sounds=[],C._endTimers={},C._queue=[],C._playLock=!1,C._onend=p.onend?[{fn:p.onend}]:[],C._onfade=p.onfade?[{fn:p.onfade}]:[],C._onload=p.onload?[{fn:p.onload}]:[],C._onloaderror=p.onloaderror?[{fn:p.onloaderror}]:[],C._onplayerror=p.onplayerror?[{fn:p.onplayerror}]:[],C._onpause=p.onpause?[{fn:p.onpause}]:[],C._onplay=p.onplay?[{fn:p.onplay}]:[],C._onstop=p.onstop?[{fn:p.onstop}]:[],C._onmute=p.onmute?[{fn:p.onmute}]:[],C._onvolume=p.onvolume?[{fn:p.onvolume}]:[],C._onrate=p.onrate?[{fn:p.onrate}]:[],C._onseek=p.onseek?[{fn:p.onseek}]:[],C._onunlock=p.onunlock?[{fn:p.onunlock}]:[],C._onresume=[],C._webAudio=S.usingWebAudio&&!C._html5,void 0!==S.ctx&&S.ctx&&S.autoUnlock&&S._unlockAudio(),S._howls.push(C),C._autoplay&&C._queue.push({event:"play",action:function(){C.play()}}),C._preload&&"none"!==C._preload&&C.load(),C},load:function(){var p=this,C=null;if(S.noAudio)p._emit("loaderror",null,"No audio support.");else{"string"==typeof p._src&&(p._src=[p._src]);for(var x=0;x<p._src.length;x++){var L,$;if(p._format&&p._format[x])L=p._format[x];else{if("string"!=typeof($=p._src[x])){p._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(L=/^data:audio\/([^;,]+);/i.exec($))||(L=/\.([^.]+)$/.exec($.split("?",1)[0])),L&&(L=L[1].toLowerCase())}if(L||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),L&&S.codecs(L)){C=p._src[x];break}}if(C)return p._src=C,p._state="loading","https:"===window.location.protocol&&"http:"===C.slice(0,5)&&(p._html5=!0,p._webAudio=!1),new b(p),p._webAudio&&g(p),p;p._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(p,C){var x=this,L=null;if("number"==typeof p)L=p,p=null;else{if("string"==typeof p&&"loaded"===x._state&&!x._sprite[p])return null;if(void 0===p&&(p="__default",!x._playLock)){for(var $=0,X=0;X<x._sounds.length;X++)x._sounds[X]._paused&&!x._sounds[X]._ended&&($++,L=x._sounds[X]._id);1===$?p=null:L=null}}var re=L?x._soundById(L):x._inactiveSound();if(!re)return null;if(L&&!p&&(p=re._sprite||"__default"),"loaded"!==x._state){re._sprite=p,re._ended=!1;var ie=re._id;return x._queue.push({event:"play",action:function(){x.play(ie)}}),ie}if(L&&!re._paused)return C||x._loadQueue("play"),re._id;x._webAudio&&S._autoResume();var ee=Math.max(0,re._seek>0?re._seek:x._sprite[p][0]/1e3),V=Math.max(0,(x._sprite[p][0]+x._sprite[p][1])/1e3-ee),q=1e3*V/Math.abs(re._rate),le=x._sprite[p][0]/1e3,Q=(x._sprite[p][0]+x._sprite[p][1])/1e3;re._sprite=p,re._ended=!1;var ce=function(){re._paused=!1,re._seek=ee,re._start=le,re._stop=Q,re._loop=!(!re._loop&&!x._sprite[p][2])};if(!(ee>=Q)){var se=re._node;if(x._webAudio){var we=function(){x._playLock=!1,ce(),x._refreshBuffer(re),se.gain.setValueAtTime(re._muted||x._muted?0:re._volume,S.ctx.currentTime),re._playStart=S.ctx.currentTime,void 0===se.bufferSource.start?se.bufferSource.noteGrainOn(0,ee,re._loop?86400:V):se.bufferSource.start(0,ee,re._loop?86400:V),q!==1/0&&(x._endTimers[re._id]=setTimeout(x._ended.bind(x,re),q)),C||setTimeout(function(){x._emit("play",re._id),x._loadQueue()},0)};"running"===S.state&&"interrupted"!==S.ctx.state?we():(x._playLock=!0,x.once("resume",we),x._clearTimer(re._id))}else{var Ue=function(){se.currentTime=ee,se.muted=re._muted||x._muted||S._muted||se.muted,se.volume=re._volume*S.volume(),se.playbackRate=re._rate;try{var oe=se.play();if(oe&&"undefined"!=typeof Promise&&(oe instanceof Promise||"function"==typeof oe.then)?(x._playLock=!0,ce(),oe.then(function(){x._playLock=!1,se._unlocked=!0,C?x._loadQueue():x._emit("play",re._id)}).catch(function(){x._playLock=!1,x._emit("playerror",re._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),re._ended=!0,re._paused=!0})):C||(x._playLock=!1,ce(),x._emit("play",re._id)),se.playbackRate=re._rate,se.paused)return void x._emit("playerror",re._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==p||re._loop?x._endTimers[re._id]=setTimeout(x._ended.bind(x,re),q):(x._endTimers[re._id]=function(){x._ended(re),se.removeEventListener("ended",x._endTimers[re._id],!1)},se.addEventListener("ended",x._endTimers[re._id],!1))}catch(Se){x._emit("playerror",re._id,Se)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===se.src&&(se.src=x._src,se.load());var ke=window&&window.ejecta||!se.readyState&&S._navigator.isCocoonJS;if(se.readyState>=3||ke)Ue();else{x._playLock=!0,x._state="loading";var Fe=function(){x._state="loaded",Ue(),se.removeEventListener(S._canPlayEvent,Fe,!1)};se.addEventListener(S._canPlayEvent,Fe,!1),x._clearTimer(re._id)}}return re._id}x._ended(re)},pause:function(p){var C=this;if("loaded"!==C._state||C._playLock)return C._queue.push({event:"pause",action:function(){C.pause(p)}}),C;for(var x=C._getSoundIds(p),L=0;L<x.length;L++){C._clearTimer(x[L]);var $=C._soundById(x[L]);if($&&!$._paused&&($._seek=C.seek(x[L]),$._rateSeek=0,$._paused=!0,C._stopFade(x[L]),$._node))if(C._webAudio){if(!$._node.bufferSource)continue;void 0===$._node.bufferSource.stop?$._node.bufferSource.noteOff(0):$._node.bufferSource.stop(0),C._cleanBuffer($._node)}else(!isNaN($._node.duration)||$._node.duration===1/0)&&$._node.pause();arguments[1]||C._emit("pause",$?$._id:null)}return C},stop:function(p,C){var x=this;if("loaded"!==x._state||x._playLock)return x._queue.push({event:"stop",action:function(){x.stop(p)}}),x;for(var L=x._getSoundIds(p),$=0;$<L.length;$++){x._clearTimer(L[$]);var X=x._soundById(L[$]);X&&(X._seek=X._start||0,X._rateSeek=0,X._paused=!0,X._ended=!0,x._stopFade(L[$]),X._node&&(x._webAudio?X._node.bufferSource&&(void 0===X._node.bufferSource.stop?X._node.bufferSource.noteOff(0):X._node.bufferSource.stop(0),x._cleanBuffer(X._node)):(!isNaN(X._node.duration)||X._node.duration===1/0)&&(X._node.currentTime=X._start||0,X._node.pause(),X._node.duration===1/0&&x._clearSound(X._node))),C||x._emit("stop",X._id))}return x},mute:function(p,C){var x=this;if("loaded"!==x._state||x._playLock)return x._queue.push({event:"mute",action:function(){x.mute(p,C)}}),x;if(void 0===C){if("boolean"!=typeof p)return x._muted;x._muted=p}for(var L=x._getSoundIds(C),$=0;$<L.length;$++){var X=x._soundById(L[$]);X&&(X._muted=p,X._interval&&x._stopFade(X._id),x._webAudio&&X._node?X._node.gain.setValueAtTime(p?0:X._volume,S.ctx.currentTime):X._node&&(X._node.muted=!!S._muted||p),x._emit("mute",X._id))}return x},volume:function(){var x,L,re,p=this,C=arguments;if(0===C.length)return p._volume;if(1===C.length||2===C.length&&void 0===C[1]){var $=p._getSoundIds(),X=$.indexOf(C[0]);X>=0?L=parseInt(C[0],10):x=parseFloat(C[0])}else C.length>=2&&(x=parseFloat(C[0]),L=parseInt(C[1],10));if(!(void 0!==x&&x>=0&&x<=1))return(re=L?p._soundById(L):p._sounds[0])?re._volume:0;if("loaded"!==p._state||p._playLock)return p._queue.push({event:"volume",action:function(){p.volume.apply(p,C)}}),p;void 0===L&&(p._volume=x),L=p._getSoundIds(L);for(var ie=0;ie<L.length;ie++)(re=p._soundById(L[ie]))&&(re._volume=x,C[2]||p._stopFade(L[ie]),p._webAudio&&re._node&&!re._muted?re._node.gain.setValueAtTime(x,S.ctx.currentTime):re._node&&!re._muted&&(re._node.volume=x*S.volume()),p._emit("volume",re._id));return p},fade:function(p,C,x,L){var $=this;if("loaded"!==$._state||$._playLock)return $._queue.push({event:"fade",action:function(){$.fade(p,C,x,L)}}),$;p=Math.min(Math.max(0,parseFloat(p)),1),C=Math.min(Math.max(0,parseFloat(C)),1),x=parseFloat(x),$.volume(p,L);for(var X=$._getSoundIds(L),re=0;re<X.length;re++){var ie=$._soundById(X[re]);if(ie){if(L||$._stopFade(X[re]),$._webAudio&&!ie._muted){var ee=S.ctx.currentTime,V=ee+x/1e3;ie._volume=p,ie._node.gain.setValueAtTime(p,ee),ie._node.gain.linearRampToValueAtTime(C,V)}$._startFadeInterval(ie,p,C,x,X[re],void 0===L)}}return $},_startFadeInterval:function(p,C,x,L,$,X){var re=this,ie=C,ee=x-C,V=Math.abs(ee/.01),q=Math.max(4,V>0?L/V:L),le=Date.now();p._fadeTo=x,p._interval=setInterval(function(){var Q=(Date.now()-le)/L;le=Date.now(),ie+=ee*Q,ie=Math.round(100*ie)/100,ie=ee<0?Math.max(x,ie):Math.min(x,ie),re._webAudio?p._volume=ie:re.volume(ie,p._id,!0),X&&(re._volume=ie),(x<C&&ie<=x||x>C&&ie>=x)&&(clearInterval(p._interval),p._interval=null,p._fadeTo=null,re.volume(x,p._id),re._emit("fade",p._id))},q)},_stopFade:function(p){var C=this,x=C._soundById(p);return x&&x._interval&&(C._webAudio&&x._node.gain.cancelScheduledValues(S.ctx.currentTime),clearInterval(x._interval),x._interval=null,C.volume(x._fadeTo,p),x._fadeTo=null,C._emit("fade",p)),C},loop:function(){var x,L,$,p=this,C=arguments;if(0===C.length)return p._loop;if(1===C.length){if("boolean"!=typeof C[0])return!!($=p._soundById(parseInt(C[0],10)))&&$._loop;p._loop=x=C[0]}else 2===C.length&&(x=C[0],L=parseInt(C[1],10));for(var X=p._getSoundIds(L),re=0;re<X.length;re++)($=p._soundById(X[re]))&&($._loop=x,p._webAudio&&$._node&&$._node.bufferSource&&($._node.bufferSource.loop=x,x&&($._node.bufferSource.loopStart=$._start||0,$._node.bufferSource.loopEnd=$._stop,p.playing(X[re])&&(p.pause(X[re],!0),p.play(X[re],!0)))));return p},rate:function(){var x,L,re,p=this,C=arguments;if(0===C.length)L=p._sounds[0]._id;else if(1===C.length){var $=p._getSoundIds(),X=$.indexOf(C[0]);X>=0?L=parseInt(C[0],10):x=parseFloat(C[0])}else 2===C.length&&(x=parseFloat(C[0]),L=parseInt(C[1],10));if("number"!=typeof x)return(re=p._soundById(L))?re._rate:p._rate;if("loaded"!==p._state||p._playLock)return p._queue.push({event:"rate",action:function(){p.rate.apply(p,C)}}),p;void 0===L&&(p._rate=x),L=p._getSoundIds(L);for(var ie=0;ie<L.length;ie++)if(re=p._soundById(L[ie])){p.playing(L[ie])&&(re._rateSeek=p.seek(L[ie]),re._playStart=p._webAudio?S.ctx.currentTime:re._playStart),re._rate=x,p._webAudio&&re._node&&re._node.bufferSource?re._node.bufferSource.playbackRate.setValueAtTime(x,S.ctx.currentTime):re._node&&(re._node.playbackRate=x);var ee=p.seek(L[ie]),V=(p._sprite[re._sprite][0]+p._sprite[re._sprite][1])/1e3-ee,q=1e3*V/Math.abs(re._rate);(p._endTimers[L[ie]]||!re._paused)&&(p._clearTimer(L[ie]),p._endTimers[L[ie]]=setTimeout(p._ended.bind(p,re),q)),p._emit("rate",re._id)}return p},seek:function(){var x,L,p=this,C=arguments;if(0===C.length)p._sounds.length&&(L=p._sounds[0]._id);else if(1===C.length){var $=p._getSoundIds(),X=$.indexOf(C[0]);X>=0?L=parseInt(C[0],10):p._sounds.length&&(L=p._sounds[0]._id,x=parseFloat(C[0]))}else 2===C.length&&(x=parseFloat(C[0]),L=parseInt(C[1],10));if(void 0===L)return 0;if("number"==typeof x&&("loaded"!==p._state||p._playLock))return p._queue.push({event:"seek",action:function(){p.seek.apply(p,C)}}),p;var re=p._soundById(L);if(re){if(!("number"==typeof x&&x>=0)){if(p._webAudio){var q=p.playing(L)?S.ctx.currentTime-re._playStart:0,le=re._rateSeek?re._rateSeek-re._seek:0;return re._seek+(le+q*Math.abs(re._rate))}return re._node.currentTime}var ie=p.playing(L);ie&&p.pause(L,!0),re._seek=x,re._ended=!1,p._clearTimer(L),!p._webAudio&&re._node&&!isNaN(re._node.duration)&&(re._node.currentTime=x);var ee=function(){ie&&p.play(L,!0),p._emit("seek",L)};if(ie&&!p._webAudio){var V=function(){p._playLock?setTimeout(V,0):ee()};setTimeout(V,0)}else ee()}return p},playing:function(p){var C=this;if("number"==typeof p){var x=C._soundById(p);return!!x&&!x._paused}for(var L=0;L<C._sounds.length;L++)if(!C._sounds[L]._paused)return!0;return!1},duration:function(p){var C=this,x=C._duration,L=C._soundById(p);return L&&(x=C._sprite[L._sprite][1]/1e3),x},state:function(){return this._state},unload:function(){for(var p=this,C=p._sounds,x=0;x<C.length;x++)C[x]._paused||p.stop(C[x]._id),p._webAudio||(p._clearSound(C[x]._node),C[x]._node.removeEventListener("error",C[x]._errorFn,!1),C[x]._node.removeEventListener(S._canPlayEvent,C[x]._loadFn,!1),C[x]._node.removeEventListener("ended",C[x]._endFn,!1),S._releaseHtml5Audio(C[x]._node)),delete C[x]._node,p._clearTimer(C[x]._id);var L=S._howls.indexOf(p);L>=0&&S._howls.splice(L,1);var $=!0;for(x=0;x<S._howls.length;x++)if(S._howls[x]._src===p._src||p._src.indexOf(S._howls[x]._src)>=0){$=!1;break}return v&&$&&delete v[p._src],S.noAudio=!1,p._state="unloaded",p._sounds=[],p=null,null},on:function(p,C,x,L){return"function"==typeof C&&this["_on"+p].push(L?{id:x,fn:C,once:L}:{id:x,fn:C}),this},off:function(p,C,x){var L=this,$=L["_on"+p],X=0;if("number"==typeof C&&(x=C,C=null),C||x)for(X=0;X<$.length;X++){var re=x===$[X].id;if(C===$[X].fn&&re||!C&&re){$.splice(X,1);break}}else if(p)L["_on"+p]=[];else{var ie=Object.keys(L);for(X=0;X<ie.length;X++)0===ie[X].indexOf("_on")&&Array.isArray(L[ie[X]])&&(L[ie[X]]=[])}return L},once:function(p,C,x){return this.on(p,C,x,1),this},_emit:function(p,C,x){for(var L=this,$=L["_on"+p],X=$.length-1;X>=0;X--)(!$[X].id||$[X].id===C||"load"===p)&&(setTimeout(function(re){re.call(this,C,x)}.bind(L,$[X].fn),0),$[X].once&&L.off(p,$[X].fn,$[X].id));return L._loadQueue(p),L},_loadQueue:function(p){var C=this;if(C._queue.length>0){var x=C._queue[0];x.event===p&&(C._queue.shift(),C._loadQueue()),p||x.action()}return C},_ended:function(p){var C=this,x=p._sprite;if(!C._webAudio&&p._node&&!p._node.paused&&!p._node.ended&&p._node.currentTime<p._stop)return setTimeout(C._ended.bind(C,p),100),C;var L=!(!p._loop&&!C._sprite[x][2]);if(C._emit("end",p._id),!C._webAudio&&L&&C.stop(p._id,!0).play(p._id),C._webAudio&&L){C._emit("play",p._id),p._seek=p._start||0,p._rateSeek=0,p._playStart=S.ctx.currentTime;var $=1e3*(p._stop-p._start)/Math.abs(p._rate);C._endTimers[p._id]=setTimeout(C._ended.bind(C,p),$)}return C._webAudio&&!L&&(p._paused=!0,p._ended=!0,p._seek=p._start||0,p._rateSeek=0,C._clearTimer(p._id),C._cleanBuffer(p._node),S._autoSuspend()),!C._webAudio&&!L&&C.stop(p._id,!0),C},_clearTimer:function(p){var C=this;if(C._endTimers[p]){if("function"!=typeof C._endTimers[p])clearTimeout(C._endTimers[p]);else{var x=C._soundById(p);x&&x._node&&x._node.removeEventListener("ended",C._endTimers[p],!1)}delete C._endTimers[p]}return C},_soundById:function(p){for(var C=this,x=0;x<C._sounds.length;x++)if(p===C._sounds[x]._id)return C._sounds[x];return null},_inactiveSound:function(){var p=this;p._drain();for(var C=0;C<p._sounds.length;C++)if(p._sounds[C]._ended)return p._sounds[C].reset();return new b(p)},_drain:function(){var p=this,C=p._pool,x=0,L=0;if(!(p._sounds.length<C)){for(L=0;L<p._sounds.length;L++)p._sounds[L]._ended&&x++;for(L=p._sounds.length-1;L>=0;L--){if(x<=C)return;p._sounds[L]._ended&&(p._webAudio&&p._sounds[L]._node&&p._sounds[L]._node.disconnect(0),p._sounds.splice(L,1),x--)}}},_getSoundIds:function(p){if(void 0===p){for(var x=[],L=0;L<this._sounds.length;L++)x.push(this._sounds[L]._id);return x}return[p]},_refreshBuffer:function(p){return p._node.bufferSource=S.ctx.createBufferSource(),p._node.bufferSource.buffer=v[this._src],p._node.bufferSource.connect(p._panner?p._panner:p._node),p._node.bufferSource.loop=p._loop,p._loop&&(p._node.bufferSource.loopStart=p._start||0,p._node.bufferSource.loopEnd=p._stop||0),p._node.bufferSource.playbackRate.setValueAtTime(p._rate,S.ctx.currentTime),this},_cleanBuffer:function(p){var x=S._navigator&&S._navigator.vendor.indexOf("Apple")>=0;if(S._scratchBuffer&&p.bufferSource&&(p.bufferSource.onended=null,p.bufferSource.disconnect(0),x))try{p.bufferSource.buffer=S._scratchBuffer}catch(L){}return p.bufferSource=null,this},_clearSound:function(p){/MSIE |Trident\//.test(S._navigator&&S._navigator.userAgent)||(p.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var b=function(p){this._parent=p,this.init()};b.prototype={init:function(){var p=this,C=p._parent;return p._muted=C._muted,p._loop=C._loop,p._volume=C._volume,p._rate=C._rate,p._seek=0,p._paused=!0,p._ended=!0,p._sprite="__default",p._id=++S._counter,C._sounds.push(p),p.create(),p},create:function(){var p=this,C=p._parent,x=S._muted||p._muted||p._parent._muted?0:p._volume;return C._webAudio?(p._node=void 0===S.ctx.createGain?S.ctx.createGainNode():S.ctx.createGain(),p._node.gain.setValueAtTime(x,S.ctx.currentTime),p._node.paused=!0,p._node.connect(S.masterGain)):S.noAudio||(p._node=S._obtainHtml5Audio(),p._errorFn=p._errorListener.bind(p),p._node.addEventListener("error",p._errorFn,!1),p._loadFn=p._loadListener.bind(p),p._node.addEventListener(S._canPlayEvent,p._loadFn,!1),p._endFn=p._endListener.bind(p),p._node.addEventListener("ended",p._endFn,!1),p._node.src=C._src,p._node.preload=!0===C._preload?"auto":C._preload,p._node.volume=x*S.volume(),p._node.load()),p},reset:function(){var p=this,C=p._parent;return p._muted=C._muted,p._loop=C._loop,p._volume=C._volume,p._rate=C._rate,p._seek=0,p._rateSeek=0,p._paused=!0,p._ended=!0,p._sprite="__default",p._id=++S._counter,p},_errorListener:function(){var p=this;p._parent._emit("loaderror",p._id,p._node.error?p._node.error.code:0),p._node.removeEventListener("error",p._errorFn,!1)},_loadListener:function(){var p=this,C=p._parent;C._duration=Math.ceil(10*p._node.duration)/10,0===Object.keys(C._sprite).length&&(C._sprite={__default:[0,1e3*C._duration]}),"loaded"!==C._state&&(C._state="loaded",C._emit("load"),C._loadQueue()),p._node.removeEventListener(S._canPlayEvent,p._loadFn,!1)},_endListener:function(){var p=this,C=p._parent;C._duration===1/0&&(C._duration=Math.ceil(10*p._node.duration)/10,C._sprite.__default[1]===1/0&&(C._sprite.__default[1]=1e3*C._duration),C._ended(p)),p._node.removeEventListener("ended",p._endFn,!1)}};var v={},g=function(p){var C=p._src;if(v[C])return p._duration=v[C].duration,void w(p);if(/^data:[^;]+;base64,/.test(C)){for(var x=atob(C.split(",")[1]),L=new Uint8Array(x.length),$=0;$<x.length;++$)L[$]=x.charCodeAt($);m(L.buffer,p)}else{var X=new XMLHttpRequest;X.open(p._xhr.method,C,!0),X.withCredentials=p._xhr.withCredentials,X.responseType="arraybuffer",p._xhr.headers&&Object.keys(p._xhr.headers).forEach(function(re){X.setRequestHeader(re,p._xhr.headers[re])}),X.onload=function(){var re=(X.status+"")[0];"0"===re||"2"===re||"3"===re?m(X.response,p):p._emit("loaderror",null,"Failed loading audio file with status: "+X.status+".")},X.onerror=function(){p._webAudio&&(p._html5=!0,p._webAudio=!1,p._sounds=[],delete v[C],p.load())},_(X)}},_=function(p){try{p.send()}catch(C){p.onerror()}},m=function(p,C){var x=function(){C._emit("loaderror",null,"Decoding audio data failed.")},L=function($){$&&C._sounds.length>0?(v[C._src]=$,w(C,$)):x()};"undefined"!=typeof Promise&&1===S.ctx.decodeAudioData.length?S.ctx.decodeAudioData(p).then(L).catch(x):S.ctx.decodeAudioData(p,L,x)},w=function(p,C){C&&!p._duration&&(p._duration=C.duration),0===Object.keys(p._sprite).length&&(p._sprite={__default:[0,1e3*p._duration]}),"loaded"!==p._state&&(p._state="loaded",p._emit("load"),p._loadQueue())},P=function(){if(S.usingWebAudio){try{"undefined"!=typeof AudioContext?S.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?S.ctx=new webkitAudioContext:S.usingWebAudio=!1}catch($){S.usingWebAudio=!1}S.ctx||(S.usingWebAudio=!1);var p=/iP(hone|od|ad)/.test(S._navigator&&S._navigator.platform),C=S._navigator&&S._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),x=C?parseInt(C[1],10):null;if(p&&x&&x<9){var L=/safari/.test(S._navigator&&S._navigator.userAgent.toLowerCase());S._navigator&&!L&&(S.usingWebAudio=!1)}S.usingWebAudio&&(S.masterGain=void 0===S.ctx.createGain?S.ctx.createGainNode():S.ctx.createGain(),S.masterGain.gain.setValueAtTime(S._muted?0:S._volume,S.ctx.currentTime),S.masterGain.connect(S.ctx.destination)),S._setup()}};void 0!==(h=function(){return{Howler:S,Howl:T}}.apply(H,[]))&&(He.exports=h),H.Howler=S,H.Howl=T,"undefined"!=typeof global?(global.HowlerGlobal=M,global.Howler=S,global.Howl=T,global.Sound=b):"undefined"!=typeof window&&(window.HowlerGlobal=M,window.Howler=S,window.Howl=T,window.Sound=b)}(),function(){"use strict";var S;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(S){var T=this;if(!T.ctx||!T.ctx.listener)return T;for(var b=T._howls.length-1;b>=0;b--)T._howls[b].stereo(S);return T},HowlerGlobal.prototype.pos=function(S,T,b){var v=this;return v.ctx&&v.ctx.listener?"number"!=typeof S?v._pos:(v._pos=[S,T="number"!=typeof T?v._pos[1]:T,b="number"!=typeof b?v._pos[2]:b],void 0!==v.ctx.listener.positionX?(v.ctx.listener.positionX.setTargetAtTime(v._pos[0],Howler.ctx.currentTime,.1),v.ctx.listener.positionY.setTargetAtTime(v._pos[1],Howler.ctx.currentTime,.1),v.ctx.listener.positionZ.setTargetAtTime(v._pos[2],Howler.ctx.currentTime,.1)):v.ctx.listener.setPosition(v._pos[0],v._pos[1],v._pos[2]),v):v},HowlerGlobal.prototype.orientation=function(S,T,b,v,g,_){var m=this;if(!m.ctx||!m.ctx.listener)return m;var w=m._orientation;return"number"!=typeof S?w:(m._orientation=[S,T="number"!=typeof T?w[1]:T,b="number"!=typeof b?w[2]:b,v="number"!=typeof v?w[3]:v,g="number"!=typeof g?w[4]:g,_="number"!=typeof _?w[5]:_],void 0!==m.ctx.listener.forwardX?(m.ctx.listener.forwardX.setTargetAtTime(S,Howler.ctx.currentTime,.1),m.ctx.listener.forwardY.setTargetAtTime(T,Howler.ctx.currentTime,.1),m.ctx.listener.forwardZ.setTargetAtTime(b,Howler.ctx.currentTime,.1),m.ctx.listener.upX.setTargetAtTime(v,Howler.ctx.currentTime,.1),m.ctx.listener.upY.setTargetAtTime(g,Howler.ctx.currentTime,.1),m.ctx.listener.upZ.setTargetAtTime(_,Howler.ctx.currentTime,.1)):m.ctx.listener.setOrientation(S,T,b,v,g,_),m)},Howl.prototype.init=(S=Howl.prototype.init,function(T){var b=this;return b._orientation=T.orientation||[1,0,0],b._stereo=T.stereo||null,b._pos=T.pos||null,b._pannerAttr={coneInnerAngle:void 0!==T.coneInnerAngle?T.coneInnerAngle:360,coneOuterAngle:void 0!==T.coneOuterAngle?T.coneOuterAngle:360,coneOuterGain:void 0!==T.coneOuterGain?T.coneOuterGain:0,distanceModel:void 0!==T.distanceModel?T.distanceModel:"inverse",maxDistance:void 0!==T.maxDistance?T.maxDistance:1e4,panningModel:void 0!==T.panningModel?T.panningModel:"HRTF",refDistance:void 0!==T.refDistance?T.refDistance:1,rolloffFactor:void 0!==T.rolloffFactor?T.rolloffFactor:1},b._onstereo=T.onstereo?[{fn:T.onstereo}]:[],b._onpos=T.onpos?[{fn:T.onpos}]:[],b._onorientation=T.onorientation?[{fn:T.onorientation}]:[],S.call(this,T)}),Howl.prototype.stereo=function(S,T){var b=this;if(!b._webAudio)return b;if("loaded"!==b._state)return b._queue.push({event:"stereo",action:function(){b.stereo(S,T)}}),b;var v=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===T){if("number"!=typeof S)return b._stereo;b._stereo=S,b._pos=[S,0,0]}for(var g=b._getSoundIds(T),_=0;_<g.length;_++){var m=b._soundById(g[_]);if(m){if("number"!=typeof S)return m._stereo;m._stereo=S,m._pos=[S,0,0],m._node&&(m._pannerAttr.panningModel="equalpower",(!m._panner||!m._panner.pan)&&M(m,v),"spatial"===v?void 0!==m._panner.positionX?(m._panner.positionX.setValueAtTime(S,Howler.ctx.currentTime),m._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),m._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):m._panner.setPosition(S,0,0):m._panner.pan.setValueAtTime(S,Howler.ctx.currentTime)),b._emit("stereo",m._id)}}return b},Howl.prototype.pos=function(S,T,b,v){var g=this;if(!g._webAudio)return g;if("loaded"!==g._state)return g._queue.push({event:"pos",action:function(){g.pos(S,T,b,v)}}),g;if(T="number"!=typeof T?0:T,b="number"!=typeof b?-.5:b,void 0===v){if("number"!=typeof S)return g._pos;g._pos=[S,T,b]}for(var _=g._getSoundIds(v),m=0;m<_.length;m++){var w=g._soundById(_[m]);if(w){if("number"!=typeof S)return w._pos;w._pos=[S,T,b],w._node&&((!w._panner||w._panner.pan)&&M(w,"spatial"),void 0!==w._panner.positionX?(w._panner.positionX.setValueAtTime(S,Howler.ctx.currentTime),w._panner.positionY.setValueAtTime(T,Howler.ctx.currentTime),w._panner.positionZ.setValueAtTime(b,Howler.ctx.currentTime)):w._panner.setPosition(S,T,b)),g._emit("pos",w._id)}}return g},Howl.prototype.orientation=function(S,T,b,v){var g=this;if(!g._webAudio)return g;if("loaded"!==g._state)return g._queue.push({event:"orientation",action:function(){g.orientation(S,T,b,v)}}),g;if(T="number"!=typeof T?g._orientation[1]:T,b="number"!=typeof b?g._orientation[2]:b,void 0===v){if("number"!=typeof S)return g._orientation;g._orientation=[S,T,b]}for(var _=g._getSoundIds(v),m=0;m<_.length;m++){var w=g._soundById(_[m]);if(w){if("number"!=typeof S)return w._orientation;w._orientation=[S,T,b],w._node&&(w._panner||(w._pos||(w._pos=g._pos||[0,0,-.5]),M(w,"spatial")),void 0!==w._panner.orientationX?(w._panner.orientationX.setValueAtTime(S,Howler.ctx.currentTime),w._panner.orientationY.setValueAtTime(T,Howler.ctx.currentTime),w._panner.orientationZ.setValueAtTime(b,Howler.ctx.currentTime)):w._panner.setOrientation(S,T,b)),g._emit("orientation",w._id)}}return g},Howl.prototype.pannerAttr=function(){var b,v,g,S=this,T=arguments;if(!S._webAudio)return S;if(0===T.length)return S._pannerAttr;if(1===T.length){if("object"!=typeof T[0])return(g=S._soundById(parseInt(T[0],10)))?g._pannerAttr:S._pannerAttr;b=T[0],void 0===v&&(b.pannerAttr||(b.pannerAttr={coneInnerAngle:b.coneInnerAngle,coneOuterAngle:b.coneOuterAngle,coneOuterGain:b.coneOuterGain,distanceModel:b.distanceModel,maxDistance:b.maxDistance,refDistance:b.refDistance,rolloffFactor:b.rolloffFactor,panningModel:b.panningModel}),S._pannerAttr={coneInnerAngle:void 0!==b.pannerAttr.coneInnerAngle?b.pannerAttr.coneInnerAngle:S._coneInnerAngle,coneOuterAngle:void 0!==b.pannerAttr.coneOuterAngle?b.pannerAttr.coneOuterAngle:S._coneOuterAngle,coneOuterGain:void 0!==b.pannerAttr.coneOuterGain?b.pannerAttr.coneOuterGain:S._coneOuterGain,distanceModel:void 0!==b.pannerAttr.distanceModel?b.pannerAttr.distanceModel:S._distanceModel,maxDistance:void 0!==b.pannerAttr.maxDistance?b.pannerAttr.maxDistance:S._maxDistance,refDistance:void 0!==b.pannerAttr.refDistance?b.pannerAttr.refDistance:S._refDistance,rolloffFactor:void 0!==b.pannerAttr.rolloffFactor?b.pannerAttr.rolloffFactor:S._rolloffFactor,panningModel:void 0!==b.pannerAttr.panningModel?b.pannerAttr.panningModel:S._panningModel})}else 2===T.length&&(b=T[0],v=parseInt(T[1],10));for(var _=S._getSoundIds(v),m=0;m<_.length;m++)if(g=S._soundById(_[m])){var w=g._pannerAttr;w={coneInnerAngle:void 0!==b.coneInnerAngle?b.coneInnerAngle:w.coneInnerAngle,coneOuterAngle:void 0!==b.coneOuterAngle?b.coneOuterAngle:w.coneOuterAngle,coneOuterGain:void 0!==b.coneOuterGain?b.coneOuterGain:w.coneOuterGain,distanceModel:void 0!==b.distanceModel?b.distanceModel:w.distanceModel,maxDistance:void 0!==b.maxDistance?b.maxDistance:w.maxDistance,refDistance:void 0!==b.refDistance?b.refDistance:w.refDistance,rolloffFactor:void 0!==b.rolloffFactor?b.rolloffFactor:w.rolloffFactor,panningModel:void 0!==b.panningModel?b.panningModel:w.panningModel};var P=g._panner;P?(P.coneInnerAngle=w.coneInnerAngle,P.coneOuterAngle=w.coneOuterAngle,P.coneOuterGain=w.coneOuterGain,P.distanceModel=w.distanceModel,P.maxDistance=w.maxDistance,P.refDistance=w.refDistance,P.rolloffFactor=w.rolloffFactor,P.panningModel=w.panningModel):(g._pos||(g._pos=S._pos||[0,0,-.5]),M(g,"spatial"))}return S},Sound.prototype.init=function(S){return function(){var T=this,b=T._parent;T._orientation=b._orientation,T._stereo=b._stereo,T._pos=b._pos,T._pannerAttr=b._pannerAttr,S.call(this),T._stereo?b.stereo(T._stereo):T._pos&&b.pos(T._pos[0],T._pos[1],T._pos[2],T._id)}}(Sound.prototype.init),Sound.prototype.reset=function(S){return function(){var T=this,b=T._parent;return T._orientation=b._orientation,T._stereo=b._stereo,T._pos=b._pos,T._pannerAttr=b._pannerAttr,T._stereo?b.stereo(T._stereo):T._pos?b.pos(T._pos[0],T._pos[1],T._pos[2],T._id):T._panner&&(T._panner.disconnect(0),T._panner=void 0,b._refreshBuffer(T)),S.call(this)}}(Sound.prototype.reset);var M=function(S,T){"spatial"===(T=T||"spatial")?(S._panner=Howler.ctx.createPanner(),S._panner.coneInnerAngle=S._pannerAttr.coneInnerAngle,S._panner.coneOuterAngle=S._pannerAttr.coneOuterAngle,S._panner.coneOuterGain=S._pannerAttr.coneOuterGain,S._panner.distanceModel=S._pannerAttr.distanceModel,S._panner.maxDistance=S._pannerAttr.maxDistance,S._panner.refDistance=S._pannerAttr.refDistance,S._panner.rolloffFactor=S._pannerAttr.rolloffFactor,S._panner.panningModel=S._pannerAttr.panningModel,void 0!==S._panner.positionX?(S._panner.positionX.setValueAtTime(S._pos[0],Howler.ctx.currentTime),S._panner.positionY.setValueAtTime(S._pos[1],Howler.ctx.currentTime),S._panner.positionZ.setValueAtTime(S._pos[2],Howler.ctx.currentTime)):S._panner.setPosition(S._pos[0],S._pos[1],S._pos[2]),void 0!==S._panner.orientationX?(S._panner.orientationX.setValueAtTime(S._orientation[0],Howler.ctx.currentTime),S._panner.orientationY.setValueAtTime(S._orientation[1],Howler.ctx.currentTime),S._panner.orientationZ.setValueAtTime(S._orientation[2],Howler.ctx.currentTime)):S._panner.setOrientation(S._orientation[0],S._orientation[1],S._orientation[2])):(S._panner=Howler.ctx.createStereoPanner(),S._panner.pan.setValueAtTime(S._stereo,Howler.ctx.currentTime)),S._panner.connect(S._node),S._paused||S._parent.pause(S._id,!0).play(S._id,!0)}}()},3894:He=>{He.exports="function"==typeof Object.create?function(A,h){h&&(A.super_=h,A.prototype=Object.create(h.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}))}:function(A,h){if(h){A.super_=h;var M=function(){};M.prototype=h.prototype,A.prototype=new M,A.prototype.constructor=A}}},5943:He=>{"use strict";var H=Object.getOwnPropertySymbols,A=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable;function M(T){if(null==T)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(T)}He.exports=function S(){try{if(!Object.assign)return!1;var T=new String("abc");if(T[5]="de","5"===Object.getOwnPropertyNames(T)[0])return!1;for(var b={},v=0;v<10;v++)b["_"+String.fromCharCode(v)]=v;if("0123456789"!==Object.getOwnPropertyNames(b).map(function(m){return b[m]}).join(""))return!1;var _={};return"abcdefghijklmnopqrst".split("").forEach(function(m){_[m]=m}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},_)).join("")}catch(m){return!1}}()?Object.assign:function(T,b){for(var v,_,g=M(T),m=1;m<arguments.length;m++){for(var w in v=Object(arguments[m]))A.call(v,w)&&(g[w]=v[w]);if(H){_=H(v);for(var P=0;P<_.length;P++)h.call(v,_[P])&&(g[_[P]]=v[_[P]])}}return g}},516:He=>{"use strict";function H(A,h){return Object.prototype.hasOwnProperty.call(A,h)}He.exports=function(A,h,M,S){M=M||"=";var T={};if("string"!=typeof A||0===A.length)return T;var b=/\+/g;A=A.split(h=h||"&");var v=1e3;S&&"number"==typeof S.maxKeys&&(v=S.maxKeys);var g=A.length;v>0&&g>v&&(g=v);for(var _=0;_<g;++_){var P,p,C,x,m=A[_].replace(b,"%20"),w=m.indexOf(M);w>=0?(P=m.substr(0,w),p=m.substr(w+1)):(P=m,p=""),C=decodeURIComponent(P),x=decodeURIComponent(p),H(T,C)?Array.isArray(T[C])?T[C].push(x):T[C]=[T[C],x]:T[C]=x}return T}},5776:He=>{"use strict";var H=function(A){switch(typeof A){case"string":return A;case"boolean":return A?"true":"false";case"number":return isFinite(A)?A:"";default:return""}};He.exports=function(A,h,M,S){return h=h||"&",M=M||"=",null===A&&(A=void 0),"object"==typeof A?Object.keys(A).map(function(T){var b=encodeURIComponent(H(T))+M;return Array.isArray(A[T])?A[T].map(function(v){return b+encodeURIComponent(H(v))}).join(h):b+encodeURIComponent(H(A[T]))}).join(h):S?encodeURIComponent(H(S))+M+encodeURIComponent(H(A)):""}},7137:(He,H,A)=>{"use strict";H.decode=H.parse=A(516),H.encode=H.stringify=A(5776)},2858:(He,H)=>{"use strict";var A=Object.prototype.hasOwnProperty;function M(v){try{return decodeURIComponent(v.replace(/\+/g," "))}catch(g){return null}}function S(v){try{return encodeURIComponent(v)}catch(g){return null}}H.stringify=function b(v,g){g=g||"";var m,w,_=[];for(w in"string"!=typeof g&&(g="?"),v)if(A.call(v,w)){if(!(m=v[w])&&(null==m||isNaN(m))&&(m=""),w=S(w),m=S(m),null===w||null===m)continue;_.push(w+"="+m)}return _.length?g+_.join("&"):""},H.parse=function T(v){for(var m,g=/([^=?#&]+)=?([^&]*)/g,_={};m=g.exec(v);){var w=M(m[1]),P=M(m[2]);null===w||null===P||w in _||(_[w]=P)}return _}},8237:He=>{"use strict";He.exports=function(A,h){if(h=h.split(":")[0],!(A=+A))return!1;switch(h){case"http":case"ws":return 80!==A;case"https":case"wss":return 443!==A;case"ftp":return 21!==A;case"gopher":return 70!==A;case"file":return!1}return 0!==A}},8135:function(He){He.exports=function(H){var A={};function h(M){if(A[M])return A[M].exports;var S=A[M]={i:M,l:!1,exports:{}};return H[M].call(S.exports,S,S.exports,h),S.l=!0,S.exports}return h.m=H,h.c=A,h.d=function(M,S,T){h.o(M,S)||Object.defineProperty(M,S,{configurable:!1,enumerable:!0,get:T})},h.r=function(M){Object.defineProperty(M,"__esModule",{value:!0})},h.n=function(M){var S=M&&M.__esModule?function(){return M.default}:function(){return M};return h.d(S,"a",S),S},h.o=function(M,S){return Object.prototype.hasOwnProperty.call(M,S)},h.p="",h(h.s=325)}([function(H,A,h){var M=h(6),S=h(37),T=h(18),b=h(15),v=h(27),g=function(_,m,w){var P,p,C,x,L=_&g.F,$=_&g.G,re=_&g.P,ie=_&g.B,ee=$?M:_&g.S?M[m]||(M[m]={}):(M[m]||{}).prototype,V=$?S:S[m]||(S[m]={}),q=V.prototype||(V.prototype={});for(P in $&&(w=m),w)C=((p=!L&&ee&&void 0!==ee[P])?ee:w)[P],x=ie&&p?v(C,M):re&&"function"==typeof C?v(Function.call,C):C,ee&&b(ee,P,C,_&g.U),V[P]!=C&&T(V,P,x),re&&q[P]!=C&&(q[P]=C)};M.core=S,g.F=1,g.G=2,g.S=4,g.P=8,g.B=16,g.W=32,g.U=64,g.R=128,H.exports=g},function(H,A,h){"use strict";function M(_,m){if(!(_ instanceof m))throw new TypeError("Cannot call a class as a function")}function S(_,m){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?_:m}function T(_,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(_,m):_.__proto__=m)}Object.defineProperty(A,"__esModule",{value:!0});var b=function(_){function m(w){M(this,m);var P=S(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,w));return P.name="SFSError",P}return T(m,Error),m}(),v=function(_){function m(w){var P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];M(this,m);var p=S(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,w));return p.name="SFSValidationError",p.errors=P,p}return T(m,b),m}(),g=function(_){function m(w){M(this,m);var P=S(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,w));return P.name="SFSTypeError",P}return T(m,b),m}();A.SFSError=b,A.SFSValidationError=v,A.SFSTypeError=g},function(H,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.Message=A.Requests=A.BaseRequest=void 0;var M=function(){function m(w,P){for(var p=0;p<P.length;p++){var C=P[p];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(w,C.key,C)}}return function(w,P,p){return P&&m(w.prototype,P),p&&m(w,p),w}}(),S=h(8),T=h(50);function b(m,w){if(!(m instanceof w))throw new TypeError("Cannot call a class as a function")}var v=function(){function m(w){b(this,m),this._reqObj=new S.SFSObject,this._id=w,this._targetController=0,this._logger=T.Logger.instance}return M(m,null,[{key:"KEY_ERROR_CODE",get:function(){return"ec"}},{key:"KEY_ERROR_PARAMS",get:function(){return"ep"}}]),M(m,[{key:"getMessage",value:function(){return new g(this._id,this._targetController,this._reqObj)}},{key:"validate",value:function(){this._logger.error("BaseRequest.validate = no child-class implementation found!")}},{key:"execute",value:function(){this._logger.error("BaseRequest.execute = no child-class implementation found!")}},{key:"id",get:function(){return this._id}}]),m}(),g=function(){function m(w,P,p){b(this,m),this._id=w,this._targetController=P,this._content=p,Object.freeze(this)}return M(m,[{key:"dump",value:function(){return(_.getNameFromId(this.id)+" ("+this.id+")").trim()+"\n"+this.content.getDump()}},{key:"id",get:function(){return this._id}},{key:"targetController",get:function(){return this._targetController}},{key:"content",get:function(){return this._content}}]),m}(),_=Object.freeze({Handshake:0,Login:1,Logout:2,JoinRoom:4,CreateRoom:6,GenericMessage:7,ChangeRoomName:8,ChangeRoomPassword:9,SetRoomVariables:11,SetUserVariables:12,CallExtension:13,LeaveRoom:14,SubscribeRoomGroup:15,UnsubscribeRoomGroup:16,SpectatorToPlayer:17,PlayerToSpectator:18,ChangeRoomCapacity:19,KickUser:24,BanUser:25,FindRooms:27,FindUsers:28,PingPong:29,SetUserPosition:30,QuickJoinOrCreateRoom:31,InitBuddyList:200,AddBuddy:201,BlockBuddy:202,RemoveBuddy:203,SetBuddyVariables:204,GoOnline:205,InviteUsers:300,InvitationReply:301,CreateSFSGame:302,QuickJoinGame:303,JoinRoomInvite:304,getNameFromId:function(m){for(var w in this)if(this.hasOwnProperty(w)&&this[w]===m)return w;return""}});A.BaseRequest=v,A.Requests=_,A.Message=g},function(H,A){H.exports=function(h){try{return!!h()}catch(M){return!0}}},function(H,A){H.exports=function(h){return"object"==typeof h?null!==h:"function"==typeof h}},function(H,A,h){var M=h(4);H.exports=function(S){if(!M(S))throw TypeError(S+" is not an object!");return S}},function(H,A){var h=H.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=h)},function(H,A,h){var M=h(95)("wks"),S=h(35),T=h(6).Symbol,b="function"==typeof T;(H.exports=function(v){return M[v]||(M[v]=b&&T[v]||(b?T:S)("Symbol."+v))}).store=M},function(H,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.Vec3D=A.SFSArray=A.SFSObject=A.SFSDataWrapper=A.SFSDataType=void 0;var M=function(){function C(x,L){for(var $=0;$<L.length;$++){var X=L[$];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(x,X.key,X)}}return function(x,L,$){return L&&C(x.prototype,L),$&&C(x,$),x}}(),S=h(174),T=h(51),b=h(50),v=h(1);function g(C,x){if(!(C instanceof x))throw new TypeError("Cannot call a class as a function")}var _=Object.freeze({NULL:0,BOOL:1,BYTE:2,SHORT:3,INT:4,LONG:5,FLOAT:6,DOUBLE:7,UTF_STRING:8,BOOL_ARRAY:9,BYTE_ARRAY:10,SHORT_ARRAY:11,INT_ARRAY:12,LONG_ARRAY:13,FLOAT_ARRAY:14,DOUBLE_ARRAY:15,UTF_STRING_ARRAY:16,SFS_ARRAY:17,SFS_OBJECT:18,TEXT:20,fromId:function(C){if("number"!=typeof C)return null;for(var x in this)if(this.hasOwnProperty(x)&&this[x]===C)return x},validate:function(C,x){if(null==this.fromId(C))throw new v.SFSTypeError("Invalid type passed; use one of the SFSDataType constants");var L=null;if(C===this.NULL&&null!=x&&(L="a null value"),C!==this.NULL&&null==x&&(L="a non-null value"),C!==this.BOOL||this.isBoolType(x)||(L="a boolean value"),C!==this.BYTE||this.isByteType(x)||(L="an integer number in this range: 0 <= value < 256"),C!==this.SHORT||this.isShortType(x)||(L="an integer number in this range: -32.768 <= value < +32.768"),C!==this.INT||this.isIntType(x)||(L="an integer number in this range: -2^31 <= value < +2^31"),C!==this.LONG||this.isLongType(x)||(L="an integer number in this range: -(2^53 - 1) <= value <= +(2^53 - 1)"),C!==this.FLOAT||this.isFloatType(x)||(L="a number in this range: -3.4028234663852886e+38 <= value <= 3.4028234663852886e+38"),C!==this.DOUBLE||this.isDoubleType(x)||(L="a finite number"),C!==this.UTF_STRING&&C!==this.TEXT||this.isStringType(x)||(L="a string value"),C!==this.BOOL_ARRAY||this.isArrayType(x,this.isBoolType)||(L="an array of boolean values"),C!==this.BYTE_ARRAY||x instanceof Uint8Array||(L="a Uint8Array"),C!==this.SHORT_ARRAY||this.isArrayType(x,this.isShortType)||(L="an array of integer numbers in this range: -32.768 <= value < +32.768"),C!==this.INT_ARRAY||this.isArrayType(x,this.isIntType)||(L="an array of integer numbers in this range: -2^31 <= value < +2^31"),C!==this.LONG_ARRAY||this.isArrayType(x,this.isLongType)||(L="an array of integer numbers in this range: -(2^53 - 1) <= value <= +(2^53 - 1)"),C!==this.FLOAT_ARRAY||this.isArrayType(x,this.isFloatType)||(L="an array of numbers in this range: -3.4028234663852886e+38 <= value <= 3.4028234663852886e+38"),C!==this.DOUBLE_ARRAY||this.isArrayType(x,this.isDoubleType)||(L="an array of finite numbers"),C!==this.UTF_STRING_ARRAY||this.isArrayType(x,this.isStringType)||(L="an array of string values"),C!==this.SFS_OBJECT||x instanceof w||(L="a SFSObject instance"),C!==this.SFS_ARRAY||x instanceof P||(L="a SFSArray instance"),null!=L)throw new v.SFSTypeError("Invalid value passed; type SFSDataType."+this.fromId(C)+" requires "+L)},isBoolType:function(C){return"boolean"==typeof C},isByteType:function(C){return"number"==typeof C&&Math.floor(C)===C&&C>=0&&C<256},isShortType:function(C){return"number"==typeof C&&Math.floor(C)===C&&C>=-32768&&C<32768},isIntType:function(C){return"number"==typeof C&&Math.floor(C)===C&&C>=-2147483648&&C<2147483648},isLongType:function(C){return"number"==typeof C&&Math.floor(C)===C&&Number.isSafeInteger(C)},isFloatType:function(C){return"number"==typeof C&&C>=-34028234663852886e22&&C<=34028234663852886e22},isDoubleType:function(C){return"number"==typeof C&&isFinite(C)},isStringType:function(C){return"string"==typeof C},isArrayType:function(C,x){return C instanceof Array&&(!(C.length>0)||x(C[0]))}}),m=function C(x,L){g(this,C),this.type=x,this.value=L,Object.freeze(this)},w=function(){function C(){g(this,C),this._dataHolder=new Map,this._serializer=S.SFSDataSerializer.instance,Object.freeze(this)}return M(C,[{key:"toBinary",value:function(){return this._serializer.object2binary(this)}},{key:"keys",value:function(){return this._dataHolder.keys()}},{key:"getWrappedItem",value:function(x){return this._dataHolder.get(x)}},{key:"getKeysArray",value:function(){return Array.from(this.keys())}},{key:"size",value:function(){return this._dataHolder.size}},{key:"containsKey",value:function(x){return null!=this.getWrappedItem(x)}},{key:"get",value:function(x){var L=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,$=this.getWrappedItem(x);if(null!=$&&null!=L&&$.type!=L)throw new v.SFSTypeError("Requested value is not of type SFSDataType."+_.fromId(L));return null!=$?$.value:null}},{key:"isNull",value:function(x){var L=this.getWrappedItem(x);return null==L||L.type==_.NULL}},{key:"getBool",value:function(x){return this.get(x,_.BOOL)}},{key:"getByte",value:function(x){return this.get(x,_.BYTE)}},{key:"getShort",value:function(x){return this.get(x,_.SHORT)}},{key:"getInt",value:function(x){return this.get(x,_.INT)}},{key:"getLong",value:function(x){var L=this.get(x,_.LONG);return Number.isSafeInteger(L)||b.Logger.instance.warn("Long value contained in SFSObject is not safe"),L}},{key:"getFloat",value:function(x){return this.get(x,_.FLOAT)}},{key:"getDouble",value:function(x){return this.get(x,_.DOUBLE)}},{key:"getUtfString",value:function(x){return this.get(x,_.UTF_STRING)}},{key:"getText",value:function(x){return this.get(x,_.TEXT)}},{key:"getBoolArray",value:function(x){return this.get(x,_.BOOL_ARRAY)}},{key:"getByteArray",value:function(x){return this.get(x,_.BYTE_ARRAY)}},{key:"getShortArray",value:function(x){return this.get(x,_.SHORT_ARRAY)}},{key:"getIntArray",value:function(x){return this.get(x,_.INT_ARRAY)}},{key:"getLongArray",value:function(x){return this.get(x,_.LONG_ARRAY)}},{key:"getFloatArray",value:function(x){return this.get(x,_.FLOAT_ARRAY)}},{key:"getDoubleArray",value:function(x){return this.get(x,_.DOUBLE_ARRAY)}},{key:"getUtfStringArray",value:function(x){return this.get(x,_.UTF_STRING_ARRAY)}},{key:"getSFSObject",value:function(x){return this.get(x,_.SFS_OBJECT)}},{key:"getSFSArray",value:function(x){return this.get(x,_.SFS_ARRAY)}},{key:"put",value:function(x,L,$){if(!(arguments.length>3&&void 0!==arguments[3]&&arguments[3])){if("string"!=typeof x)throw"Invalid key passed; must be of type string";_.validate($,L)}this._dataHolder.set(x,new m($,L))}},{key:"putNull",value:function(x){this.put(x,null,_.NULL)}},{key:"putBool",value:function(x,L){this.put(x,L,_.BOOL)}},{key:"putByte",value:function(x,L){this.put(x,L,_.BYTE)}},{key:"putShort",value:function(x,L){this.put(x,L,_.SHORT)}},{key:"putInt",value:function(x,L){this.put(x,L,_.INT)}},{key:"putLong",value:function(x,L){this.put(x,L,_.LONG)}},{key:"putFloat",value:function(x,L){this.put(x,L,_.FLOAT)}},{key:"putDouble",value:function(x,L){this.put(x,L,_.DOUBLE)}},{key:"putUtfString",value:function(x,L){this.put(x,L,_.UTF_STRING)}},{key:"putText",value:function(x,L){this.put(x,L,_.TEXT)}},{key:"putBoolArray",value:function(x,L){this.put(x,L,_.BOOL_ARRAY)}},{key:"putByteArray",value:function(x,L){this.put(x,L,_.BYTE_ARRAY)}},{key:"putShortArray",value:function(x,L){this.put(x,L,_.SHORT_ARRAY)}},{key:"putIntArray",value:function(x,L){this.put(x,L,_.INT_ARRAY)}},{key:"putLongArray",value:function(x,L){this.put(x,L,_.LONG_ARRAY)}},{key:"putFloatArray",value:function(x,L){this.put(x,L,_.FLOAT_ARRAY)}},{key:"putDoubleArray",value:function(x,L){this.put(x,L,_.DOUBLE_ARRAY)}},{key:"putUtfStringArray",value:function(x,L){this.put(x,L,_.UTF_STRING_ARRAY)}},{key:"putSFSArray",value:function(x,L){this.put(x,L,_.SFS_ARRAY)}},{key:"putSFSObject",value:function(x,L){this.put(x,L,_.SFS_OBJECT)}},{key:"getDump",value:function(){var x=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return 0===this.size()?"[ Empty SFSObject ]":x?T.DumpFormatter.prettyPrintDump(this._dump()):this._dump()}},{key:"getHexDump",value:function(){return T.DumpFormatter.hexDump(this.toBinary())}},{key:"_dump",value:function(){var x=T.DumpFormatter.TOKEN_INDENT_OPEN,L=!0,$=!1,X=void 0;try{for(var re,ie=this.keys()[Symbol.iterator]();!(L=(re=ie.next()).done);L=!0){var ee=re.value,V=this.getWrappedItem(ee);x+="("+_.fromId(V.type).toLowerCase()+") "+ee+": ",x+=V.type===_.SFS_OBJECT||V.type===_.SFS_ARRAY?V.value.getDump(!1):V.type===_.BYTE_ARRAY?T.DumpFormatter.prettyPrintByteArray(V.value):V.value,x+=T.DumpFormatter.TOKEN_DIVIDER}}catch(q){$=!0,X=q}finally{try{!L&&ie.return&&ie.return()}finally{if($)throw X}}return x+T.DumpFormatter.TOKEN_INDENT_CLOSE}}],[{key:"newFromBinaryData",value:function(x){return S.SFSDataSerializer.instance.binary2object(x)}}]),C}(),P=function(){function C(){g(this,C),this._dataHolder=[],this._serializer=S.SFSDataSerializer.instance,Object.freeze(this)}return M(C,[{key:"toBinary",value:function(){return this._serializer.array2binary(this)}},{key:"getWrappedItem",value:function(x){return"number"!=typeof x||x>=this._dataHolder.length?null:this._dataHolder[x]}},{key:"size",value:function(){return this._dataHolder.length}},{key:"contains",value:function(x){if(x instanceof C||x instanceof w)throw new v.SFSError("SFSArray and SFSObject types are not supported by the SFSArray.contains method");for(var L=0;L<this.size();L++){var $=this.getWrappedItem(L);if(null!=$&&$.value==x)return!0}return!1}},{key:"get",value:function(x){var L=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("number"!=typeof x||x>=this._dataHolder.length)return null;var $=this.getWrappedItem(x);if(null!=$&&null!=L&&$.type!=L)throw new v.SFSTypeError("Requested value is not of type SFSDataType."+_.fromId(L));return null!=$?$.value:null}},{key:"isNull",value:function(x){var L=this.getWrappedItem(x);return null==L||L.type==_.NULL}},{key:"getBool",value:function(x){return this.get(x,_.BOOL)}},{key:"getByte",value:function(x){return this.get(x,_.BYTE)}},{key:"getShort",value:function(x){return this.get(x,_.SHORT)}},{key:"getInt",value:function(x){return this.get(x,_.INT)}},{key:"getLong",value:function(x){var L=this.get(x,_.LONG);return Number.isSafeInteger(L)||b.Logger.instance.warn("Long value contained in SFSObject is not safe"),L}},{key:"getFloat",value:function(x){return this.get(x,_.FLOAT)}},{key:"getDouble",value:function(x){return this.get(x,_.DOUBLE)}},{key:"getUtfString",value:function(x){return this.get(x,_.UTF_STRING)}},{key:"getText",value:function(x){return this.get(x,_.TEXT)}},{key:"getBoolArray",value:function(x){return this.get(x,_.BOOL_ARRAY)}},{key:"getByteArray",value:function(x){return this.get(x,_.BYTE_ARRAY)}},{key:"getShortArray",value:function(x){return this.get(x,_.SHORT_ARRAY)}},{key:"getIntArray",value:function(x){return this.get(x,_.INT_ARRAY)}},{key:"getLongArray",value:function(x){return this.get(x,_.LONG_ARRAY)}},{key:"getFloatArray",value:function(x){return this.get(x,_.FLOAT_ARRAY)}},{key:"getDoubleArray",value:function(x){return this.get(x,_.DOUBLE_ARRAY)}},{key:"getUtfStringArray",value:function(x){return this.get(x,_.UTF_STRING_ARRAY)}},{key:"getSFSObject",value:function(x){return this.get(x,_.SFS_OBJECT)}},{key:"getSFSArray",value:function(x){return this.get(x,_.SFS_ARRAY)}},{key:"add",value:function(x,L){arguments.length>2&&void 0!==arguments[2]&&arguments[2]||_.validate(L,x),this._dataHolder.push(new m(L,x))}},{key:"addNull",value:function(){this.add(null,_.NULL)}},{key:"addBool",value:function(x){this.add(x,_.BOOL)}},{key:"addByte",value:function(x){this.add(x,_.BYTE)}},{key:"addShort",value:function(x){this.add(x,_.SHORT)}},{key:"addInt",value:function(x){this.add(x,_.INT)}},{key:"addLong",value:function(x){this.add(x,_.LONG)}},{key:"addFloat",value:function(x){this.add(x,_.FLOAT)}},{key:"addDouble",value:function(x){this.add(x,_.DOUBLE)}},{key:"addUtfString",value:function(x){this.add(x,_.UTF_STRING)}},{key:"addText",value:function(x){this.add(x,_.TEXT)}},{key:"addBoolArray",value:function(x){this.add(x,_.BOOL_ARRAY)}},{key:"addByteArray",value:function(x){this.add(x,_.BYTE_ARRAY)}},{key:"addShortArray",value:function(x){this.add(x,_.SHORT_ARRAY)}},{key:"addIntArray",value:function(x){this.add(x,_.INT_ARRAY)}},{key:"addLongArray",value:function(x){this.add(x,_.LONG_ARRAY)}},{key:"addFloatArray",value:function(x){this.add(x,_.FLOAT_ARRAY)}},{key:"addDoubleArray",value:function(x){this.add(x,_.DOUBLE_ARRAY)}},{key:"addUtfStringArray",value:function(x){this.add(x,_.UTF_STRING_ARRAY)}},{key:"addSFSArray",value:function(x){this.add(x,_.SFS_ARRAY)}},{key:"addSFSObject",value:function(x){this.add(x,_.SFS_OBJECT)}},{key:"getDump",value:function(){var x=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return 0===this.size()?"[ Empty SFSArray ]":x?T.DumpFormatter.prettyPrintDump(this._dump()):this._dump()}},{key:"getHexDump",value:function(){return T.DumpFormatter.hexDump(this.toBinary())}},{key:"_dump",value:function(){for(var x=T.DumpFormatter.TOKEN_INDENT_OPEN,L=0;L<this.size();L++){var $=this.getWrappedItem(L);x+="("+_.fromId($.type).toLowerCase()+") "+L+": ",x+=$.type===_.SFS_OBJECT||$.type===_.SFS_ARRAY?$.value.getDump(!1):$.type===_.BYTE_ARRAY?T.DumpFormatter.prettyPrintByteArray($.value):$.value,x+=T.DumpFormatter.TOKEN_DIVIDER}return x+T.DumpFormatter.TOKEN_INDENT_CLOSE}}],[{key:"newFromBinaryData",value:function(x){return S.SFSDataSerializer.instance.binary2array(x)}}]),C}(),p=function(){function C(x,L){var $=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,X=arguments.length>3&&void 0!==arguments[3]&&arguments[3];g(this,C),this.px=x,this.py=L,this.pz=$,this._useFloatCoordinates=X}return M(C,[{key:"toString",value:function(){return"("+this.px+","+this.py+","+this.pz+")"}},{key:"toArray",value:function(){return[this.px,this.py,this.pz]}},{key:"isFloat",get:function(){return this._useFloatCoordinates}}],[{key:"fromArray",value:function(x){return new C(x[0],x[1],x[2])}}]),C}();A.SFSDataType=_,A.SFSDataWrapper=m,A.SFSObject=w,A.SFSArray=P,A.Vec3D=p},function(H,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.MMORoom=A.SFSRoom=void 0;var M=function(){function w(P,p){for(var C=0;C<p.length;C++){var x=p[C];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(P,x.key,x)}}return function(P,p,C){return p&&w(P.prototype,p),C&&w(P,C),P}}(),S=h(8),T=h(49),b=h(119),v=h(1);function g(w,P){if(!(w instanceof P))throw new TypeError("Cannot call a class as a function")}var _=function(){function w(P,p){var C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default",x=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];g(this,w),this._id=P,this._name=p,this._groupId=C,this._isGame=!1,this._isHidden=!1,this._isJoined=!1,this._isPasswordProtected=!1,this._maxUsers=0,this._maxSpectators=0,this._userCount=0,this._specCount=0,this._isManaged=!0,this._variables=new Map,this._userManager=new b.SFSUserManager,this._roomManager=null,this.properties={},x&&Object.seal(this)}return M(w,[{key:"toString",value:function(){return"[Room: "+this.name+", Id: "+this.id+", Group Id: "+this.groupId+"]"}},{key:"getUserByName",value:function(P){return this._userManager.getUserByName(P)}},{key:"getUserById",value:function(P){return this._userManager.getUserById(P)}},{key:"containsUser",value:function(P){return this._userManager.containsUser(P)}},{key:"getUserList",value:function(){return this._userManager.getUserList()}},{key:"getPlayerList",value:function(){var P=this;return this._userManager.getUserList().filter(function(p){return p.isPlayerInRoom(P)})}},{key:"getSpectatorList",value:function(){var P=this;return this._userManager.getUserList().filter(function(p){return p.isSpectatorInRoom(P)})}},{key:"getVariable",value:function(P){return this._variables.get(P)}},{key:"containsVariable",value:function(P){return this._variables.has(P)}},{key:"getVariables",value:function(){return Array.from(this._variables.values())}},{key:"getRoomManager",value:function(){return this._roomManager}},{key:"_addUser",value:function(P){this._userManager._addUser(P)}},{key:"_removeUser",value:function(P){this._userManager._removeUser(P)}},{key:"_setVariables",value:function(P){var p=!0,C=!1,x=void 0;try{for(var L,$=P[Symbol.iterator]();!(p=(L=$.next()).done);p=!0)this._setVariable(L.value)}catch(re){C=!0,x=re}finally{try{!p&&$.return&&$.return()}finally{if(C)throw x}}}},{key:"_setVariable",value:function(P){P.isNull?this._variables.delete(P.name):this._variables.set(P.name,P)}},{key:"_setRoomManager",value:function(P){if(null!=this._roomManager)throw new v.SFSError("Room Manager already assigned to "+this.toString());this._roomManager=P}},{key:"_merge",value:function(P){if(!this.isJoined){this._variables.clear();var p=!0,C=!1,x=void 0;try{for(var L,$=P._variables.values()[Symbol.iterator]();!(p=(L=$.next()).done);p=!0)this._setVariable(L.value)}catch(Q){C=!0,x=Q}finally{try{!p&&$.return&&$.return()}finally{if(C)throw x}}this._userManager._clearAll();var re=!0,ie=!1,ee=void 0;try{for(var V,q=P.getUserList()[Symbol.iterator]();!(re=(V=q.next()).done);re=!0)this._addUser(V.value)}catch(Q){ie=!0,ee=Q}finally{try{!re&&q.return&&q.return()}finally{if(ie)throw ee}}}}},{key:"id",get:function(){return this._id}},{key:"name",get:function(){return this._name}},{key:"groupId",get:function(){return this._groupId}},{key:"isGame",get:function(){return this._isGame}},{key:"isHidden",get:function(){return this._isHidden}},{key:"isJoined",get:function(){return this._isJoined}},{key:"isPasswordProtected",get:function(){return this._isPasswordProtected}},{key:"maxUsers",get:function(){return this._maxUsers}},{key:"maxSpectators",get:function(){return this._maxSpectators}},{key:"userCount",get:function(){return this.isJoined?this.isGame?this.getPlayerList().length:this._userManager.getUserCount():this._userCount}},{key:"spectatorCount",get:function(){return this.isGame?this.isJoined?this.getSpectatorList().length:this._specCount:0}},{key:"capacity",get:function(){return this.maxUsers+this.maxSpectators}}],[{key:"fromSFSArray",value:function(P){var p=14===P.size(),C=void 0;(C=p?new m(P.get(0),P.get(1),P.get(2)):new w(P.get(0),P.get(1),P.get(2)))._isGame=P.get(3),C._isHidden=P.get(4),C._isPasswordProtected=P.get(5),C._userCount=P.get(6),C._maxUsers=P.get(7);var x=P.get(8);if(null!=x)for(var L=0;L<x.size();L++){var $=T.SFSRoomVariable.fromSFSArray(x.get(L));C._setVariable($)}return C._isGame&&(C._specCount=P.get(9),C._maxSpectators=P.get(10)),p&&(C._defaultAOI=S.Vec3D.fromArray(P.get(11)),null!=P.get(13)&&(C._lowerMapLimit=S.Vec3D.fromArray(P.get(12)),C._higherMapLimit=S.Vec3D.fromArray(P.get(13)))),C}}]),w}(),m=function(w){function P(p,C){var x=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default";g(this,P);var L=function($,X){if(!$)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!X||"object"!=typeof X&&"function"!=typeof X?$:X}(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,p,C,x,!1));return L._defaultAOI=null,L._lowerMapLimit=null,L._higherMapLimit=null,L._itemsById=new Map,Object.seal(L),L}return function(p,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function, not "+typeof C);p.prototype=Object.create(C&&C.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(p,C):p.__proto__=C)}(P,_),M(P,[{key:"getMMOItem",value:function(p){return this._itemsById.get(p)}},{key:"getMMOItems",value:function(){return Array.from(this._itemsById.values())}},{key:"_addMMOItem",value:function(p){this._itemsById.set(p.id,p)}},{key:"_removeItem",value:function(p){this._itemsById.delete(p)}},{key:"defaultAOI",get:function(){return this._defaultAOI}},{key:"lowerMapLimit",get:function(){return this._lowerMapLimit}},{key:"higherMapLimit",get:function(){return this._higherMapLimit}}]),P}();A.SFSRoom=_,A.MMORoom=m},function(H,A,h){var M=h(5),S=h(148),T=h(30),b=Object.defineProperty;A.f=h(11)?Object.defineProperty:function(v,g,_){if(M(v),g=T(g,!0),M(_),S)try{return b(v,g,_)}catch(m){}if("get"in _||"set"in _)throw TypeError("Accessors not supported!");return"value"in _&&(v[g]=_.value),v}},function(H,A,h){H.exports=!h(3)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(H,A,h){var M=h(24),S=Math.min;H.exports=function(T){return T>0?S(M(T),9007199254740991):0}},function(H,A,h){var M=h(0),S=h(3),T=h(28),b=/"/g,v=function(g,_,m,w){var P=String(T(g)),p="<"+_;return""!==m&&(p+=" "+m+'="'+String(w).replace(b,"&quot;")+'"'),p+">"+P+"</"+_+">"};H.exports=function(g,_){var m={};m[g]=_(v),M(M.P+M.F*S(function(){var w=""[g]('"');return w!==w.toLowerCase()||w.split('"').length>3}),"String",m)}},function(H,A,h){var M=h(28);H.exports=function(S){return Object(M(S))}},function(H,A,h){var M=h(6),S=h(18),T=h(16),b=h(35)("src"),v=Function.toString,g=(""+v).split("toString");h(37).inspectSource=function(_){return v.call(_)},(H.exports=function(_,m,w,P){var p="function"==typeof w;p&&(T(w,"name")||S(w,"name",m)),_[m]!==w&&(p&&(T(w,b)||S(w,b,_[m]?""+_[m]:g.join(String(m)))),_===M?_[m]=w:P?_[m]?_[m]=w:S(_,m,w):(delete _[m],S(_,m,w)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[b]||v.call(this)})},function(H,A){var h={}.hasOwnProperty;H.exports=function(M,S){return h.call(M,S)}},function(H,A,h){"use strict";var M=h(3);H.exports=function(S,T){return!!S&&M(function(){T?S.call(null,function(){},1):S.call(null)})}},function(H,A,h){var M=h(10),S=h(36);H.exports=h(11)?function(T,b,v){return M.f(T,b,S(1,v))}:function(T,b,v){return T[b]=v,T}},function(H,A,h){var M=h(27),S=h(54),T=h(14),b=h(12),v=h(231);H.exports=function(g,_){var m=1==g,w=2==g,P=3==g,p=4==g,C=6==g,x=5==g||C,L=_||v;return function($,X,re){for(var ie,ee,V=T($),q=S(V),le=M(X,re,3),Q=b(q.length),ce=0,se=m?L($,Q):w?L($,0):void 0;Q>ce;ce++)if((x||ce in q)&&(ee=le(ie=q[ce],ce,V),g))if(m)se[ce]=ee;else if(ee)switch(g){case 3:return!0;case 5:return ie;case 6:return ce;case 2:se.push(ie)}else if(p)return!1;return C?-1:P||p?p:se}}},function(H,A,h){var M=h(0),S=h(37),T=h(3);H.exports=function(b,v){var g=(S.Object||{})[b]||Object[b],_={};_[b]=v(g),M(M.S+M.F*T(function(){g(1)}),"Object",_)}},function(H,A,h){var M=h(54),S=h(28);H.exports=function(T){return M(S(T))}},function(H,A,h){"use strict";if(h(11)){var M=h(44),S=h(6),T=h(3),b=h(0),v=h(60),g=h(75),_=h(27),m=h(42),w=h(36),P=h(18),p=h(41),C=h(24),x=h(12),L=h(121),$=h(34),X=h(30),re=h(16),ie=h(66),ee=h(4),V=h(14),q=h(80),le=h(33),Q=h(31),ce=h(32).f,se=h(79),we=h(35),Ue=h(7),ke=h(19),Fe=h(94),oe=h(76),Se=h(128),he=h(53),We=h(64),_e=h(43),Ce=h(78),Pe=h(129),tt=h(10),yt=h(23),Qe=tt.f,Kt=yt.f,pt=S.RangeError,Je=S.TypeError,ue=S.Uint8Array,Me=Array.prototype,Ie=g.ArrayBuffer,Ze=g.DataView,ct=ke(0),_t=ke(2),ze=ke(3),Ke=ke(4),an=ke(5),zt=ke(6),gn=Fe(!0),yi=Fe(!1),mt=Se.values,xt=Se.keys,Ne=Se.entries,Ae=Me.lastIndexOf,Ge=Me.reduce,$e=Me.reduceRight,Le=Me.join,Xe=Me.sort,Et=Me.slice,It=Me.toString,Rt=Me.toLocaleString,In=Ue("iterator"),ei=Ue("toStringTag"),bi=we("typed_constructor"),Yt=we("def_constructor"),ti=v.CONSTR,Cn=v.TYPED,Xt=v.VIEW,$n=ke(1,function(ht,Lt){return Xi(oe(ht,ht[Yt]),Lt)}),Yr=T(function(){return 1===new ue(new Uint16Array([1]).buffer)[0]}),Xr=!!ue&&!!ue.prototype.set&&T(function(){new ue(1).set({})}),ci=function(ht,Lt){var qt=C(ht);if(qt<0||qt%Lt)throw pt("Wrong offset!");return qt},_n=function(ht){if(ee(ht)&&Cn in ht)return ht;throw Je(ht+" is not a typed array!")},Xi=function(ht,Lt){if(!ee(ht)||!(bi in ht))throw Je("It is not a typed array constructor!");return new ht(Lt)},un=function(ht,Lt){return br(oe(ht,ht[Yt]),Lt)},br=function(ht,Lt){for(var qt=0,Ai=Lt.length,En=Xi(ht,Ai);Ai>qt;)En[qt]=Lt[qt++];return En},qr=function(ht,Lt,qt){Qe(ht,Lt,{get:function(){return this._d[qt]}})},Pt=function(ht){var Lt,qt,Ai,En,cr,ja,Tn=V(ht),ur=arguments.length,Zr=ur>1?arguments[1]:void 0,Oo=void 0!==Zr,$s=se(Tn);if(null!=$s&&!q($s)){for(ja=$s.call(Tn),Ai=[],Lt=0;!(cr=ja.next()).done;Lt++)Ai.push(cr.value);Tn=Ai}for(Oo&&ur>2&&(Zr=_(Zr,arguments[2],2)),Lt=0,qt=x(Tn.length),En=Xi(this,qt);qt>Lt;Lt++)En[Lt]=Oo?Zr(Tn[Lt],Lt):Tn[Lt];return En},Kr=function(){for(var ht=0,Lt=arguments.length,qt=Xi(this,Lt);Lt>ht;)qt[ht]=arguments[ht++];return qt},Ps=!!ue&&T(function(){Rt.call(new ue(1))}),gl=function(){return Rt.apply(Ps?Et.call(_n(this)):_n(this),arguments)},Jh={copyWithin:function(ht,Lt){return Pe.call(_n(this),ht,Lt,arguments.length>2?arguments[2]:void 0)},every:function(ht){return Ke(_n(this),ht,arguments.length>1?arguments[1]:void 0)},fill:function(ht){return Ce.apply(_n(this),arguments)},filter:function(ht){return un(this,_t(_n(this),ht,arguments.length>1?arguments[1]:void 0))},find:function(ht){return an(_n(this),ht,arguments.length>1?arguments[1]:void 0)},findIndex:function(ht){return zt(_n(this),ht,arguments.length>1?arguments[1]:void 0)},forEach:function(ht){ct(_n(this),ht,arguments.length>1?arguments[1]:void 0)},indexOf:function(ht){return yi(_n(this),ht,arguments.length>1?arguments[1]:void 0)},includes:function(ht){return gn(_n(this),ht,arguments.length>1?arguments[1]:void 0)},join:function(ht){return Le.apply(_n(this),arguments)},lastIndexOf:function(ht){return Ae.apply(_n(this),arguments)},map:function(ht){return $n(_n(this),ht,arguments.length>1?arguments[1]:void 0)},reduce:function(ht){return Ge.apply(_n(this),arguments)},reduceRight:function(ht){return $e.apply(_n(this),arguments)},reverse:function(){for(var ht,Lt=_n(this).length,qt=Math.floor(Lt/2),Ai=0;Ai<qt;)ht=this[Ai],this[Ai++]=this[--Lt],this[Lt]=ht;return this},some:function(ht){return ze(_n(this),ht,arguments.length>1?arguments[1]:void 0)},sort:function(ht){return Xe.call(_n(this),ht)},subarray:function(ht,Lt){var qt=_n(this),Ai=qt.length,En=$(ht,Ai);return new(oe(qt,qt[Yt]))(qt.buffer,qt.byteOffset+En*qt.BYTES_PER_ELEMENT,x((void 0===Lt?Ai:$(Lt,Ai))-En))}},_l=function(ht,Lt){return un(this,Et.call(_n(this),ht,Lt))},Nu=function(ht){_n(this);var Lt=ci(arguments[1],1),qt=this.length,Ai=V(ht),En=x(Ai.length),cr=0;if(En+Lt>qt)throw pt("Wrong length!");for(;cr<En;)this[Lt+cr]=Ai[cr++]},Jr={entries:function(){return Ne.call(_n(this))},keys:function(){return xt.call(_n(this))},values:function(){return mt.call(_n(this))}},Mo=function(ht,Lt){return ee(ht)&&ht[Cn]&&"symbol"!=typeof Lt&&Lt in ht&&String(+Lt)==String(Lt)},Ws=function(ht,Lt){return Mo(ht,Lt=X(Lt,!0))?w(2,ht[Lt]):Kt(ht,Lt)},Sr=function(ht,Lt,qt){return!(Mo(ht,Lt=X(Lt,!0))&&ee(qt)&&re(qt,"value"))||re(qt,"get")||re(qt,"set")||qt.configurable||re(qt,"writable")&&!qt.writable||re(qt,"enumerable")&&!qt.enumerable?Qe(ht,Lt,qt):(ht[Lt]=qt.value,ht)};ti||(yt.f=Ws,tt.f=Sr),b(b.S+b.F*!ti,"Object",{getOwnPropertyDescriptor:Ws,defineProperty:Sr}),T(function(){It.call({})})&&(It=Rt=function(){return Le.call(this)});var xs=p({},Jh);p(xs,Jr),P(xs,In,Jr.values),p(xs,{slice:_l,set:Nu,constructor:function(){},toString:It,toLocaleString:gl}),qr(xs,"buffer","b"),qr(xs,"byteOffset","o"),qr(xs,"byteLength","l"),qr(xs,"length","e"),Qe(xs,ei,{get:function(){return this[Cn]}}),H.exports=function(ht,Lt,qt,Ai){var En=ht+((Ai=!!Ai)?"Clamped":"")+"Array",cr="get"+ht,ja="set"+ht,Tn=S[En],ur=Tn||{},Zr=Tn&&Q(Tn),$s={},os=Tn&&Tn.prototype,ku=function(ri,Gi){Qe(ri,Gi,{get:function(){return(Po=this._d).v[cr](Gi*Lt+Po.o,Yr);var Po},set:function(Ri){return Po=Gi,Yn=Ri,ml=this._d,Ai&&(Yn=(Yn=Math.round(Yn))<0?0:Yn>255?255:255&Yn),void ml.v[ja](Po*Lt+ml.o,Yn,Yr);var Po,Yn,ml},enumerable:!0})};Tn&&v.ABV?T(function(){Tn(1)})&&T(function(){new Tn(-1)})&&We(function(ri){new Tn,new Tn(null),new Tn(1.5),new Tn(ri)},!0)||(Tn=qt(function(ri,Gi,Ri,qo){var Po;return m(ri,Tn,En),ee(Gi)?Gi instanceof Ie||"ArrayBuffer"==(Po=ie(Gi))||"SharedArrayBuffer"==Po?void 0!==qo?new ur(Gi,ci(Ri,Lt),qo):void 0!==Ri?new ur(Gi,ci(Ri,Lt)):new ur(Gi):Cn in Gi?br(Tn,Gi):Pt.call(Tn,Gi):new ur(L(Gi))}),ct(Zr!==Function.prototype?ce(ur).concat(ce(Zr)):ce(ur),function(ri){ri in Tn||P(Tn,ri,ur[ri])}),Tn.prototype=os,M||(os.constructor=Tn)):(Tn=qt(function(ri,Gi,Ri,qo){m(ri,Tn,En,"_d");var Po,Yn,ml,xi,xg=0,Ig=0;if(ee(Gi)){if(!(Gi instanceof Ie||"ArrayBuffer"==(xi=ie(Gi))||"SharedArrayBuffer"==xi))return Cn in Gi?br(Tn,Gi):Pt.call(Tn,Gi);Po=Gi,Ig=ci(Ri,Lt);var Hn=Gi.byteLength;if(void 0===qo){if(Hn%Lt||(Yn=Hn-Ig)<0)throw pt("Wrong length!")}else if((Yn=x(qo)*Lt)+Ig>Hn)throw pt("Wrong length!");ml=Yn/Lt}else ml=L(Gi),Po=new Ie(Yn=ml*Lt);for(P(ri,"_d",{b:Po,o:Ig,l:Yn,e:ml,v:new Ze(Po)});xg<ml;)ku(ri,xg++)}),os=Tn.prototype=le(xs),P(os,"constructor",Tn));var sc=os[In],kd=!!sc&&("values"==sc.name||null==sc.name),Zh=Jr.values;P(Tn,bi,!0),P(os,Cn,En),P(os,Xt,!0),P(os,Yt,Tn),(Ai?new Tn(1)[ei]==En:ei in os)||Qe(os,ei,{get:function(){return En}}),$s[En]=Tn,b(b.G+b.W+b.F*(Tn!=ur),$s),b(b.S,En,{BYTES_PER_ELEMENT:Lt}),b(b.S+b.F*T(function(){ur.of.call(Tn,1)}),En,{from:Pt,of:Kr}),"BYTES_PER_ELEMENT"in os||P(os,"BYTES_PER_ELEMENT",Lt),b(b.P,En,Jh),_e(En),b(b.P+b.F*Xr,En,{set:Nu}),b(b.P+b.F*!kd,En,Jr),M||os.toString==It||(os.toString=It),b(b.P+b.F*T(function(){new Tn(1).slice()}),En,{slice:_l}),b(b.P+b.F*(T(function(){return[1,2].toLocaleString()!=new Tn([1,2]).toLocaleString()})||!T(function(){os.toLocaleString.call([1,2])})),En,{toLocaleString:gl}),he[En]=kd?sc:Zh,M||kd||P(os,In,Zh)}}else H.exports=function(){}},function(H,A,h){var M=h(67),S=h(36),T=h(21),b=h(30),v=h(16),g=h(148),_=Object.getOwnPropertyDescriptor;A.f=h(11)?_:function(m,w){if(m=T(m),w=b(w,!0),g)try{return _(m,w)}catch(P){}if(v(m,w))return S(!M.f.call(m,w),m[w])}},function(H,A){var h=Math.ceil,M=Math.floor;H.exports=function(S){return isNaN(S=+S)?0:(S>0?M:h)(S)}},function(H,A){var h={}.toString;H.exports=function(M){return h.call(M).slice(8,-1)}},function(H,A){H.exports=function(h){if("function"!=typeof h)throw TypeError(h+" is not a function!");return h}},function(H,A,h){var M=h(26);H.exports=function(S,T,b){if(M(S),void 0===T)return S;switch(b){case 1:return function(v){return S.call(T,v)};case 2:return function(v,g){return S.call(T,v,g)};case 3:return function(v,g,_){return S.call(T,v,g,_)}}return function(){return S.apply(T,arguments)}}},function(H,A){H.exports=function(h){if(null==h)throw TypeError("Can't call method on  "+h);return h}},function(H,A,h){var M=h(35)("meta"),S=h(4),T=h(16),b=h(10).f,v=0,g=Object.isExtensible||function(){return!0},_=!h(3)(function(){return g(Object.preventExtensions({}))}),m=function(P){b(P,M,{value:{i:"O"+ ++v,w:{}}})},w=H.exports={KEY:M,NEED:!1,fastKey:function(P,p){if(!S(P))return"symbol"==typeof P?P:("string"==typeof P?"S":"P")+P;if(!T(P,M)){if(!g(P))return"F";if(!p)return"E";m(P)}return P[M].i},getWeak:function(P,p){if(!T(P,M)){if(!g(P))return!0;if(!p)return!1;m(P)}return P[M].w},onFreeze:function(P){return _&&w.NEED&&g(P)&&!T(P,M)&&m(P),P}}},function(H,A,h){var M=h(4);H.exports=function(S,T){if(!M(S))return S;var b,v;if(T&&"function"==typeof(b=S.toString)&&!M(v=b.call(S))||"function"==typeof(b=S.valueOf)&&!M(v=b.call(S))||!T&&"function"==typeof(b=S.toString)&&!M(v=b.call(S)))return v;throw TypeError("Can't convert object to primitive value")}},function(H,A,h){var M=h(16),S=h(14),T=h(93)("IE_PROTO"),b=Object.prototype;H.exports=Object.getPrototypeOf||function(v){return v=S(v),M(v,T)?v[T]:"function"==typeof v.constructor&&v instanceof v.constructor?v.constructor.prototype:v instanceof Object?b:null}},function(H,A,h){var M=h(146),S=h(92).concat("length","prototype");A.f=Object.getOwnPropertyNames||function(T){return M(T,S)}},function(H,A,h){var M=h(5),S=h(145),T=h(92),b=h(93)("IE_PROTO"),v=function(){},g=function(){var _,m=h(96)("iframe"),w=T.length;for(m.style.display="none",h(90).appendChild(m),m.src="javascript:",(_=m.contentWindow.document).open(),_.write("<script>document.F=Object<\/script>"),_.close(),g=_.F;w--;)delete g.prototype[T[w]];return g()};H.exports=Object.create||function(_,m){var w;return null!==_?(v.prototype=M(_),w=new v,v.prototype=null,w[b]=_):w=g(),void 0===m?w:S(w,m)}},function(H,A,h){var M=h(24),S=Math.max,T=Math.min;H.exports=function(b,v){return(b=M(b))<0?S(b+v,0):T(b,v)}},function(H,A){var h=0,M=Math.random();H.exports=function(S){return"Symbol(".concat(void 0===S?"":S,")_",(++h+M).toString(36))}},function(H,A){H.exports=function(h,M){return{enumerable:!(1&h),configurable:!(2&h),writable:!(4&h),value:M}}},function(H,A){var h=H.exports={version:"2.5.4"};"number"==typeof __e&&(__e=h)},function(H,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.LogicOperator=A.MatchExpression=void 0;var M=function(){function g(_,m){for(var w=0;w<m.length;w++){var P=m[w];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(_,P.key,P)}}return function(_,m,w){return m&&g(_.prototype,m),w&&g(_,w),_}}(),S=h(8);function T(g,_){if(!(g instanceof _))throw new TypeError("Cannot call a class as a function")}var b=function(){function g(_,m,w){T(this,g),this._varName=_,this._condition=m,this._value=w,this._logicOp=null,this._next=null,this._parent=null,Object.seal(this)}return M(g,[{key:"and",value:function(_,m,w){return this._next=g.chainedMatchExpression(_,m,w,v.AND,this),this._next}},{key:"or",value:function(_,m,w){return this._next=g.chainedMatchExpression(_,m,w,v.OR,this),this._next}},{key:"hasNext",value:function(){return null!=this._next}},{key:"rewind",value:function(){for(var _=this;null!=_._parent;)_=_._parent;return _}},{key:"toString",value:function(){for(var _=this.rewind(),m=_.asString();_.hasNext();)m+=(_=_.next).asString();return m}},{key:"asString",value:function(){var _="";return null!=this._logicOp&&(_+=" "+this._logicOp.id+" "),_+"("+this._varName+" "+this._condition.symbol+" "+("string"==typeof this._value?"' "+this._value+" '":this._value)+")"}},{key:"toSFSArray",value:function(){var _=this.rewind(),m=new S.SFSArray;for(m.addSFSArray(_.expressionAsSFSArray());_.hasNext();)m.addSFSArray((_=_.next).expressionAsSFSArray());return m}},{key:"expressionAsSFSArray",value:function(){var _=new S.SFSArray;return null!=this._logicOp?_.addUtfString(this._logicOp.id):_.addNull(),_.addUtfString(this._varName),_.addByte(this._condition.type),_.addUtfString(this._condition.symbol),0===this._condition.type?_.addBool(this._value):1===this._condition.type?_.addDouble(this._value):_.addUtfString(this._value),_}},{key:"varName",get:function(){return this._varName}},{key:"condition",get:function(){return this._condition}},{key:"value",get:function(){return this._value}},{key:"logicOp",get:function(){return this._logicOp}},{key:"next",get:function(){return this._next}}],[{key:"chainedMatchExpression",value:function(_,m,w,P,p){var C=new g(_,m,w);return C._logicOp=P,C._parent=p,C}}]),g}(),v=function(){function g(_){T(this,g),this._id=_,Object.freeze(this)}return M(g,[{key:"id",get:function(){return this._id}}],[{key:"AND",get:function(){return new g("AND")}},{key:"OR",get:function(){return new g("OR")}}]),g}();A.MatchExpression=b,A.LogicOperator=v},function(H,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0});var M=function(){function v(g,_){for(var m=0;m<_.length;m++){var w=_[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(g,w.key,w)}}return function(g,_,m){return _&&v(g.prototype,_),m&&v(g,m),g}}(),S=function(){function v(){(function(g,_){if(!(g instanceof _))throw new TypeError("Cannot call a class as a function")})(this,v),this._listenersByEvent={}}return M(v,[{key:"addEventListener",value:function(g,_,m){this._listenersByEvent[g]||(this._listenersByEvent[g]=[]),this._listenersByEvent[g].push({callback:_,scope:m})}},{key:"removeEventListener",value:function(g,_){var m=this._listenersByEvent[g];if(m)for(var w=0;w<m.length;w++)if(m[w].callback===_){m.splice(w,1);break}}},{key:"dispatchEvent",value:function(g,_){var m=this._listenersByEvent[g];if(m){var w=!0,P=!1,p=void 0;try{for(var C,x=m[Symbol.iterator]();!(w=(C=x.next()).done);w=!0){var L=C.value;L.callback.call(L.scope,_)}}catch($){P=!0,p=$}finally{try{!w&&x.return&&x.return()}finally{if(P)throw p}}}}}]),v}(),T=Object.freeze({HANDSHAKE:"handshake",CONNECTION:"connection",CONNECTION_LOST:"connectionLost",LOGIN:"login",LOGIN_ERROR:"loginError",LOGOUT:"logout",ROOM_ADD:"roomAdd",ROOM_CREATION_ERROR:"roomCreationError",ROOM_REMOVE:"roomRemove",ROOM_JOIN:"roomJoin",ROOM_JOIN_ERROR:"roomJoinError",USER_ENTER_ROOM:"userEnterRoom",USER_EXIT_ROOM:"userExitRoom",USER_COUNT_CHANGE:"userCountChange",PROXIMITY_LIST_UPDATE:"proximityListUpdate",PLAYER_TO_SPECTATOR:"playerToSpectator",PLAYER_TO_SPECTATOR_ERROR:"playerToSpectatorError",SPECTATOR_TO_PLAYER:"spectatorToPlayer",SPECTATOR_TO_PLAYER_ERROR:"spectatorToPlayerError",ROOM_NAME_CHANGE:"roomNameChange",ROOM_NAME_CHANGE_ERROR:"roomNameChangeError",ROOM_PASSWORD_STATE_CHANGE:"roomPasswordStateChange",ROOM_PASSWORD_STATE_CHANGE_ERROR:"roomPasswordStateChangeError",ROOM_CAPACITY_CHANGE:"roomCapacityChange",ROOM_CAPACITY_CHANGE_ERROR:"roomCapacityChangeError",PUBLIC_MESSAGE:"publicMessage",PRIVATE_MESSAGE:"privateMessage",OBJECT_MESSAGE:"objectMessage",MODERATOR_MESSAGE:"moderatorMessage",ADMIN_MESSAGE:"adminMessage",EXTENSION_RESPONSE:"extensionResponse",ROOM_VARIABLES_UPDATE:"roomVariablesUpdate",USER_VARIABLES_UPDATE:"userVariablesUpdate",MMOITEM_VARIABLES_UPDATE:"mmoItemVariablesUpdate",ROOM_GROUP_SUBSCRIBE:"roomGroupSubscribe",ROOM_GROUP_SUBSCRIBE_ERROR:"roomGroupSubscribeError",ROOM_GROUP_UNSUBSCRIBE:"roomGroupUnsubscribe",ROOM_GROUP_UNSUBSCRIBE_ERROR:"roomGroupUnsubscribeError",ROOM_FIND_RESULT:"roomFindResult",USER_FIND_RESULT:"userFindResult",INVITATION:"invitation",INVITATION_REPLY:"invitationReply",INVITATION_REPLY_ERROR:"invitationReplyError",PING_PONG:"pingPong",SOCKET_ERROR:"socketError"}),b=Object.freeze({BUDDY_LIST_INIT:"buddyListInit",BUDDY_ADD:"buddyAdd",BUDDY_REMOVE:"buddyRemove",BUDDY_BLOCK:"buddyBlock",BUDDY_ERROR:"buddyError",BUDDY_ONLINE_STATE_CHANGE:"buddyOnlineStateChange",BUDDY_VARIABLES_UPDATE:"buddyVariablesUpdate",BUDDY_MESSAGE:"buddyMessage"});A.EventDispatcher=S,A.SFSEvent=T,A.SFSBuddyEvent=b},function(H,A,h){var M=h(4);H.exports=function(S,T){if(!M(S)||S._t!==T)throw TypeError("Incompatible receiver, "+T+" required!");return S}},function(H,A,h){var M=h(15);H.exports=function(S,T,b){for(var v in T)M(S,v,T[v],b);return S}},function(H,A){H.exports=function(h,M,S,T){if(!(h instanceof M)||void 0!==T&&T in h)throw TypeError(S+": incorrect invocation!");return h}},function(H,A,h){"use strict";var M=h(6),S=h(10),T=h(11),b=h(7)("species");H.exports=function(v){var g=M[v];T&&g&&!g[b]&&S.f(g,b,{configurable:!0,get:function(){return this}})}},function(H,A){H.exports=!1},function(H,A,h){var M=h(10).f,S=h(16),T=h(7)("toStringTag");H.exports=function(b,v,g){b&&!S(b=g?b:b.prototype,T)&&M(b,T,{configurable:!0,value:v})}},function(H,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.SFSBuddyVariable=A.ReservedBuddyVariables=void 0;var M=function(){function v(g,_){for(var m=0;m<_.length;m++){var w=_[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(g,w.key,w)}}return function(g,_,m){return _&&v(g.prototype,_),m&&v(g,m),g}}(),S=h(48),T=Object.freeze({BV_ONLINE:"$__BV_ONLINE__",BV_STATE:"$__BV_STATE__",BV_NICKNAME:"$__BV_NICKNAME__"}),b=function(v){function g(_,m){var w=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;!function(p,C){if(!(p instanceof C))throw new TypeError("Cannot call a class as a function")}(this,g);var P=function(p,C){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!C||"object"!=typeof C&&"function"!=typeof C?p:C}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,_,m,w));return Object.freeze(P),P}return function(_,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(_,m):_.__proto__=m)}(g,S.BaseVariable),M(g,null,[{key:"OFFLINE_PREFIX",get:function(){return"$"}}]),M(g,[{key:"toString",value:function(){return"[BuddyVar: "+this.name+", Type: "+this.type+", Value: "+this.value+"]"}},{key:"isOffline",get:function(){return this._name.charAt(0)===g.OFFLINE_PREFIX}}],[{key:"fromSFSArray",value:function(_){return new g(_.get(0),_.get(2),_.get(1))}}]),g}();A.ReservedBuddyVariables=T,A.SFSBuddyVariable=b},function(H,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.UserPrivileges=A.SFSUser=void 0;var M=function(){function g(_,m){for(var w=0;w<m.length;w++){var P=m[w];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(_,P.key,P)}}return function(_,m,w){return m&&g(_.prototype,m),w&&g(_,w),_}}(),S=h(59),T=h(1),b=function(){function g(_,m){var w=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(function(P,p){if(!(P instanceof p))throw new TypeError("Cannot call a class as a function")})(this,g),this._id=_,this._name=m,this._isItMe=w,this._privilegeId=0,this._aoiEntryPoint=null,this._variables=new Map,this._playerIdByRoomId=new Map,this._userManager=null,this.properties={},Object.seal(this)}return M(g,[{key:"toString",value:function(){return"[User: "+this.name+", Id: "+this.id+", Is me: "+this.isItMe+"]"}},{key:"isJoinedInRoom",value:function(_){return _.containsUser(this)}},{key:"getPlayerId",value:function(_){var m=this._playerIdByRoomId.get(_.id);return null!=m?m:0}},{key:"isPlayerInRoom",value:function(_){return!!_.isGame&&this.getPlayerId(_)>0}},{key:"isSpectatorInRoom",value:function(_){return!!_.isGame&&this.getPlayerId(_)<0}},{key:"getVariable",value:function(_){return this._variables.get(_)}},{key:"containsVariable",value:function(_){return this._variables.has(_)}},{key:"getVariables",value:function(){return Array.from(this._variables.values())}},{key:"getUserManager",value:function(){return this._userManager}},{key:"_setPlayerId",value:function(_,m){this._playerIdByRoomId.set(m.id,_)}},{key:"_removePlayerId",value:function(_){this._playerIdByRoomId.delete(_.id)}},{key:"_setVariables",value:function(_){var m=!0,w=!1,P=void 0;try{for(var p,C=_[Symbol.iterator]();!(m=(p=C.next()).done);m=!0)this._setVariable(p.value)}catch(L){w=!0,P=L}finally{try{!m&&C.return&&C.return()}finally{if(w)throw P}}}},{key:"_setVariable",value:function(_){_.isNull?this._variables.delete(_.name):this._variables.set(_.name,_)}},{key:"_setUserManager",value:function(_){if(null!=this._userManager)throw new T.SFSError("User Manager already assigned to user "+this.toString());this._userManager=_}},{key:"id",get:function(){return this._id}},{key:"name",get:function(){return this._name}},{key:"isItMe",get:function(){return this._isItMe}},{key:"privilegeId",get:function(){return this._privilegeId}},{key:"aoiEntryPoint",get:function(){return this._aoiEntryPoint}},{key:"isGuest",get:function(){return this._privilegeId===v.GUEST}},{key:"isStandardUser",get:function(){return this._privilegeId===v.STANDARD}},{key:"isModerator",get:function(){return this._privilegeId===v.MODERATOR}},{key:"isAdmin",get:function(){return this.privilegeId===v.ADMINISTRATOR}},{key:"isPlayer",get:function(){return this.isPlayerInRoom(this._userManager._sfs.lastJoinedRoom)}},{key:"isSpectator",get:function(){return this.isSpectatorInRoom(this._userManager._sfs.lastJoinedRoom)}}],[{key:"fromSFSArray",value:function(_){var m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,w=new g(_.get(0),_.get(1));w._privilegeId=_.get(2),null!=m&&w._setPlayerId(_.get(3),m);var P=_.get(4);if(null!=P)for(var p=0;p<P.size();p++)w._setVariable(S.SFSUserVariable.fromSFSArray(P.get(p)));return w}}]),g}(),v=Object.freeze({GUEST:0,STANDARD:1,MODERATOR:2,ADMINISTRATOR:3});A.SFSUser=b,A.UserPrivileges=v},function(H,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.BaseVariable=A.VariableType=void 0;var M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},S=function(){function g(_,m){for(var w=0;w<m.length;w++){var P=m[w];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(_,P.key,P)}}return function(_,m,w){return m&&g(_.prototype,m),w&&g(_,w),_}}(),T=h(8),b=Object.freeze({NULL:0,BOOLEAN:1,INT:2,DOUBLE:3,STRING:4,SFSOBJECT:5,SFSARRAY:6,getTypeName:function(g){return["null","boolean","int","double","string","SFSObject","SFSArray"][g]}}),v=function(){function g(_,m){var w=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;(function(P,p){if(!(P instanceof p))throw new TypeError("Cannot call a class as a function")})(this,g),this._name=_,this._value=m,this._type=w>-1?w:this._evalType()}return S(g,[{key:"toSFSArray",value:function(){var _=new T.SFSArray;return _.addUtfString(this.name),_.addByte(this._type),this._populateArrayWithValue(_),_}},{key:"_populateArrayWithValue",value:function(_){switch(this._type){case b.NULL:_.addNull();break;case b.BOOLEAN:_.addBool(this.value);break;case b.INT:_.addInt(this.value);break;case b.DOUBLE:_.addDouble(this.value);break;case b.STRING:_.addUtfString(this.value);break;case b.SFSOBJECT:_.addSFSObject(this.value);break;case b.SFSARRAY:_.addSFSArray(this.value)}}},{key:"_evalType",value:function(){if(null==this._value)return b.NULL;var _=M(this._value);if("boolean"===_)return b.BOOLEAN;if("number"===_){var m=this._value;return m===+m&&m===(0|m)?b.INT:b.DOUBLE}return"string"===_?b.STRING:"object"===_?this._value instanceof T.SFSArray?b.SFSARRAY:b.SFSOBJECT:void 0}},{key:"name",get:function(){return this._name}},{key:"value",get:function(){return this._value}},{key:"type",get:function(){return b.getTypeName(this._type)}},{key:"isNull",get:function(){return this._type===b.NULL}}]),g}();A.VariableType=b,A.BaseVariable=v},function(H,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.SFSRoomVariable=A.ReservedRoomVariables=void 0;var M=function(){function v(g,_){for(var m=0;m<_.length;m++){var w=_[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(g,w.key,w)}}return function(g,_,m){return _&&v(g.prototype,_),m&&v(g,m),g}}(),S=h(48),T=Object.freeze({RV_GAME_STARTED:"$GS"}),b=function(v){function g(_,m){var w=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;!function(p,C){if(!(p instanceof C))throw new TypeError("Cannot call a class as a function")}(this,g);var P=function(p,C){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!C||"object"!=typeof C&&"function"!=typeof C?p:C}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,_,m,w));return P.isPrivate=!1,P.isPersistent=!1,Object.seal(P),P}return function(_,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(_,m):_.__proto__=m)}(g,S.BaseVariable),M(g,[{key:"toString",value:function(){return"[RoomVar: "+this.name+", Type: "+this.type+", Value: "+this.value+", Private: "+this.isPrivate+"]"}},{key:"toSFSArray",value:function(){var _=function m(w,P,p){null===w&&(w=Function.prototype);var C=Object.getOwnPropertyDescriptor(w,P);if(void 0===C){var x=Object.getPrototypeOf(w);return null===x?void 0:m(x,P,p)}if("value"in C)return C.value;var L=C.get;return void 0!==L?L.call(p):void 0}(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"toSFSArray",this).call(this);return _.addBool(this.isPrivate),_.addBool(this.isPersistent),_}}],[{key:"fromSFSArray",value:function(_){var m=new g(_.get(0),_.get(2),_.get(1));return m.isPrivate=_.get(3),m.isPersistent=_.get(4),m}}]),g}();A.ReservedRoomVariables=T,A.SFSRoomVariable=b},function(H,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.LoggerEvent=A.Logger=A.LogLevel=void 0;var M=function(){function m(w,P){for(var p=0;p<P.length;p++){var C=P[p];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(w,C.key,C)}}return function(w,P,p){return P&&m(w.prototype,P),p&&m(w,p),w}}(),S=h(39),T=Object.freeze({DEBUG:0,INFO:1,WARN:2,ERROR:3,toString:function(m){return m===this.DEBUG?"DEBUG":m===this.INFO?"INFO":m===this.WARN?"WARN":m===this.ERROR?"ERROR":void 0}}),b=Object.freeze({DEBUG:"debug",INFO:"info",WARNING:"warn",ERROR:"error"}),v=Symbol(),g=Symbol(),_=function(m){function w(P){!function(C,x){if(!(C instanceof x))throw new TypeError("Cannot call a class as a function")}(this,w);var p=function(C,x){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!x||"object"!=typeof x&&"function"!=typeof x?C:x}(this,(w.__proto__||Object.getPrototypeOf(w)).call(this));if(P!==g)throw"Logger is a singleton class; you can't instantiate it";return p._enableConsoleOutput=void 0!==console,p._enableEventDispatching=!1,p._level=T.INFO,p._useBasicLog=!0,void 0!==console&&(p._useBasicLog="function"!=typeof console.debug||"function"!=typeof console.info||"function"!=typeof console.warn||"function"!=typeof console.error),p}return function(P,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function, not "+typeof p);P.prototype=Object.create(p&&p.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(P,p):P.__proto__=p)}(w,S.EventDispatcher),M(w,[{key:"log",value:function(P){for(var p=this,C=arguments.length,x=Array(C>1?C-1:0),L=1;L<C;L++)x[L-1]=arguments[L];if(this.isValidLevel(P)&&P>=this._level){if(this._enableConsoleOutput){var $=function(X,re){p._useBasicLog&&(re=function(ie){console.log(ie)}),re("[ SFS2X | "+X+" ] "+x.join(" "))};switch(P){case T.DEBUG:$("DEBUG",function(X){console.debug(X)});break;case T.INFO:$("INFO",function(X){console.info(X)});break;case T.WARN:$("WARN",function(X){console.warn(X)});break;case T.ERROR:$("ERROR",function(X){console.error(X)})}}this._enableEventDispatching&&this.dispatchEvent(T.toString(P).toLowerCase(),{message:x.join(" ")})}}},{key:"debug",value:function(){for(var P=arguments.length,p=Array(P),C=0;C<P;C++)p[C]=arguments[C];this.log(T.DEBUG,p)}},{key:"info",value:function(){for(var P=arguments.length,p=Array(P),C=0;C<P;C++)p[C]=arguments[C];this.log(T.INFO,p)}},{key:"warn",value:function(){for(var P=arguments.length,p=Array(P),C=0;C<P;C++)p[C]=arguments[C];this.log(T.WARN,p)}},{key:"error",value:function(){for(var P=arguments.length,p=Array(P),C=0;C<P;C++)p[C]=arguments[C];this.log(T.ERROR,p)}},{key:"isValidLevel",value:function(P){if(!Number.isInteger(P)||P<T.DEBUG||P>T.ERROR)throw"Logging level must be set to a valid value (see LogLevel class)";return!0}},{key:"level",set:function(P){this.isValidLevel(P)&&(this._level=P)},get:function(){return this._level}},{key:"enableConsoleOutput",set:function(P){void 0!==console&&(this._enableConsoleOutput=P)},get:function(){return this._enableConsoleOutput}},{key:"enableEventDispatching",set:function(P){this._enableEventDispatching=P},get:function(){return this._enableEventDispatching}}],[{key:"instance",get:function(){return this[v]||(this[v]=new w(g)),Object.seal(this[v])}}]),w}();A.LogLevel=T,A.Logger=_,A.LoggerEvent=b},function(H,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0});var M=function(){function b(v,g){for(var _=0;_<g.length;_++){var m=g[_];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(v,m.key,m)}}return function(v,g,_){return g&&b(v.prototype,g),_&&b(v,_),v}}(),S=Object.freeze({IDLE:"idle",KICK:"kick",BAN:"ban",MANUAL:"manual",UNKNOWN:"unknown",getReason:function(b){switch(b){case 0:return this.IDLE;case 1:return this.KICK;case 2:return this.BAN;case 3:return this.MANUAL;case 4:return this.UNKNOWN}}}),T=function(){function b(){!function(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}(this,b)}return M(b,null,[{key:"prettyPrintByteArray",value:function(v){return null==v?"Null":v.length<32?v.toString():"Byte["+v.length+"]"}},{key:"prettyPrintDump",value:function(v){for(var g="",_=0,m=0;m<v.length;m++){var w=v.charAt(m);if(w==this.TOKEN_INDENT_OPEN)_++,g+=this.NEW_LINE+this.getFormatTabs(_);else if(w==this.TOKEN_INDENT_CLOSE){if(--_<0)throw"DumpFormatter: the indentPos is negative. TOKENS ARE NOT BALANCED!";g+=this.NEW_LINE+this.getFormatTabs(_)}else g+=w==this.TOKEN_DIVIDER?this.NEW_LINE+this.getFormatTabs(_):w}if(0!=_)throw"DumpFormatter: the indentPos is not === 0 ("+_+"). TOKENS ARE NOT BALANCED!";return g}},{key:"getFormatTabs",value:function(v){return this.strFill(this.TAB,v)}},{key:"strFill",value:function(v,g){for(var _="",m=0;m<g;m++)_+=v;return _}},{key:"hexDump",value:function(v){var g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;-1===g&&(g=this.HEX_BYTES_PER_LINE);var _="Binary size: "+v.byteLength+this.NEW_LINE,m="",w="",P=0,p=0,C=null;do{var x=(C=v[P]).toString(16).toUpperCase();1===x.length&&(x="0"+x),m+=x+" ",w+=C>=33&&C<=126?String.fromCharCode(C):this.DOT,++p===g&&(p=0,_+=m+this.TAB+w+this.NEW_LINE,m="",w="")}while(++P<v.length);if(0!==p){for(var L=g-p;L>0;--L)m+="   ",w+=" ";_+=m+this.TAB+w+this.NEW_LINE}return _}},{key:"TOKEN_INDENT_OPEN",get:function(){return"{"}},{key:"TOKEN_INDENT_CLOSE",get:function(){return"}"}},{key:"TOKEN_DIVIDER",get:function(){return";"}},{key:"NEW_LINE",get:function(){return"\n"}},{key:"TAB",get:function(){return"\t"}},{key:"DOT",get:function(){return"."}},{key:"HEX_BYTES_PER_LINE",get:function(){return 16}}]),b}();A.ClientDisconnectionReason=S,A.DumpFormatter=T},function(H,A,h){var M=h(7)("unscopables"),S=Array.prototype;null==S[M]&&h(18)(S,M,{}),H.exports=function(T){S[M][T]=!0}},function(H,A){H.exports={}},function(H,A,h){var M=h(25);H.exports=Object("z").propertyIsEnumerable(0)?Object:function(S){return"String"==M(S)?S.split(""):Object(S)}},function(H,A,h){var M=h(146),S=h(92);H.exports=Object.keys||function(T){return M(T,S)}},function(H,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.MessageRecipientMode=A.BanMode=A.MapLimits=A.RoomExtension=A.RoomEvents=A.RoomPermissions=A.MMORoomSettings=A.SFSGameSettings=A.RoomSettings=void 0;var M=function(){function p(C,x){for(var L=0;L<x.length;L++){var $=x[L];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(C,$.key,$)}}return function(C,x,L){return x&&p(C.prototype,x),L&&p(C,L),C}}(),S=h(1);function T(p,C){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!C||"object"!=typeof C&&"function"!=typeof C?p:C}function b(p,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function, not "+typeof C);p.prototype=Object.create(C&&C.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(p,C):p.__proto__=C)}function v(p,C){if(!(p instanceof C))throw new TypeError("Cannot call a class as a function")}var g=function p(C){v(this,p),this.name=C,this.password="",this.groupId="default",this.isGame=!1,this.maxUsers=10,this.maxSpectators=0,this.maxVariables=5,this.variables=[],this.permissions=null,this.events=null,this.extension=null,this.allowOwnerOnlyInvitation=!0},_=function(p){function C(x){v(this,C);var L=T(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,x));return L.isPublic=!0,L.minPlayersToStartGame=2,L.invitedPlayers=null,L.searchableRooms=null,L.invitationExpiryTime=15,L.leaveLastJoinedRoom=!0,L.notifyGameStarted=!1,L.playerMatchExpression=null,L.spectatorMatchExpression=null,L.invitationParams=null,Object.seal(L),L}return b(C,g),C}(),m=function(p){function C(x,L){v(this,C);var $=T(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,x));return $.defaultAOI=L,$.mapLimits=null,$.userMaxLimboSeconds=50,$.proximityListUpdateMillis=250,$.sendAOIEntryPoint=!0,Object.seal($),$}return b(C,g),C}(),w=Object.freeze({BY_ADDRESS:0,BY_NAME:1}),P=function(){function p(C,x){if(v(this,p),C<p.TO_USER||C>p.TO_ZONE)throw new S.SFSError("Illegal recipient mode: "+C);this._mode=C,this._target=x,Object.freeze(this)}return M(p,null,[{key:"TO_USER",get:function(){return 0}},{key:"TO_ROOM",get:function(){return 1}},{key:"TO_GROUP",get:function(){return 2}},{key:"TO_ZONE",get:function(){return 3}}]),M(p,[{key:"mode",get:function(){return this._mode}},{key:"target",get:function(){return this._target}}]),p}();A.RoomSettings=g,A.SFSGameSettings=_,A.MMORoomSettings=m,A.RoomPermissions=function p(){v(this,p),this.allowNameChange=!1,this.allowPasswordStateChange=!1,this.allowPublicMessages=!0,this.allowResizing=!1,Object.seal(this)},A.RoomEvents=function p(){v(this,p),this.allowUserCountChange=!1,this.allowUserEnter=!1,this.allowUserExit=!1,this.allowUserVariablesUpdate=!1,Object.seal(this)},A.RoomExtension=function p(C,x){v(this,p),this.id=C,this.className=x,this.propertiesFile="",Object.seal(this)},A.MapLimits=function p(C,x){if(v(this,p),null==C||null==x)throw new S.SFSError("Map limits arguments must be both non null!");this.lowerLimit=C,this.higherLimit=x,Object.seal(this)},A.BanMode=w,A.MessageRecipientMode=P},function(H,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.CreateRoomRequest=void 0;var M=function(){function w(P,p){for(var C=0;C<p.length;C++){var x=p[C];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(P,x.key,x)}}return function(P,p,C){return p&&w(P.prototype,p),C&&w(P,C),P}}(),S=h(2),T=h(1),b=h(56),v=h(8),g=h(9),_=h(49),m=function(w){function P(p){var C=arguments.length>1&&void 0!==arguments[1]&&arguments[1],x=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function($,X){if(!($ instanceof X))throw new TypeError("Cannot call a class as a function")}(this,P);var L=function($,X){if(!$)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!X||"object"!=typeof X&&"function"!=typeof X?$:X}(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,S.Requests.CreateRoom));return L._settings=p,L._autoJoin=C,L._roomToLeave=x,Object.seal(L),L}return function(p,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function, not "+typeof C);p.prototype=Object.create(C&&C.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(p,C):p.__proto__=C)}(P,S.BaseRequest),M(P,null,[{key:"KEY_ROOM",get:function(){return"r"}},{key:"KEY_NAME",get:function(){return"n"}},{key:"KEY_PASSWORD",get:function(){return"p"}},{key:"KEY_GROUP_ID",get:function(){return"g"}},{key:"KEY_ISGAME",get:function(){return"ig"}},{key:"KEY_MAXUSERS",get:function(){return"mu"}},{key:"KEY_MAXSPECTATORS",get:function(){return"ms"}},{key:"KEY_MAXVARS",get:function(){return"mv"}},{key:"KEY_ROOMVARS",get:function(){return"rv"}},{key:"KEY_PERMISSIONS",get:function(){return"pm"}},{key:"KEY_EVENTS",get:function(){return"ev"}},{key:"KEY_EXTID",get:function(){return"xn"}},{key:"KEY_EXTCLASS",get:function(){return"xc"}},{key:"KEY_EXTPROP",get:function(){return"xp"}},{key:"KEY_AUTOJOIN",get:function(){return"aj"}},{key:"KEY_ROOM_TO_LEAVE",get:function(){return"rl"}},{key:"KEY_ALLOW_JOIN_INVITATION_BY_OWNER",get:function(){return"aji"}},{key:"KEY_MMO_DEFAULT_AOI",get:function(){return"maoi"}},{key:"KEY_MMO_MAP_LOW_LIMIT",get:function(){return"mllm"}},{key:"KEY_MMO_MAP_HIGH_LIMIT",get:function(){return"mlhm"}},{key:"KEY_MMO_USER_MAX_LIMBO_SECONDS",get:function(){return"muls"}},{key:"KEY_MMO_PROXIMITY_UPDATE_MILLIS",get:function(){return"mpum"}},{key:"KEY_MMO_SEND_ENTRY_POINT",get:function(){return"msep"}}]),M(P,[{key:"validate",value:function(p){if(!(this._settings instanceof b.RoomSettings))throw new T.SFSValidationError("CreateRoomRequest Error",["Room configuration must be an instance of RoomSettings class"]);var C=[];if(null!=this._settings.name&&0!==this._settings.name.length||C.push("Missing Room name"),this._settings.maxUsers<=0&&C.push("Max number of users must be > 0"),this._settings.maxSpectators<0&&C.push("Max number of spectators must be >= 0"),this._settings.maxVariables<0&&C.push("Max number of Room Variables must be >= 0"),null!=this._settings.variables&&(this._settings.variables instanceof Array?this._settings.variables.every(function(x){return x instanceof _.SFSRoomVariable})||C.push("Each Room Variable must be an instance of SFSRoomVariable class"):C.push("Room Variables must be passed in an array")),null==this._settings.permissions||this._settings.permissions instanceof b.RoomPermissions||C.push("Allowed room permissions must be an instance of RoomPermissions class"),null==this._settings.events||this._settings.events instanceof b.RoomEvents||C.push("Allowed room events must be an instance of RoomEvents class"),null!=this._settings.extension&&(this._settings.extension instanceof b.RoomExtension?(null!=this._settings.extension.className&&0!==this._settings.extension.className.length||C.push("Missing Room Extension class name"),null!=this._settings.extension.id&&0!==this._settings.extension.id.length||C.push("Missing Room Extension id")):C.push("Room Extension settings must be an instance of RoomExtension class")),this._settings instanceof b.MMORoomSettings&&(null==this._settings.defaultAOI&&C.push("Missing MMORoom's default AoI (Area of Interest)"),this._settings.defaultAOI instanceof v.Vec3D||C.push("MMORoom's AoI (Area of Interest) must be an instance of Vec3D class"),null!=this._settings.mapLimits&&(this._settings.mapLimits instanceof b.MapLimits?(null!=this._settings.mapLimits.lowerLimit&&null!=this._settings.mapLimits.higherLimit||C.push("MMORoom's lower and higher map limits must be both set"),this._settings.mapLimits.lowerLimit instanceof v.Vec3D&&this._settings.mapLimits.higherLimit instanceof v.Vec3D||C.push("MMORoom's lower and higher map limits must be both instances of Vec3D class")):C.push("MMORoom's map limits must be set in an instance of MapLimits class"))),null==this._roomToLeave||this._roomToLeave instanceof g.SFSRoom||C.push("Room to leave must be an instance of SFSRoom class"),C.length>0)throw new T.SFSValidationError("CreateRoomRequest Error",C)}},{key:"execute",value:function(p){if(this._reqObj.putUtfString(P.KEY_NAME,this._settings.name),this._reqObj.putUtfString(P.KEY_GROUP_ID,this._settings.groupId),this._reqObj.putUtfString(P.KEY_PASSWORD,this._settings.password),this._reqObj.putBool(P.KEY_ISGAME,this._settings.isGame),this._reqObj.putShort(P.KEY_MAXUSERS,this._settings.maxUsers),this._reqObj.putShort(P.KEY_MAXSPECTATORS,this._settings.maxSpectators),this._reqObj.putShort(P.KEY_MAXVARS,this._settings.maxVariables),this._reqObj.putBool(P.KEY_ALLOW_JOIN_INVITATION_BY_OWNER,this._settings.allowOwnerOnlyInvitation),null!=this._settings.variables&&this._settings.variables.length>0){var C=new v.SFSArray,x=!0,L=!1,$=void 0;try{for(var X,re=this._settings.variables[Symbol.iterator]();!(x=(X=re.next()).done);x=!0)C.addSFSArray(X.value.toSFSArray())}catch(q){L=!0,$=q}finally{try{!x&&re.return&&re.return()}finally{if(L)throw $}}this._reqObj.putSFSArray(P.KEY_ROOMVARS,C)}if(null!=this._settings.permissions){var ee=[];ee.push(this._settings.permissions.allowNameChange),ee.push(this._settings.permissions.allowPasswordStateChange),ee.push(this._settings.permissions.allowPublicMessages),ee.push(this._settings.permissions.allowResizing),this._reqObj.putBoolArray(P.KEY_PERMISSIONS,ee)}if(null!=this._settings.events){var V=[];V.push(this._settings.events.allowUserEnter),V.push(this._settings.events.allowUserExit),V.push(this._settings.events.allowUserCountChange),V.push(this._settings.events.allowUserVariablesUpdate),this._reqObj.putBoolArray(P.KEY_EVENTS,V)}null!=this._settings.extension&&(this._reqObj.putUtfString(P.KEY_EXTID,this._settings.extension.id),this._reqObj.putUtfString(P.KEY_EXTCLASS,this._settings.extension.className),null!=this._settings.extension.propertiesFile&&this._settings.extension.propertiesFile.length>0&&this._reqObj.putUtfString(P.KEY_EXTPROP,this._settings.extension.propertiesFile)),this._settings instanceof b.MMORoomSettings&&(this._settings.defaultAOI.isFloat?(this._reqObj.putFloatArray(P.KEY_MMO_DEFAULT_AOI,this._settings.defaultAOI.toArray()),null!=this._settings.mapLimits&&(this._reqObj.putFloatArray(P.KEY_MMO_MAP_LOW_LIMIT,this._settings.mapLimits.lowerLimit.toArray()),this._reqObj.putFloatArray(P.KEY_MMO_MAP_HIGH_LIMIT,this._settings.mapLimits.higherLimit.toArray()))):(this._reqObj.putIntArray(P.KEY_MMO_DEFAULT_AOI,this._settings.defaultAOI.toArray()),null!=this._settings.mapLimits&&(this._reqObj.putIntArray(P.KEY_MMO_MAP_LOW_LIMIT,this._settings.mapLimits.lowerLimit.toArray()),this._reqObj.putIntArray(P.KEY_MMO_MAP_HIGH_LIMIT,this._settings.mapLimits.higherLimit.toArray()))),this._reqObj.putShort(P.KEY_MMO_USER_MAX_LIMBO_SECONDS,this._settings.userMaxLimboSeconds),this._reqObj.putShort(P.KEY_MMO_PROXIMITY_UPDATE_MILLIS,this._settings.proximityListUpdateMillis),this._reqObj.putBool(P.KEY_MMO_SEND_ENTRY_POINT,this._settings.sendAOIEntryPoint)),this._reqObj.putBool(P.KEY_AUTOJOIN,this._autoJoin),null!=this._roomToLeave&&this._reqObj.putInt(P.KEY_ROOM_TO_LEAVE,this._roomToLeave.id)}}]),P}();A.CreateRoomRequest=m},function(H,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.BuddyOnlineState=A.SFSBuddy=void 0;var M=function(){function v(g,_){for(var m=0;m<_.length;m++){var w=_[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(g,w.key,w)}}return function(g,_,m){return _&&v(g.prototype,_),m&&v(g,m),g}}(),S=h(46),T=function(){function v(g,_){var m=arguments.length>2&&void 0!==arguments[2]&&arguments[2],w=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(function(P,p){if(!(P instanceof p))throw new TypeError("Cannot call a class as a function")})(this,v),this._id=g,this._name=_,this._isBlocked=m,this._isTemp=w,this._variables=new Map,Object.seal(this)}return M(v,[{key:"toString",value:function(){return"[Buddy: "+this.name+", Id: "+this.id+"]"}},{key:"getVariable",value:function(g){return this._variables.get(g)}},{key:"containsVariable",value:function(g){return this._variables.has(g)}},{key:"getVariables",value:function(){return Array.from(this._variables.values())}},{key:"getOfflineVariables",value:function(){return this.getVariables().filter(function(g){return g.name.charAt(0)===S.SFSBuddyVariable.OFFLINE_PREFIX})}},{key:"getOnlineVariables",value:function(){return this.getVariables().filter(function(g){return g.name.charAt(0)!==S.SFSBuddyVariable.OFFLINE_PREFIX})}},{key:"_setVariables",value:function(g){var _=!0,m=!1,w=void 0;try{for(var P,p=g[Symbol.iterator]();!(_=(P=p.next()).done);_=!0)this._setVariable(P.value)}catch(x){m=!0,w=x}finally{try{!_&&p.return&&p.return()}finally{if(m)throw w}}}},{key:"_setVariable",value:function(g){g.isNull?this._variables.delete(g.name):this._variables.set(g.name,g)}},{key:"_removeVariable",value:function(g){this._variables.delete(g)}},{key:"_clearVolatileVariables",value:function(){var g=!0,_=!1,m=void 0;try{for(var w,P=this.getOnlineVariables()[Symbol.iterator]();!(g=(w=P.next()).done);g=!0)this._removeVariable(w.value.name)}catch(C){_=!0,m=C}finally{try{!g&&P.return&&P.return()}finally{if(_)throw m}}}},{key:"id",get:function(){return this._id}},{key:"name",get:function(){return this._name}},{key:"isBlocked",get:function(){return this._isBlocked}},{key:"isTemp",get:function(){return this._isTemp}},{key:"isOnline",get:function(){var g=!0;return this.containsVariable(S.ReservedBuddyVariables.BV_ONLINE)&&(g=this.getVariable(S.ReservedBuddyVariables.BV_ONLINE).value),g&&this._id>-1}},{key:"state",get:function(){return this.containsVariable(S.ReservedBuddyVariables.BV_STATE)?this.getVariable(S.ReservedBuddyVariables.BV_STATE).value:null}},{key:"nickName",get:function(){return this.containsVariable(S.ReservedBuddyVariables.BV_NICKNAME)?this.getVariable(S.ReservedBuddyVariables.BV_NICKNAME).value:null}}],[{key:"fromSFSArray",value:function(g){var _=new v(g.get(0),g.get(1),g.get(2),g.size()>3&&g.get(4)),m=g.get(3);if(null!=m)for(var w=0;w<m.size();w++)_._setVariable(S.SFSBuddyVariable.fromSFSArray(m.get(w)));return _}}]),v}(),b=Object.freeze({ONLINE:0,OFFLINE:1,LEFT_THE_SERVER:2});A.SFSBuddy=T,A.BuddyOnlineState=b},function(H,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.SFSUserVariable=void 0;var M=function(){function b(v,g){for(var _=0;_<g.length;_++){var m=g[_];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(v,m.key,m)}}return function(v,g,_){return g&&b(v.prototype,g),_&&b(v,_),v}}(),S=h(48),T=function(b){function v(g,_){var m=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;!function(P,p){if(!(P instanceof p))throw new TypeError("Cannot call a class as a function")}(this,v);var w=function(P,p){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!p||"object"!=typeof p&&"function"!=typeof p?P:p}(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,g,_,m));return w.isPrivate=!1,Object.seal(w),w}return function(g,_){if("function"!=typeof _&&null!==_)throw new TypeError("Super expression must either be null or a function, not "+typeof _);g.prototype=Object.create(_&&_.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(g,_):g.__proto__=_)}(v,S.BaseVariable),M(v,[{key:"toString",value:function(){return"[UserVar: "+this.name+", Type: "+this.type+", Value: "+this.value+", Private: "+this.isPrivate+"]"}},{key:"toSFSArray",value:function(){var g=function _(m,w,P){null===m&&(m=Function.prototype);var p=Object.getOwnPropertyDescriptor(m,w);if(void 0===p){var C=Object.getPrototypeOf(m);return null===C?void 0:_(C,w,P)}if("value"in p)return p.value;var x=p.get;return void 0!==x?x.call(P):void 0}(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"toSFSArray",this).call(this);return g.addBool(this.isPrivate),g}}],[{key:"fromSFSArray",value:function(g){var _=new v(g.get(0),g.get(2),g.get(1));return g.size()>3&&(_.isPrivate=g.get(3)),_}}]),v}();A.SFSUserVariable=T},function(H,A,h){for(var M,S=h(6),T=h(18),b=h(35),v=b("typed_array"),g=b("view"),_=!(!S.ArrayBuffer||!S.DataView),m=_,w=0,P="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");w<9;)(M=S[P[w++]])?(T(M.prototype,v,!0),T(M.prototype,g,!0)):m=!1;H.exports={ABV:_,CONSTR:m,TYPED:v,VIEW:g}},function(H,A,h){"use strict";var M=h(6),S=h(0),T=h(15),b=h(41),v=h(29),g=h(62),_=h(42),m=h(4),w=h(3),P=h(64),p=h(45),C=h(87);H.exports=function(x,L,$,X,re,ie){var ee=M[x],V=ee,q=re?"set":"add",le=V&&V.prototype,Q={},ce=function(oe){var Se=le[oe];T(le,oe,"delete"==oe||"has"==oe?function(he){return!(ie&&!m(he))&&Se.call(this,0===he?0:he)}:"get"==oe?function(he){return ie&&!m(he)?void 0:Se.call(this,0===he?0:he)}:"add"==oe?function(he){return Se.call(this,0===he?0:he),this}:function(he,We){return Se.call(this,0===he?0:he,We),this})};if("function"==typeof V&&(ie||le.forEach&&!w(function(){(new V).entries().next()}))){var se=new V,we=se[q](ie?{}:-0,1)!=se,Ue=w(function(){se.has(1)}),ke=P(function(oe){new V(oe)}),Fe=!ie&&w(function(){for(var oe=new V,Se=5;Se--;)oe[q](Se,Se);return!oe.has(-0)});ke||((V=L(function(oe,Se){_(oe,V,x);var he=C(new ee,oe,V);return null!=Se&&g(Se,re,he[q],he),he})).prototype=le,le.constructor=V),(Ue||Fe)&&(ce("delete"),ce("has"),re&&ce("get")),(Fe||we)&&ce(q),ie&&le.clear&&delete le.clear}else V=X.getConstructor(L,x,re,q),b(V.prototype,$),v.NEED=!0;return p(V,x),Q[x]=V,S(S.G+S.W+S.F*(V!=ee),Q),ie||X.setStrong(V,x,re),V}},function(H,A,h){var M=h(27),S=h(132),T=h(80),b=h(5),v=h(12),g=h(79),_={},m={};(A=H.exports=function(w,P,p,C,x){var L,$,X,re,ie=x?function(){return w}:g(w),ee=M(p,C,P?2:1),V=0;if("function"!=typeof ie)throw TypeError(w+" is not iterable!");if(T(ie)){for(L=v(w.length);L>V;V++)if((re=P?ee(b($=w[V])[0],$[1]):ee(w[V]))===_||re===m)return re}else for(X=ie.call(w);!($=X.next()).done;)if((re=S(X,ee,$.value,P))===_||re===m)return re}).BREAK=_,A.RETURN=m},function(H,A,h){"use strict";var M=h(18),S=h(15),T=h(3),b=h(28),v=h(7);H.exports=function(g,_,m){var w=v(g),P=m(b,w,""[g]),p=P[0],C=P[1];T(function(){var x={};return x[w]=function(){return 7},7!=""[g](x)})&&(S(String.prototype,g,p),M(RegExp.prototype,w,2==_?function(x,L){return C.call(x,this,L)}:function(x){return C.call(x,this)}))}},function(H,A,h){var M=h(7)("iterator"),S=!1;try{var T=[7][M]();T.return=function(){S=!0},Array.from(T,function(){throw 2})}catch(b){}H.exports=function(b,v){if(!v&&!S)return!1;var g=!1;try{var _=[7],m=_[M]();m.next=function(){return{done:g=!0}},_[M]=function(){return m},b(_)}catch(w){}return g}},function(H,A,h){var M=h(0),S=h(28),T=h(3),b=h(88),v="["+b+"]",g=RegExp("^"+v+v+"*"),_=RegExp(v+v+"*$"),m=function(P,p,C){var x={},L=T(function(){return!!b[P]()||"\u200b\x85"!="\u200b\x85"[P]()}),$=x[P]=L?p(w):b[P];C&&(x[C]=$),M(M.P+M.F*L,"String",x)},w=m.trim=function(P,p){return P=String(S(P)),1&p&&(P=P.replace(g,"")),2&p&&(P=P.replace(_,"")),P};H.exports=m},function(H,A,h){var M=h(25),S=h(7)("toStringTag"),T="Arguments"==M(function(){return arguments}());H.exports=function(b){var v,g,_;return void 0===b?"Undefined":null===b?"Null":"string"==typeof(g=function(m,w){try{return m[w]}catch(P){}}(v=Object(b),S))?g:T?M(v):"Object"==(_=M(v))&&"function"==typeof v.callee?"Arguments":_}},function(H,A){A.f={}.propertyIsEnumerable},function(H,A){A.f=Object.getOwnPropertySymbols},function(H,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.InviteUsersRequest=void 0;var M=function(){function m(w,P){for(var p=0;p<P.length;p++){var C=P[p];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(w,C.key,C)}}return function(w,P,p){return P&&m(w.prototype,P),p&&m(w,p),w}}(),S=h(2),T=h(1),b=h(47),v=h(58),g=h(8),_=function(m){function w(P,p){var C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(L,$){if(!(L instanceof $))throw new TypeError("Cannot call a class as a function")}(this,w);var x=function(L,$){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!$||"object"!=typeof $&&"function"!=typeof $?L:$}(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,S.Requests.InviteUsers));return x._invitedUsers=P,x._secondsForAnswer=p,x._params=C,Object.seal(x),x}return function(P,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function, not "+typeof p);P.prototype=Object.create(p&&p.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(P,p):P.__proto__=p)}(w,S.BaseRequest),M(w,null,[{key:"KEY_USER",get:function(){return"u"}},{key:"KEY_USER_ID",get:function(){return"ui"}},{key:"KEY_INVITATION_ID",get:function(){return"ii"}},{key:"KEY_TIME",get:function(){return"t"}},{key:"KEY_PARAMS",get:function(){return"p"}},{key:"KEY_INVITEE_ID",get:function(){return"ee"}},{key:"KEY_INVITED_USERS",get:function(){return"iu"}},{key:"KEY_REPLY_ID",get:function(){return"ri"}},{key:"MAX_INVITATIONS_FROM_CLIENT_SIDE",get:function(){return 8}},{key:"MIN_EXPIRY_TIME",get:function(){return 5}},{key:"MAX_EXPIRY_TIME",get:function(){return 300}}]),M(w,[{key:"validate",value:function(P){var p=[];if(null==this._invitedUsers?p.push("No invited users"):this._invitedUsers instanceof Array?(this._invitedUsers.length<1&&p.push("No invited users"),this._invitedUsers.length>w.MAX_INVITATIONS_FROM_CLIENT_SIDE&&p.push("Too many invitations; "+w.MAX_INVITATIONS_FROM_CLIENT_SIDE+" max are allowed from client side"),this._invitedUsers.every(function(C){return C instanceof b.SFSUser||C instanceof v.SFSBuddy})||p.push("Each invited user must be an instance of SFSUser or SFSBuddy class")):p.push("Invited users must be passed in an array"),(this._secondsForAnswer<w.MIN_EXPIRY_TIME||this._secondsForAnswer>w.MAX_EXPIRY_TIME)&&p.push("secondsForAnswer value is out of range (min: "+w.MIN_EXPIRY_TIME+"; max: "+w.MAX_EXPIRY_TIME+")"),null==this._params||this._params instanceof g.SFSObject||p.push("Custom invitation parameters must be set in a SFSObject class instance"),p.length>0)throw new T.SFSValidationError("InviteUsersRequest Error",p)}},{key:"execute",value:function(P){var p=[],C=!0,x=!1,L=void 0;try{for(var $,X=this._invitedUsers[Symbol.iterator]();!(C=($=X.next()).done);C=!0){var re=$.value;if(re instanceof b.SFSUser||re instanceof v.SFSBuddy){if(re===P.mySelf)continue;p.push(re.id)}}}catch(ie){x=!0,L=ie}finally{try{!C&&X.return&&X.return()}finally{if(x)throw L}}this._reqObj.putIntArray(w.KEY_INVITED_USERS,p),this._reqObj.putShort(w.KEY_TIME,this._secondsForAnswer),null!=this._params&&this._reqObj.putSFSObject(w.KEY_PARAMS,this._params)}}]),w}();A.InviteUsersRequest=_},function(H,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.AdminMessageRequest=A.ModeratorMessageRequest=A.ObjectMessageRequest=A.PrivateMessageRequest=A.PublicMessageRequest=A.GenericMessageRequest=A.GenericMessageType=void 0;var M=function(){function ie(ee,V){for(var q=0;q<V.length;q++){var le=V[q];le.enumerable=le.enumerable||!1,le.configurable=!0,"value"in le&&(le.writable=!0),Object.defineProperty(ee,le.key,le)}}return function(ee,V,q){return V&&ie(ee.prototype,V),q&&ie(ee,q),ee}}(),S=h(2),T=h(1),b=h(56),v=h(8),g=h(9),_=h(47);function m(ie,ee){if(!(ie instanceof ee))throw new TypeError("Cannot call a class as a function")}function w(ie,ee){if(!ie)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!ee||"object"!=typeof ee&&"function"!=typeof ee?ie:ee}function P(ie,ee){if("function"!=typeof ee&&null!==ee)throw new TypeError("Super expression must either be null or a function, not "+typeof ee);ie.prototype=Object.create(ee&&ee.prototype,{constructor:{value:ie,enumerable:!1,writable:!0,configurable:!0}}),ee&&(Object.setPrototypeOf?Object.setPrototypeOf(ie,ee):ie.__proto__=ee)}var p=Object.freeze({PUBLIC_MSG:0,PRIVATE_MSG:1,MODERATOR_MSG:2,ADMING_MSG:3,OBJECT_MSG:4,BUDDY_MSG:5}),C=function(ie){function ee(){m(this,ee);var V=w(this,(ee.__proto__||Object.getPrototypeOf(ee)).call(this,S.Requests.GenericMessage));return V._type=-1,V._room=null,V._user=null,V._message=null,V._params=null,V._recipient=null,V._sendMode=-1,Object.seal(V),V}return P(ee,S.BaseRequest),M(ee,null,[{key:"KEY_ROOM_ID",get:function(){return"r"}},{key:"KEY_USER_ID",get:function(){return"u"}},{key:"KEY_MESSAGE",get:function(){return"m"}},{key:"KEY_MESSAGE_TYPE",get:function(){return"t"}},{key:"KEY_RECIPIENT",get:function(){return"rc"}},{key:"KEY_RECIPIENT_MODE",get:function(){return"rm"}},{key:"KEY_XTRA_PARAMS",get:function(){return"p"}},{key:"KEY_SENDER_DATA",get:function(){return"sd"}}]),M(ee,[{key:"validate",value:function(V){if(this._type<0)throw new T.SFSValidationError("GenericMessageRequest Error",["Unsupported message type: "+this._type]);var q=[];switch(this._type){case p.PUBLIC_MSG:this._validatePublicMessage(V,q);break;case p.PRIVATE_MSG:this._validatePrivateMessage(V,q);break;case p.OBJECT_MSG:this._validateObjectMessage(V,q);break;case p.BUDDY_MSG:this._validateBuddyMessage(V,q);break;default:this._validateSuperUserMessage(V,q)}if(q.length>0)throw new T.SFSValidationError("GenericMessageRequest Error",q)}},{key:"execute",value:function(V){switch(this._reqObj.putByte(ee.KEY_MESSAGE_TYPE,this._type),this._type){case p.PUBLIC_MSG:this._executePublicMessage(V);break;case p.PRIVATE_MSG:this._executePrivateMessage(V);break;case p.OBJECT_MSG:this._executeObjectMessage(V);break;case p.BUDDY_MSG:this._executeBuddyMessage(V);break;default:this._executeSuperUserMessage(V)}}},{key:"_validatePublicMessage",value:function(V,q){null!=this._message&&0!==this._message.length||q.push("Public message is empty"),null==this._room&&(this._room=V.lastJoinedRoom),null==this._room?q.push("You must be joined in a Room to send a message"):this._room instanceof g.SFSRoom?V.getJoinedRooms().indexOf(this._room)<0&&q.push("You are not joined in the target Room: "+this._room):q.push("Target Room must be an instance of SFSRoom class"),null==this._params||this._params instanceof v.SFSObject||q.push("Message parameters must be set in a SFSObject class instance")}},{key:"_validatePrivateMessage",value:function(V,q){null!=this._message&&0!==this._message.length||q.push("Private message is empty"),this._recipient<0&&q.push("Invalid recipient id: "+this._recipient),null==this._params||this._params instanceof v.SFSObject||q.push("Message parameters must be set in a SFSObject class instance")}},{key:"_validateObjectMessage",value:function(V,q){null==this._params?q.push("Object message is null"):this._params instanceof v.SFSObject||q.push("Message object must be an instance of SFSObject class"),null==this._room&&(this._room=V.lastJoinedRoom),null==this._room?q.push("You must be joined in a Room to send a message"):this._room instanceof g.SFSRoom?V.getJoinedRooms().indexOf(this._room)<0&&q.push("You are not joined in the target Room: "+this._room):q.push("Target Room must be an instance of SFSRoom class"),null!=this._recipient&&(this._recipient instanceof Array?this._recipient.every(function(le){return le instanceof _.SFSUser})||q.push("Each message recipient must be an instance of SFSUser class"):q.push("Message recipients must be passed in an array"),this._recipient.length>this._room.capacity&&q.push("The number of recipients is bigger than the target Room capacity: "+this._recipient.length))}},{key:"_validateBuddyMessage",value:function(V,q){V.buddyManager.isInited||q.push("Buddy List not yet initialized; please send an InitBuddyRequest first"),!1===V.buddyManager.myOnlineState&&q.push("Can't send messages while you are offline in the Buddy List system"),null!=this._message&&0!==this._message.length||q.push("Buddy message is empty"),this._recipient<0&&q.push("Recipient is offline or not in your Buddy List"),null==this._params||this._params instanceof v.SFSObject||q.push("Message parameters must be set in a SFSObject class instance")}},{key:"_validateSuperUserMessage",value:function(V,q){switch(null!=this._message&&0!==this._message.length||q.push("Moderator message is empty"),null==this._params||this._params instanceof v.SFSObject||q.push("Message parameters must be set in a SFSObject class instance"),this._sendMode){case b.MessageRecipientMode.TO_USER:this._recipient instanceof _.SFSUser||q.push("Recipient must be an instance of SFSUser class");break;case b.MessageRecipientMode.TO_ROOM:this._recipient instanceof g.SFSRoom||q.push("Recipient must be an instance of SFSRoom class");break;case b.MessageRecipientMode.TO_GROUP:"string"!=typeof this._recipient&&q.push("Recipient must be a string (the groupId)")}}},{key:"_executePublicMessage",value:function(V){this._reqObj.putInt(ee.KEY_ROOM_ID,this._room.id),this._reqObj.putInt(ee.KEY_USER_ID,V.mySelf.id),this._reqObj.putUtfString(ee.KEY_MESSAGE,this._message),null!=this._params&&this._reqObj.putSFSObject(ee.KEY_XTRA_PARAMS,this._params)}},{key:"_executePrivateMessage",value:function(V){this._reqObj.putInt(ee.KEY_RECIPIENT,this._recipient),this._reqObj.putUtfString(ee.KEY_MESSAGE,this._message),null!=this._params&&this._reqObj.putSFSObject(ee.KEY_XTRA_PARAMS,this._params)}},{key:"_executeBuddyMessage",value:function(V){this._reqObj.putInt(ee.KEY_RECIPIENT,this._recipient),this._reqObj.putUtfString(ee.KEY_MESSAGE,this._message),null!=this._params&&this._reqObj.putSFSObject(ee.KEY_XTRA_PARAMS,this._params)}},{key:"_executeSuperUserMessage",value:function(V){switch(this._reqObj.putUtfString(ee.KEY_MESSAGE,this._message),null!=this._params&&this._reqObj.putSFSObject(ee.KEY_XTRA_PARAMS,this._params),this._reqObj.putInt(ee.KEY_RECIPIENT_MODE,this._sendMode),this._sendMode){case b.MessageRecipientMode.TO_USER:case b.MessageRecipientMode.TO_ROOM:this._reqObj.putInt(ee.KEY_RECIPIENT,this._recipient.id);break;case b.MessageRecipientMode.TO_GROUP:this._reqObj.putUtfString(ee.KEY_RECIPIENT,this._recipient)}}},{key:"_executeObjectMessage",value:function(V){this._reqObj.putInt(ee.KEY_ROOM_ID,this._room.id),this._reqObj.putSFSObject(ee.KEY_XTRA_PARAMS,this._params);var q=new Set;if(null!=this._recipient){var le=!0,Q=!1,ce=void 0;try{for(var se,we=this._recipient[Symbol.iterator]();!(le=(se=we.next()).done);le=!0)q.add(se.value.id)}catch(ke){Q=!0,ce=ke}finally{try{!le&&we.return&&we.return()}finally{if(Q)throw ce}}}q.size>0&&this._reqObj.putIntArray(ee.KEY_RECIPIENT,Array.from(q))}}]),ee}(),x=function(ie){function ee(V){var q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,le=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;m(this,ee);var Q=w(this,(ee.__proto__||Object.getPrototypeOf(ee)).call(this));return Q._type=p.OBJECT_MSG,Q._params=V,Q._room=q,Q._recipient=le,Object.seal(Q),Q}return P(ee,C),ee}(),L=function(ie){function ee(V){var q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,le=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;m(this,ee);var Q=w(this,(ee.__proto__||Object.getPrototypeOf(ee)).call(this));return Q._type=p.PUBLIC_MSG,Q._message=V,Q._room=le,Q._params=q,Object.seal(Q),Q}return P(ee,C),ee}(),$=function(ie){function ee(V,q){var le=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;m(this,ee);var Q=w(this,(ee.__proto__||Object.getPrototypeOf(ee)).call(this));return Q._type=p.PRIVATE_MSG,Q._message=V,Q._recipient=q,Q._params=le,Object.seal(Q),Q}return P(ee,C),ee}(),X=function(ie){function ee(V,q){var le=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;m(this,ee);var Q=w(this,(ee.__proto__||Object.getPrototypeOf(ee)).call(this));if(null==q)throw new T.SFSError("Recipient mode cannot be null");if(!(q instanceof b.MessageRecipientMode))throw new T.SFSError("Recipient mode must be an instance of MessageRecipientMode class");return Q._type=p.MODERATOR_MSG,Q._message=V,Q._params=le,Q._recipient=q.target,Q._sendMode=q.mode,Object.seal(Q),Q}return P(ee,C),ee}(),re=function(ie){function ee(V,q){var le=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;m(this,ee);var Q=w(this,(ee.__proto__||Object.getPrototypeOf(ee)).call(this));if(null==q)throw new T.SFSError("Recipient mode cannot be null");if(!(q instanceof b.MessageRecipientMode))throw new T.SFSError("Recipient mode must an instance of MessageRecipientMode class");return Q._type=p.ADMING_MSG,Q._message=V,Q._params=le,Q._recipient=q.target,Q._sendMode=q.mode,Object.seal(Q),Q}return P(ee,C),ee}();A.GenericMessageType=p,A.GenericMessageRequest=C,A.PublicMessageRequest=L,A.PrivateMessageRequest=$,A.ObjectMessageRequest=x,A.ModeratorMessageRequest=X,A.AdminMessageRequest=re},function(H,A,h){"use strict";h.r(A),h.d(A,"MD5",function(){return M});var M=function(){this.hexcase=0,this.b64pad=""};M.prototype={},M.prototype.hex_md5=function(S){return this.rstr2hex(this.rstr_md5(this.str2rstr_utf8(S)))},M.prototype.b64_md5=function(S){return this.rstr2b64(this.rstr_md5(this.str2rstr_utf8(S)))},M.prototype.any_md5=function(S,T){return this.rstr2any(this.rstr_md5(this.str2rstr_utf8(S)),T)},M.prototype.hex_hmac_md5=function(S,T){return this.rstr2hex(this.rstr_hmac_md5(this.str2rstr_utf8(S),this.str2rstr_utf8(T)))},M.prototype.b64_hmac_md5=function(S,T){return this.rstr2b64(this.rstr_hmac_md5(this.str2rstr_utf8(S),this.str2rstr_utf8(T)))},M.prototype.any_hmac_md5=function(S,T,b){return this.rstr2any(this.rstr_hmac_md5(this.str2rstr_utf8(S),this.str2rstr_utf8(T)),b)},M.prototype.md5_vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"==this.hex_md5("abc").toLowerCase()},M.prototype.rstr_md5=function(S){return this.binl2rstr(this.binl_md5(this.rstr2binl(S),8*S.length))},M.prototype.rstr_hmac_md5=function(S,T){var b=this.rstr2binl(S);b.length>16&&(b=this.binl_md5(b,8*S.length));for(var v=Array(16),g=Array(16),_=0;_<16;_++)v[_]=909522486^b[_],g[_]=1549556828^b[_];var m=this.binl_md5(v.concat(this.rstr2binl(T)),512+8*T.length);return this.binl2rstr(this.binl_md5(g.concat(m),640))},M.prototype.rstr2hex=function(S){for(var T,b=this.hexcase?"0123456789ABCDEF":"0123456789abcdef",v="",g=0;g<S.length;g++)T=S.charCodeAt(g),v+=b.charAt(T>>>4&15)+b.charAt(15&T);return v},M.prototype.rstr2b64=function(S){for(var T="",b=S.length,v=0;v<b;v+=3)for(var g=S.charCodeAt(v)<<16|(v+1<b?S.charCodeAt(v+1)<<8:0)|(v+2<b?S.charCodeAt(v+2):0),_=0;_<4;_++)T+=8*v+6*_>8*S.length?this.b64pad:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(g>>>6*(3-_)&63);return T},M.prototype.rstr2any=function(S,T){var b,v,g,_,m,w=T.length,P=Array(Math.ceil(S.length/2));for(b=0;b<P.length;b++)P[b]=S.charCodeAt(2*b)<<8|S.charCodeAt(2*b+1);var p=Math.ceil(8*S.length/(Math.log(T.length)/Math.log(2))),C=Array(p);for(v=0;v<p;v++){for(m=Array(),_=0,b=0;b<P.length;b++)_=(_<<16)+P[b],_-=(g=Math.floor(_/w))*w,(m.length>0||g>0)&&(m[m.length]=g);C[v]=_,P=m}var x="";for(b=C.length-1;b>=0;b--)x+=T.charAt(C[b]);return x},M.prototype.str2rstr_utf8=function(S){for(var T,b,v="",g=-1;++g<S.length;)T=S.charCodeAt(g),b=g+1<S.length?S.charCodeAt(g+1):0,55296<=T&&T<=56319&&56320<=b&&b<=57343&&(T=65536+((1023&T)<<10)+(1023&b),g++),T<=127?v+=String.fromCharCode(T):T<=2047?v+=String.fromCharCode(192|T>>>6&31,128|63&T):T<=65535?v+=String.fromCharCode(224|T>>>12&15,128|T>>>6&63,128|63&T):T<=2097151&&(v+=String.fromCharCode(240|T>>>18&7,128|T>>>12&63,128|T>>>6&63,128|63&T));return v},M.prototype.str2rstr_utf16le=function(S){for(var T="",b=0;b<S.length;b++)T+=String.fromCharCode(255&S.charCodeAt(b),S.charCodeAt(b)>>>8&255);return T},M.prototype.str2rstr_utf16be=function(S){for(var T="",b=0;b<S.length;b++)T+=String.fromCharCode(S.charCodeAt(b)>>>8&255,255&S.charCodeAt(b));return T},M.prototype.rstr2binl=function(S){for(var T=Array(S.length>>2),b=0;b<T.length;b++)T[b]=0;for(b=0;b<8*S.length;b+=8)T[b>>5]|=(255&S.charCodeAt(b/8))<<b%32;return T},M.prototype.binl2rstr=function(S){for(var T="",b=0;b<32*S.length;b+=8)T+=String.fromCharCode(S[b>>5]>>>b%32&255);return T},M.prototype.binl_md5=function(S,T){S[T>>5]|=128<<T%32,S[14+(T+64>>>9<<4)]=T;for(var b=1732584193,v=-271733879,g=-1732584194,_=271733878,m=0;m<S.length;m+=16){var w=b,P=v,p=g,C=_;b=this.md5_ff(b,v,g,_,S[m+0],7,-680876936),_=this.md5_ff(_,b,v,g,S[m+1],12,-389564586),g=this.md5_ff(g,_,b,v,S[m+2],17,606105819),v=this.md5_ff(v,g,_,b,S[m+3],22,-1044525330),b=this.md5_ff(b,v,g,_,S[m+4],7,-176418897),_=this.md5_ff(_,b,v,g,S[m+5],12,1200080426),g=this.md5_ff(g,_,b,v,S[m+6],17,-1473231341),v=this.md5_ff(v,g,_,b,S[m+7],22,-45705983),b=this.md5_ff(b,v,g,_,S[m+8],7,1770035416),_=this.md5_ff(_,b,v,g,S[m+9],12,-1958414417),g=this.md5_ff(g,_,b,v,S[m+10],17,-42063),v=this.md5_ff(v,g,_,b,S[m+11],22,-1990404162),b=this.md5_ff(b,v,g,_,S[m+12],7,1804603682),_=this.md5_ff(_,b,v,g,S[m+13],12,-40341101),g=this.md5_ff(g,_,b,v,S[m+14],17,-1502002290),v=this.md5_ff(v,g,_,b,S[m+15],22,1236535329),b=this.md5_gg(b,v,g,_,S[m+1],5,-165796510),_=this.md5_gg(_,b,v,g,S[m+6],9,-1069501632),g=this.md5_gg(g,_,b,v,S[m+11],14,643717713),v=this.md5_gg(v,g,_,b,S[m+0],20,-373897302),b=this.md5_gg(b,v,g,_,S[m+5],5,-701558691),_=this.md5_gg(_,b,v,g,S[m+10],9,38016083),g=this.md5_gg(g,_,b,v,S[m+15],14,-660478335),v=this.md5_gg(v,g,_,b,S[m+4],20,-405537848),b=this.md5_gg(b,v,g,_,S[m+9],5,568446438),_=this.md5_gg(_,b,v,g,S[m+14],9,-1019803690),g=this.md5_gg(g,_,b,v,S[m+3],14,-187363961),v=this.md5_gg(v,g,_,b,S[m+8],20,1163531501),b=this.md5_gg(b,v,g,_,S[m+13],5,-1444681467),_=this.md5_gg(_,b,v,g,S[m+2],9,-51403784),g=this.md5_gg(g,_,b,v,S[m+7],14,1735328473),v=this.md5_gg(v,g,_,b,S[m+12],20,-1926607734),b=this.md5_hh(b,v,g,_,S[m+5],4,-378558),_=this.md5_hh(_,b,v,g,S[m+8],11,-2022574463),g=this.md5_hh(g,_,b,v,S[m+11],16,1839030562),v=this.md5_hh(v,g,_,b,S[m+14],23,-35309556),b=this.md5_hh(b,v,g,_,S[m+1],4,-1530992060),_=this.md5_hh(_,b,v,g,S[m+4],11,1272893353),g=this.md5_hh(g,_,b,v,S[m+7],16,-155497632),v=this.md5_hh(v,g,_,b,S[m+10],23,-1094730640),b=this.md5_hh(b,v,g,_,S[m+13],4,681279174),_=this.md5_hh(_,b,v,g,S[m+0],11,-358537222),g=this.md5_hh(g,_,b,v,S[m+3],16,-722521979),v=this.md5_hh(v,g,_,b,S[m+6],23,76029189),b=this.md5_hh(b,v,g,_,S[m+9],4,-640364487),_=this.md5_hh(_,b,v,g,S[m+12],11,-421815835),g=this.md5_hh(g,_,b,v,S[m+15],16,530742520),v=this.md5_hh(v,g,_,b,S[m+2],23,-995338651),b=this.md5_ii(b,v,g,_,S[m+0],6,-198630844),_=this.md5_ii(_,b,v,g,S[m+7],10,1126891415),g=this.md5_ii(g,_,b,v,S[m+14],15,-1416354905),v=this.md5_ii(v,g,_,b,S[m+5],21,-57434055),b=this.md5_ii(b,v,g,_,S[m+12],6,1700485571),_=this.md5_ii(_,b,v,g,S[m+3],10,-1894986606),g=this.md5_ii(g,_,b,v,S[m+10],15,-1051523),v=this.md5_ii(v,g,_,b,S[m+1],21,-2054922799),b=this.md5_ii(b,v,g,_,S[m+8],6,1873313359),_=this.md5_ii(_,b,v,g,S[m+15],10,-30611744),g=this.md5_ii(g,_,b,v,S[m+6],15,-1560198380),v=this.md5_ii(v,g,_,b,S[m+13],21,1309151649),b=this.md5_ii(b,v,g,_,S[m+4],6,-145523070),_=this.md5_ii(_,b,v,g,S[m+11],10,-1120210379),g=this.md5_ii(g,_,b,v,S[m+2],15,718787259),v=this.md5_ii(v,g,_,b,S[m+9],21,-343485551),b=this.safe_add(b,w),v=this.safe_add(v,P),g=this.safe_add(g,p),_=this.safe_add(_,C)}return Array(b,v,g,_)},M.prototype.md5_cmn=function(S,T,b,v,g,_){return this.safe_add(this.bit_rol(this.safe_add(this.safe_add(T,S),this.safe_add(v,_)),g),b)},M.prototype.md5_ff=function(S,T,b,v,g,_,m){return this.md5_cmn(T&b|~T&v,S,T,g,_,m)},M.prototype.md5_gg=function(S,T,b,v,g,_,m){return this.md5_cmn(T&v|b&~v,S,T,g,_,m)},M.prototype.md5_hh=function(S,T,b,v,g,_,m){return this.md5_cmn(T^b^v,S,T,g,_,m)},M.prototype.md5_ii=function(S,T,b,v,g,_,m){return this.md5_cmn(b^(T|~v),S,T,g,_,m)},M.prototype.safe_add=function(S,T){var b=(65535&S)+(65535&T);return(S>>16)+(T>>16)+(b>>16)<<16|65535&b},M.prototype.bit_rol=function(S,T){return S<<T|S>>>32-T}},function(H,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0});var M=function(){function b(v,g){for(var _=0;_<g.length;_++){var m=g[_];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(v,m.key,m)}}return function(v,g,_){return g&&b(v.prototype,g),_&&b(v,_),v}}(),S=function(){function b(v,g){var _=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15,m=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;(function(w,P){if(!(w instanceof P))throw new TypeError("Cannot call a class as a function")})(this,b),this._id=-1,this._inviter=v,this._invitee=g,this._secondsForAnswer=_,this._params=m,Object.seal(this)}return M(b,[{key:"id",get:function(){return this._id}},{key:"inviter",get:function(){return this._inviter}},{key:"invitee",get:function(){return this._invitee}},{key:"secondsForAnswer",get:function(){return this._secondsForAnswer}},{key:"params",get:function(){return this._params}}]),b}(),T=Object.freeze({ACCEPT:0,REFUSE:1,EXPIRED:255});A.SFSInvitation=S,A.InvitationReply=T},function(H,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.MMOItemVariable=void 0;var M=function(){function b(v,g){for(var _=0;_<g.length;_++){var m=g[_];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(v,m.key,m)}}return function(v,g,_){return g&&b(v.prototype,g),_&&b(v,_),v}}(),S=h(48),T=function(b){function v(g,_){var m=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;!function(P,p){if(!(P instanceof p))throw new TypeError("Cannot call a class as a function")}(this,v);var w=function(P,p){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!p||"object"!=typeof p&&"function"!=typeof p?P:p}(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,g,_,m));return Object.freeze(w),w}return function(g,_){if("function"!=typeof _&&null!==_)throw new TypeError("Super expression must either be null or a function, not "+typeof _);g.prototype=Object.create(_&&_.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(g,_):g.__proto__=_)}(v,S.BaseVariable),M(v,[{key:"toString",value:function(){return"[ItemVar: "+this.name+", Type: "+this.type+", Value: "+this.value+"]"}}],[{key:"fromSFSArray",value:function(g){return new v(g.get(0),g.get(2),g.get(1))}}]),v}();A.MMOItemVariable=T},function(H,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0});var M=function(){function b(v,g){for(var _=0;_<g.length;_++){var m=g[_];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(v,m.key,m)}}return function(v,g,_){return g&&b(v.prototype,g),_&&b(v,_),v}}(),S=function(){function b(){throw function(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}(this,b),"Class SFSErrorCodes cannot be instantiated. Please check the documentation for more details on its usage"}return M(b,null,[{key:"setErrorMessage",value:function(v,g){this._errorsByCode[v]=g}},{key:"getErrorMessage",value:function(v,g){return this.stringFormat(this._errorsByCode[v],g)}},{key:"stringFormat",value:function(v,g){if(null==v)return"";if(null!=g)for(var _=0;_<g.length;_++)v=v.replace("{"+_+"}",g[_]);return v}},{key:"_errorsByCode",get:function(){return T}}]),b}();A.SFSErrorCodes=S;var T=["Client API version is obsolete: {0}; required version: {1}","Requested Zone {0} does not exist","User name {0} is not recognized","Wrong password for user {0}","User {0} is banned","Zone {0} is full","User {0} is already logged in Zone {1}","The server is full","Zone {0} is currently inactive","User name {0} contains bad words; filtered: {1}","Guest users not allowed in Zone {0}","IP address {0} is banned","A Room with the same name already exists: {0}","Requested Group is not available - Room: {0}; Group: {1}","Bad Room name length -  Min: {0}; max: {1}; passed name length: {2}","Room name contains bad words: {0}","Zone is full; can't add Rooms anymore","You have exceeded the number of Rooms that you can create per session: {0}","Room creation failed, wrong parameter: {0}","User {0} already joined in Room","Room {0} is full","Wrong password for Room {0}","Requested Room does not exist","Room {0} is locked","Group {0} is already subscribed","Group {0} does not exist","Group {0} is not subscribed","Group {0} does not exist","{0}","Room permission error; Room {0} cannot be renamed","Room permission error; Room {0} cannot change password state","Room permission error; Room {0} cannot change capacity","Switch user error; no player slots available in Room {0}","Switch user error; no spectator slots available in Room {0}","Switch user error; Room {0} is not a Game Room","Switch user error; you are not joined in Room {0}","Buddy Manager initialization error, could not load buddy list: {0}","Buddy Manager error, your buddy list is full; size is {0}","Buddy Manager error, was not able to block buddy {0} because offline","Buddy Manager error, you are attempting to set too many Buddy Variables; limit is {0}","Game {0} access denied, user does not match access criteria","QuickJoinGame action failed: no matching Rooms were found","Your previous invitation reply was invalid or arrived too late"]},function(H,A,h){"use strict";var M=h(6),S=h(11),T=h(44),b=h(60),v=h(18),g=h(41),_=h(3),m=h(42),w=h(24),P=h(12),p=h(121),C=h(32).f,x=h(10).f,L=h(78),$=h(45),X="prototype",re="Wrong index!",ie=M.ArrayBuffer,ee=M.DataView,V=M.Math,q=M.RangeError,le=M.Infinity,Q=ie,ce=V.abs,se=V.pow,we=V.floor,Ue=V.log,ke=V.LN2,Fe=S?"_b":"buffer",oe=S?"_l":"byteLength",Se=S?"_o":"byteOffset";function he(ze,Ke,an){var zt,gn,yi,mt=new Array(an),xt=8*an-Ke-1,Ne=(1<<xt)-1,Ae=Ne>>1,Ge=23===Ke?se(2,-24)-se(2,-77):0,$e=0,Le=ze<0||0===ze&&1/ze<0?1:0;for((ze=ce(ze))!=ze||ze===le?(gn=ze!=ze?1:0,zt=Ne):(zt=we(Ue(ze)/ke),ze*(yi=se(2,-zt))<1&&(zt--,yi*=2),(ze+=zt+Ae>=1?Ge/yi:Ge*se(2,1-Ae))*yi>=2&&(zt++,yi/=2),zt+Ae>=Ne?(gn=0,zt=Ne):zt+Ae>=1?(gn=(ze*yi-1)*se(2,Ke),zt+=Ae):(gn=ze*se(2,Ae-1)*se(2,Ke),zt=0));Ke>=8;mt[$e++]=255&gn,gn/=256,Ke-=8);for(zt=zt<<Ke|gn,xt+=Ke;xt>0;mt[$e++]=255&zt,zt/=256,xt-=8);return mt[--$e]|=128*Le,mt}function We(ze,Ke,an){var zt,gn=8*an-Ke-1,yi=(1<<gn)-1,mt=yi>>1,xt=gn-7,Ne=an-1,Ae=ze[Ne--],Ge=127&Ae;for(Ae>>=7;xt>0;Ge=256*Ge+ze[Ne],Ne--,xt-=8);for(zt=Ge&(1<<-xt)-1,Ge>>=-xt,xt+=Ke;xt>0;zt=256*zt+ze[Ne],Ne--,xt-=8);if(0===Ge)Ge=1-mt;else{if(Ge===yi)return zt?NaN:Ae?-le:le;zt+=se(2,Ke),Ge-=mt}return(Ae?-1:1)*zt*se(2,Ge-Ke)}function _e(ze){return ze[3]<<24|ze[2]<<16|ze[1]<<8|ze[0]}function Ce(ze){return[255&ze]}function Pe(ze){return[255&ze,ze>>8&255]}function tt(ze){return[255&ze,ze>>8&255,ze>>16&255,ze>>24&255]}function yt(ze){return he(ze,52,8)}function Qe(ze){return he(ze,23,4)}function Kt(ze,Ke,an){x(ze[X],Ke,{get:function(){return this[an]}})}function pt(ze,Ke,an,zt){var gn=p(+an);if(gn+Ke>ze[oe])throw q(re);var mt=gn+ze[Se],xt=ze[Fe]._b.slice(mt,mt+Ke);return zt?xt:xt.reverse()}function Je(ze,Ke,an,zt,gn,yi){var mt=p(+an);if(mt+Ke>ze[oe])throw q(re);for(var xt=ze[Fe]._b,Ne=mt+ze[Se],Ae=zt(+gn),Ge=0;Ge<Ke;Ge++)xt[Ne+Ge]=Ae[yi?Ge:Ke-Ge-1]}if(b.ABV){if(!_(function(){ie(1)})||!_(function(){new ie(-1)})||_(function(){return new ie,new ie(1.5),new ie(NaN),"ArrayBuffer"!=ie.name})){for(var ue,Me=(ie=function(ze){return m(this,ie),new Q(p(ze))})[X]=Q[X],Ie=C(Q),Ze=0;Ie.length>Ze;)(ue=Ie[Ze++])in ie||v(ie,ue,Q[ue]);T||(Me.constructor=ie)}var ct=new ee(new ie(2)),_t=ee[X].setInt8;ct.setInt8(0,2147483648),ct.setInt8(1,2147483649),!ct.getInt8(0)&&ct.getInt8(1)||g(ee[X],{setInt8:function(ze,Ke){_t.call(this,ze,Ke<<24>>24)},setUint8:function(ze,Ke){_t.call(this,ze,Ke<<24>>24)}},!0)}else ie=function(ze){m(this,ie,"ArrayBuffer");var Ke=p(ze);this._b=L.call(new Array(Ke),0),this[oe]=Ke},ee=function(ze,Ke,an){m(this,ee,"DataView"),m(ze,ie,"DataView");var zt=ze[oe],gn=w(Ke);if(gn<0||gn>zt)throw q("Wrong offset!");if(gn+(an=void 0===an?zt-gn:P(an))>zt)throw q("Wrong length!");this[Fe]=ze,this[Se]=gn,this[oe]=an},S&&(Kt(ie,"byteLength","_l"),Kt(ee,"buffer","_b"),Kt(ee,"byteLength","_l"),Kt(ee,"byteOffset","_o")),g(ee[X],{getInt8:function(ze){return pt(this,1,ze)[0]<<24>>24},getUint8:function(ze){return pt(this,1,ze)[0]},getInt16:function(ze){var Ke=pt(this,2,ze,arguments[1]);return(Ke[1]<<8|Ke[0])<<16>>16},getUint16:function(ze){var Ke=pt(this,2,ze,arguments[1]);return Ke[1]<<8|Ke[0]},getInt32:function(ze){return _e(pt(this,4,ze,arguments[1]))},getUint32:function(ze){return _e(pt(this,4,ze,arguments[1]))>>>0},getFloat32:function(ze){return We(pt(this,4,ze,arguments[1]),23,4)},getFloat64:function(ze){return We(pt(this,8,ze,arguments[1]),52,8)},setInt8:function(ze,Ke){Je(this,1,ze,Ce,Ke)},setUint8:function(ze,Ke){Je(this,1,ze,Ce,Ke)},setInt16:function(ze,Ke){Je(this,2,ze,Pe,Ke,arguments[2])},setUint16:function(ze,Ke){Je(this,2,ze,Pe,Ke,arguments[2])},setInt32:function(ze,Ke){Je(this,4,ze,tt,Ke,arguments[2])},setUint32:function(ze,Ke){Je(this,4,ze,tt,Ke,arguments[2])},setFloat32:function(ze,Ke){Je(this,4,ze,Qe,Ke,arguments[2])},setFloat64:function(ze,Ke){Je(this,8,ze,yt,Ke,arguments[2])}});$(ie,"ArrayBuffer"),$(ee,"DataView"),v(ee[X],b.VIEW,!0),A.ArrayBuffer=ie,A.DataView=ee},function(H,A,h){var M=h(5),S=h(26),T=h(7)("species");H.exports=function(b,v){var g,_=M(b).constructor;return void 0===_||null==(g=M(_)[T])?v:S(g)}},function(H,A,h){"use strict";var M=h(5);H.exports=function(){var S=M(this),T="";return S.global&&(T+="g"),S.ignoreCase&&(T+="i"),S.multiline&&(T+="m"),S.unicode&&(T+="u"),S.sticky&&(T+="y"),T}},function(H,A,h){"use strict";var M=h(14),S=h(34),T=h(12);H.exports=function(b){for(var v=M(this),g=T(v.length),_=arguments.length,m=S(_>1?arguments[1]:void 0,g),w=_>2?arguments[2]:void 0,P=void 0===w?g:S(w,g);P>m;)v[m++]=b;return v}},function(H,A,h){var M=h(66),S=h(7)("iterator"),T=h(53);H.exports=h(37).getIteratorMethod=function(b){if(null!=b)return b[S]||b["@@iterator"]||T[M(b)]}},function(H,A,h){var M=h(53),S=h(7)("iterator"),T=Array.prototype;H.exports=function(b){return void 0!==b&&(M.Array===b||T[S]===b)}},function(H,A,h){var M=h(7)("match");H.exports=function(S){var T=/./;try{"/./"[S](T)}catch(b){try{return T[M]=!1,!"/./"[S](T)}catch(v){}}return!0}},function(H,A,h){var M=h(4),S=h(25),T=h(7)("match");H.exports=function(b){var v;return M(b)&&(void 0!==(v=b[T])?!!v:"RegExp"==S(b))}},function(H,A,h){var M=h(82),S=h(28);H.exports=function(T,b,v){if(M(b))throw TypeError("String#"+v+" doesn't accept regex!");return String(S(T))}},function(H,A,h){"use strict";var M=h(44),S=h(0),T=h(15),b=h(18),v=h(53),g=h(133),_=h(45),m=h(31),w=h(7)("iterator"),P=!([].keys&&"next"in[].keys()),p=function(){return this};H.exports=function(C,x,L,$,X,re,ie){g(L,x,$);var ee,V,q,le=function(Se){if(!P&&Se in we)return we[Se];switch(Se){case"keys":case"values":return function(){return new L(this,Se)}}return function(){return new L(this,Se)}},Q=x+" Iterator",ce="values"==X,se=!1,we=C.prototype,Ue=we[w]||we["@@iterator"]||X&&we[X],ke=Ue||le(X),Fe=X?ce?le("entries"):ke:void 0,oe="Array"==x&&we.entries||Ue;if(oe&&(q=m(oe.call(new C)))!==Object.prototype&&q.next&&(_(q,Q,!0),M||"function"==typeof q[w]||b(q,w,p)),ce&&Ue&&"values"!==Ue.name&&(se=!0,ke=function(){return Ue.call(this)}),M&&!ie||!P&&!se&&we[w]||b(we,w,ke),v[x]=ke,v[Q]=p,X)if(ee={values:ce?ke:le("values"),keys:re?ke:le("keys"),entries:Fe},ie)for(V in ee)V in we||T(we,V,ee[V]);else S(S.P+S.F*(P||se),x,ee);return ee}},function(H,A){var h=Math.expm1;H.exports=!h||h(10)>22025.465794806718||h(10)<22025.465794806718||-2e-17!=h(-2e-17)?function(M){return 0==(M=+M)?M:M>-1e-6&&M<1e-6?M+M*M/2:Math.exp(M)-1}:h},function(H,A){H.exports=Math.sign||function(h){return 0==(h=+h)||h!=h?h:h<0?-1:1}},function(H,A,h){var M=h(4),S=h(89).set;H.exports=function(T,b,v){var g,_=b.constructor;return _!==v&&"function"==typeof _&&(g=_.prototype)!==v.prototype&&M(g)&&S&&S(T,g),T}},function(H,A){H.exports="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},function(H,A,h){var M=h(4),S=h(5),T=function(b,v){if(S(b),!M(v)&&null!==v)throw TypeError(v+": can't set as prototype!")};H.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(b,v,g){try{(g=h(27)(Function.call,h(23).f(Object.prototype,"__proto__").set,2))(b,[]),v=!(b instanceof Array)}catch(_){v=!0}return function(_,m){return T(_,m),v?_.__proto__=m:g(_,m),_}}({},!1):void 0),check:T}},function(H,A,h){var M=h(6).document;H.exports=M&&M.documentElement},function(H,A,h){var M=h(25);H.exports=Array.isArray||function(S){return"Array"==M(S)}},function(H,A){H.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(H,A,h){var M=h(95)("keys"),S=h(35);H.exports=function(T){return M[T]||(M[T]=S(T))}},function(H,A,h){var M=h(21),S=h(12),T=h(34);H.exports=function(b){return function(v,g,_){var m,w=M(v),P=S(w.length),p=T(_,P);if(b&&g!=g){for(;P>p;)if((m=w[p++])!=m)return!0}else for(;P>p;p++)if((b||p in w)&&w[p]===g)return b||p||0;return!b&&-1}}},function(H,A,h){var M=h(6),S=M["__core-js_shared__"]||(M["__core-js_shared__"]={});H.exports=function(T){return S[T]||(S[T]={})}},function(H,A,h){var M=h(4),S=h(6).document,T=M(S)&&M(S.createElement);H.exports=function(b){return T?S.createElement(b):{}}},function(H,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.ExtensionRequest=void 0;var M=function(){function _(m,w){for(var P=0;P<w.length;P++){var p=w[P];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}return function(m,w,P){return w&&_(m.prototype,w),P&&_(m,P),m}}(),S=h(2),T=h(1),b=h(8),v=h(9),g=function(_){function m(w){var P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(x,L){if(!(x instanceof L))throw new TypeError("Cannot call a class as a function")}(this,m);var C=function(x,L){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!L||"object"!=typeof L&&"function"!=typeof L?x:L}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,S.Requests.CallExtension));return C._targetController=1,C._extCmd=w,C._params=P,C._room=p,null==C._params&&(C._params=new b.SFSObject),Object.seal(C),C}return function(w,P){if("function"!=typeof P&&null!==P)throw new TypeError("Super expression must either be null or a function, not "+typeof P);w.prototype=Object.create(P&&P.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(w,P):w.__proto__=P)}(m,S.BaseRequest),M(m,null,[{key:"KEY_CMD",get:function(){return"c"}},{key:"KEY_PARAMS",get:function(){return"p"}},{key:"KEY_ROOM",get:function(){return"r"}}]),M(m,[{key:"validate",value:function(w){var P=[];if(null!=this._extCmd&&0!==this._extCmd.length||P.push("Missing extension command"),null==this._params||this._params instanceof b.SFSObject||P.push("Custom parameters must be set in a SFSObject class instance"),null==this._room||this._room instanceof v.SFSRoom||P.push("Room must be an instance of SFSRoom class"),P.length>0)throw new T.SFSValidationError("ExtensionRequest Error",P)}},{key:"execute",value:function(w){this._reqObj.putUtfString(m.KEY_CMD,this._extCmd),this._reqObj.putInt(m.KEY_ROOM,null==this._room?-1:this._room.id),this._reqObj.putSFSObject(m.KEY_PARAMS,this._params)}}]),m}();A.ExtensionRequest=g},function(H,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.SetBuddyVariablesRequest=void 0;var M=function(){function _(m,w){for(var P=0;P<w.length;P++){var p=w[P];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}return function(m,w,P){return w&&_(m.prototype,w),P&&_(m,P),m}}(),S=h(2),T=h(1),b=h(8),v=h(46),g=function(_){function m(w){!function(p,C){if(!(p instanceof C))throw new TypeError("Cannot call a class as a function")}(this,m);var P=function(p,C){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!C||"object"!=typeof C&&"function"!=typeof C?p:C}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,S.Requests.SetBuddyVariables));return P._buddyVariables=w,Object.seal(P),P}return function(w,P){if("function"!=typeof P&&null!==P)throw new TypeError("Super expression must either be null or a function, not "+typeof P);w.prototype=Object.create(P&&P.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(w,P):w.__proto__=P)}(m,S.BaseRequest),M(m,null,[{key:"KEY_BUDDY_NAME",get:function(){return"bn"}},{key:"KEY_BUDDY_VARS",get:function(){return"bv"}}]),M(m,[{key:"validate",value:function(w){var P=[];if(w.buddyManager.isInited||P.push("Buddy List not yet initialized; please send an InitBuddyRequest first"),!1===w.buddyManager.getMyOnlineState()&&P.push("Can't set Buddy Variables while you are offline in the Buddy List system"),null==this._buddyVariables?P.push("No Buddy Variables specified"):this._buddyVariables instanceof Array?0===this._buddyVariables.length?P.push("No Buddy Variables specified"):this._buddyVariables.every(function(p){return p instanceof v.SFSBuddyVariable})||P.push("Buddy Variables must be passed as instances of SFSBuddyVariable class"):P.push("Buddy Variables must be passed in an array"),P.length>0)throw new T.SFSValidationError("SetBuddyVariablesRequest Error",P)}},{key:"execute",value:function(w){var P=new b.SFSArray,p=!0,C=!1,x=void 0;try{for(var L,$=this._buddyVariables[Symbol.iterator]();!(p=(L=$.next()).done);p=!0)P.addSFSArray(L.value.toSFSArray())}catch(re){C=!0,x=re}finally{try{!p&&$.return&&$.return()}finally{if(C)throw x}}this._reqObj.putSFSArray(m.KEY_BUDDY_VARS,P)}}]),m}();A.SetBuddyVariablesRequest=g},function(H,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.GoOnlineRequest=void 0;var M=function(){function v(g,_){for(var m=0;m<_.length;m++){var w=_[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(g,w.key,w)}}return function(g,_,m){return _&&v(g.prototype,_),m&&v(g,m),g}}(),S=h(2),T=h(1),b=function(v){function g(_){!function(w,P){if(!(w instanceof P))throw new TypeError("Cannot call a class as a function")}(this,g);var m=function(w,P){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!P||"object"!=typeof P&&"function"!=typeof P?w:P}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,S.Requests.GoOnline));return m._online=_,Object.seal(m),m}return function(_,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(_,m):_.__proto__=m)}(g,S.BaseRequest),M(g,null,[{key:"KEY_ONLINE",get:function(){return"o"}},{key:"KEY_BUDDY_NAME",get:function(){return"bn"}},{key:"KEY_BUDDY_ID",get:function(){return"bi"}}]),M(g,[{key:"validate",value:function(_){var m=[];if(_.buddyManager.isInited||m.push("Buddy List not yet initialized; please send an InitBuddyRequest first"),m.length>0)throw new T.SFSValidationError("GoOnlineRequest Error",m)}},{key:"execute",value:function(_){_.buddyManager._setMyOnlineState(this._online),this._reqObj.putBool(g.KEY_ONLINE,this._online)}}]),g}();A.GoOnlineRequest=b},function(H,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.BlockBuddyRequest=void 0;var M=function(){function v(g,_){for(var m=0;m<_.length;m++){var w=_[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(g,w.key,w)}}return function(g,_,m){return _&&v(g.prototype,_),m&&v(g,m),g}}(),S=h(2),T=h(1),b=function(v){function g(_,m){!function(P,p){if(!(P instanceof p))throw new TypeError("Cannot call a class as a function")}(this,g);var w=function(P,p){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!p||"object"!=typeof p&&"function"!=typeof p?P:p}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,S.Requests.BlockBuddy));return w._name=_,w._blocked=m,Object.seal(w),w}return function(_,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(_,m):_.__proto__=m)}(g,S.BaseRequest),M(g,null,[{key:"KEY_BUDDY_NAME",get:function(){return"bn"}},{key:"KEY_BUDDY_BLOCK_STATE",get:function(){return"bs"}},{key:"KEY_BUDDY",get:function(){return"bd"}}]),M(g,[{key:"validate",value:function(_){var m=[];if(_.buddyManager.isInited||m.push("Buddy List not yet initialized; please send an InitBuddyRequest first"),!1===_.buddyManager.getMyOnlineState()&&m.push("Can't block a buddy while you are offline in the Buddy List system"),null==this._name||this._name.length<1)m.push("Invalid buddy name (null or empty string)");else{var w=_.buddyManager.getBuddyByName(this._name);null==w?m.push("Can't block buddy '"+this._name+"' because it isn't in your list"):w.isBlocked==this._blocked&&m.push("Block flag is already in the requested '"+this._blocked+"' state for buddy '"+this._name+"'")}if(m.length>0)throw new T.SFSValidationError("BlockBuddyRequest Error",m)}},{key:"execute",value:function(_){this._reqObj.putUtfString(g.KEY_BUDDY_NAME,this._name),this._reqObj.putBool(g.KEY_BUDDY_BLOCK_STATE,this._blocked)}}]),g}();A.BlockBuddyRequest=b},function(H,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.RemoveBuddyRequest=void 0;var M=function(){function v(g,_){for(var m=0;m<_.length;m++){var w=_[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(g,w.key,w)}}return function(g,_,m){return _&&v(g.prototype,_),m&&v(g,m),g}}(),S=h(2),T=h(1),b=function(v){function g(_){!function(w,P){if(!(w instanceof P))throw new TypeError("Cannot call a class as a function")}(this,g);var m=function(w,P){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!P||"object"!=typeof P&&"function"!=typeof P?w:P}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,S.Requests.RemoveBuddy));return m._name=_,Object.seal(m),m}return function(_,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(_,m):_.__proto__=m)}(g,S.BaseRequest),M(g,null,[{key:"KEY_BUDDY_NAME",get:function(){return"bn"}}]),M(g,[{key:"validate",value:function(_){var m=[];if(_.buddyManager.isInited||m.push("Buddy List not yet initialized; please send an InitBuddyRequest first"),!1===_.buddyManager.getMyOnlineState()&&m.push("Can't remove a buddy while you are offline in the Buddy List system"),null==this._name||this._name.length<1?m.push("Invalid buddy name (null or empty string)"):_.buddyManager.containsBuddy(this._name)||m.push("Can't remove buddy '"+this._name+"' because it isn't in your list"),m.length>0)throw new T.SFSValidationError("RemoveBuddyRequest Error",m)}},{key:"execute",value:function(_){this._reqObj.putUtfString(g.KEY_BUDDY_NAME,this._name)}}]),g}();A.RemoveBuddyRequest=b},function(H,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.AddBuddyRequest=void 0;var M=function(){function v(g,_){for(var m=0;m<_.length;m++){var w=_[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(g,w.key,w)}}return function(g,_,m){return _&&v(g.prototype,_),m&&v(g,m),g}}(),S=h(2),T=h(1),b=function(v){function g(_){!function(w,P){if(!(w instanceof P))throw new TypeError("Cannot call a class as a function")}(this,g);var m=function(w,P){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!P||"object"!=typeof P&&"function"!=typeof P?w:P}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,S.Requests.AddBuddy));return m._name=_,Object.seal(m),m}return function(_,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(_,m):_.__proto__=m)}(g,S.BaseRequest),M(g,null,[{key:"KEY_BUDDY_NAME",get:function(){return"bn"}}]),M(g,[{key:"validate",value:function(_){var m=[];_.buddyManager.isInited||m.push("Buddy List not yet initialized; please send an InitBuddyRequest first"),(null==this._name||this._name.length<1)&&m.push("Invalid buddy name (null or empty string)"),!1===_.buddyManager.getMyOnlineState()&&m.push("Can't add a buddy while you are offline in the Buddy List system");var w=_.buddyManager.getBuddyByName(this._name);if(null==w||w.isTemp||m.push("Can't add buddy '"+this._name+"' because it is already in your list"),m.length>0)throw new T.SFSValidationError("AddBuddyRequest Error",m)}},{key:"execute",value:function(_){this._reqObj.putUtfString(g.KEY_BUDDY_NAME,this._name)}}]),g}();A.AddBuddyRequest=b},function(H,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.InitBuddyListRequest=void 0;var M=function(){function v(g,_){for(var m=0;m<_.length;m++){var w=_[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(g,w.key,w)}}return function(g,_,m){return _&&v(g.prototype,_),m&&v(g,m),g}}(),S=h(2),T=h(1),b=function(v){function g(){!function(m,w){if(!(m instanceof w))throw new TypeError("Cannot call a class as a function")}(this,g);var _=function(m,w){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!w||"object"!=typeof w&&"function"!=typeof w?m:w}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,S.Requests.InitBuddyList));return Object.seal(_),_}return function(_,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(_,m):_.__proto__=m)}(g,S.BaseRequest),M(g,null,[{key:"KEY_BLIST",get:function(){return"bl"}},{key:"KEY_BUDDY_STATES",get:function(){return"bs"}},{key:"KEY_MY_VARS",get:function(){return"mv"}}]),M(g,[{key:"validate",value:function(_){var m=[];if(_.buddyManager.isInited&&m.push("Buddy List is already initialized"),m.length>0)throw new T.SFSValidationError("InitBuddyListRequest Error",m)}},{key:"execute",value:function(_){}}]),g}();A.InitBuddyListRequest=b},function(H,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.SetUserPositionRequest=void 0;var M=function(){function _(m,w){for(var P=0;P<w.length;P++){var p=w[P];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}return function(m,w,P){return w&&_(m.prototype,w),P&&_(m,P),m}}(),S=h(2),T=h(1),b=h(8),v=h(9),g=function(_){function m(w){var P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;!function(C,x){if(!(C instanceof x))throw new TypeError("Cannot call a class as a function")}(this,m);var p=function(C,x){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!x||"object"!=typeof x&&"function"!=typeof x?C:x}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,S.Requests.SetUserPosition));return p._pos=w,p._room=P,Object.seal(p),p}return function(w,P){if("function"!=typeof P&&null!==P)throw new TypeError("Super expression must either be null or a function, not "+typeof P);w.prototype=Object.create(P&&P.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(w,P):w.__proto__=P)}(m,S.BaseRequest),M(m,null,[{key:"KEY_ROOM",get:function(){return"r"}},{key:"KEY_VEC3D",get:function(){return"v"}},{key:"KEY_PLUS_USER_LIST",get:function(){return"p"}},{key:"KEY_MINUS_USER_LIST",get:function(){return"m"}},{key:"KEY_PLUS_ITEM_LIST",get:function(){return"q"}},{key:"KEY_MINUS_ITEM_LIST",get:function(){return"n"}}]),M(m,[{key:"validate",value:function(w){var P=[];if(null!=this._pos&&this._pos instanceof b.Vec3D||P.push("Position must be an instance of Vec3D class"),null==this._room&&(this._room=w.lastJoinedRoom),null==this._room&&P.push("You are not joined in any room"),this._room instanceof v.MMORoom||P.push("Target room must be an instance of MMORoom class"),P.length>0)throw new T.SFSValidationError("SetUserPosition Error",P)}},{key:"execute",value:function(w){this._reqObj.putInt(m.KEY_ROOM,this._room.id),this._pos.isFloat?this._reqObj.putFloatArray(m.KEY_VEC3D,this._pos.toArray()):this._reqObj.putIntArray(m.KEY_VEC3D,this._pos.toArray())}}]),m}();A.SetUserPositionRequest=g},function(H,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.FindUsersRequest=void 0;var M=function(){function _(m,w){for(var P=0;P<w.length;P++){var p=w[P];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}return function(m,w,P){return w&&_(m.prototype,w),P&&_(m,P),m}}(),S=h(2),T=h(1),b=h(9),v=h(38),g=function(_){function m(w){var P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;!function(x,L){if(!(x instanceof L))throw new TypeError("Cannot call a class as a function")}(this,m);var C=function(x,L){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!L||"object"!=typeof L&&"function"!=typeof L?x:L}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,S.Requests.FindUsers));return C._matchExpr=w,C._target=P,C._limit=p,Object.seal(C),C}return function(w,P){if("function"!=typeof P&&null!==P)throw new TypeError("Super expression must either be null or a function, not "+typeof P);w.prototype=Object.create(P&&P.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(w,P):w.__proto__=P)}(m,S.BaseRequest),M(m,null,[{key:"KEY_EXPRESSION",get:function(){return"e"}},{key:"KEY_GROUP",get:function(){return"g"}},{key:"KEY_ROOM",get:function(){return"r"}},{key:"KEY_LIMIT",get:function(){return"l"}},{key:"KEY_FILTERED_USERS",get:function(){return"fu"}}]),M(m,[{key:"validate",value:function(w){var P=[];if(null==this._matchExpr&&P.push("Missing match expression"),null==this._matchExpr||this._matchExpr instanceof v.MatchExpression||P.push("Match expression must be passed as an instance of MatchExpression class"),P.length>0)throw new T.SFSValidationError("FindUsersRequest Error",P)}},{key:"execute",value:function(w){this._reqObj.putSFSArray(m.KEY_EXPRESSION,this._matchExpr.toSFSArray()),null!=this._target&&(this._target instanceof b.SFSRoom?this._reqObj.putInt(m.KEY_ROOM,this._target.id):"string"==typeof this._target?this._reqObj.putUtfString(m.KEY_GROUP,this._target):this._logger.warn("Unsupported target type for FindUsersRequest: "+this._target)),this._limit>0&&this._reqObj.putShort(m.KEY_LIMIT,this._limit)}}]),m}();A.FindUsersRequest=g},function(H,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.FindRoomsRequest=void 0;var M=function(){function g(_,m){for(var w=0;w<m.length;w++){var P=m[w];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(_,P.key,P)}}return function(_,m,w){return m&&g(_.prototype,m),w&&g(_,w),_}}(),S=h(2),T=h(1),b=h(38),v=function(g){function _(m){var w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,P=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;!function(C,x){if(!(C instanceof x))throw new TypeError("Cannot call a class as a function")}(this,_);var p=function(C,x){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!x||"object"!=typeof x&&"function"!=typeof x?C:x}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,S.Requests.FindRooms));return p._matchExpr=m,p._groupId=w,p._limit=P,Object.seal(p),p}return function(m,w){if("function"!=typeof w&&null!==w)throw new TypeError("Super expression must either be null or a function, not "+typeof w);m.prototype=Object.create(w&&w.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(m,w):m.__proto__=w)}(_,S.BaseRequest),M(_,null,[{key:"KEY_EXPRESSION",get:function(){return"e"}},{key:"KEY_GROUP",get:function(){return"g"}},{key:"KEY_LIMIT",get:function(){return"l"}},{key:"KEY_FILTERED_ROOMS",get:function(){return"fr"}}]),M(_,[{key:"validate",value:function(m){var w=[];if(null==this._matchExpr&&w.push("Missing match expression"),null==this._matchExpr||this._matchExpr instanceof b.MatchExpression||w.push("Match expression must be passed as an instance of MatchExpression class"),w.length>0)throw new T.SFSValidationError("FindRoomsRequest Error",w)}},{key:"execute",value:function(m){this._reqObj.putSFSArray(_.KEY_EXPRESSION,this._matchExpr.toSFSArray()),null!=this._groupId&&this._reqObj.putUtfString(_.KEY_GROUP,this._groupId),this._limit>0&&this._reqObj.putShort(_.KEY_LIMIT,this._limit)}}]),_}();A.FindRoomsRequest=v},function(H,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.PlayerToSpectatorRequest=void 0;var M=function(){function g(_,m){for(var w=0;w<m.length;w++){var P=m[w];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(_,P.key,P)}}return function(_,m,w){return m&&g(_.prototype,m),w&&g(_,w),_}}(),S=h(2),T=h(1),b=h(9),v=function(g){function _(){var m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!function(P,p){if(!(P instanceof p))throw new TypeError("Cannot call a class as a function")}(this,_);var w=function(P,p){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!p||"object"!=typeof p&&"function"!=typeof p?P:p}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,S.Requests.PlayerToSpectator));return w._room=m,Object.seal(w),w}return function(m,w){if("function"!=typeof w&&null!==w)throw new TypeError("Super expression must either be null or a function, not "+typeof w);m.prototype=Object.create(w&&w.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(m,w):m.__proto__=w)}(_,S.BaseRequest),M(_,null,[{key:"KEY_ROOM_ID",get:function(){return"r"}},{key:"KEY_USER_ID",get:function(){return"u"}}]),M(_,[{key:"validate",value:function(m){var w=[];if(m.getJoinedRooms().length<1&&w.push("You are not joined in any Room"),null==this._room||this._room instanceof b.SFSRoom||w.push("Target Room must be an instance of SFSRoom class"),w.length>0)throw new T.SFSValidationError("PlayerToSpectatorRequest Error",w)}},{key:"execute",value:function(m){null==this._room&&(this._room=m.lastJoinedRoom),this._reqObj.putInt(_.KEY_ROOM_ID,this._room.id)}}]),_}();A.PlayerToSpectatorRequest=v},function(H,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.SpectatorToPlayerRequest=void 0;var M=function(){function g(_,m){for(var w=0;w<m.length;w++){var P=m[w];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(_,P.key,P)}}return function(_,m,w){return m&&g(_.prototype,m),w&&g(_,w),_}}(),S=h(2),T=h(1),b=h(9),v=function(g){function _(){var m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!function(P,p){if(!(P instanceof p))throw new TypeError("Cannot call a class as a function")}(this,_);var w=function(P,p){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!p||"object"!=typeof p&&"function"!=typeof p?P:p}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,S.Requests.SpectatorToPlayer));return w._room=m,Object.seal(w),w}return function(m,w){if("function"!=typeof w&&null!==w)throw new TypeError("Super expression must either be null or a function, not "+typeof w);m.prototype=Object.create(w&&w.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(m,w):m.__proto__=w)}(_,S.BaseRequest),M(_,null,[{key:"KEY_ROOM_ID",get:function(){return"r"}},{key:"KEY_USER_ID",get:function(){return"u"}},{key:"KEY_PLAYER_ID",get:function(){return"p"}}]),M(_,[{key:"validate",value:function(m){var w=[];if(m.getJoinedRooms().length<1&&w.push("You are not joined in any Room"),null==this._room||this._room instanceof b.SFSRoom||w.push("Target Room must be an instance of SFSRoom class"),w.length>0)throw new T.SFSValidationError("SpectatorToPlayerRequest Error",w)}},{key:"execute",value:function(m){null==this._room&&(this._room=m.lastJoinedRoom),this._reqObj.putInt(_.KEY_ROOM_ID,this._room.id)}}]),_}();A.SpectatorToPlayerRequest=v},function(H,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.UnsubscribeRoomGroupRequest=void 0;var M=function(){function v(g,_){for(var m=0;m<_.length;m++){var w=_[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(g,w.key,w)}}return function(g,_,m){return _&&v(g.prototype,_),m&&v(g,m),g}}(),S=h(2),T=h(1),b=function(v){function g(_){!function(w,P){if(!(w instanceof P))throw new TypeError("Cannot call a class as a function")}(this,g);var m=function(w,P){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!P||"object"!=typeof P&&"function"!=typeof P?w:P}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,S.Requests.UnsubscribeRoomGroup));return m._groupId=_,Object.seal(m),m}return function(_,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(_,m):_.__proto__=m)}(g,S.BaseRequest),M(g,null,[{key:"KEY_GROUP_ID",get:function(){return"g"}}]),M(g,[{key:"validate",value:function(_){var m=[];if(null!=this._groupId&&0!==this._groupId.length||m.push("Invalid group id passed; must be a string with at least one character"),m.length>0)throw new T.SFSValidationError("UnsubscribeGroupRequest Error",m)}},{key:"execute",value:function(_){this._reqObj.putUtfString(g.KEY_GROUP_ID,this._groupId)}}]),g}();A.UnsubscribeRoomGroupRequest=b},function(H,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.SubscribeRoomGroupRequest=void 0;var M=function(){function v(g,_){for(var m=0;m<_.length;m++){var w=_[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(g,w.key,w)}}return function(g,_,m){return _&&v(g.prototype,_),m&&v(g,m),g}}(),S=h(2),T=h(1),b=function(v){function g(_){!function(w,P){if(!(w instanceof P))throw new TypeError("Cannot call a class as a function")}(this,g);var m=function(w,P){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!P||"object"!=typeof P&&"function"!=typeof P?w:P}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,S.Requests.SubscribeRoomGroup));return m._groupId=_,Object.seal(m),m}return function(_,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(_,m):_.__proto__=m)}(g,S.BaseRequest),M(g,null,[{key:"KEY_GROUP_ID",get:function(){return"g"}},{key:"KEY_ROOM_LIST",get:function(){return"rl"}}]),M(g,[{key:"validate",value:function(_){var m=[];if(null!=this._groupId&&0!==this._groupId.length||m.push("Invalid group id passed; must be a string with at least one character"),m.length>0)throw new T.SFSValidationError("SubscribeGroupRequest Error",m)}},{key:"execute",value:function(_){this._reqObj.putUtfString(g.KEY_GROUP_ID,this._groupId)}}]),g}();A.SubscribeRoomGroupRequest=b},function(H,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.SetUserVariablesRequest=void 0;var M=function(){function _(m,w){for(var P=0;P<w.length;P++){var p=w[P];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}return function(m,w,P){return w&&_(m.prototype,w),P&&_(m,P),m}}(),S=h(2),T=h(1),b=h(8),v=h(59),g=function(_){function m(w){!function(p,C){if(!(p instanceof C))throw new TypeError("Cannot call a class as a function")}(this,m);var P=function(p,C){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!C||"object"!=typeof C&&"function"!=typeof C?p:C}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,S.Requests.SetUserVariables));return P._userVariables=w,Object.seal(P),P}return function(w,P){if("function"!=typeof P&&null!==P)throw new TypeError("Super expression must either be null or a function, not "+typeof P);w.prototype=Object.create(P&&P.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(w,P):w.__proto__=P)}(m,S.BaseRequest),M(m,null,[{key:"KEY_USER",get:function(){return"u"}},{key:"KEY_VAR_LIST",get:function(){return"vl"}}]),M(m,[{key:"validate",value:function(w){var P=[];if(null==this._userVariables?P.push("No User Variables specified"):this._userVariables instanceof Array?0===this._userVariables.length?P.push("No User Variables specified"):this._userVariables.every(function(p){return p instanceof v.SFSUserVariable})||P.push("User Variables must be passed as instances of SFSUserVariable class"):P.push("User Variables must be passed in an array"),P.length>0)throw new T.SFSValidationError("SetUserVariablesRequest Error",P)}},{key:"execute",value:function(w){var P=new b.SFSArray,p=!0,C=!1,x=void 0;try{for(var L,$=this._userVariables[Symbol.iterator]();!(p=(L=$.next()).done);p=!0)P.addSFSArray(L.value.toSFSArray())}catch(re){C=!0,x=re}finally{try{!p&&$.return&&$.return()}finally{if(C)throw x}}this._reqObj.putSFSArray(m.KEY_VAR_LIST,P)}}]),m}();A.SetUserVariablesRequest=g},function(H,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.SetRoomVariablesRequest=void 0;var M=function(){function m(w,P){for(var p=0;p<P.length;p++){var C=P[p];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(w,C.key,C)}}return function(w,P,p){return P&&m(w.prototype,P),p&&m(w,p),w}}(),S=h(2),T=h(1),b=h(8),v=h(9),g=h(49),_=function(m){function w(P){var p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;!function(x,L){if(!(x instanceof L))throw new TypeError("Cannot call a class as a function")}(this,w);var C=function(x,L){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!L||"object"!=typeof L&&"function"!=typeof L?x:L}(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,S.Requests.SetRoomVariables));return C._roomVariables=P,C._room=p,Object.seal(C),C}return function(P,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function, not "+typeof p);P.prototype=Object.create(p&&p.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(P,p):P.__proto__=p)}(w,S.BaseRequest),M(w,null,[{key:"KEY_VAR_ROOM",get:function(){return"r"}},{key:"KEY_VAR_LIST",get:function(){return"vl"}}]),M(w,[{key:"validate",value:function(P){var p=[];if(null==this._room&&(this._room=P.lastJoinedRoom),null==this._room?p.push("You must be joined in a Room to send a message"):this._room instanceof v.SFSRoom?P.getJoinedRooms().indexOf(this._room)<0&&p.push("You are not joined in the target Room: "+this._room):p.push("Target Room must be an instance of SFSRoom class"),null==this._roomVariables?p.push("No Room Variables specified"):this._roomVariables instanceof Array?0===this._roomVariables.length?p.push("No Room Variables specified"):this._roomVariables.every(function(C){return C instanceof g.SFSRoomVariable})||p.push("Room Variables must be passed as instances of SFSRoomVariable class"):p.push("Room Variables must be passed in an array"),p.length>0)throw new T.SFSValidationError("SetRoomVariablesRequest Error",p)}},{key:"execute",value:function(P){var p=new b.SFSArray,C=!0,x=!1,L=void 0;try{for(var $,X=this._roomVariables[Symbol.iterator]();!(C=($=X.next()).done);C=!0)p.addSFSArray($.value.toSFSArray())}catch(ie){x=!0,L=ie}finally{try{!C&&X.return&&X.return()}finally{if(x)throw L}}this._reqObj.putSFSArray(w.KEY_VAR_LIST,p),this._reqObj.putInt(w.KEY_VAR_ROOM,this._room.id)}}]),w}();A.SetRoomVariablesRequest=_},function(H,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.ChangeRoomCapacityRequest=void 0;var M=function(){function g(_,m){for(var w=0;w<m.length;w++){var P=m[w];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(_,P.key,P)}}return function(_,m,w){return m&&g(_.prototype,m),w&&g(_,w),_}}(),S=h(2),T=h(1),b=h(9),v=function(g){function _(m,w,P){!function(C,x){if(!(C instanceof x))throw new TypeError("Cannot call a class as a function")}(this,_);var p=function(C,x){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!x||"object"!=typeof x&&"function"!=typeof x?C:x}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,S.Requests.ChangeRoomCapacity));return p._room=m,p._newMaxUsers=w,p._newMaxSpect=P,Object.seal(p),p}return function(m,w){if("function"!=typeof w&&null!==w)throw new TypeError("Super expression must either be null or a function, not "+typeof w);m.prototype=Object.create(w&&w.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(m,w):m.__proto__=w)}(_,S.BaseRequest),M(_,null,[{key:"KEY_ROOM",get:function(){return"r"}},{key:"KEY_USER_SIZE",get:function(){return"u"}},{key:"KEY_SPEC_SIZE",get:function(){return"s"}}]),M(_,[{key:"validate",value:function(m){var w=[];if(this._room instanceof b.SFSRoom||w.push("Room must be an instance of SFSRoom class"),w.length>0)throw new T.SFSValidationError("ChangeRoomCapacityRequest Error",w)}},{key:"execute",value:function(m){this._reqObj.putInt(_.KEY_ROOM,this._room.id),this._reqObj.putInt(_.KEY_USER_SIZE,this._newMaxUsers),this._reqObj.putInt(_.KEY_SPEC_SIZE,this._newMaxSpect)}}]),_}();A.ChangeRoomCapacityRequest=v},function(H,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.ChangeRoomPasswordStateRequest=void 0;var M=function(){function g(_,m){for(var w=0;w<m.length;w++){var P=m[w];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(_,P.key,P)}}return function(_,m,w){return m&&g(_.prototype,m),w&&g(_,w),_}}(),S=h(2),T=h(1),b=h(9),v=function(g){function _(m,w){!function(p,C){if(!(p instanceof C))throw new TypeError("Cannot call a class as a function")}(this,_);var P=function(p,C){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!C||"object"!=typeof C&&"function"!=typeof C?p:C}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,S.Requests.ChangeRoomPassword));return P._room=m,P._newPass=w,Object.seal(P),P}return function(m,w){if("function"!=typeof w&&null!==w)throw new TypeError("Super expression must either be null or a function, not "+typeof w);m.prototype=Object.create(w&&w.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(m,w):m.__proto__=w)}(_,S.BaseRequest),M(_,null,[{key:"KEY_ROOM",get:function(){return"r"}},{key:"KEY_PASS",get:function(){return"p"}}]),M(_,[{key:"validate",value:function(m){var w=[];if(this._room instanceof b.SFSRoom||w.push("Room must be an instance of SFSRoom class"),null==this._newPass&&w.push("New room password must be a non-null string (empty string to remove the password)"),w.length>0)throw new T.SFSValidationError("ChangeRoomPasswordStateRequest Error",w)}},{key:"execute",value:function(m){this._reqObj.putInt(_.KEY_ROOM,this._room.id),this._reqObj.putUtfString(_.KEY_PASS,this._newPass)}}]),_}();A.ChangeRoomPasswordStateRequest=v},function(H,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.ChangeRoomNameRequest=void 0;var M=function(){function g(_,m){for(var w=0;w<m.length;w++){var P=m[w];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(_,P.key,P)}}return function(_,m,w){return m&&g(_.prototype,m),w&&g(_,w),_}}(),S=h(2),T=h(1),b=h(9),v=function(g){function _(m,w){!function(p,C){if(!(p instanceof C))throw new TypeError("Cannot call a class as a function")}(this,_);var P=function(p,C){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!C||"object"!=typeof C&&"function"!=typeof C?p:C}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,S.Requests.ChangeRoomName));return P._room=m,P._newName=w,Object.seal(P),P}return function(m,w){if("function"!=typeof w&&null!==w)throw new TypeError("Super expression must either be null or a function, not "+typeof w);m.prototype=Object.create(w&&w.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(m,w):m.__proto__=w)}(_,S.BaseRequest),M(_,null,[{key:"KEY_ROOM",get:function(){return"r"}},{key:"KEY_NAME",get:function(){return"n"}}]),M(_,[{key:"validate",value:function(m){var w=[];if(this._room instanceof b.SFSRoom||w.push("Room must be an instance of SFSRoom class"),null!=this._newName&&0!==this._newName.length||w.push("New room name must be a non-null and non-empty string"),w.length>0)throw new T.SFSValidationError("ChangeRoomNameRequest Error",w)}},{key:"execute",value:function(m){this._reqObj.putInt(_.KEY_ROOM,this._room.id),this._reqObj.putUtfString(_.KEY_NAME,this._newName)}}]),_}();A.ChangeRoomNameRequest=v},function(H,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.JoinRoomRequest=void 0;var M=function(){function g(_,m){for(var w=0;w<m.length;w++){var P=m[w];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(_,P.key,P)}}return function(_,m,w){return m&&g(_.prototype,m),w&&g(_,w),_}}(),S=h(2),T=h(1),b=h(9),v=function(g){function _(m){var w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,P=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,p=arguments.length>3&&void 0!==arguments[3]&&arguments[3];!function(x,L){if(!(x instanceof L))throw new TypeError("Cannot call a class as a function")}(this,_);var C=function(x,L){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!L||"object"!=typeof L&&"function"!=typeof L?x:L}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,S.Requests.JoinRoom));return"string"==typeof m?C._rName=m:"number"==typeof m?C._rId=m:m instanceof b.SFSRoom&&(C._rId=m.id,C._rName=m.name),C._password=w,C._roomIdToLeave=P,C._asSpectator=p,Object.seal(C),C}return function(m,w){if("function"!=typeof w&&null!==w)throw new TypeError("Super expression must either be null or a function, not "+typeof w);m.prototype=Object.create(w&&w.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(m,w):m.__proto__=w)}(_,S.BaseRequest),M(_,null,[{key:"KEY_ROOM",get:function(){return"r"}},{key:"KEY_USER_LIST",get:function(){return"ul"}},{key:"KEY_ROOM_NAME",get:function(){return"n"}},{key:"KEY_ROOM_ID",get:function(){return"i"}},{key:"KEY_PASS",get:function(){return"p"}},{key:"KEY_ROOM_TO_LEAVE",get:function(){return"rl"}},{key:"KEY_AS_SPECTATOR",get:function(){return"sp"}}]),M(_,[{key:"validate",value:function(m){if(null==this._rId&&null==this._rName)throw new T.SFSValidationError("JoinRoomRequest Error",["Missing Room id or name, please provide one of the two or an existing SFSRoom object"])}},{key:"execute",value:function(m){m._isJoining=!0,this._rId>=0?this._reqObj.putInt(_.KEY_ROOM_ID,this._rId):null!=this._rName&&this._reqObj.putUtfString(_.KEY_ROOM_NAME,this._rName),null!=this._password&&this._reqObj.putUtfString(_.KEY_PASS,this._password),null!=this._roomIdToLeave&&this._reqObj.putInt(_.KEY_ROOM_TO_LEAVE,this._roomIdToLeave),this._asSpectator&&this._reqObj.putBool(_.KEY_AS_SPECTATOR,this._asSpectator)}}]),_}();A.JoinRoomRequest=v},function(H,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.LogoutRequest=void 0;var M=function(){function v(g,_){for(var m=0;m<_.length;m++){var w=_[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(g,w.key,w)}}return function(g,_,m){return _&&v(g.prototype,_),m&&v(g,m),g}}(),S=h(2),T=h(1),b=function(v){function g(){!function(m,w){if(!(m instanceof w))throw new TypeError("Cannot call a class as a function")}(this,g);var _=function(m,w){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!w||"object"!=typeof w&&"function"!=typeof w?m:w}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,S.Requests.Logout));return Object.seal(_),_}return function(_,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(_,m):_.__proto__=m)}(g,S.BaseRequest),M(g,null,[{key:"KEY_ZONE_NAME",get:function(){return"zn"}}]),M(g,[{key:"validate",value:function(_){if(null==_.mySelf)throw new T.SFSValidationError("LogoutRequest error",["You are not logged in"])}},{key:"execute",value:function(_){}}]),g}();A.LogoutRequest=b},function(H,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.LoginRequest=void 0;var M=function(){function _(m,w){for(var P=0;P<w.length;P++){var p=w[P];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}return function(m,w,P){return w&&_(m.prototype,w),P&&_(m,P),m}}(),S=h(71),T=h(2),b=h(1),v=h(8),g=function(_){function m(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,C=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;!function(L,$){if(!(L instanceof $))throw new TypeError("Cannot call a class as a function")}(this,m);var x=function(L,$){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!$||"object"!=typeof $&&"function"!=typeof $?L:$}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,T.Requests.Login));return x._userName=w,x._password=P,x._params=p,x._zoneName=C,Object.seal(x),x}return function(w,P){if("function"!=typeof P&&null!==P)throw new TypeError("Super expression must either be null or a function, not "+typeof P);w.prototype=Object.create(P&&P.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(w,P):w.__proto__=P)}(m,T.BaseRequest),M(m,null,[{key:"KEY_ZONE_NAME",get:function(){return"zn"}},{key:"KEY_USER_NAME",get:function(){return"un"}},{key:"KEY_PASSWORD",get:function(){return"pw"}},{key:"KEY_PARAMS",get:function(){return"p"}},{key:"KEY_PRIVILEGE_ID",get:function(){return"pi"}},{key:"KEY_ID",get:function(){return"id"}},{key:"KEY_ROOMLIST",get:function(){return"rl"}},{key:"KEY_RECONNECTION_SECONDS",get:function(){return"rs"}}]),M(m,[{key:"validate",value:function(w){if(null!=w.mySelf)throw new b.SFSValidationError("LoginRequest error",["You are already logged in; logout before attempting a new login"]);var P=[],p=null!=w.config&&null!=w.config.zone?w.config.zone:null;if(null!=this._zoneName&&(p=this._zoneName),null==p||0===p.length?P.push("Missing Zone name"):this._zoneName=p,null==this._params||this._params instanceof v.SFSObject||P.push("Custom parameters must be passed in a SFSObject"),P.length>0)throw new b.SFSValidationError("LoginRequest Error",P)}},{key:"execute",value:function(w){null==this._userName&&(this._userName=""),null==this._password&&(this._password=""),this._reqObj.putUtfString(m.KEY_ZONE_NAME,this._zoneName),this._reqObj.putUtfString(m.KEY_USER_NAME,this._userName),this._reqObj.putUtfString(m.KEY_PASSWORD,this._password.length>0?(new S.MD5).hex_md5(w.sessionToken+this._password):""),null!=this._params&&this._reqObj.putSFSObject(m.KEY_PARAMS,this._params)}}]),m}();A.LoginRequest=g},function(H,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0});var M=function(){function v(g,_){for(var m=0;m<_.length;m++){var w=_[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(g,w.key,w)}}return function(g,_,m){return _&&v(g.prototype,_),m&&v(g,m),g}}();function S(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}var T=function(){function v(g){S(this,v),this._sfs=g,this._usersById=new Map,this._usersByName=new Map}return M(v,[{key:"containsUserName",value:function(g){return this._usersByName.has(g)}},{key:"containsUserId",value:function(g){return this._usersById.has(g)}},{key:"containsUser",value:function(g){return this._usersById.has(g.id)}},{key:"getUserById",value:function(g){return this._usersById.get(g)}},{key:"getUserByName",value:function(g){return this._usersByName.get(g)}},{key:"getUserCount",value:function(){return this._usersById.size}},{key:"getUserList",value:function(){return Array.from(this._usersById.values())}},{key:"_addUser",value:function(g){this.__addUser(g)}},{key:"__addUser",value:function(g){this._usersByName.set(g.name,g),this._usersById.set(g.id,g)}},{key:"_removeUser",value:function(g){this._usersById.delete(g.id),this._usersByName.delete(g.name)}},{key:"_clearAll",value:function(){this._usersById.clear(),this._usersByName.clear()}}]),v}(),b=function(v){function g(_){S(this,g);var m=function(w,P){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!P||"object"!=typeof P&&"function"!=typeof P?w:P}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,_));return m._roomRefCount=new Map,Object.freeze(m),m}return function(_,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(_,m):_.__proto__=m)}(g,T),M(g,[{key:"_addUser",value:function(_){this._roomRefCount.has(_)?this._roomRefCount.set(_,this._roomRefCount.get(_)+1):this._roomRefCount.set(_,1),this.__addUser(_)}},{key:"_removeUser",value:function(_){this._removeUserReference(_,!1)}},{key:"_removeUserReference",value:function(_,m){var w=this._roomRefCount.get(_);w<1&&null!=this._sfs?this._sfs.logger.warn("GlobalUserManager RefCount is already at zero. User: "+_):(this._roomRefCount.set(_,this._roomRefCount.get(_)-1),(0===w||m)&&(function P(p,C,x){null===p&&(p=Function.prototype);var L=Object.getOwnPropertyDescriptor(p,C);if(void 0===L){var $=Object.getPrototypeOf(p);return null===$?void 0:P($,C,x)}if("value"in L)return L.value;var X=L.get;return void 0!==X?X.call(x):void 0}(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"_removeUser",this).call(this,_),this._roomRefCount.delete(_)))}}]),g}();A.SFSUserManager=T,A.GlobalUserManager=b},function(H,A,h){(function(M){var S,T=function(b,v,g){this._byteOffset=v||0,b instanceof ArrayBuffer?this.buffer=b:"object"==typeof b?(this.dataView=b,v&&(this._byteOffset+=v)):this.buffer=new ArrayBuffer(b||1),this.position=0,this.endianness=null==g?T.LITTLE_ENDIAN:g};T.prototype={},void 0===Uint8Array.prototype.BYTES_PER_ELEMENT&&(Uint8Array.prototype.BYTES_PER_ELEMENT=Uint8Array.BYTES_PER_ELEMENT,Int8Array.prototype.BYTES_PER_ELEMENT=Int8Array.BYTES_PER_ELEMENT,Uint8ClampedArray.prototype.BYTES_PER_ELEMENT=Uint8ClampedArray.BYTES_PER_ELEMENT,Uint16Array.prototype.BYTES_PER_ELEMENT=Uint16Array.BYTES_PER_ELEMENT,Int16Array.prototype.BYTES_PER_ELEMENT=Int16Array.BYTES_PER_ELEMENT,Uint32Array.prototype.BYTES_PER_ELEMENT=Uint32Array.BYTES_PER_ELEMENT,Int32Array.prototype.BYTES_PER_ELEMENT=Int32Array.BYTES_PER_ELEMENT,Float64Array.prototype.BYTES_PER_ELEMENT=Float64Array.BYTES_PER_ELEMENT),T.prototype.save=function(b){var v=new Blob(this.buffer),g=window.webkitURL||window.URL;if(!g||!g.createObjectURL)throw"DataStream.save: Can't create object URL.";var _=g.createObjectURL(v),m=document.createElement("a");m.setAttribute("href",_),m.setAttribute("download",b),m.click(),g.revokeObjectURL(_)},T.BIG_ENDIAN=!1,T.LITTLE_ENDIAN=!0,T.prototype._dynamicSize=!0,Object.defineProperty(T.prototype,"dynamicSize",{get:function(){return this._dynamicSize},set:function(b){b||this._trimAlloc(),this._dynamicSize=b}}),T.prototype._byteLength=0,Object.defineProperty(T.prototype,"byteLength",{get:function(){return this._byteLength-this._byteOffset}}),Object.defineProperty(T.prototype,"buffer",{get:function(){return this._trimAlloc(),this._buffer},set:function(b){this._buffer=b,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength}}),Object.defineProperty(T.prototype,"byteOffset",{get:function(){return this._byteOffset},set:function(b){this._byteOffset=b,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength}}),Object.defineProperty(T.prototype,"dataView",{get:function(){return this._dataView},set:function(b){this._byteOffset=b.byteOffset,this._buffer=b.buffer,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._byteOffset+b.byteLength}}),T.prototype._realloc=function(b){if(this._dynamicSize){var v=this._byteOffset+this.position+b,g=this._buffer.byteLength;if(v<=g)v>this._byteLength&&(this._byteLength=v);else{for(g<1&&(g=1);v>g;)g*=2;var _=new ArrayBuffer(g),m=new Uint8Array(this._buffer);new Uint8Array(_,0,m.length).set(m),this.buffer=_,this._byteLength=v}}},T.prototype._trimAlloc=function(){if(this._byteLength!=this._buffer.byteLength){var b=new ArrayBuffer(this._byteLength),v=new Uint8Array(b),g=new Uint8Array(this._buffer,0,v.length);v.set(g),this.buffer=b}},T.prototype.seek=function(b){var v=Math.max(0,Math.min(this.byteLength,b));this.position=isNaN(v)||!isFinite(v)?0:v},T.prototype.isEof=function(){return this.position>=this.byteLength},T.prototype.mapInt32Array=function(b,v){this._realloc(4*b);var g=new Int32Array(this._buffer,this.byteOffset+this.position,b);return T.arrayToNative(g,null==v?this.endianness:v),this.position+=4*b,g},T.prototype.mapInt16Array=function(b,v){this._realloc(2*b);var g=new Int16Array(this._buffer,this.byteOffset+this.position,b);return T.arrayToNative(g,null==v?this.endianness:v),this.position+=2*b,g},T.prototype.mapInt8Array=function(b){this._realloc(1*b);var v=new Int8Array(this._buffer,this.byteOffset+this.position,b);return this.position+=1*b,v},T.prototype.mapUint32Array=function(b,v){this._realloc(4*b);var g=new Uint32Array(this._buffer,this.byteOffset+this.position,b);return T.arrayToNative(g,null==v?this.endianness:v),this.position+=4*b,g},T.prototype.mapUint16Array=function(b,v){this._realloc(2*b);var g=new Uint16Array(this._buffer,this.byteOffset+this.position,b);return T.arrayToNative(g,null==v?this.endianness:v),this.position+=2*b,g},T.prototype.mapUint8Array=function(b){this._realloc(1*b);var v=new Uint8Array(this._buffer,this.byteOffset+this.position,b);return this.position+=1*b,v},T.prototype.mapFloat64Array=function(b,v){this._realloc(8*b);var g=new Float64Array(this._buffer,this.byteOffset+this.position,b);return T.arrayToNative(g,null==v?this.endianness:v),this.position+=8*b,g},T.prototype.mapFloat32Array=function(b,v){this._realloc(4*b);var g=new Float32Array(this._buffer,this.byteOffset+this.position,b);return T.arrayToNative(g,null==v?this.endianness:v),this.position+=4*b,g},T.prototype.readInt32Array=function(b,v){b=null==b?this.byteLength-this.position/4:b;var g=new Int32Array(b);return T.memcpy(g.buffer,0,this.buffer,this.byteOffset+this.position,b*g.BYTES_PER_ELEMENT),T.arrayToNative(g,null==v?this.endianness:v),this.position+=g.byteLength,g},T.prototype.readInt16Array=function(b,v){b=null==b?this.byteLength-this.position/2:b;var g=new Int16Array(b);return T.memcpy(g.buffer,0,this.buffer,this.byteOffset+this.position,b*g.BYTES_PER_ELEMENT),T.arrayToNative(g,null==v?this.endianness:v),this.position+=g.byteLength,g},T.prototype.readInt8Array=function(b){b=null==b?this.byteLength-this.position:b;var v=new Int8Array(b);return T.memcpy(v.buffer,0,this.buffer,this.byteOffset+this.position,b*v.BYTES_PER_ELEMENT),this.position+=v.byteLength,v},T.prototype.readUint32Array=function(b,v){b=null==b?this.byteLength-this.position/4:b;var g=new Uint32Array(b);return T.memcpy(g.buffer,0,this.buffer,this.byteOffset+this.position,b*g.BYTES_PER_ELEMENT),T.arrayToNative(g,null==v?this.endianness:v),this.position+=g.byteLength,g},T.prototype.readUint16Array=function(b,v){b=null==b?this.byteLength-this.position/2:b;var g=new Uint16Array(b);return T.memcpy(g.buffer,0,this.buffer,this.byteOffset+this.position,b*g.BYTES_PER_ELEMENT),T.arrayToNative(g,null==v?this.endianness:v),this.position+=g.byteLength,g},T.prototype.readUint8Array=function(b){b=null==b?this.byteLength-this.position:b;var v=new Uint8Array(b);return T.memcpy(v.buffer,0,this.buffer,this.byteOffset+this.position,b*v.BYTES_PER_ELEMENT),this.position+=v.byteLength,v},T.prototype.readFloat64Array=function(b,v){b=null==b?this.byteLength-this.position/8:b;var g=new Float64Array(b);return T.memcpy(g.buffer,0,this.buffer,this.byteOffset+this.position,b*g.BYTES_PER_ELEMENT),T.arrayToNative(g,null==v?this.endianness:v),this.position+=g.byteLength,g},T.prototype.readFloat32Array=function(b,v){b=null==b?this.byteLength-this.position/4:b;var g=new Float32Array(b);return T.memcpy(g.buffer,0,this.buffer,this.byteOffset+this.position,b*g.BYTES_PER_ELEMENT),T.arrayToNative(g,null==v?this.endianness:v),this.position+=g.byteLength,g},T.prototype.writeInt32Array=function(b,v){if(this._realloc(4*b.length),b instanceof Int32Array&&(this.byteOffset+this.position)%b.BYTES_PER_ELEMENT==0)T.memcpy(this._buffer,this.byteOffset+this.position,b.buffer,b.byteOffset,b.byteLength),this.mapInt32Array(b.length,v);else for(var g=0;g<b.length;g++)this.writeInt32(b[g],v)},T.prototype.writeInt16Array=function(b,v){if(this._realloc(2*b.length),b instanceof Int16Array&&(this.byteOffset+this.position)%b.BYTES_PER_ELEMENT==0)T.memcpy(this._buffer,this.byteOffset+this.position,b.buffer,b.byteOffset,b.byteLength),this.mapInt16Array(b.length,v);else for(var g=0;g<b.length;g++)this.writeInt16(b[g],v)},T.prototype.writeInt8Array=function(b){if(this._realloc(1*b.length),b instanceof Int8Array&&(this.byteOffset+this.position)%b.BYTES_PER_ELEMENT==0)T.memcpy(this._buffer,this.byteOffset+this.position,b.buffer,b.byteOffset,b.byteLength),this.mapInt8Array(b.length);else for(var v=0;v<b.length;v++)this.writeInt8(b[v])},T.prototype.writeUint32Array=function(b,v){if(this._realloc(4*b.length),b instanceof Uint32Array&&(this.byteOffset+this.position)%b.BYTES_PER_ELEMENT==0)T.memcpy(this._buffer,this.byteOffset+this.position,b.buffer,b.byteOffset,b.byteLength),this.mapUint32Array(b.length,v);else for(var g=0;g<b.length;g++)this.writeUint32(b[g],v)},T.prototype.writeUint16Array=function(b,v){if(this._realloc(2*b.length),b instanceof Uint16Array&&(this.byteOffset+this.position)%b.BYTES_PER_ELEMENT==0)T.memcpy(this._buffer,this.byteOffset+this.position,b.buffer,b.byteOffset,b.byteLength),this.mapUint16Array(b.length,v);else for(var g=0;g<b.length;g++)this.writeUint16(b[g],v)},T.prototype.writeUint8Array=function(b){if(this._realloc(1*b.length),b instanceof Uint8Array&&(this.byteOffset+this.position)%b.BYTES_PER_ELEMENT==0)T.memcpy(this._buffer,this.byteOffset+this.position,b.buffer,b.byteOffset,b.byteLength),this.mapUint8Array(b.length);else for(var v=0;v<b.length;v++)this.writeUint8(b[v])},T.prototype.writeFloat64Array=function(b,v){if(this._realloc(8*b.length),b instanceof Float64Array&&(this.byteOffset+this.position)%b.BYTES_PER_ELEMENT==0)T.memcpy(this._buffer,this.byteOffset+this.position,b.buffer,b.byteOffset,b.byteLength),this.mapFloat64Array(b.length,v);else for(var g=0;g<b.length;g++)this.writeFloat64(b[g],v)},T.prototype.writeFloat32Array=function(b,v){if(this._realloc(4*b.length),b instanceof Float32Array&&(this.byteOffset+this.position)%b.BYTES_PER_ELEMENT==0)T.memcpy(this._buffer,this.byteOffset+this.position,b.buffer,b.byteOffset,b.byteLength),this.mapFloat32Array(b.length,v);else for(var g=0;g<b.length;g++)this.writeFloat32(b[g],v)},T.prototype.readInt32=function(b){var v=this._dataView.getInt32(this.position,null==b?this.endianness:b);return this.position+=4,v},T.prototype.readInt16=function(b){var v=this._dataView.getInt16(this.position,null==b?this.endianness:b);return this.position+=2,v},T.prototype.readInt8=function(){var b=this._dataView.getInt8(this.position);return this.position+=1,b},T.prototype.readUint32=function(b){var v=this._dataView.getUint32(this.position,null==b?this.endianness:b);return this.position+=4,v},T.prototype.readUint16=function(b){var v=this._dataView.getUint16(this.position,null==b?this.endianness:b);return this.position+=2,v},T.prototype.readUint8=function(){var b=this._dataView.getUint8(this.position);return this.position+=1,b},T.prototype.readFloat32=function(b){var v=this._dataView.getFloat32(this.position,null==b?this.endianness:b);return this.position+=4,v},T.prototype.readFloat64=function(b){var v=this._dataView.getFloat64(this.position,null==b?this.endianness:b);return this.position+=8,v},T.prototype.writeInt32=function(b,v){this._realloc(4),this._dataView.setInt32(this.position,b,null==v?this.endianness:v),this.position+=4},T.prototype.writeInt16=function(b,v){this._realloc(2),this._dataView.setInt16(this.position,b,null==v?this.endianness:v),this.position+=2},T.prototype.writeInt8=function(b){this._realloc(1),this._dataView.setInt8(this.position,b),this.position+=1},T.prototype.writeUint32=function(b,v){this._realloc(4),this._dataView.setUint32(this.position,b,null==v?this.endianness:v),this.position+=4},T.prototype.writeUint16=function(b,v){this._realloc(2),this._dataView.setUint16(this.position,b,null==v?this.endianness:v),this.position+=2},T.prototype.writeUint8=function(b){this._realloc(1),this._dataView.setUint8(this.position,b),this.position+=1},T.prototype.writeFloat32=function(b,v){this._realloc(4),this._dataView.setFloat32(this.position,b,null==v?this.endianness:v),this.position+=4},T.prototype.writeFloat64=function(b,v){this._realloc(8),this._dataView.setFloat64(this.position,b,null==v?this.endianness:v),this.position+=8},T.endianness=new Int8Array(new Int16Array([1]).buffer)[0]>0,T.memcpy=function(b,v,g,_,m){var w=new Uint8Array(b,v,m),P=new Uint8Array(g,_,m);w.set(P)},T.arrayToNative=function(b,v){return v==this.endianness?b:this.flipArrayEndianness(b)},T.nativeToEndian=function(b,v){return this.endianness==v?b:this.flipArrayEndianness(b)},T.flipArrayEndianness=function(b){for(var v=new Uint8Array(b.buffer,b.byteOffset,b.byteLength),g=0;g<b.byteLength;g+=b.BYTES_PER_ELEMENT)for(var _=g+b.BYTES_PER_ELEMENT-1,m=g;_>m;_--,m++){var w=v[m];v[m]=v[_],v[_]=w}return b},T.createStringFromArray=function(b){for(var v=[],g=0;g<b.length;g+=32768)v.push(String.fromCharCode.apply(null,b.subarray(g,g+32768)));return v.join("")},T.prototype.failurePosition=0,T.prototype.readStruct=function(b){for(var g,_={},m=this.position,w=0;w<b.length;w+=2){if(null==(g=this.readType(b[w+1],_)))return 0==this.failurePosition&&(this.failurePosition=this.position),this.position=m,null;_[b[w]]=g}return _},T.prototype.readUCS2String=function(b,v){return T.createStringFromArray(this.readUint16Array(b,v))},T.prototype.writeUCS2String=function(b,v,g){null==g&&(g=b.length);for(var _=0;_<b.length&&_<g;_++)this.writeUint16(b.charCodeAt(_),v);for(;_<g;_++)this.writeUint16(0)},T.prototype.readString=function(b,v){return null==v||"ASCII"==v?T.createStringFromArray(this.mapUint8Array(null==b?this.byteLength-this.position:b)):new TextDecoder(v).decode(this.mapUint8Array(b))},T.prototype.writeString=function(b,v,g){if(null==v||"ASCII"==v)if(null!=g){var _=0,m=Math.min(b.length,g);for(_=0;_<m;_++)this.writeUint8(b.charCodeAt(_));for(;_<g;_++)this.writeUint8(0)}else for(_=0;_<b.length;_++)this.writeUint8(b.charCodeAt(_));else this.writeUint8Array(new TextEncoder(v).encode(b.substring(0,g)))},T.prototype.readCString=function(b){var v=this.byteLength-this.position,g=new Uint8Array(this._buffer,this._byteOffset+this.position),_=v;null!=b&&(_=Math.min(b,v));for(var m=0;m<_&&0!=g[m];m++);var w=T.createStringFromArray(this.mapUint8Array(m));return null!=b?this.position+=_-m:m!=v&&(this.position+=1),w},T.prototype.writeCString=function(b,v){if(null!=v){var g=0,_=Math.min(b.length,v);for(g=0;g<_;g++)this.writeUint8(b.charCodeAt(g));for(;g<v;g++)this.writeUint8(0)}else{for(g=0;g<b.length;g++)this.writeUint8(b.charCodeAt(g));this.writeUint8(0)}},T.prototype.readType=function(b,v){if("function"==typeof b)return b(this,v);if(!("object"!=typeof b||b instanceof Array))return b.get(this,v);if(b instanceof Array&&3!=b.length)return this.readStruct(b,v);var g,_=null,m=null,w="ASCII",P=this.position;switch("string"==typeof b&&/:/.test(b)&&(b=(g=b.split(":"))[0],m=null!=v[p=g[1]]?parseInt(v[p]):parseInt(g[1])),"string"==typeof b&&/,/.test(b)&&(b=(g=b.split(","))[0],w=parseInt(g[1])),b){case"uint8":_=this.readUint8();break;case"int8":_=this.readInt8();break;case"uint16":_=this.readUint16(this.endianness);break;case"int16":_=this.readInt16(this.endianness);break;case"uint32":_=this.readUint32(this.endianness);break;case"int32":_=this.readInt32(this.endianness);break;case"float32":_=this.readFloat32(this.endianness);break;case"float64":_=this.readFloat64(this.endianness);break;case"uint16be":_=this.readUint16(T.BIG_ENDIAN);break;case"int16be":_=this.readInt16(T.BIG_ENDIAN);break;case"uint32be":_=this.readUint32(T.BIG_ENDIAN);break;case"int32be":_=this.readInt32(T.BIG_ENDIAN);break;case"float32be":_=this.readFloat32(T.BIG_ENDIAN);break;case"float64be":_=this.readFloat64(T.BIG_ENDIAN);break;case"uint16le":_=this.readUint16(T.LITTLE_ENDIAN);break;case"int16le":_=this.readInt16(T.LITTLE_ENDIAN);break;case"uint32le":_=this.readUint32(T.LITTLE_ENDIAN);break;case"int32le":_=this.readInt32(T.LITTLE_ENDIAN);break;case"float32le":_=this.readFloat32(T.LITTLE_ENDIAN);break;case"float64le":_=this.readFloat64(T.LITTLE_ENDIAN);break;case"cstring":_=this.readCString(m);break;case"string":_=this.readString(m,w);break;case"u16string":_=this.readUCS2String(m,this.endianness);break;case"u16stringle":_=this.readUCS2String(m,T.LITTLE_ENDIAN);break;case"u16stringbe":_=this.readUCS2String(m,T.BIG_ENDIAN);break;default:if(3==b.length){var p,C=b[1],x=0;if(x="function"==typeof(p=b[2])?p(v,this,b):"string"==typeof p&&null!=v[p]?parseInt(v[p]):parseInt(p),"string"==typeof C){var L=C.replace(/(le|be)$/,""),$=null;switch(/le$/.test(C)?$=T.LITTLE_ENDIAN:/be$/.test(C)&&($=T.BIG_ENDIAN),"*"==p&&(x=null),L){case"uint8":_=this.readUint8Array(x);break;case"uint16":_=this.readUint16Array(x,$);break;case"uint32":_=this.readUint32Array(x,$);break;case"int8":_=this.readInt8Array(x);break;case"int16":_=this.readInt16Array(x,$);break;case"int32":_=this.readInt32Array(x,$);break;case"float32":_=this.readFloat32Array(x,$);break;case"float64":_=this.readFloat64Array(x,$);break;case"cstring":case"utf16string":case"string":if(null==x)for(_=[];!this.isEof()&&null!=(ee=this.readType(C,v));)_.push(ee);else{_=new Array(x);for(var X=0;X<x;X++)_[X]=this.readType(C,v)}}}else if("*"==p)for(_=[];;){var re=this.position;try{var ie=this.readType(C,v);if(null==ie){this.position=re;break}_.push(ie)}catch(V){this.position=re;break}}else for(_=new Array(x),X=0;X<x;X++){var ee;if(null==(ee=this.readType(C,v)))return null;_[X]=ee}break}}return null!=m&&(this.position=P+m),_},T.prototype.writeStruct=function(b,v){for(var g=0;g<b.length;g+=2)this.writeType(b[g+1],v[b[g]],v)},T.prototype.writeType=function(b,v,g){if("function"==typeof b)return b(this,v);if("object"==typeof b&&!(b instanceof Array))return b.set(this,v,g);var _,m=null,w="ASCII",P=this.position;switch("string"==typeof b&&/:/.test(b)&&(b=(_=b.split(":"))[0],m=parseInt(_[1])),"string"==typeof b&&/,/.test(b)&&(b=(_=b.split(","))[0],w=parseInt(_[1])),b){case"uint8":this.writeUint8(v);break;case"int8":this.writeInt8(v);break;case"uint16":this.writeUint16(v,this.endianness);break;case"int16":this.writeInt16(v,this.endianness);break;case"uint32":this.writeUint32(v,this.endianness);break;case"int32":this.writeInt32(v,this.endianness);break;case"float32":this.writeFloat32(v,this.endianness);break;case"float64":this.writeFloat64(v,this.endianness);break;case"uint16be":this.writeUint16(v,T.BIG_ENDIAN);break;case"int16be":this.writeInt16(v,T.BIG_ENDIAN);break;case"uint32be":this.writeUint32(v,T.BIG_ENDIAN);break;case"int32be":this.writeInt32(v,T.BIG_ENDIAN);break;case"float32be":this.writeFloat32(v,T.BIG_ENDIAN);break;case"float64be":this.writeFloat64(v,T.BIG_ENDIAN);break;case"uint16le":this.writeUint16(v,T.LITTLE_ENDIAN);break;case"int16le":this.writeInt16(v,T.LITTLE_ENDIAN);break;case"uint32le":this.writeUint32(v,T.LITTLE_ENDIAN);break;case"int32le":this.writeInt32(v,T.LITTLE_ENDIAN);break;case"float32le":this.writeFloat32(v,T.LITTLE_ENDIAN);break;case"float64le":this.writeFloat64(v,T.LITTLE_ENDIAN);break;case"cstring":this.writeCString(v,m);break;case"string":this.writeString(v,w,m);break;case"u16string":this.writeUCS2String(v,this.endianness,m);break;case"u16stringle":this.writeUCS2String(v,T.LITTLE_ENDIAN,m);break;case"u16stringbe":this.writeUCS2String(v,T.BIG_ENDIAN,m);break;default:if(3==b.length){for(var p=b[1],C=0;C<v.length;C++)this.writeType(p,v[C]);break}this.writeStruct(b,v)}null!=m&&(this.position=P,this._realloc(m),this.position=P+m)},void 0===(S=function(){return T}.apply(A,[]))||(M.exports=S),"object"==typeof M&&M&&M.exports&&(M.exports=T)}).call(this,h(173)(H))},function(H,A,h){var M=h(24),S=h(12);H.exports=function(T){if(void 0===T)return 0;var b=M(T),v=S(b);if(b!==v)throw RangeError("Wrong length!");return v}},function(H,A,h){"use strict";var M=h(41),S=h(29).getWeak,T=h(5),b=h(4),v=h(42),g=h(62),_=h(19),m=h(16),w=h(40),P=_(5),p=_(6),C=0,x=function(X){return X._l||(X._l=new L)},L=function(){this.a=[]},$=function(X,re){return P(X.a,function(ie){return ie[0]===re})};L.prototype={get:function(X){var re=$(this,X);if(re)return re[1]},has:function(X){return!!$(this,X)},set:function(X,re){var ie=$(this,X);ie?ie[1]=re:this.a.push([X,re])},delete:function(X){var re=p(this.a,function(ie){return ie[0]===X});return~re&&this.a.splice(re,1),!!~re}},H.exports={getConstructor:function(X,re,ie,ee){var V=X(function(q,le){v(q,V,re,"_i"),q._t=re,q._i=C++,q._l=void 0,null!=le&&g(le,ie,q[ee],q)});return M(V.prototype,{delete:function(q){if(!b(q))return!1;var le=S(q);return!0===le?x(w(this,re)).delete(q):le&&m(le,this._i)&&delete le[this._i]},has:function(q){if(!b(q))return!1;var le=S(q);return!0===le?x(w(this,re)).has(q):le&&m(le,this._i)}}),V},def:function(X,re,ie){var ee=S(T(re),!0);return!0===ee?x(X).set(re,ie):ee[X._i]=ie,X},ufstore:x}},function(H,A,h){"use strict";var M=h(10).f,S=h(33),T=h(41),b=h(27),v=h(42),g=h(62),_=h(84),m=h(127),w=h(43),P=h(11),p=h(29).fastKey,C=h(40),x=P?"_s":"size",L=function($,X){var re,ie=p(X);if("F"!==ie)return $._i[ie];for(re=$._f;re;re=re.n)if(re.k==X)return re};H.exports={getConstructor:function($,X,re,ie){var ee=$(function(V,q){v(V,ee,X,"_i"),V._t=X,V._i=S(null),V._f=void 0,V._l=void 0,V[x]=0,null!=q&&g(q,re,V[ie],V)});return T(ee.prototype,{clear:function(){for(var V=C(this,X),q=V._i,le=V._f;le;le=le.n)le.r=!0,le.p&&(le.p=le.p.n=void 0),delete q[le.i];V._f=V._l=void 0,V[x]=0},delete:function(V){var q=C(this,X),le=L(q,V);if(le){var Q=le.n,ce=le.p;delete q._i[le.i],le.r=!0,ce&&(ce.n=Q),Q&&(Q.p=ce),q._f==le&&(q._f=Q),q._l==le&&(q._l=ce),q[x]--}return!!le},forEach:function(V){C(this,X);for(var q,le=b(V,arguments.length>1?arguments[1]:void 0,3);q=q?q.n:this._f;)for(le(q.v,q.k,this);q&&q.r;)q=q.p},has:function(V){return!!L(C(this,X),V)}}),P&&M(ee.prototype,"size",{get:function(){return C(this,X)[x]}}),ee},def:function($,X,re){var ie,ee,V=L($,X);return V?V.v=re:($._l=V={i:ee=p(X,!0),k:X,v:re,p:ie=$._l,n:void 0,r:!1},$._f||($._f=V),ie&&(ie.n=V),$[x]++,"F"!==ee&&($._i[ee]=V)),$},getEntry:L,setStrong:function($,X,re){_($,X,function(ie,ee){this._t=C(ie,X),this._k=ee,this._l=void 0},function(){for(var ie=this._k,ee=this._l;ee&&ee.r;)ee=ee.p;return this._t&&(this._l=ee=ee?ee.n:this._t._f)?m(0,"keys"==ie?ee.k:"values"==ie?ee.v:[ee.k,ee.v]):(this._t=void 0,m(1))},re?"entries":"values",!re,!0),w(X)}}},function(H,A,h){"use strict";var M=h(26);H.exports.f=function(S){return new function(T){var b,v;this.promise=new T(function(g,_){if(void 0!==b||void 0!==v)throw TypeError("Bad Promise constructor");b=g,v=_}),this.resolve=M(b),this.reject=M(v)}(S)}},function(H,A,h){var M,S,T,b=h(27),v=h(141),g=h(90),_=h(96),m=h(6),w=m.process,P=m.setImmediate,p=m.clearImmediate,C=m.MessageChannel,x=m.Dispatch,L=0,$={},X=function(){var ie=+this;if($.hasOwnProperty(ie)){var ee=$[ie];delete $[ie],ee()}},re=function(ie){X.call(ie.data)};P&&p||(P=function(ie){for(var ee=[],V=1;arguments.length>V;)ee.push(arguments[V++]);return $[++L]=function(){v("function"==typeof ie?ie:Function(ie),ee)},M(L),L},p=function(ie){delete $[ie]},"process"==h(25)(w)?M=function(ie){w.nextTick(b(X,ie,1))}:x&&x.now?M=function(ie){x.now(b(X,ie,1))}:C?(T=(S=new C).port2,S.port1.onmessage=re,M=b(T.postMessage,T,1)):m.addEventListener&&"function"==typeof postMessage&&!m.importScripts?(M=function(ie){m.postMessage(ie+"","*")},m.addEventListener("message",re,!1)):M="onreadystatechange"in _("script")?function(ie){g.appendChild(_("script")).onreadystatechange=function(){g.removeChild(this),X.call(ie)}}:function(ie){setTimeout(b(X,ie,1),0)}),H.exports={set:P,clear:p}},function(H,A,h){h(11)&&"g"!=/./g.flags&&h(10).f(RegExp.prototype,"flags",{configurable:!0,get:h(77)})},function(H,A){H.exports=function(h,M){return{value:M,done:!!h}}},function(H,A,h){"use strict";var M=h(52),S=h(127),T=h(53),b=h(21);H.exports=h(84)(Array,"Array",function(v,g){this._t=b(v),this._i=0,this._k=g},function(){var v=this._t,g=this._k,_=this._i++;return!v||_>=v.length?(this._t=void 0,S(1)):S(0,"keys"==g?_:"values"==g?v[_]:[_,v[_]])},"values"),T.Arguments=T.Array,M("keys"),M("values"),M("entries")},function(H,A,h){"use strict";var M=h(14),S=h(34),T=h(12);H.exports=[].copyWithin||function(b,v){var g=M(this),_=T(g.length),m=S(b,_),w=S(v,_),P=arguments.length>2?arguments[2]:void 0,p=Math.min((void 0===P?_:S(P,_))-w,_-m),C=1;for(w<m&&m<w+p&&(C=-1,w+=p-1,m+=p-1);p-- >0;)w in g?g[m]=g[w]:delete g[m],m+=C,w+=C;return g}},function(H,A,h){var M=h(26),S=h(14),T=h(54),b=h(12);H.exports=function(v,g,_,m,w){M(g);var P=S(v),p=T(P),C=b(P.length),x=w?C-1:0,L=w?-1:1;if(_<2)for(;;){if(x in p){m=p[x],x+=L;break}if(x+=L,w?x<0:C<=x)throw TypeError("Reduce of empty array with no initial value")}for(;w?x>=0:C>x;x+=L)x in p&&(m=g(m,p[x],x,P));return m}},function(H,A,h){"use strict";var M=h(10),S=h(36);H.exports=function(T,b,v){b in T?M.f(T,b,S(0,v)):T[b]=v}},function(H,A,h){var M=h(5);H.exports=function(S,T,b,v){try{return v?T(M(b)[0],b[1]):T(b)}catch(_){var g=S.return;throw void 0!==g&&M(g.call(S)),_}}},function(H,A,h){"use strict";var M=h(33),S=h(36),T=h(45),b={};h(18)(b,h(7)("iterator"),function(){return this}),H.exports=function(v,g,_){v.prototype=M(b,{next:S(1,_)}),T(v,g+" Iterator")}},function(H,A,h){var M=h(24),S=h(28);H.exports=function(T){return function(b,v){var g,_,m=String(S(b)),w=M(v),P=m.length;return w<0||w>=P?T?"":void 0:(g=m.charCodeAt(w))<55296||g>56319||w+1===P||(_=m.charCodeAt(w+1))<56320||_>57343?T?m.charAt(w):g:T?m.slice(w,w+2):_-56320+(g-55296<<10)+65536}}},function(H,A){H.exports=Math.log1p||function(h){return(h=+h)>-1e-8&&h<1e-8?h-h*h/2:Math.log(1+h)}},function(H,A,h){var M=h(4),S=Math.floor;H.exports=function(T){return!M(T)&&isFinite(T)&&S(T)===T}},function(H,A,h){"use strict";var M=h(24),S=h(28);H.exports=function(T){var b=String(S(this)),v="",g=M(T);if(g<0||g==1/0)throw RangeError("Count can't be negative");for(;g>0;(g>>>=1)&&(b+=b))1&g&&(v+=b);return v}},function(H,A,h){var M=h(25);H.exports=function(S,T){if("number"!=typeof S&&"Number"!=M(S))throw TypeError(T);return+S}},function(H,A,h){var M=h(6).parseFloat,S=h(65).trim;H.exports=1/M(h(88)+"-0")!=-1/0?function(T){var b=S(String(T),3),v=M(b);return 0===v&&"-"==b.charAt(0)?-0:v}:M},function(H,A,h){var M=h(6).parseInt,S=h(65).trim,T=h(88),b=/^[-+]?0[xX]/;H.exports=8!==M(T+"08")||22!==M(T+"0x16")?function(v,g){var _=S(String(v),3);return M(_,g>>>0||(b.test(_)?16:10))}:M},function(H,A){H.exports=function(h,M,S){var T=void 0===S;switch(M.length){case 0:return T?h():h.call(S);case 1:return T?h(M[0]):h.call(S,M[0]);case 2:return T?h(M[0],M[1]):h.call(S,M[0],M[1]);case 3:return T?h(M[0],M[1],M[2]):h.call(S,M[0],M[1],M[2]);case 4:return T?h(M[0],M[1],M[2],M[3]):h.call(S,M[0],M[1],M[2],M[3])}return h.apply(S,M)}},function(H,A,h){"use strict";var M=h(26),S=h(4),T=h(141),b=[].slice,v={};H.exports=Function.bind||function(g){var _=M(this),m=b.call(arguments,1),w=function(){var P=m.concat(b.call(arguments));return this instanceof w?function(p,C,x){if(!(C in v)){for(var L=[],$=0;$<C;$++)L[$]="a["+$+"]";v[C]=Function("F,a","return new F("+L.join(",")+")")}return v[C](p,x)}(_,P.length,P):T(_,P,g)};return S(_.prototype)&&(w.prototype=_.prototype),w}},function(H,A,h){"use strict";var M=h(55),S=h(68),T=h(67),b=h(14),v=h(54),g=Object.assign;H.exports=!g||h(3)(function(){var _={},m={},w=Symbol(),P="abcdefghijklmnopqrst";return _[w]=7,P.split("").forEach(function(p){m[p]=p}),7!=g({},_)[w]||Object.keys(g({},m)).join("")!=P})?function(_,m){for(var w=b(_),P=arguments.length,p=1,C=S.f,x=T.f;P>p;)for(var L,$=v(arguments[p++]),X=C?M($).concat(C($)):M($),re=X.length,ie=0;re>ie;)x.call($,L=X[ie++])&&(w[L]=$[L]);return w}:g},function(H,A,h){var M=h(21),S=h(32).f,T={}.toString,b="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];H.exports.f=function(v){return b&&"[object Window]"==T.call(v)?function(g){try{return S(g)}catch(_){return b.slice()}}(v):S(M(v))}},function(H,A,h){var M=h(10),S=h(5),T=h(55);H.exports=h(11)?Object.defineProperties:function(b,v){S(b);for(var g,_=T(v),m=_.length,w=0;m>w;)M.f(b,g=_[w++],v[g]);return b}},function(H,A,h){var M=h(16),S=h(21),T=h(94)(!1),b=h(93)("IE_PROTO");H.exports=function(v,g){var _,m=S(v),w=0,P=[];for(_ in m)_!=b&&M(m,_)&&P.push(_);for(;g.length>w;)M(m,_=g[w++])&&(~T(P,_)||P.push(_));return P}},function(H,A,h){A.f=h(7)},function(H,A,h){H.exports=!h(11)&&!h(3)(function(){return 7!=Object.defineProperty(h(96)("div"),"a",{get:function(){return 7}}).a})},function(H,A,h){"use strict";Number.MAX_SAFE_INTEGER||(Number.MAX_SAFE_INTEGER=9007199254740991),Number.isInteger=Number.isInteger||function(M){return"number"==typeof M&&isFinite(M)&&Math.floor(M)===M},Number.isSafeInteger=Number.isSafeInteger||function(M){return Number.isInteger(M)&&Math.abs(M)<=Number.MAX_SAFE_INTEGER},Number.isFinite=Number.isFinite||function(M){return"number"==typeof M&&isFinite(M)},Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(M){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof M)throw new TypeError("predicate must be a function");for(var S=Object(this),T=S.length>>>0,b=arguments[1],v=0;v!==T;v++)if(M.call(b,this[v],v,S))return this[v]}})},function(H,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.BuddyMessageRequest=void 0;var M=h(70),S=h(1),T=h(58),b=function(v){function g(_,m){var w=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(p,C){if(!(p instanceof C))throw new TypeError("Cannot call a class as a function")}(this,g);var P=function(p,C){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!C||"object"!=typeof C&&"function"!=typeof C?p:C}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this));if(null!=m&&!(m instanceof T.SFSBuddy))throw new S.SFSError("Target buddy must be an instance of SFSBuddy class");return P._type=M.GenericMessageType.BUDDY_MSG,P._message=_,P._recipient=null!=m?m.id:-1,P._params=w,Object.seal(P),P}return function(_,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(_,m):_.__proto__=m)}(g,M.GenericMessageRequest),g}();A.BuddyMessageRequest=b},function(H,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.QuickJoinGameRequest=void 0;var M=function(){function _(m,w){for(var P=0;P<w.length;P++){var p=w[P];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}return function(m,w,P){return w&&_(m.prototype,w),P&&_(m,P),m}}(),S=h(2),T=h(1),b=h(9),v=h(38),g=function(_){function m(w,P){var p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(x,L){if(!(x instanceof L))throw new TypeError("Cannot call a class as a function")}(this,m);var C=function(x,L){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!L||"object"!=typeof L&&"function"!=typeof L?x:L}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,S.Requests.QuickJoinGame));return C._matchExpression=w,C._whereToSearch=P,C._roomToLeave=p,Object.seal(C),C}return function(w,P){if("function"!=typeof P&&null!==P)throw new TypeError("Super expression must either be null or a function, not "+typeof P);w.prototype=Object.create(P&&P.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(w,P):w.__proto__=P)}(m,S.BaseRequest),M(m,null,[{key:"KEY_ROOM_LIST",get:function(){return"rl"}},{key:"KEY_GROUP_LIST",get:function(){return"gl"}},{key:"KEY_ROOM_TO_LEAVE",get:function(){return"tl"}},{key:"KEY_MATCH_EXPRESSION",get:function(){return"me"}},{key:"MAX_ROOMS",get:function(){return 32}}]),M(m,[{key:"validate",value:function(w){var P=[];if(null==this._matchExpression||this._matchExpression instanceof v.MatchExpression||P.push("Match expression must be an instance of MatchExpression class"),null==this._whereToSearch||this._whereToSearch.length<1?P.push("Missing list of Rooms or Group names where to search the game to join"):this._whereToSearch.length>m.MAX_ROOMS&&P.push("Too many Rooms specified in list where to search the game to join; client limit is: "+m.MAX_ROOMS),null==this._roomToLeave||this._roomToLeave instanceof b.SFSRoom||P.push("Room to leave must be an instance of SFSRoom class"),P.length>0)throw new T.SFSValidationError("QuickJoinGameRequest Error",P)}},{key:"execute",value:function(w){if("string"==typeof this._whereToSearch[0])this._reqObj.putUtfStringArray(m.KEY_GROUP_LIST,this._whereToSearch);else{if(!(this._whereToSearch[0]instanceof b.SFSRoom))throw new T.SFSError("Invalid type in whereToSearch parameter");var P=[],p=!0,C=!1,x=void 0;try{for(var L,$=this._whereToSearch[Symbol.iterator]();!(p=(L=$.next()).done);p=!0){var X=L.value;X instanceof b.SFSRoom&&P.push(X.id)}}catch(re){C=!0,x=re}finally{try{!p&&$.return&&$.return()}finally{if(C)throw x}}this._reqObj.putIntArray(m.KEY_ROOM_LIST,P)}null!=this._roomToLeave&&this._reqObj.putInt(m.KEY_ROOM_TO_LEAVE,this._roomToLeave.id),null!=this._matchExpression&&this._reqObj.putSFSArray(m.KEY_MATCH_EXPRESSION,this._matchExpression.toSFSArray())}}]),m}();A.QuickJoinGameRequest=g},function(H,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.JoinRoomInvitationRequest=void 0;var M=function(){function _(m,w){for(var P=0;P<w.length;P++){var p=w[P];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}return function(m,w,P){return w&&_(m.prototype,w),P&&_(m,P),m}}(),S=h(2),T=h(1),b=h(9),v=h(8),g=function(_){function m(w,P){var p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,C=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30,x=arguments.length>4&&void 0!==arguments[4]&&arguments[4];!function($,X){if(!($ instanceof X))throw new TypeError("Cannot call a class as a function")}(this,m);var L=function($,X){if(!$)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!X||"object"!=typeof X&&"function"!=typeof X?$:X}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,S.Requests.JoinRoomInvite));return L._targetRoom=w,L._invitedUserNames=P,L._params=p,L._expirySeconds=C,L._asSpectator=x,Object.seal(L),L}return function(w,P){if("function"!=typeof P&&null!==P)throw new TypeError("Super expression must either be null or a function, not "+typeof P);w.prototype=Object.create(P&&P.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(w,P):w.__proto__=P)}(m,S.BaseRequest),M(m,null,[{key:"KEY_ROOM_ID",get:function(){return"r"}},{key:"KEY_EXPIRY_SECONDS",get:function(){return"es"}},{key:"KEY_INVITED_NAMES",get:function(){return"in"}},{key:"KEY_AS_SPECT",get:function(){return"as"}},{key:"KEY_OPTIONAL_PARAMS",get:function(){return"op"}}]),M(m,[{key:"validate",value:function(w){var P=[];if(null==this._targetRoom&&P.push("Missing target room"),null==this._targetRoom||this._targetRoom instanceof b.SFSRoom||P.push("Target room must be an instance of SFSRoom class"),null==this._invitedUserNames?P.push("No invitees provided"):this._invitedUserNames instanceof Array?this._invitedUserNames.length<1&&P.push("No invitees provided"):P.push("Invited user names must be passed in an array"),null==this._params||this._params instanceof v.SFSObject||P.push("Custom invitation parameters must be set in a SFSObject class instance"),P.length>0)throw new T.SFSValidationError("JoinRoomInvitationRequest Error",P)}},{key:"execute",value:function(w){this._reqObj.putInt(m.KEY_ROOM_ID,this._targetRoom.id),this._reqObj.putUtfStringArray(m.KEY_INVITED_NAMES,this._invitedUserNames),this._reqObj.putInt(m.KEY_EXPIRY_SECONDS,this._expirySeconds),this._reqObj.putBool(m.KEY_AS_SPECT,this._asSpectator),null!=this._params&&this._reqObj.putSFSObject(m.KEY_OPTIONAL_PARAMS,this._params)}}]),m}();A.JoinRoomInvitationRequest=g},function(H,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.InvitationReplyRequest=void 0;var M=function(){function _(m,w){for(var P=0;P<w.length;P++){var p=w[P];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}return function(m,w,P){return w&&_(m.prototype,w),P&&_(m,P),m}}(),S=h(2),T=h(1),b=h(8),v=h(72),g=function(_){function m(w,P){var p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(x,L){if(!(x instanceof L))throw new TypeError("Cannot call a class as a function")}(this,m);var C=function(x,L){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!L||"object"!=typeof L&&"function"!=typeof L?x:L}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,S.Requests.InvitationReply));return C._invitation=w,C._reply=P,C._params=p,Object.seal(C),C}return function(w,P){if("function"!=typeof P&&null!==P)throw new TypeError("Super expression must either be null or a function, not "+typeof P);w.prototype=Object.create(P&&P.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(w,P):w.__proto__=P)}(m,S.BaseRequest),M(m,null,[{key:"KEY_INVITATION_ID",get:function(){return"i"}},{key:"KEY_INVITATION_REPLY",get:function(){return"r"}},{key:"KEY_INVITATION_PARAMS",get:function(){return"p"}}]),M(m,[{key:"validate",value:function(w){var P=[];if(null==this._invitation?P.push("Missing invitation object"):this._invitation instanceof v.SFSInvitation||P.push("Invitation object must be an instance of Invitation class"),null==this._params||this._params instanceof b.SFSObject||P.push("Custom invitation parameters must be set in a SFSObject class instance"),P.length>0)throw new T.SFSValidationError("InvitationReplyRequest Error",P)}},{key:"execute",value:function(w){this._reqObj.putInt(m.KEY_INVITATION_ID,this._invitation.id),this._reqObj.putByte(m.KEY_INVITATION_REPLY,this._reply),null!=this._params&&this._reqObj.putSFSObject(m.KEY_INVITATION_PARAMS,this._params)}}]),m}();A.InvitationReplyRequest=g},function(H,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.CreateSFSGameRequest=void 0;var M=function(){function C(x,L){for(var $=0;$<L.length;$++){var X=L[$];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(x,X.key,X)}}return function(x,L,$){return L&&C(x.prototype,L),$&&C(x,$),x}}(),S=h(2),T=h(1),b=h(56),v=h(57),g=h(69),_=h(47),m=h(58),w=h(8),P=h(38),p=function(C){function x(L){!function(X,re){if(!(X instanceof re))throw new TypeError("Cannot call a class as a function")}(this,x);var $=function(X,re){if(!X)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!re||"object"!=typeof re&&"function"!=typeof re?X:re}(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,S.Requests.CreateSFSGame));return $._settings=L,$._createRoomRequest=new v.CreateRoomRequest(L,!1,null),Object.seal($),$}return function(L,$){if("function"!=typeof $&&null!==$)throw new TypeError("Super expression must either be null or a function, not "+typeof $);L.prototype=Object.create($&&$.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),$&&(Object.setPrototypeOf?Object.setPrototypeOf(L,$):L.__proto__=$)}(x,S.BaseRequest),M(x,null,[{key:"KEY_IS_PUBLIC",get:function(){return"gip"}},{key:"KEY_MIN_PLAYERS",get:function(){return"gmp"}},{key:"KEY_INVITED_PLAYERS",get:function(){return"ginp"}},{key:"KEY_SEARCHABLE_ROOMS",get:function(){return"gsr"}},{key:"KEY_PLAYER_MATCH_EXP",get:function(){return"gpme"}},{key:"KEY_SPECTATOR_MATCH_EXP",get:function(){return"gsme"}},{key:"KEY_INVITATION_EXPIRY",get:function(){return"gie"}},{key:"KEY_LEAVE_ROOM",get:function(){return"glr"}},{key:"KEY_NOTIFY_GAME_STARTED",get:function(){return"gns"}},{key:"KEY_INVITATION_PARAMS",get:function(){return"ip"}}]),M(x,[{key:"validate",value:function(L){if(!(this._settings instanceof b.SFSGameSettings))throw new T.SFSValidationError("CreateSFSGameRequest Error",["Room configuration must be an instance of SFSGameSettings class"]);var $=[];try{this._createRoomRequest.validate(L)}catch(X){$=X.getErrors()}if(this._settings.minPlayersToStartGame>this._settings.maxUsers&&$.push("Minimum number of players to start the game can't be greater than the Room's maximum number of users"),(this._settings.invitationExpiryTime<g.InviteUsersRequest.MIN_EXPIRY_TIME||this._settings.invitationExpiryTime>g.InviteUsersRequest.MAX_EXPIRY_TIME)&&$.push("Invitation expiration time value is out of range (min: "+g.InviteUsersRequest.MIN_EXPIRY_TIME+"; max: "+g.InviteUsersRequest.MAX_EXPIRY_TIME+")"),null!=this._settings.invitedPlayers&&(this._settings.invitedPlayers instanceof Array?(this._settings.invitedPlayers.length>g.InviteUsersRequest.MAX_INVITATIONS_FROM_CLIENT_SIDE&&$.push("Can't invite more than "+g.InviteUsersRequest.MAX_INVITATIONS_FROM_CLIENT_SIDE+" players from client side"),this._settings.invitedPlayers.every(function(X){return X instanceof _.SFSUser||X instanceof m.SFSBuddy})||$.push("Each invited player must be an instance of SFSUser or SFSBuddy classes")):$.push("Invited players must be passed in an array")),null==this._settings.playerMatchExpression||this._settings.playerMatchExpression instanceof P.MatchExpression||$.push("Player match expression must be an instance of MatchExpression class"),null==this._settings.spectatorMatchExpression||this._settings.spectatorMatchExpression instanceof P.MatchExpression||$.push("Spectator match expression must be an instance of MatchExpression class"),null==this._settings.invitationParams||this._settings.invitationParams instanceof w.SFSObject||$.push("Custom invitation parameters must be set in a SFSObject class instance"),$.length>0)throw new T.SFSValidationError("CreateSFSGameRequest Error",$)}},{key:"execute",value:function(L){if(this._createRoomRequest.execute(L),this._reqObj=this._createRoomRequest._reqObj,this._reqObj.putBool(x.KEY_IS_PUBLIC,this._settings.isPublic),this._reqObj.putShort(x.KEY_MIN_PLAYERS,this._settings.minPlayersToStartGame),this._reqObj.putShort(x.KEY_INVITATION_EXPIRY,this._settings.invitationExpiryTime),this._reqObj.putBool(x.KEY_LEAVE_ROOM,this._settings.leaveLastJoinedRoom),this._reqObj.putBool(x.KEY_NOTIFY_GAME_STARTED,this._settings.notifyGameStarted),null!=this._settings.playerMatchExpression&&this._reqObj.putSFSArray(x.KEY_PLAYER_MATCH_EXP,this._settings.playerMatchExpression.toSFSArray()),null!=this._settings.spectatorMatchExpression&&this._reqObj.putSFSArray(x.KEY_SPECTATOR_MATCH_EXP,this._settings.spectatorMatchExpression.toSFSArray()),null!=this._settings.invitedPlayers){var $=[],X=!0,re=!1,ie=void 0;try{for(var ee,V=this._settings.invitedPlayers[Symbol.iterator]();!(X=(ee=V.next()).done);X=!0)$.push(ee.value.id)}catch(le){re=!0,ie=le}finally{try{!X&&V.return&&V.return()}finally{if(re)throw ie}}this._reqObj.putIntArray(x.KEY_INVITED_PLAYERS,$)}null!=this._settings.searchableRooms&&this._reqObj.putUtfStringArray(x.KEY_SEARCHABLE_ROOMS,this._settings.searchableRooms),null!=this._settings.invitationParams&&this._reqObj.putSFSObject(x.KEY_INVITATION_PARAMS,this._settings.invitationParams)}}]),x}();A.CreateSFSGameRequest=p},function(H,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.BanUserRequest=void 0;var M=function(){function v(g,_){for(var m=0;m<_.length;m++){var w=_[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(g,w.key,w)}}return function(g,_,m){return _&&v(g.prototype,_),m&&v(g,m),g}}(),S=h(2),T=h(1),b=function(v){function g(_){var m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,w=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,P=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,p=arguments.length>4&&void 0!==arguments[4]?arguments[4]:24;!function(x,L){if(!(x instanceof L))throw new TypeError("Cannot call a class as a function")}(this,g);var C=function(x,L){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!L||"object"!=typeof L&&"function"!=typeof L?x:L}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,S.Requests.BanUser));return C._userId=_,C._message=m,C._banMode=w,C._delay=P,C._durationHours=p,Object.seal(C),C}return function(_,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(_,m):_.__proto__=m)}(g,S.BaseRequest),M(g,null,[{key:"KEY_USER_ID",get:function(){return"u"}},{key:"KEY_MESSAGE",get:function(){return"m"}},{key:"KEY_DELAY",get:function(){return"d"}},{key:"KEY_BAN_MODE",get:function(){return"b"}},{key:"KEY_BAN_DURATION_HOURS",get:function(){return"dh"}}]),M(g,[{key:"validate",value:function(_){var m=[];if(m.length>0)throw new T.SFSValidationError("BanUserRequest Error",m)}},{key:"execute",value:function(_){this._reqObj.putInt(g.KEY_USER_ID,this._userId),this._reqObj.putInt(g.KEY_DELAY,this._delay),this._reqObj.putInt(g.KEY_BAN_MODE,this._banMode),this._reqObj.putInt(g.KEY_BAN_DURATION_HOURS,this._durationHours),null!=this._message&&this._message.length>0&&this._reqObj.putUtfString(g.KEY_MESSAGE,this._message)}}]),g}();A.BanUserRequest=b},function(H,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.KickUserRequest=void 0;var M=function(){function v(g,_){for(var m=0;m<_.length;m++){var w=_[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(g,w.key,w)}}return function(g,_,m){return _&&v(g.prototype,_),m&&v(g,m),g}}(),S=h(2),T=h(1),b=function(v){function g(_){var m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,w=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;!function(p,C){if(!(p instanceof C))throw new TypeError("Cannot call a class as a function")}(this,g);var P=function(p,C){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!C||"object"!=typeof C&&"function"!=typeof C?p:C}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,S.Requests.KickUser));return w<0&&(w=0),P._userId=_,P._message=m,P._delay=w,Object.seal(P),P}return function(_,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(_,m):_.__proto__=m)}(g,S.BaseRequest),M(g,null,[{key:"KEY_USER_ID",get:function(){return"u"}},{key:"KEY_MESSAGE",get:function(){return"m"}},{key:"KEY_DELAY",get:function(){return"d"}}]),M(g,[{key:"validate",value:function(_){var m=[];if(m.length>0)throw new T.SFSValidationError("KickUserRequest Error",m)}},{key:"execute",value:function(_){this._reqObj.putInt(g.KEY_USER_ID,this._userId),this._reqObj.putInt(g.KEY_DELAY,this._delay),null!=this._message&&this._message.length>0&&this._reqObj.putUtfString(g.KEY_MESSAGE,this._message)}}]),g}();A.KickUserRequest=b},function(H,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.LeaveRoomRequest=void 0;var M=function(){function g(_,m){for(var w=0;w<m.length;w++){var P=m[w];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(_,P.key,P)}}return function(_,m,w){return m&&g(_.prototype,m),w&&g(_,w),_}}(),S=h(2),T=h(1),b=h(9),v=function(g){function _(){var m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!function(P,p){if(!(P instanceof p))throw new TypeError("Cannot call a class as a function")}(this,_);var w=function(P,p){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!p||"object"!=typeof p&&"function"!=typeof p?P:p}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,S.Requests.LeaveRoom));return w._room=m,Object.seal(w),w}return function(m,w){if("function"!=typeof w&&null!==w)throw new TypeError("Super expression must either be null or a function, not "+typeof w);m.prototype=Object.create(w&&w.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(m,w):m.__proto__=w)}(_,S.BaseRequest),M(_,null,[{key:"KEY_ROOM_ID",get:function(){return"r"}}]),M(_,[{key:"validate",value:function(m){var w=[];if(m.getJoinedRooms().length<1&&w.push("You are not joined in any Room"),null==this._room||this._room instanceof b.SFSRoom||w.push("Room must be an instance of SFSRoom class"),w.length>0)throw new T.SFSValidationError("LeaveRoomRequest Error",w)}},{key:"execute",value:function(m){null!=this._room&&this._reqObj.putInt(_.KEY_ROOM_ID,this._room.id)}}]),_}();A.LeaveRoomRequest=v},function(H,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.QuickJoinOrCreateRoomRequest=void 0;var M=function(){function m(w,P){for(var p=0;p<P.length;p++){var C=P[p];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(w,C.key,C)}}return function(w,P,p){return P&&m(w.prototype,P),p&&m(w,p),w}}(),S=h(2),T=h(57),b=h(1),v=h(9),g=h(38),_=function(m){function w(P,p,C){var x=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;!function($,X){if(!($ instanceof X))throw new TypeError("Cannot call a class as a function")}(this,w);var L=function($,X){if(!$)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!X||"object"!=typeof X&&"function"!=typeof X?$:X}(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,S.Requests.QuickJoinOrCreateRoom));return L._matchExpression=P,L._groupList=p,L._settings=C,L._roomToLeave=x,L._createRoomRequest=new T.CreateRoomRequest(C,!1,null),Object.seal(L),L}return function(P,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function, not "+typeof p);P.prototype=Object.create(p&&p.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(P,p):P.__proto__=p)}(w,S.BaseRequest),M(w,null,[{key:"KEY_MATCH_EXPRESSION",get:function(){return"me"}},{key:"KEY_GROUP_LIST",get:function(){return"gl"}},{key:"KEY_ROOM_SETTINGS",get:function(){return"rs"}},{key:"KEY_ROOM_TO_LEAVE",get:function(){return"tl"}}]),M(w,[{key:"validate",value:function(P){if(!(this._matchExpression instanceof g.MatchExpression))throw new b.SFSValidationError("QuickJoinOrCreateRoomRequest Error",["Match expression must be an instance of MatchExpression class"]);var p=[];(null==this._groupList||this._groupList.length<1)&&p.push("Missing list of Group names where to search the game to join"),null==this._roomToLeave||this._roomToLeave instanceof v.SFSRoom||p.push("Room to leave must be an instance of SFSRoom class");try{this._createRoomRequest.validate(P)}catch(C){p=p.concat(C.errors)}if(p.length>0)throw new b.SFSValidationError("QuickJoinOrCreateRoomRequest Error",p)}},{key:"execute",value:function(P){this._createRoomRequest.execute(P);var p=this._createRoomRequest.getMessage().content;this._reqObj.putSFSArray(w.KEY_MATCH_EXPRESSION,this._matchExpression.toSFSArray()),this._reqObj.putUtfStringArray(w.KEY_GROUP_LIST,this._groupList),this._reqObj.putSFSObject(w.KEY_ROOM_SETTINGS,p),null!=this._roomToLeave&&this._reqObj.putInt(w.KEY_ROOM_TO_LEAVE,this._roomToLeave.id)}}]),w}();A.QuickJoinOrCreateRoomRequest=_},function(H,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.PasswordUtil=void 0;var M=function(){function b(v,g){for(var _=0;_<g.length;_++){var m=g[_];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(v,m.key,m)}}return function(v,g,_){return g&&b(v.prototype,g),_&&b(v,_),v}}(),S=h(71),T=function(){function b(){throw function(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}(this,b),"Class PasswordUtil cannot be instantiated. Please check the documentation for more details on its usage"}return M(b,null,[{key:"md5Password",value:function(v){return(new S.MD5).hex_md5(v)}}]),b}();A.PasswordUtil=T},function(H,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0});var M=Object.freeze({NAME:"${N}",GROUP_ID:"${G}",MAX_USERS:"${MXU}",MAX_SPECTATORS:"${MXS}",USER_COUNT:"${UC}",SPECTATOR_COUNT:"${SC}",IS_GAME:"${ISG}",IS_PRIVATE:"${ISP}",HAS_FREE_PLAYER_SLOTS:"${HFP}",IS_TYPE_SFSGAME:"${IST}",IS_TYPE_MMO:"${ISM}",IS_TYPE_DEFAULT:"${ISD}"}),S=Object.freeze({NAME:"${N}",IS_PLAYER:"${ISP}",IS_SPECTATOR:"${ISS}",IS_NPC:"${ISN}",PRIVILEGE_ID:"${PRID}",IS_IN_ANY_ROOM:"${IAR}"});A.RoomProperties=M,A.UserProperties=S},function(H,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0});var M=function(){function w(P,p){for(var C=0;C<p.length;C++){var x=p[C];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(P,x.key,x)}}return function(P,p,C){return p&&w(P.prototype,p),C&&w(P,C),P}}();function S(w,P){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!P||"object"!=typeof P&&"function"!=typeof P?w:P}function T(w,P){if("function"!=typeof P&&null!==P)throw new TypeError("Super expression must either be null or a function, not "+typeof P);w.prototype=Object.create(P&&P.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(w,P):w.__proto__=P)}function b(w,P){if(!(w instanceof P))throw new TypeError("Cannot call a class as a function")}var v=function(){function w(P,p){b(this,w),this._type=P,this._symbol=p,Object.freeze(this)}return M(w,[{key:"type",get:function(){return this._type}},{key:"symbol",get:function(){return this._symbol}}]),w}(),g=function(w){function P(p){b(this,P);var C=S(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,0,p));return Object.freeze(C),C}return T(P,v),M(P,null,[{key:"EQUALS",get:function(){return new P("==")}},{key:"NOT_EQUALS",get:function(){return new P("!=")}}]),P}(),_=function(w){function P(p){b(this,P);var C=S(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,1,p));return Object.freeze(C),C}return T(P,v),M(P,null,[{key:"EQUALS",get:function(){return new P("==")}},{key:"NOT_EQUALS",get:function(){return new P("!=")}},{key:"GREATER_THAN",get:function(){return new P(">")}},{key:"GREATER_THAN_OR_EQUAL_TO",get:function(){return new P(">=")}},{key:"LESS_THAN",get:function(){return new P("<")}},{key:"LESS_THAN_OR_EQUAL_TO",get:function(){return new P("<=")}}]),P}(),m=function(w){function P(p){b(this,P);var C=S(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,2,p));return Object.freeze(C),C}return T(P,v),M(P,null,[{key:"EQUALS",get:function(){return new P("==")}},{key:"NOT_EQUALS",get:function(){return new P("!=")}},{key:"CONTAINS",get:function(){return new P("contains")}},{key:"STARTS_WITH",get:function(){return new P("startsWith")}},{key:"ENDS_WITH",get:function(){return new P("endsWith")}}]),P}();A.BoolMatch=g,A.NumberMatch=_,A.StringMatch=m},function(H,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.PingPongRequest=void 0;var M=function(){function b(v,g){for(var _=0;_<g.length;_++){var m=g[_];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(v,m.key,m)}}return function(v,g,_){return g&&b(v.prototype,g),_&&b(v,_),v}}(),S=h(2),T=function(b){function v(){!function(_,m){if(!(_ instanceof m))throw new TypeError("Cannot call a class as a function")}(this,v);var g=function(_,m){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?_:m}(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,S.Requests.PingPong));return Object.seal(g),g}return function(g,_){if("function"!=typeof _&&null!==_)throw new TypeError("Super expression must either be null or a function, not "+typeof _);g.prototype=Object.create(_&&_.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(g,_):g.__proto__=_)}(v,S.BaseRequest),M(v,[{key:"validate",value:function(g){}},{key:"execute",value:function(g){}}]),v}();A.PingPongRequest=T},function(H,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.LagMonitor=void 0;var M=function(){function b(v,g){for(var _=0;_<g.length;_++){var m=g[_];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(v,m.key,m)}}return function(v,g,_){return g&&b(v.prototype,g),_&&b(v,_),v}}(),S=h(162),T=function(){function b(v){var g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,_=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;(function(m,w){if(!(m instanceof w))throw new TypeError("Cannot call a class as a function")})(this,b),this._sfs=v,this._valueQueue=[],this._interval=g,this._queueSize=_,this._thread=null,this._lastReqTime=-1}return M(b,[{key:"start",value:function(){this.isRunning||null==this._sfs||(this._thread=setInterval(this._threadRunner,1e3*this._interval,this))}},{key:"stop",value:function(){this.isRunning&&(clearInterval(this._thread),this._thread=null,this._valueQueue=[])}},{key:"destroy",value:function(){this.stop(),this._sfs=null}},{key:"getLastPingTime",value:function(){return this._valueQueue.length>0?this._valueQueue[this._valueQueue.length-1]:0}},{key:"_threadRunner",value:function(v){v._lastReqTime=(new Date).getTime(),v._sfs.send(new S.PingPongRequest)}},{key:"_onPingPong",value:function(){var v=(new Date).getTime()-this._lastReqTime;return this._valueQueue.length>=this._queueSize&&this._valueQueue.shift(),this._valueQueue.push(v),this._getAveragePingTime()}},{key:"_getAveragePingTime",value:function(){if(0==this._valueQueue.length)return 0;for(var v=0,g=0;g<this._valueQueue.length;g++)v+=this._valueQueue[g];return v/this._valueQueue.length}},{key:"isRunning",get:function(){return null!=this._thread}}]),b}();A.LagMonitor=T},function(H,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.HandshakeRequest=void 0;var M=function(){function b(v,g){for(var _=0;_<g.length;_++){var m=g[_];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(v,m.key,m)}}return function(v,g,_){return g&&b(v.prototype,g),_&&b(v,_),v}}(),S=h(2),T=function(b){function v(g,_){!function(w,P){if(!(w instanceof P))throw new TypeError("Cannot call a class as a function")}(this,v);var m=function(w,P){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!P||"object"!=typeof P&&"function"!=typeof P?w:P}(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,S.Requests.Handshake));return m._apiVersion=g,m._clientDetails=_,Object.seal(m),m}return function(g,_){if("function"!=typeof _&&null!==_)throw new TypeError("Super expression must either be null or a function, not "+typeof _);g.prototype=Object.create(_&&_.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(g,_):g.__proto__=_)}(v,S.BaseRequest),M(v,null,[{key:"KEY_SESSION_TOKEN",get:function(){return"tk"}},{key:"KEY_API",get:function(){return"api"}},{key:"KEY_COMPRESSION_THRESHOLD",get:function(){return"ct"}},{key:"KEY_CLIENT_TYPE",get:function(){return"cl"}},{key:"KEY_MAX_MESSAGE_SIZE",get:function(){return"ms"}}]),M(v,[{key:"validate",value:function(g){}},{key:"execute",value:function(g){this._reqObj.putUtfString(v.KEY_API,this._apiVersion),this._reqObj.putUtfString(v.KEY_CLIENT_TYPE,this._clientDetails)}}]),v}();A.HandshakeRequest=T},function(H,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.SFSBuddyManager=void 0;var M=function(){function b(v,g){for(var _=0;_<g.length;_++){var m=g[_];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(v,m.key,m)}}return function(v,g,_){return g&&b(v.prototype,g),_&&b(v,_),v}}(),S=h(46),T=function(){function b(v){(function(g,_){if(!(g instanceof _))throw new TypeError("Cannot call a class as a function")})(this,b),this._sfs=v,this._buddiesByName=new Map,this._myVariables=new Map,this._inited=!1,this._buddyStates=new Set,Object.seal(this)}return M(b,[{key:"containsBuddy",value:function(v){return this._buddiesByName.has(v)}},{key:"getBuddyById",value:function(v){return this.getBuddyList().find(function(g){return g.id===v})}},{key:"getBuddyByName",value:function(v){return this._buddiesByName.get(v)}},{key:"getBuddyByNickName",value:function(v){return this.getBuddyList().find(function(g){return g.nickName===v})}},{key:"getOfflineBuddies",value:function(){return this.getBuddyList().filter(function(v){return!v.isOnline})}},{key:"getOnlineBuddies",value:function(){return this.getBuddyList().filter(function(v){return v.isOnline})}},{key:"getBuddyList",value:function(){return Array.from(this._buddiesByName.values())}},{key:"getMyVariable",value:function(v){return this._myVariables.get(v)}},{key:"getMyVariables",value:function(){return Array.from(this._myVariables.values())}},{key:"getMyOnlineState",value:function(){if(!this._inited)return!1;var v=this.getMyVariable(S.ReservedBuddyVariables.BV_ONLINE);return null==v||v.value}},{key:"getMyNickName",value:function(){var v=this.getMyVariable(S.ReservedBuddyVariables.BV_NICKNAME);return null!=v?v.value:null}},{key:"getMyState",value:function(){var v=this.getMyVariable(S.ReservedBuddyVariables.BV_STATE);return null!=v?v.value:null}},{key:"getBuddyStates",value:function(){return Array.from(this._buddyStates.values())}},{key:"_setInited",value:function(){this._inited=!0}},{key:"_addBuddy",value:function(v){this._buddiesByName.set(v.name,v)}},{key:"_clearAll",value:function(){this._buddiesByName.clear()}},{key:"_removeBuddyById",value:function(v){var g=this.getBuddyById(v);return null!=g&&this._buddiesByName.delete(g.name),g}},{key:"_removeBuddyByName",value:function(v){var g=this.getBuddyByName(v);return null!=g&&this._buddiesByName.delete(v),g}},{key:"_setMyVariables",value:function(v){var g=!0,_=!1,m=void 0;try{for(var w,P=v[Symbol.iterator]();!(g=(w=P.next()).done);g=!0)this._setMyVariable(w.value)}catch(C){_=!0,m=C}finally{try{!g&&P.return&&P.return()}finally{if(_)throw m}}}},{key:"_setMyVariable",value:function(v){v.isNull?this._myVariables.delete(v.name):this._myVariables.set(v.name,v)}},{key:"_setMyOnlineState",value:function(v){this._setMyVariable(new S.SFSBuddyVariable(S.ReservedBuddyVariables.BV_ONLINE,v))}},{key:"_setMyNickName",value:function(v){this._setMyVariable(new S.SFSBuddyVariable(S.ReservedBuddyVariables.BV_NICKNAME,v))}},{key:"_setMyState",value:function(v){this._setMyVariable(new S.SFSBuddyVariable(S.ReservedBuddyVariables.BV_STATE,v))}},{key:"_setBuddyStates",value:function(v){this._buddyStates=new Set(v)}},{key:"isInited",get:function(){return this._inited}}]),b}();A.SFSBuddyManager=T},function(H,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.SFSRoomManager=void 0;var M=function(){function b(v,g){for(var _=0;_<g.length;_++){var m=g[_];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(v,m.key,m)}}return function(v,g,_){return g&&b(v.prototype,g),_&&b(v,_),v}}(),S=h(9),T=function(){function b(v){(function(g,_){if(!(g instanceof _))throw new TypeError("Cannot call a class as a function")})(this,b),this._sfs=v,this._groups=new Set,this._roomsById=new Map,this._roomsByName=new Map,Object.seal(this)}return M(b,[{key:"getRoomGroups",value:function(){return Array.from(this._groups)}},{key:"containsGroup",value:function(v){return this._groups.has(v)}},{key:"containsRoom",value:function(v){return"number"==typeof v?this._roomsById.has(v):this._roomsByName.has(v)}},{key:"containsRoomInGroup",value:function(v,g){return this.getRoomListFromGroup(g).some("number"==typeof v?function(m){return m.id===v}:function(m){return m.name===v})}},{key:"getRoomById",value:function(v){return this._roomsById.get(v)}},{key:"getRoomByName",value:function(v){return this._roomsByName.get(v)}},{key:"getRoomList",value:function(){return Array.from(this._roomsById.values())}},{key:"getRoomCount",value:function(){return this._roomsById.size}},{key:"getRoomListFromGroup",value:function(v){return this.getRoomList().filter(function(g){return g.groupId===v})}},{key:"getJoinedRooms",value:function(){return this.getRoomList().filter(function(v){return v.isJoined})}},{key:"getUserRooms",value:function(v){return this.getRoomList().filter(function(g){return g.containsUser(v)})}},{key:"_addRoom",value:function(v){var g=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._roomsById.set(v.id,v),this._roomsByName.set(v.name,v),v._setRoomManager(this),g?this._addGroup(v.groupId):v._isManaged=!1}},{key:"_replaceRoom",value:function(v){var g=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],_=this.getRoomById(v.id);return null!=_?(_._merge(v),_):(this._addRoom(v,g),v)}},{key:"_removeRoom",value:function(v){this._roomsById.delete(v.id),this._roomsByName.delete(v.name)}},{key:"_removeRoomById",value:function(v){var g=this.getRoomById(v);null!=g&&this._removeRoom(g)}},{key:"_removeRoomByName",value:function(v){var g=this.getRoomByName(v);null!=g&&this._removeRoom(g)}},{key:"_changeRoomName",value:function(v,g){var _=v.name;v._name=g,this._roomsByName.set(g,v),this._roomsByName.delete(_)}},{key:"_changeRoomPasswordState",value:function(v,g){v._isPasswordProtected=g}},{key:"_changeRoomCapacity",value:function(v,g,_){v._maxUsers=g,v._maxSpectators=_}},{key:"_addGroup",value:function(v){this.containsGroup(v)||this._groups.add(v)}},{key:"_removeGroup",value:function(v){this._groups.delete(v);var g=this.getRoomListFromGroup(v),_=!0,m=!1,w=void 0;try{for(var P,p=g[Symbol.iterator]();!(_=(P=p.next()).done);_=!0){var C=P.value;C.isJoined?C._isManaged=!1:this._removeRoom(C)}}catch(x){m=!0,w=x}finally{try{!_&&p.return&&p.return()}finally{if(m)throw w}}}},{key:"_removeUser",value:function(v){var g=!0,_=!1,m=void 0;try{for(var w,P=this.getUserRooms(v)[Symbol.iterator]();!(g=(w=P.next()).done);g=!0){var p=w.value;p instanceof S.MMORoom||p._removeUser(v)}}catch(C){_=!0,m=C}finally{try{!g&&P.return&&P.return()}finally{if(_)throw m}}}}]),b}();A.SFSRoomManager=T},function(H,A){(function(){"use strict";function h(Ne){throw Ne}var M=void 0,S=!0,T=this;function b(Ne,Ae){var Ge,$e=Ne.split("."),Le=T;for((!($e[0]in Le)&&Le.execScript&&Le.execScript("var "+$e[0]));$e.length&&(Ge=$e.shift());)$e.length||Ae===M?Le=Le[Ge]?Le[Ge]:Le[Ge]={}:Le[Ge]=Ae}var v="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array&&"undefined"!=typeof DataView;function g(Ne,Ae){this.index="number"==typeof Ae?Ae:0,this.i=0,this.buffer=Ne instanceof(v?Uint8Array:Array)?Ne:new(v?Uint8Array:Array)(32768),2*this.buffer.length<=this.index&&h(Error("invalid index")),this.buffer.length<=this.index&&this.f()}g.prototype.f=function(){var Ne,Ae=this.buffer,Ge=Ae.length,$e=new(v?Uint8Array:Array)(Ge<<1);if(v)$e.set(Ae);else for(Ne=0;Ne<Ge;++Ne)$e[Ne]=Ae[Ne];return this.buffer=$e},g.prototype.d=function(Ne,Ae,Ge){var $e,Le=this.buffer,Xe=this.index,Et=this.i,It=Le[Xe];if(Ge&&1<Ae&&(Ne=8<Ae?(C[255&Ne]<<24|C[Ne>>>8&255]<<16|C[Ne>>>16&255]<<8|C[Ne>>>24&255])>>32-Ae:C[Ne]>>8-Ae),8>Ae+Et)It=It<<Ae|Ne,Et+=Ae;else for($e=0;$e<Ae;++$e)It=It<<1|Ne>>Ae-$e-1&1,8==++Et&&(Et=0,Le[Xe++]=C[It],It=0,Xe===Le.length&&(Le=this.f()));Le[Xe]=It,this.buffer=Le,this.i=Et,this.index=Xe},g.prototype.finish=function(){var Ne,Ae=this.buffer,Ge=this.index;return 0<this.i&&(Ae[Ge]<<=8-this.i,Ae[Ge]=C[Ae[Ge]],Ge++),v?Ne=Ae.subarray(0,Ge):(Ae.length=Ge,Ne=Ae),Ne};var _,m=new(v?Uint8Array:Array)(256);for(_=0;256>_;++_){for(var w=p=_,P=7,p=p>>>1;p;p>>>=1)w<<=1,w|=1&p,--P;m[_]=(w<<P&255)>>>0}var C=m;function x(Ne){this.buffer=new(v?Uint16Array:Array)(2*Ne),this.length=0}function L(Ne){var Ae,Ge,$e,Le,Xe,Et,It,Rt,In,ei,bi=Ne.length,Yt=0,ti=Number.POSITIVE_INFINITY;for(Rt=0;Rt<bi;++Rt)Ne[Rt]>Yt&&(Yt=Ne[Rt]),Ne[Rt]<ti&&(ti=Ne[Rt]);for(Ae=1<<Yt,Ge=new(v?Uint32Array:Array)(Ae),$e=1,Le=0,Xe=2;$e<=Yt;){for(Rt=0;Rt<bi;++Rt)if(Ne[Rt]===$e){for(Et=0,It=Le,In=0;In<$e;++In)Et=Et<<1|1&It,It>>=1;for(ei=$e<<16|Rt,In=Et;In<Ae;In+=Xe)Ge[In]=ei;++Le}++$e,Le<<=1,Xe<<=1}return[Ge,Yt,ti]}function $(Ne,Ae){this.h=re,this.w=0,this.input=v&&Ne instanceof Array?new Uint8Array(Ne):Ne,this.b=0,Ae&&(Ae.lazy&&(this.w=Ae.lazy),"number"==typeof Ae.compressionType&&(this.h=Ae.compressionType),Ae.outputBuffer&&(this.a=v&&Ae.outputBuffer instanceof Array?new Uint8Array(Ae.outputBuffer):Ae.outputBuffer),"number"==typeof Ae.outputIndex&&(this.b=Ae.outputIndex)),this.a||(this.a=new(v?Uint8Array:Array)(32768))}x.prototype.getParent=function(Ne){return 2*((Ne-2)/4|0)},x.prototype.push=function(Ne,Ae){var Ge,$e,Le,Xe=this.buffer;for(Ge=this.length,Xe[this.length++]=Ae,Xe[this.length++]=Ne;0<Ge&&($e=this.getParent(Ge),Xe[Ge]>Xe[$e]);)Le=Xe[Ge],Xe[Ge]=Xe[$e],Xe[$e]=Le,Le=Xe[Ge+1],Xe[Ge+1]=Xe[$e+1],Xe[$e+1]=Le,Ge=$e;return this.length},x.prototype.pop=function(){var Ne,Ae,Ge,$e,Le,Xe=this.buffer;for(Ae=Xe[0],Ne=Xe[1],this.length-=2,Xe[0]=Xe[this.length],Xe[1]=Xe[this.length+1],Le=0;!(($e=2*Le+2)>=this.length)&&($e+2<this.length&&Xe[$e+2]>Xe[$e]&&($e+=2),Xe[$e]>Xe[Le]);)Ge=Xe[Le],Xe[Le]=Xe[$e],Xe[$e]=Ge,Ge=Xe[Le+1],Xe[Le+1]=Xe[$e+1],Xe[$e+1]=Ge,Le=$e;return{index:Ne,value:Ae,length:this.length}};var X,re=2,ie={NONE:0,r:1,k:re,O:3},ee=[];for(X=0;288>X;X++)switch(S){case 143>=X:ee.push([X+48,8]);break;case 255>=X:ee.push([X-144+400,9]);break;case 279>=X:ee.push([X-256+0,7]);break;case 287>=X:ee.push([X-280+192,8]);break;default:h("invalid literal: "+X)}$.prototype.j=function(){var Ne,Ae,Ge,$e,Le=this.input;switch(this.h){case 0:for(Ge=0,$e=Le.length;Ge<$e;){var Et,It,Rt=Ae=v?Le.subarray(Ge,Ge+65535):Le.slice(Ge,Ge+65535),In=(Ge+=Ae.length)===$e,ei=M,bi=M,Yt=this.a,ti=this.b;if(v){for(Yt=new Uint8Array(this.a.buffer);Yt.length<=ti+Rt.length+5;)Yt=new Uint8Array(Yt.length<<1);Yt.set(this.a)}if(Yt[ti++]=0|(In?1:0),It=65536+~(Et=Rt.length)&65535,Yt[ti++]=255&Et,Yt[ti++]=Et>>>8&255,Yt[ti++]=255&It,Yt[ti++]=It>>>8&255,v)Yt.set(Rt,ti),Yt=Yt.subarray(0,ti+=Rt.length);else{for(ei=0,bi=Rt.length;ei<bi;++ei)Yt[ti++]=Rt[ei];Yt.length=ti}this.b=ti,this.a=Yt}break;case 1:var Cn=new g(v?new Uint8Array(this.a.buffer):this.a,this.b);Cn.d(1,1,S),Cn.d(1,2,S);var Xt,$n,Yr,Xr=le(this,Le);for(Xt=0,$n=Xr.length;Xt<$n;Xt++)if(g.prototype.d.apply(Cn,ee[Yr=Xr[Xt]]),256<Yr)Cn.d(Xr[++Xt],Xr[++Xt],S),Cn.d(Xr[++Xt],5),Cn.d(Xr[++Xt],Xr[++Xt],S);else if(256===Yr)break;this.a=Cn.finish(),this.b=this.a.length;break;case re:var ci,_n,Xi,un,br,qr,Pt,Kr,Ps,gl,Jh,_l,Nu,Jr,Mo,Ws=new g(v?new Uint8Array(this.a.buffer):this.a,this.b),Sr=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],xs=Array(19);for(ci=re,Ws.d(1,1,S),Ws.d(ci,2,S),_n=le(this,Le),Pt=se(qr=ce(this.M,15)),Ps=se(Kr=ce(this.L,7)),Xi=286;257<Xi&&0===qr[Xi-1];Xi--);for(un=30;1<un&&0===Kr[un-1];un--);var ht,Lt,qt,Ai,En,cr,ja=Xi,Tn=un,ur=new(v?Uint32Array:Array)(ja+Tn),Zr=new(v?Uint32Array:Array)(316),Oo=new(v?Uint8Array:Array)(19);for(ht=Lt=0;ht<ja;ht++)ur[Lt++]=qr[ht];for(ht=0;ht<Tn;ht++)ur[Lt++]=Kr[ht];if(!v)for(ht=0,Ai=Oo.length;ht<Ai;++ht)Oo[ht]=0;for(ht=En=0,Ai=ur.length;ht<Ai;ht+=Lt){for(Lt=1;ht+Lt<Ai&&ur[ht+Lt]===ur[ht];++Lt);if(qt=Lt,0===ur[ht])if(3>qt)for(;0<qt--;)Zr[En++]=0,Oo[0]++;else for(;0<qt;)(cr=138>qt?qt:138)>qt-3&&cr<qt&&(cr=qt-3),10>=cr?(Zr[En++]=17,Zr[En++]=cr-3,Oo[17]++):(Zr[En++]=18,Zr[En++]=cr-11,Oo[18]++),qt-=cr;else if(Zr[En++]=ur[ht],Oo[ur[ht]]++,3>--qt)for(;0<qt--;)Zr[En++]=ur[ht],Oo[ur[ht]]++;else for(;0<qt;)(cr=6>qt?qt:6)>qt-3&&cr<qt&&(cr=qt-3),Zr[En++]=16,Zr[En++]=cr-3,Oo[16]++,qt-=cr}for(Ne=v?Zr.subarray(0,En):Zr.slice(0,En),gl=ce(Oo,7),Jr=0;19>Jr;Jr++)xs[Jr]=gl[Sr[Jr]];for(br=19;4<br&&0===xs[br-1];br--);for(Jh=se(gl),Ws.d(Xi-257,5,S),Ws.d(un-1,5,S),Ws.d(br-4,4,S),Jr=0;Jr<br;Jr++)Ws.d(xs[Jr],3,S);for(Jr=0,Mo=Ne.length;Jr<Mo;Jr++)if(Ws.d(Jh[_l=Ne[Jr]],gl[_l],S),16<=_l){switch(Jr++,_l){case 16:Nu=2;break;case 17:Nu=3;break;case 18:Nu=7;break;default:h("invalid code: "+_l)}Ws.d(Ne[Jr],Nu,S)}var $s,os,ku,sc,kd,Zh,ri,Gi,Ri=[Pt,qr],qo=[Ps,Kr];for(kd=Ri[0],Zh=Ri[1],ri=qo[0],Gi=qo[1],$s=0,os=_n.length;$s<os;++$s)if(Ws.d(kd[ku=_n[$s]],Zh[ku],S),256<ku)Ws.d(_n[++$s],_n[++$s],S),sc=_n[++$s],Ws.d(ri[sc],Gi[sc],S),Ws.d(_n[++$s],_n[++$s],S);else if(256===ku)break;this.a=Ws.finish(),this.b=this.a.length;break;default:h("invalid compression type")}return this.a};var V=function(){function Ne(Le){switch(S){case 3===Le:return[257,Le-3,0];case 4===Le:return[258,Le-4,0];case 5===Le:return[259,Le-5,0];case 6===Le:return[260,Le-6,0];case 7===Le:return[261,Le-7,0];case 8===Le:return[262,Le-8,0];case 9===Le:return[263,Le-9,0];case 10===Le:return[264,Le-10,0];case 12>=Le:return[265,Le-11,1];case 14>=Le:return[266,Le-13,1];case 16>=Le:return[267,Le-15,1];case 18>=Le:return[268,Le-17,1];case 22>=Le:return[269,Le-19,2];case 26>=Le:return[270,Le-23,2];case 30>=Le:return[271,Le-27,2];case 34>=Le:return[272,Le-31,2];case 42>=Le:return[273,Le-35,3];case 50>=Le:return[274,Le-43,3];case 58>=Le:return[275,Le-51,3];case 66>=Le:return[276,Le-59,3];case 82>=Le:return[277,Le-67,4];case 98>=Le:return[278,Le-83,4];case 114>=Le:return[279,Le-99,4];case 130>=Le:return[280,Le-115,4];case 162>=Le:return[281,Le-131,5];case 194>=Le:return[282,Le-163,5];case 226>=Le:return[283,Le-195,5];case 257>=Le:return[284,Le-227,5];case 258===Le:return[285,Le-258,0];default:h("invalid length: "+Le)}}var Ae,Ge,$e=[];for(Ae=3;258>=Ae;Ae++)Ge=Ne(Ae),$e[Ae]=Ge[2]<<24|Ge[1]<<16|Ge[0];return $e}(),q=v?new Uint32Array(V):V;function le(Ne,Ae){function Ge(ci,_n){var Xi,un,br,qr,Pt=ci.H,Kr=[],Ps=0;switch(Kr[Ps++]=65535&(Xi=q[ci.length]),Kr[Ps++]=Xi>>16&255,Kr[Ps++]=Xi>>24,S){case 1===Pt:un=[0,Pt-1,0];break;case 2===Pt:un=[1,Pt-2,0];break;case 3===Pt:un=[2,Pt-3,0];break;case 4===Pt:un=[3,Pt-4,0];break;case 6>=Pt:un=[4,Pt-5,1];break;case 8>=Pt:un=[5,Pt-7,1];break;case 12>=Pt:un=[6,Pt-9,2];break;case 16>=Pt:un=[7,Pt-13,2];break;case 24>=Pt:un=[8,Pt-17,3];break;case 32>=Pt:un=[9,Pt-25,3];break;case 48>=Pt:un=[10,Pt-33,4];break;case 64>=Pt:un=[11,Pt-49,4];break;case 96>=Pt:un=[12,Pt-65,5];break;case 128>=Pt:un=[13,Pt-97,5];break;case 192>=Pt:un=[14,Pt-129,6];break;case 256>=Pt:un=[15,Pt-193,6];break;case 384>=Pt:un=[16,Pt-257,7];break;case 512>=Pt:un=[17,Pt-385,7];break;case 768>=Pt:un=[18,Pt-513,8];break;case 1024>=Pt:un=[19,Pt-769,8];break;case 1536>=Pt:un=[20,Pt-1025,9];break;case 2048>=Pt:un=[21,Pt-1537,9];break;case 3072>=Pt:un=[22,Pt-2049,10];break;case 4096>=Pt:un=[23,Pt-3073,10];break;case 6144>=Pt:un=[24,Pt-4097,11];break;case 8192>=Pt:un=[25,Pt-6145,11];break;case 12288>=Pt:un=[26,Pt-8193,12];break;case 16384>=Pt:un=[27,Pt-12289,12];break;case 24576>=Pt:un=[28,Pt-16385,13];break;case 32768>=Pt:un=[29,Pt-24577,13];break;default:h("invalid distance")}for(Kr[Ps++]=(Xi=un)[0],Kr[Ps++]=Xi[1],Kr[Ps++]=Xi[2],br=0,qr=Kr.length;br<qr;++br)ti[Cn++]=Kr[br];$n[Kr[0]]++,Yr[Kr[3]]++,Xt=ci.length+_n-1,ei=null}var $e,Le,Xe,Et,It,Rt,In,ei,bi,Yt={},ti=v?new Uint16Array(2*Ae.length):[],Cn=0,Xt=0,$n=new(v?Uint32Array:Array)(286),Yr=new(v?Uint32Array:Array)(30),Xr=Ne.w;if(!v){for(Xe=0;285>=Xe;)$n[Xe++]=0;for(Xe=0;29>=Xe;)Yr[Xe++]=0}for($n[256]=1,$e=0,Le=Ae.length;$e<Le;++$e){for(Xe=It=0,Et=3;Xe<Et&&$e+Xe!==Le;++Xe)It=It<<8|Ae[$e+Xe];if(Yt[It]===M&&(Yt[It]=[]),Rt=Yt[It],!(0<Xt--)){for(;0<Rt.length&&32768<$e-Rt[0];)Rt.shift();if($e+3>=Le){for(ei&&Ge(ei,-1),Xe=0,Et=Le-$e;Xe<Et;++Xe)ti[Cn++]=bi=Ae[$e+Xe],++$n[bi];break}0<Rt.length?(In=Q(Ae,$e,Rt),ei?ei.length<In.length?(ti[Cn++]=bi=Ae[$e-1],++$n[bi],Ge(In,0)):Ge(ei,-1):In.length<Xr?ei=In:Ge(In,0)):ei?Ge(ei,-1):(ti[Cn++]=bi=Ae[$e],++$n[bi])}Rt.push($e)}return ti[Cn++]=256,$n[256]++,Ne.M=$n,Ne.L=Yr,v?ti.subarray(0,Cn):ti}function Q(Ne,Ae,Ge){var $e,Le,Xe,Et,It,Rt,In=0,ei=Ne.length;Et=0,Rt=Ge.length;e:for(;Et<Rt;Et++){if($e=Ge[Rt-Et-1],Xe=3,3<In){for(It=In;3<It;It--)if(Ne[$e+It-1]!==Ne[Ae+It-1])continue e;Xe=In}for(;258>Xe&&Ae+Xe<ei&&Ne[$e+Xe]===Ne[Ae+Xe];)++Xe;if(Xe>In&&(Le=$e,In=Xe),258===Xe)break}return new function(bi,Yt){this.length=bi,this.H=Yt}(In,Ae-Le)}function ce(Ne,Ae){var Ge,$e,Le,Xe,Et,It=Ne.length,Rt=new x(572),In=new(v?Uint8Array:Array)(It);if(!v)for(Xe=0;Xe<It;Xe++)In[Xe]=0;for(Xe=0;Xe<It;++Xe)0<Ne[Xe]&&Rt.push(Xe,Ne[Xe]);if(Ge=Array(Rt.length/2),$e=new(v?Uint32Array:Array)(Rt.length/2),1===Ge.length)return In[Rt.pop().index]=1,In;for(Xe=0,Et=Rt.length/2;Xe<Et;++Xe)Ge[Xe]=Rt.pop(),$e[Xe]=Ge[Xe].value;for(Le=function(ei,bi,Yt){function ti(Ps){var gl=br[Ps][qr[Ps]];gl===bi?(ti(Ps+1),ti(Ps+1)):--Xi[gl],++qr[Ps]}var Cn,Xt,$n,Yr,Xr,ci=new(v?Uint16Array:Array)(Yt),_n=new(v?Uint8Array:Array)(Yt),Xi=new(v?Uint8Array:Array)(bi),un=Array(Yt),br=Array(Yt),qr=Array(Yt),Pt=(1<<Yt)-bi,Kr=1<<Yt-1;for(ci[Yt-1]=bi,Xt=0;Xt<Yt;++Xt)Pt<Kr?_n[Xt]=0:(_n[Xt]=1,Pt-=Kr),Pt<<=1,ci[Yt-2-Xt]=(ci[Yt-1-Xt]/2|0)+bi;for(ci[0]=_n[0],un[0]=Array(ci[0]),br[0]=Array(ci[0]),Xt=1;Xt<Yt;++Xt)ci[Xt]>2*ci[Xt-1]+_n[Xt]&&(ci[Xt]=2*ci[Xt-1]+_n[Xt]),un[Xt]=Array(ci[Xt]),br[Xt]=Array(ci[Xt]);for(Cn=0;Cn<bi;++Cn)Xi[Cn]=Yt;for($n=0;$n<ci[Yt-1];++$n)un[Yt-1][$n]=ei[$n],br[Yt-1][$n]=$n;for(Cn=0;Cn<Yt;++Cn)qr[Cn]=0;for(1===_n[Yt-1]&&(--Xi[0],++qr[Yt-1]),Xt=Yt-2;0<=Xt;--Xt){for(Yr=Cn=0,Xr=qr[Xt+1],$n=0;$n<ci[Xt];$n++)(Yr=un[Xt+1][Xr]+un[Xt+1][Xr+1])>ei[Cn]?(un[Xt][$n]=Yr,br[Xt][$n]=bi,Xr+=2):(un[Xt][$n]=ei[Cn],br[Xt][$n]=Cn,++Cn);qr[Xt]=0,1===_n[Xt]&&ti(Xt)}return Xi}($e,$e.length,Ae),Xe=0,Et=Ge.length;Xe<Et;++Xe)In[Ge[Xe].index]=Le[Xe];return In}function se(Ne){var Ae,Ge,$e,Le,Xe=new(v?Uint16Array:Array)(Ne.length),Et=[],It=[],Rt=0;for(Ae=0,Ge=Ne.length;Ae<Ge;Ae++)Et[Ne[Ae]]=1+(0|Et[Ne[Ae]]);for(Ae=1,Ge=16;Ae<=Ge;Ae++)It[Ae]=Rt,Rt+=0|Et[Ae],Rt<<=1;for(Ae=0,Ge=Ne.length;Ae<Ge;Ae++)for(Rt=It[Ne[Ae]],It[Ne[Ae]]+=1,$e=Xe[Ae]=0,Le=Ne[Ae];$e<Le;$e++)Xe[Ae]=Xe[Ae]<<1|1&Rt,Rt>>>=1;return Xe}function we(Ne,Ae){switch(this.l=[],this.m=32768,this.e=this.g=this.c=this.q=0,this.input=v?new Uint8Array(Ne):Ne,this.s=!1,this.n=ke,this.C=!1,!Ae&&(Ae={})||(Ae.index&&(this.c=Ae.index),Ae.bufferSize&&(this.m=Ae.bufferSize),Ae.bufferType&&(this.n=Ae.bufferType),Ae.resize&&(this.C=Ae.resize)),this.n){case Ue:this.b=32768,this.a=new(v?Uint8Array:Array)(32768+this.m+258);break;case ke:this.b=0,this.a=new(v?Uint8Array:Array)(this.m),this.f=this.K,this.t=this.I,this.o=this.J;break;default:h(Error("invalid inflate mode"))}}var Ue=0,ke=1,Fe={F:Ue,D:ke};we.prototype.p=function(){for(;!this.s;){var Ne=_t(this,3);switch(1&Ne&&(this.s=S),Ne>>>=1){case 0:var Ae=this.input,Ge=this.c,$e=this.a,Le=this.b,Xe=Ae.length,Et=M,It=$e.length,Rt=M;switch(this.e=this.g=0,Ge+1>=Xe&&h(Error("invalid uncompressed block header: LEN")),Et=Ae[Ge++]|Ae[Ge++]<<8,Ge+1>=Xe&&h(Error("invalid uncompressed block header: NLEN")),Et===~(Ae[Ge++]|Ae[Ge++]<<8)&&h(Error("invalid uncompressed block header: length verify")),Ge+Et>Ae.length&&h(Error("input buffer is broken")),this.n){case Ue:for(;Le+Et>$e.length;){if(Et-=Rt=It-Le,v)$e.set(Ae.subarray(Ge,Ge+Rt),Le),Le+=Rt,Ge+=Rt;else for(;Rt--;)$e[Le++]=Ae[Ge++];this.b=Le,$e=this.f(),Le=this.b}break;case ke:for(;Le+Et>$e.length;)$e=this.f({v:2});break;default:h(Error("invalid inflate mode"))}if(v)$e.set(Ae.subarray(Ge,Ge+Et),Le),Le+=Et,Ge+=Et;else for(;Et--;)$e[Le++]=Ae[Ge++];this.c=Ge,this.b=Le,this.a=$e;break;case 1:this.o(Ie,ct);break;case 2:Ke(this);break;default:h(Error("unknown BTYPE: "+Ne))}}return this.t()};var oe,Se,he=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],We=v?new Uint16Array(he):he,_e=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258],Ce=v?new Uint16Array(_e):_e,Pe=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0],tt=v?new Uint8Array(Pe):Pe,yt=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],Qe=v?new Uint16Array(yt):yt,Kt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],pt=v?new Uint8Array(Kt):Kt,Je=new(v?Uint8Array:Array)(288);for(oe=0,Se=Je.length;oe<Se;++oe)Je[oe]=143>=oe?8:255>=oe?9:279>=oe?7:8;var ue,Me,Ie=L(Je),Ze=new(v?Uint8Array:Array)(30);for(ue=0,Me=Ze.length;ue<Me;++ue)Ze[ue]=5;var ct=L(Ze);function _t(Ne,Ae){for(var Ge,$e=Ne.g,Le=Ne.e,Xe=Ne.input,Et=Ne.c,It=Xe.length;Le<Ae;)Et>=It&&h(Error("input buffer is broken")),$e|=Xe[Et++]<<Le,Le+=8;return Ge=$e&(1<<Ae)-1,Ne.g=$e>>>Ae,Ne.e=Le-Ae,Ne.c=Et,Ge}function ze(Ne,Ae){for(var Ge,$e,Le=Ne.g,Xe=Ne.e,Et=Ne.input,It=Ne.c,Rt=Et.length,In=Ae[0],ei=Ae[1];Xe<ei&&!(It>=Rt);)Le|=Et[It++]<<Xe,Xe+=8;return $e=(Ge=In[Le&(1<<ei)-1])>>>16,Ne.g=Le>>$e,Ne.e=Xe-$e,Ne.c=It,65535&Ge}function Ke(Ne){function Ae(ei,bi,Yt){var ti,Cn,Xt,$n=this.z;for(Xt=0;Xt<ei;)switch(ti=ze(this,bi),ti){case 16:for(Cn=3+_t(this,2);Cn--;)Yt[Xt++]=$n;break;case 17:for(Cn=3+_t(this,3);Cn--;)Yt[Xt++]=0;$n=0;break;case 18:for(Cn=11+_t(this,7);Cn--;)Yt[Xt++]=0;$n=0;break;default:$n=Yt[Xt++]=ti}return this.z=$n,Yt}var Ge,$e,Le,Xe,Et=_t(Ne,5)+257,It=_t(Ne,5)+1,Rt=_t(Ne,4)+4,In=new(v?Uint8Array:Array)(We.length);for(Xe=0;Xe<Rt;++Xe)In[We[Xe]]=_t(Ne,3);if(!v)for(Xe=Rt,Rt=In.length;Xe<Rt;++Xe)In[We[Xe]]=0;Ge=L(In),$e=new(v?Uint8Array:Array)(Et),Le=new(v?Uint8Array:Array)(It),Ne.z=0,Ne.o(L(Ae.call(Ne,Et,Ge,$e)),L(Ae.call(Ne,It,Ge,Le)))}function an(Ne){if("string"==typeof Ne){var Ae,Ge,$e=Ne.split("");for(Ae=0,Ge=$e.length;Ae<Ge;Ae++)$e[Ae]=(255&$e[Ae].charCodeAt(0))>>>0;Ne=$e}for(var Le,Xe=1,Et=0,It=Ne.length,Rt=0;0<It;){It-=Le=1024<It?1024:It;do{Et+=Xe+=Ne[Rt++]}while(--Le);Xe%=65521,Et%=65521}return(Et<<16|Xe)>>>0}function zt(Ne,Ae){var Ge,$e;this.input=Ne,this.c=0,!Ae&&(Ae={})||(Ae.index&&(this.c=Ae.index),Ae.verify&&(this.N=Ae.verify)),Ge=Ne[this.c++],$e=Ne[this.c++],(15&Ge)===gn?this.method=gn:h(Error("unsupported compression method")),((Ge<<8)+$e)%31!=0&&h(Error("invalid fcheck flag:"+((Ge<<8)+$e)%31)),32&$e&&h(Error("fdict flag is not supported")),this.B=new we(Ne,{index:this.c,bufferSize:Ae.bufferSize,bufferType:Ae.bufferType,resize:Ae.resize})}we.prototype.o=function(Ne,Ae){var Ge=this.a,$e=this.b;this.u=Ne;for(var Le,Xe,Et,It,Rt=Ge.length-258;256!==(Le=ze(this,Ne));)if(256>Le)$e>=Rt&&(this.b=$e,Ge=this.f(),$e=this.b),Ge[$e++]=Le;else for(It=Ce[Xe=Le-257],0<tt[Xe]&&(It+=_t(this,tt[Xe])),Le=ze(this,Ae),Et=Qe[Le],0<pt[Le]&&(Et+=_t(this,pt[Le])),$e>=Rt&&(this.b=$e,Ge=this.f(),$e=this.b);It--;)Ge[$e]=Ge[$e++-Et];for(;8<=this.e;)this.e-=8,this.c--;this.b=$e},we.prototype.J=function(Ne,Ae){var Ge=this.a,$e=this.b;this.u=Ne;for(var Le,Xe,Et,It,Rt=Ge.length;256!==(Le=ze(this,Ne));)if(256>Le)$e>=Rt&&(Rt=(Ge=this.f()).length),Ge[$e++]=Le;else for(It=Ce[Xe=Le-257],0<tt[Xe]&&(It+=_t(this,tt[Xe])),Le=ze(this,Ae),Et=Qe[Le],0<pt[Le]&&(Et+=_t(this,pt[Le])),$e+It>Rt&&(Rt=(Ge=this.f()).length);It--;)Ge[$e]=Ge[$e++-Et];for(;8<=this.e;)this.e-=8,this.c--;this.b=$e},we.prototype.f=function(){var Ne,Ae,Ge=new(v?Uint8Array:Array)(this.b-32768),$e=this.b-32768,Le=this.a;if(v)Ge.set(Le.subarray(32768,Ge.length));else for(Ne=0,Ae=Ge.length;Ne<Ae;++Ne)Ge[Ne]=Le[Ne+32768];if(this.l.push(Ge),this.q+=Ge.length,v)Le.set(Le.subarray($e,$e+32768));else for(Ne=0;32768>Ne;++Ne)Le[Ne]=Le[$e+Ne];return this.b=32768,Le},we.prototype.K=function(Ne){var Ae,Ge,$e,Le=this.input.length/this.c+1|0,Et=this.a;return Ne&&("number"==typeof Ne.v&&(Le=Ne.v),"number"==typeof Ne.G&&(Le+=Ne.G)),Ge=2>Le?($e=(this.input.length-this.c)/this.u[2]/2*258|0)<Et.length?Et.length+$e:Et.length<<1:Et.length*Le,v?(Ae=new Uint8Array(Ge)).set(Et):Ae=Et,this.a=Ae},we.prototype.t=function(){var Ne,Ae,Ge,$e,Le,Xe=0,Et=this.a,It=this.l,Rt=new(v?Uint8Array:Array)(this.q+(this.b-32768));if(0===It.length)return v?this.a.subarray(32768,this.b):this.a.slice(32768,this.b);for(Ae=0,Ge=It.length;Ae<Ge;++Ae)for($e=0,Le=(Ne=It[Ae]).length;$e<Le;++$e)Rt[Xe++]=Ne[$e];for(Ae=32768,Ge=this.b;Ae<Ge;++Ae)Rt[Xe++]=Et[Ae];return this.l=[],this.buffer=Rt},we.prototype.I=function(){var Ne,Ae=this.b;return v?this.C?(Ne=new Uint8Array(Ae)).set(this.a.subarray(0,Ae)):Ne=this.a.subarray(0,Ae):(this.a.length>Ae&&(this.a.length=Ae),Ne=this.a),this.buffer=Ne},zt.prototype.p=function(){var Ne,Ae=this.input;return Ne=this.B.p(),this.c=this.B.c,this.N&&(Ae[this.c++]<<24|Ae[this.c++]<<16|Ae[this.c++]<<8|Ae[this.c++])>>>0!==an(Ne)&&h(Error("invalid adler-32 checksum")),Ne};var gn=8;function yi(Ne,Ae){this.input=Ne,this.a=new(v?Uint8Array:Array)(32768),this.h=mt.k;var Ge,$e={};for(Ge in!Ae&&(Ae={})||"number"!=typeof Ae.compressionType||(this.h=Ae.compressionType),Ae)$e[Ge]=Ae[Ge];$e.outputBuffer=this.a,this.A=new $(this.input,$e)}var mt=ie;function xt(Ne,Ae){var Ge,$e,Le,Xe;if(Object.keys)Ge=Object.keys(Ae);else for($e in Ge=[],Le=0,Ae)Ge[Le++]=$e;for(Le=0,Xe=Ge.length;Le<Xe;++Le)b(Ne+"."+($e=Ge[Le]),Ae[$e])}yi.prototype.j=function(){var Ne,Ae,Ge,$e,Le,Xe,Et,It=0;if(Et=this.a,(Ne=gn)===gn?Ae=Math.LOG2E*Math.log(32768)-8:h(Error("invalid compression method")),Et[It++]=Ge=Ae<<4|Ne,Ne===gn)switch(this.h){case mt.NONE:Le=0;break;case mt.r:Le=1;break;case mt.k:Le=2;break;default:h(Error("unsupported compression type"))}else h(Error("invalid compression method"));return Et[It++]=($e=Le<<6|0)|31-(256*Ge+$e)%31,Xe=an(this.input),this.A.b=It,It=(Et=this.A.j()).length,v&&((Et=new Uint8Array(Et.buffer)).length<=It+4&&(this.a=new Uint8Array(Et.length+4),this.a.set(Et),Et=this.a),Et=Et.subarray(0,It+4)),Et[It++]=Xe>>24&255,Et[It++]=Xe>>16&255,Et[It++]=Xe>>8&255,Et[It++]=255&Xe,Et},b("Zlib.Inflate",zt),b("Zlib.Inflate.prototype.decompress",zt.prototype.p),xt("Zlib.Inflate.BufferType",{ADAPTIVE:Fe.D,BLOCK:Fe.F}),b("Zlib.Deflate",yi),b("Zlib.Deflate.compress",function(Ne,Ae){return new yi(Ne,Ae).j()}),b("Zlib.Deflate.prototype.compress",yi.prototype.j),xt("Zlib.Deflate.CompressionType",{NONE:mt.NONE,FIXED:mt.r,DYNAMIC:mt.k})}).call(this)},function(H,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.SocketEngine=A.SocketEvent=void 0;var M,S=function(){function X(re,ie){for(var ee=0;ee<ie.length;ee++){var V=ie[ee];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(re,V.key,V)}}return function(re,ie,ee){return ie&&X(re.prototype,ie),ee&&X(re,ee),re}}(),b=(M=h(120))&&M.__esModule?M:{default:M},v=h(167),g=h(39),_=h(8),m=h(2),w=h(50),P=h(51),p=h(1);function C(X,re){if(!(X instanceof re))throw new TypeError("Cannot call a class as a function")}var x=Object.freeze({CONNECT:"socketConnect",DISCONNECT:"socketDisconnect",DATA:"socketData",IOERROR:"socketIOError"}),L=function(X){function re(ie){C(this,re);var ee=function(V,q){if(!V)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!q||"object"!=typeof q&&"function"!=typeof q?V:q}(this,(re.__proto__||Object.getPrototypeOf(re)).call(this));return ee._sfs=ie,ee._logger=w.Logger.instance,ee._isConnected=!1,ee._isConnecting=!1,ee._socket=null,ee._protocolCodec=new $(ie),ee._disconnectionReason=P.ClientDisconnectionReason.UNKNOWN,Object.seal(ee),ee}return function(ie,ee){if("function"!=typeof ee&&null!==ee)throw new TypeError("Super expression must either be null or a function, not "+typeof ee);ie.prototype=Object.create(ee&&ee.prototype,{constructor:{value:ie,enumerable:!1,writable:!0,configurable:!0}}),ee&&(Object.setPrototypeOf?Object.setPrototypeOf(ie,ee):ie.__proto__=ee)}(re,g.EventDispatcher),S(re,[{key:"connect",value:function(ie,ee,V){this._isConnecting=!0,this._socket=new WebSocket("ws"+(V?"s":"")+"://"+ie+":"+ee+"/BlueBox/websocket"),this._socket.binaryType="arraybuffer",this._socket._scope=this,this._socket.onopen=this._onSocketConnect,this._socket.onclose=this._onSocketDisconnect,this._socket.onmessage=this._onSocketData,this._socket.onerror=this._onSocketError}},{key:"disconnect",value:function(ie){this._disconnectionReason=ie,this._socket.close()}},{key:"addController",value:function(ie,ee){null==this._controllers[ie]&&(this._controllers[ie]=ee)}},{key:"removeController",value:function(ie){delete this._controllers[ie]}},{key:"send",value:function(ie){this._sfs.debug&&this._logger.debug("OUTGOING MESSAGE: "+ie.dump());var ee=this._protocolCodec.onPacketWrite(ie);this._socket.send(ee)}},{key:"_onSocketConnect",value:function(){this._scope._sfs.debug&&this._scope._logger.debug("Socket connection established"),this._scope._isConnected=!0,this._scope._isConnecting=!1,this._scope.dispatchEvent(x.CONNECT,{success:!0})}},{key:"_onSocketDisconnect",value:function(){this._scope._isConnected=!1,this._scope.isConnecting?(this._scope._sfs.debug&&this._scope._logger.debug("Can't establish socket connection"),this._scope._isConnecting=!1,this._scope.dispatchEvent(x.CONNECT,{success:!1})):(this._scope._sfs.debug&&this._scope._logger.debug("Socket disconnection occurred"),this._scope.dispatchEvent(x.DISCONNECT,{reason:this._scope._disconnectionReason}),this._scope._disconnectionReason=P.ClientDisconnectionReason.UNKNOWN)}},{key:"_onSocketData",value:function(ie){var ee=this._scope._protocolCodec.onPacketRead(ie.data);this._scope._sfs.debug&&this._scope._logger.debug("INCOMING MESSAGE: "+ee.dump()),this._scope.dispatchEvent(x.DATA,ee)}},{key:"_onSocketError",value:function(ie){this._scope.dispatchEvent(x.IOERROR,ie.data)}},{key:"isConnected",get:function(){return this._isConnected}},{key:"isConnecting",get:function(){return this._isConnecting}},{key:"maxMessageSize",get:function(){return this._protocolCodec.maxMessageSize},set:function(ie){this._protocolCodec.maxMessageSize=ie}},{key:"compressionThreshold",get:function(){return this._protocolCodec.compressionThreshold},set:function(ie){this._protocolCodec.compressionThreshold=ie}}]),re}(),$=function(){function X(re){C(this,X),this.CONTROLLER_ID="c",this.ACTION_ID="a",this.PARAM_ID="p",this._maxMessageSize=1e4,this._compressionThreshold=1024,this._sfs=re,this._logger=w.Logger.instance,Object.seal(this)}return S(X,[{key:"onPacketRead",value:function(re){if(0!==re.byteLength){var ie=new b.default(re,0,b.default.BIG_ENDIAN),ee=ie.readUint8(),V=(32&ee)>0,q=(8&ee)>0?ie.readUint32():ie.readUint16(),le=ie.readUint8Array(q);V&&(le=this.decompress(le)),this._sfs.debug&&this._logger.debug(re.byteLength>1024?"DATA READ - Binary size > 1024; dump omitted":"DATA READ - "+P.DumpFormatter.hexDump(le));var Q=_.SFSObject.newFromBinaryData(le);return new m.Message(Q.get(this.ACTION_ID),Q.get(this.CONTROLLER_ID),Q.get(this.PARAM_ID))}this._logger.error("Unexpected empty packet data: no readable bytes available!")}},{key:"onPacketWrite",value:function(re){var ie=new _.SFSObject;ie.put(this.CONTROLLER_ID,re.targetController,_.SFSDataType.BYTE),ie.put(this.ACTION_ID,re.id,_.SFSDataType.SHORT),ie.put(this.PARAM_ID,re.content,_.SFSDataType.SFS_OBJECT);var ee=ie.toBinary(),V=ee.byteLength,q=new b.default(new ArrayBuffer(0),0,b.default.BIG_ENDIAN),le=128;V>this.compressionThreshold&&(le+=32,V=(ee=this.compress(ee)).byteLength);var Q=V>65335;Q&&(le+=8),q.writeUint8(le),Q?q.writeUint32(V):q.writeUint16(V),q.writeUint8Array(ee);var ce=new Uint8Array(q.buffer);if(ce.byteLength>this.maxMessageSize)throw new p.SFSError("Message size is too big: "+ce.byteLength+"; the server limit is: "+this.maxMessageSize);return this._sfs.debug&&this._logger.debug("DATA WRITTEN - "+P.DumpFormatter.hexDump(ce)),ce}},{key:"decompress",value:function(re){return new v.Zlib.Inflate(re).decompress()}},{key:"compress",value:function(re){return new v.Zlib.Deflate(re).compress()}},{key:"maxMessageSize",get:function(){return this._maxMessageSize},set:function(re){this._maxMessageSize=re}},{key:"compressionThreshold",get:function(){return this._compressionThreshold},set:function(re){this._compressionThreshold=re}}]),X}();A.SocketEvent=x,A.SocketEngine=L},function(H,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.ExtensionController=void 0;var M=function(){function v(g,_){for(var m=0;m<_.length;m++){var w=_[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(g,w.key,w)}}return function(g,_,m){return _&&v(g.prototype,_),m&&v(g,m),g}}(),S=h(39),T=h(97),b=function(){function v(g){(function(_,m){if(!(_ instanceof m))throw new TypeError("Cannot call a class as a function")})(this,v),this._sfs=g,this._logger=g.logger,this._id=1,Object.freeze(this)}return M(v,[{key:"handleMessage",value:function(g,_){this._sfs.debug&&this._logger.info("Handling Extension response");var m={};m.cmd=g.get(T.ExtensionRequest.KEY_CMD),m.params=g.get(T.ExtensionRequest.KEY_PARAMS);var w=g.get(T.ExtensionRequest.KEY_ROOM);null!=w&&(m.room=this._sfs.roomManager.getRoomById(w)),this._sfs.dispatchEvent(S.SFSEvent.EXTENSION_RESPONSE,m)}},{key:"id",get:function(){return this._id}}]),v}();A.ExtensionController=b},function(H,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0});var M=function(){function T(b,v){for(var g=0;g<v.length;g++){var _=v[g];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(b,_.key,_)}}return function(b,v,g){return v&&T(b.prototype,v),g&&T(b,g),b}}(),S=function(){function T(){!function(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}(this,T)}return M(T,null,[{key:"KEY_ROOM_ID",get:function(){return"r"}},{key:"KEY_ITEM_ID",get:function(){return"i"}},{key:"KEY_VAR_LIST",get:function(){return"v"}}]),T}();A.SetMMOItemVariables=S},function(H,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.MMOItem=void 0;var M=function(){function b(v,g){for(var _=0;_<g.length;_++){var m=g[_];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(v,m.key,m)}}return function(v,g,_){return g&&b(v.prototype,g),_&&b(v,_),v}}(),S=h(73),T=function(){function b(v){(function(g,_){if(!(g instanceof _))throw new TypeError("Cannot call a class as a function")})(this,b),this._id=v,this._aoiEntryPoint=null,this._variables=new Map,Object.seal(this)}return M(b,[{key:"toString",value:function(){return"[Item: "+this.id+"]"}},{key:"getVariable",value:function(v){return this._variables.get(v)}},{key:"containsVariable",value:function(v){return this._variables.has(v)}},{key:"getVariables",value:function(){return Array.from(this._variables.values())}},{key:"_setVariables",value:function(v){var g=!0,_=!1,m=void 0;try{for(var w,P=v[Symbol.iterator]();!(g=(w=P.next()).done);g=!0)this._setVariable(w.value)}catch(C){_=!0,m=C}finally{try{!g&&P.return&&P.return()}finally{if(_)throw m}}}},{key:"_setVariable",value:function(v){v.isNull?this._variables.delete(v.name):this._variables.set(v.name,v)}},{key:"id",get:function(){return this._id}},{key:"aoiEntryPoint",get:function(){return this._aoiEntryPoint}}],[{key:"fromSFSArray",value:function(v){var g=new b(v.get(0)),_=v.get(1);if(null!=_)for(var m=0;m<_.size();m++)g._setVariable(S.MMOItemVariable.fromSFSArray(_.get(m)));return g}}]),b}();A.MMOItem=T},function(H,A){!function(h){"use strict";function M(V,q,le){return q<=V&&V<=le}function S(V,q){return Math.floor(V/q)}var T=-1,b=-1;function v(V,q){if(V)throw new Error("EncodingError");return q||65533}function g(V){throw new Error("EncodingError")}function _(V){if(V=String(V).trim().toLowerCase(),Object.prototype.hasOwnProperty.call(w,V))return w[V];throw new Error("EncodingError: Unknown encoding: "+V)}var m={},w={};function P(V,q){return(q||[])[V]||null}function p(V,q){var le=q.indexOf(V);return-1===le?null:le}[{encodings:[{labels:["unicode-1-1-utf-8","utf-8","utf8"],name:"utf-8"}],heading:"The Encoding"},{encodings:[{labels:["cp864","ibm864"],name:"ibm864"},{labels:["cp866","ibm866"],name:"ibm866"},{labels:["csisolatin2","iso-8859-2","iso-ir-101","iso8859-2","iso_8859-2","l2","latin2"],name:"iso-8859-2"},{labels:["csisolatin3","iso-8859-3","iso_8859-3","iso-ir-109","l3","latin3"],name:"iso-8859-3"},{labels:["csisolatin4","iso-8859-4","iso_8859-4","iso-ir-110","l4","latin4"],name:"iso-8859-4"},{labels:["csisolatincyrillic","cyrillic","iso-8859-5","iso_8859-5","iso-ir-144"],name:"iso-8859-5"},{labels:["arabic","csisolatinarabic","ecma-114","iso-8859-6","iso_8859-6","iso-ir-127"],name:"iso-8859-6"},{labels:["csisolatingreek","ecma-118","elot_928","greek","greek8","iso-8859-7","iso_8859-7","iso-ir-126"],name:"iso-8859-7"},{labels:["csisolatinhebrew","hebrew","iso-8859-8","iso-8859-8-i","iso-ir-138","iso_8859-8","visual"],name:"iso-8859-8"},{labels:["csisolatin6","iso-8859-10","iso-ir-157","iso8859-10","l6","latin6"],name:"iso-8859-10"},{labels:["iso-8859-13"],name:"iso-8859-13"},{labels:["iso-8859-14","iso8859-14"],name:"iso-8859-14"},{labels:["iso-8859-15","iso_8859-15"],name:"iso-8859-15"},{labels:["iso-8859-16"],name:"iso-8859-16"},{labels:["koi8-r","koi8_r"],name:"koi8-r"},{labels:["koi8-u"],name:"koi8-u"},{labels:["csmacintosh","mac","macintosh","x-mac-roman"],name:"macintosh"},{labels:["iso-8859-11","tis-620","windows-874"],name:"windows-874"},{labels:["windows-1250","x-cp1250"],name:"windows-1250"},{labels:["windows-1251","x-cp1251"],name:"windows-1251"},{labels:["ascii","ansi_x3.4-1968","csisolatin1","iso-8859-1","iso8859-1","iso_8859-1","l1","latin1","us-ascii","windows-1252"],name:"windows-1252"},{labels:["cp1253","windows-1253"],name:"windows-1253"},{labels:["csisolatin5","iso-8859-9","iso-ir-148","l5","latin5","windows-1254"],name:"windows-1254"},{labels:["cp1255","windows-1255"],name:"windows-1255"},{labels:["cp1256","windows-1256"],name:"windows-1256"},{labels:["windows-1257"],name:"windows-1257"},{labels:["cp1258","windows-1258"],name:"windows-1258"},{labels:["x-mac-cyrillic","x-mac-ukrainian"],name:"x-mac-cyrillic"}],heading:"Legacy single-byte encodings"},{encodings:[{labels:["chinese","csgb2312","csiso58gb231280","gb2312","gbk","gb_2312","gb_2312-80","iso-ir-58","x-gbk"],name:"gbk"},{labels:["gb18030"],name:"gb18030"},{labels:["hz-gb-2312"],name:"hz-gb-2312"}],heading:"Legacy multi-byte Chinese (simplified) encodings"},{encodings:[{labels:["big5","big5-hkscs","cn-big5","csbig5","x-x-big5"],name:"big5"}],heading:"Legacy multi-byte Chinese (traditional) encodings"},{encodings:[{labels:["cseucpkdfmtjapanese","euc-jp","x-euc-jp"],name:"euc-jp"},{labels:["csiso2022jp","iso-2022-jp"],name:"iso-2022-jp"},{labels:["csshiftjis","ms_kanji","shift-jis","shift_jis","sjis","windows-31j","x-sjis"],name:"shift_jis"}],heading:"Legacy multi-byte Japanese encodings"},{encodings:[{labels:["cseuckr","csksc56011987","euc-kr","iso-ir-149","korean","ks_c_5601-1987","ks_c_5601-1989","ksc5601","ksc_5601","windows-949"],name:"euc-kr"},{labels:["csiso2022kr","iso-2022-kr"],name:"iso-2022-kr"}],heading:"Legacy multi-byte Korean encodings"},{encodings:[{labels:["utf-16","utf-16le"],name:"utf-16"},{labels:["utf-16be"],name:"utf-16be"}],heading:"Legacy utf-16 encodings"}].forEach(function(V){V.encodings.forEach(function(q){m[q.name]=q,q.labels.forEach(function(le){w[le]=q})})});var C=h["encoding-indexes"]||{};function x(V,q){var le=q.fatal,Q=0,ce=0,se=0;this.decode=function(we){var Ue,ke=we.get();if(ke===T&&0===Q&&0===ce&&0===se)return b;if(ke!==T||0===Q&&0===ce&&0===se||(Q=0,ce=0,se=0,v(le)),we.offset(1),0!==se)return Ue=null,M(ke,48,57)&&(Ue=function(he){if(he>39419&&he<189e3||he>1237575)return null;var We,_e=0,Ce=0,Pe=C.gb18030;for(We=0;We<Pe.length;++We){var tt=Pe[We];if(!(tt[0]<=he))break;_e=tt[0],Ce=tt[1]}return Ce+he-_e}(10*(126*(10*(Q-129)+(ce-48))+(se-129))+ke-48)),Q=0,ce=0,se=0,null===Ue?(we.offset(-3),v(le)):Ue;if(0!==ce)return M(ke,129,254)?(se=ke,null):(we.offset(-2),Q=0,ce=0,v(le));if(0!==Q){if(M(ke,48,57)&&V)return ce=ke,null;var Fe=Q,oe=null;Q=0;var Se=ke<127?64:65;return(M(ke,64,126)||M(ke,128,254))&&(oe=190*(Fe-129)+(ke-Se)),Ue=null===oe?null:P(oe,C.gbk),null===oe&&we.offset(-1),null===Ue?v(le):Ue}return M(ke,0,127)?ke:128===ke?8364:M(ke,129,254)?(Q=ke,null):v(le)}}function L(V,q){this.encode=function(le,Q){var ce=Q.get();if(ce===b)return T;if(Q.offset(1),M(ce,0,127))return le.emit(ce);var se=p(ce,C.gbk);if(null!==se){var we=S(se,190)+129,Ue=se%190;return le.emit(we,Ue+(Ue<63?64:65))}if(null===se&&!V)return g();var Fe=S(S(S(se=function(We){var _e,Ce=0,Pe=0,tt=C.gb18030;for(_e=0;_e<tt.length;++_e){var yt=tt[_e];if(!(yt[1]<=We))break;Ce=yt[1],Pe=yt[0]}return Pe+We-Ce}(ce),10),126),10),oe=S(S(se-=10*Fe*126*10,10),126),Se=S(se-=10*oe*126,10);return le.emit(Fe+129,oe+48,Se+129,se-10*Se+48)}}function $(V,q){var le=q.fatal,Q=null,ce=null;this.decode=function(se){var we,Ue=se.get();if(Ue===T&&null===Q&&null===ce)return b;if(Ue===T&&(null!==Q||null!==ce))return v(le);if(se.offset(1),null===Q)return Q=Ue,null;if(we=V?(Q<<8)+Ue:(Ue<<8)+Q,Q=null,null!==ce){var ke=ce;return ce=null,M(we,56320,57343)?65536+1024*(ke-55296)+(we-56320):(se.offset(-2),v(le))}return M(we,55296,56319)?(ce=we,null):M(we,56320,57343)?v(le):we}}function X(V,q){this.encode=function(le,Q){function ce(Ue){var ke=Ue>>8,Fe=255&Ue;return V?le.emit(ke,Fe):le.emit(Fe,ke)}var se=Q.get();if(se===b)return T;if(Q.offset(1),M(se,55296,57343)&&g(),se<=65535)return ce(se);var we=(se-65536)%1024+56320;return ce(S(se-65536,1024)+55296),ce(we)}}m["utf-8"].getEncoder=function(V){return new function(q){this.encode=function(le,Q){var ce,se,we=Q.get();if(we===b)return T;if(Q.offset(1),M(we,55296,57343))return g();if(M(we,0,127))return le.emit(we);M(we,128,2047)?(ce=1,se=192):M(we,2048,65535)?(ce=2,se=224):M(we,65536,1114111)&&(ce=3,se=240);for(var Ue=le.emit(S(we,Math.pow(64,ce))+se);ce>0;){var ke=S(we,Math.pow(64,ce-1));Ue=le.emit(128+ke%64),ce-=1}return Ue}}(V)},m["utf-8"].getDecoder=function(V){return new function(q){var le=q.fatal,Q=0,ce=0,se=0,we=0;this.decode=function(Ue){var ke=Ue.get();if(ke===T)return 0!==ce?v(le):b;if(Ue.offset(1),0===ce){if(M(ke,0,127))return ke;if(M(ke,194,223))ce=1,we=128,Q=ke-192;else if(M(ke,224,239))ce=2,we=2048,Q=ke-224;else{if(!M(ke,240,244))return v(le);ce=3,we=65536,Q=ke-240}return Q*=Math.pow(64,ce),null}if(!M(ke,128,191))return Q=0,ce=0,se=0,we=0,Ue.offset(-1),v(le);if(se+=1,Q+=(ke-128)*Math.pow(64,ce-se),se!==ce)return null;var Fe=Q,oe=we;return Q=0,ce=0,se=0,we=0,M(Fe,oe,1114111)&&!M(Fe,55296,57343)?Fe:v(le)}}(V)},["ibm864","ibm866","iso-8859-2","iso-8859-3","iso-8859-4","iso-8859-5","iso-8859-6","iso-8859-7","iso-8859-8","iso-8859-10","iso-8859-13","iso-8859-14","iso-8859-15","iso-8859-16","koi8-r","koi8-u","macintosh","windows-874","windows-1250","windows-1251","windows-1252","windows-1253","windows-1254","windows-1255","windows-1256","windows-1257","windows-1258","x-mac-cyrillic"].forEach(function(V){var q=m[V],le=C[V];q.getDecoder=function(Q){return new function(ce,se){var we=se.fatal;this.decode=function(Ue){var ke=Ue.get();if(ke===T)return b;if(Ue.offset(1),M(ke,0,127))return ke;var Fe=ce[ke-128];return null===Fe?v(we):Fe}}(le,Q)},q.getEncoder=function(Q){return new function(ce,se){this.encode=function(we,Ue){var ke=Ue.get();if(ke===b)return T;if(Ue.offset(1),M(ke,0,127))return we.emit(ke);var Fe=p(ke,ce);return null===Fe&&g(),we.emit(Fe+128)}}(le,Q)}}),m.gbk.getEncoder=function(V){return new L(!1,V)},m.gbk.getDecoder=function(V){return new x(!1,V)},m.gb18030.getEncoder=function(V){return new L(!0,V)},m.gb18030.getDecoder=function(V){return new x(!0,V)},m["hz-gb-2312"].getEncoder=function(V){return new function(q){var le=!1;this.encode=function(Q,ce){var se=ce.get();if(se===b)return T;if(ce.offset(1),M(se,0,127)&&le)return ce.offset(-1),le=!1,Q.emit(126,125);if(126===se)return Q.emit(126,126);if(M(se,0,127))return Q.emit(se);if(!le)return ce.offset(-1),le=!0,Q.emit(126,123);var we=p(se,C.gbk);if(null===we)return g();var Ue=S(we,190)+1,ke=we%190-63;return M(Ue,33,126)&&M(ke,33,126)?Q.emit(Ue,ke):g()}}(V)},m["hz-gb-2312"].getDecoder=function(V){return new function(q){var le=q.fatal,Q=!1,ce=0;this.decode=function(se){var we=se.get();if(we===T&&0===ce)return b;if(we===T&&0!==ce)return ce=0,v(le);if(se.offset(1),126===ce)return ce=0,123===we?(Q=!0,null):125===we?(Q=!1,null):126===we?126:10===we?null:(se.offset(-1),v(le));if(0!==ce){var Ue=ce;ce=0;var ke=null;return M(we,33,126)&&(ke=P(190*(Ue-1)+(we+63),C.gbk)),10===we&&(Q=!1),null===ke?v(le):ke}return 126===we?(ce=126,null):Q?M(we,32,127)?(ce=we,null):(10===we&&(Q=!1),v(le)):M(we,0,127)?we:v(le)}}(V)},m.big5.getEncoder=function(V){return new function(q){this.encode=function(le,Q){var ce=Q.get();if(ce===b)return T;if(Q.offset(1),M(ce,0,127))return le.emit(ce);var se=p(ce,C.big5);if(null===se)return g();var we=S(se,157)+129,Ue=se%157;return le.emit(we,Ue+(Ue<63?64:98))}}(V)},m.big5.getDecoder=function(V){return new function(q){var le=q.fatal,Q=0,ce=null;this.decode=function(se){if(null!==ce){var we=ce;return ce=null,we}var Ue=se.get();if(Ue===T&&0===Q)return b;if(Ue===T&&0!==Q)return Q=0,v(le);if(se.offset(1),0!==Q){var ke=Q,Fe=null;Q=0;var oe=Ue<127?64:98;if((M(Ue,64,126)||M(Ue,161,254))&&(Fe=157*(ke-129)+(Ue-oe)),1133===Fe)return ce=772,202;if(1135===Fe)return ce=780,202;if(1164===Fe)return ce=772,234;if(1166===Fe)return ce=780,234;var Se=null===Fe?null:P(Fe,C.big5);return null===Fe&&se.offset(-1),null===Se?v(le):Se}return M(Ue,0,127)?Ue:M(Ue,129,254)?(Q=Ue,null):v(le)}}(V)},m["euc-jp"].getEncoder=function(V){return new function(q){this.encode=function(le,Q){var ce=Q.get();if(ce===b)return T;if(Q.offset(1),M(ce,0,127))return le.emit(ce);if(165===ce)return le.emit(92);if(8254===ce)return le.emit(126);if(M(ce,65377,65439))return le.emit(142,ce-65377+161);var se=p(ce,C.jis0208);if(null===se)return g();var we=S(se,94)+161;return le.emit(we,se%94+161)}}(V)},m["euc-jp"].getDecoder=function(V){return new function(q){var le=q.fatal,Q=0,ce=0;this.decode=function(se){var we,Ue,ke=se.get();return ke===T?0===Q&&0===ce?b:(Q=0,ce=0,v(le)):(se.offset(1),0!==ce?(we=ce,ce=0,Ue=null,M(we,161,254)&&M(ke,161,254)&&(Ue=P(94*(we-161)+ke-161,C.jis0212)),M(ke,161,254)||se.offset(-1),null===Ue?v(le):Ue):142===Q&&M(ke,161,223)?(Q=0,65377+ke-161):143===Q&&M(ke,161,254)?(Q=0,ce=ke,null):0!==Q?(we=Q,Q=0,Ue=null,M(we,161,254)&&M(ke,161,254)&&(Ue=P(94*(we-161)+ke-161,C.jis0208)),M(ke,161,254)||se.offset(-1),null===Ue?v(le):Ue):M(ke,0,127)?ke:142===ke||143===ke||M(ke,161,254)?(Q=ke,null):v(le))}}(V)},m["iso-2022-jp"].getEncoder=function(V){return new function(q){var se=0;this.encode=function(we,Ue){var ke=Ue.get();if(ke===b)return T;if(Ue.offset(1),(M(ke,0,127)||165===ke||8254===ke)&&0!==se)return Ue.offset(-1),se=0,we.emit(27,40,66);if(M(ke,0,127))return we.emit(ke);if(165===ke)return we.emit(92);if(8254===ke)return we.emit(126);if(M(ke,65377,65439)&&2!==se)return Ue.offset(-1),se=2,we.emit(27,40,73);if(M(ke,65377,65439))return we.emit(ke-65377-33);if(1!==se)return Ue.offset(-1),se=1,we.emit(27,36,66);var Fe=p(ke,C.jis0208);if(null===Fe)return g();var oe=S(Fe,94)+33;return we.emit(oe,Fe%94+33)}}(V)},m["iso-2022-jp"].getDecoder=function(V){return new function(q){var le=q.fatal,oe=0,Se=!1,he=0;this.decode=function(We){var _e=We.get();switch(_e!==T&&We.offset(1),oe){default:case 0:return 27===_e?(oe=1,null):M(_e,0,127)?_e:_e===T?b:v(le);case 1:return 36===_e||40===_e?(he=_e,oe=2,null):(_e!==T&&We.offset(-1),oe=0,v(le));case 2:var Ce=he;return he=0,36!==Ce||64!==_e&&66!==_e?36===Ce&&40===_e?(oe=3,null):40!==Ce||66!==_e&&74!==_e?40===Ce&&73===_e?(oe=6,null):(We.offset(_e===T?-1:-2),oe=0,v(le)):(oe=0,null):(Se=!1,oe=4,null);case 3:return 68===_e?(Se=!0,oe=4,null):(We.offset(_e===T?-2:-3),oe=0,v(le));case 4:return 10===_e?(oe=0,v(le,10)):27===_e?(oe=1,null):_e===T?b:(he=_e,oe=5,null);case 5:if(oe=4,_e===T)return v(le);var Pe=null,tt=94*(he-33)+_e-33;return M(he,33,126)&&M(_e,33,126)&&(Pe=P(tt,!1===Se?C.jis0208:C.jis0212)),null===Pe?v(le):Pe;case 6:return 27===_e?(oe=1,null):M(_e,33,95)?65377+_e-33:_e===T?b:v(le)}}}(V)},m.shift_jis.getEncoder=function(V){return new function(q){this.encode=function(le,Q){var ce=Q.get();if(ce===b)return T;if(Q.offset(1),M(ce,0,128))return le.emit(ce);if(165===ce)return le.emit(92);if(8254===ce)return le.emit(126);if(M(ce,65377,65439))return le.emit(ce-65377+161);var se=p(ce,C.jis0208);if(null===se)return g();var we=S(se,188),ke=se%188;return le.emit(we+(we<31?129:193),ke+(ke<63?64:65))}}(V)},m.shift_jis.getDecoder=function(V){return new function(q){var le=q.fatal,Q=0;this.decode=function(ce){var se=ce.get();if(se===T&&0===Q)return b;if(se===T&&0!==Q)return Q=0,v(le);if(ce.offset(1),0!==Q){var we=Q;if(Q=0,M(se,64,126)||M(se,128,252)){var Ue=P(188*(we-(we<160?129:193))+se-(se<127?64:65),C.jis0208);return null===Ue?v(le):Ue}return ce.offset(-1),v(le)}return M(se,0,128)?se:M(se,161,223)?65377+se-161:M(se,129,159)||M(se,224,252)?(Q=se,null):v(le)}}(V)},m["euc-kr"].getEncoder=function(V){return new function(q){this.encode=function(le,Q){var ce=Q.get();if(ce===b)return T;if(Q.offset(1),M(ce,0,127))return le.emit(ce);var se,we,Ue=p(ce,C["euc-kr"]);if(null===Ue)return g();if(Ue<12460){se=S(Ue,178)+129;var ke=(we=Ue%178)<26?65:we<52?71:77;return le.emit(se,we+ke)}return se=S(Ue-=12460,94)+199,le.emit(se,we=Ue%94+161)}}(V)},m["euc-kr"].getDecoder=function(V){return new function(q){var le=q.fatal,Q=0;this.decode=function(ce){var se=ce.get();if(se===T&&0===Q)return b;if(se===T&&0!==Q)return Q=0,v(le);if(ce.offset(1),0!==Q){var we=Q,Ue=null;if(Q=0,M(we,129,198)){var ke=178*(we-129);M(se,65,90)?Ue=ke+se-65:M(se,97,122)?Ue=ke+26+se-97:M(se,129,254)&&(Ue=ke+26+26+se-129)}M(we,199,253)&&M(se,161,254)&&(Ue=12460+94*(we-199)+(se-161));var Fe=null===Ue?null:P(Ue,C["euc-kr"]);return null===Ue&&ce.offset(-1),null===Fe?v(le):Fe}return M(se,0,127)?se:M(se,129,253)?(Q=se,null):v(le)}}(V)},m["iso-2022-kr"].getEncoder=function(V){return new function(q){var ce=!1,se=0;this.encode=function(we,Ue){var ke=Ue.get();if(ke===b)return T;if(ce||(ce=!0,we.emit(27,36,41,67)),Ue.offset(1),M(ke,0,127)&&0!==se)return Ue.offset(-1),se=0,we.emit(15);if(M(ke,0,127))return we.emit(ke);if(1!==se)return Ue.offset(-1),se=1,we.emit(14);var Fe,oe,Se=p(ke,C["euc-kr"]);return null===Se?g():Se<12460?(oe=Se%178-26-26+1,M(Fe=S(Se,178)+1,33,70)&&M(oe,33,126)?we.emit(Fe,oe):g()):(oe=(Se-=12460)%94+33,M(Fe=S(Se,94)+71,71,126)&&M(oe,33,126)?we.emit(Fe,oe):g())}}(V)},m["iso-2022-kr"].getDecoder=function(V){return new function(q){var le=q.fatal,Fe=0,oe=0;this.decode=function(Se){var he=Se.get();switch(he!==T&&Se.offset(1),Fe){default:case 0:return 14===he?(Fe=4,null):15===he?null:27===he?(Fe=1,null):M(he,0,127)?he:he===T?b:v(le);case 1:return 36===he?(Fe=2,null):(he!==T&&Se.offset(-1),Fe=0,v(le));case 2:return 41===he?(Fe=3,null):(Se.offset(he===T?-1:-2),Fe=0,v(le));case 3:return 67===he?(Fe=0,null):(Se.offset(he===T?-2:-3),Fe=0,v(le));case 4:return 10===he?(Fe=0,v(le,10)):14===he?null:15===he?(Fe=0,null):he===T?b:(oe=he,Fe=5,null);case 5:if(Fe=4,he===T)return v(le);var We=null;return M(oe,33,70)&&M(he,33,126)?We=P(178*(oe-1)+26+26+he-1,C["euc-kr"]):M(oe,71,126)&&M(he,33,126)&&(We=P(12460+94*(oe-71)+(he-33),C["euc-kr"])),null!==We?We:v(le)}}}(V)},m["utf-16"].getEncoder=function(V){return new X(!1,V)},m["utf-16"].getDecoder=function(V){return new $(!1,V)},m["utf-16be"].getEncoder=function(V){return new X(!0,V)},m["utf-16be"].getDecoder=function(V){return new $(!0,V)};function ie(V,q){return this&&this!==h?(V=V?String(V):"utf-8",q=Object(q),this._encoding=_(V),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(q.fatal)},Object.defineProperty?Object.defineProperty(this,"encoding",{get:function(){return this._encoding.name}}):this.encoding=this._encoding.name,this):new ie(V,q)}function ee(V,q){return this&&this!==h?(V=V?String(V):"utf-8",q=Object(q),this._encoding=_(V),this._streaming=!1,this._decoder=null,this._options={fatal:Boolean(q.fatal)},Object.defineProperty?Object.defineProperty(this,"encoding",{get:function(){return this._encoding.name}}):this.encoding=this._encoding.name,this):new ee(V,q)}ie.prototype={encode:function(V,q){V=V?String(V):"",q=Object(q),this._streaming||(this._encoder=this._encoding.getEncoder(this._options)),this._streaming=Boolean(q.stream);for(var le=[],Q=new function(we){var Ue=0;this.emit=function(ke){var Fe,oe=T;for(Fe=0;Fe<arguments.length;++Fe)oe=Number(arguments[Fe]),we[Ue++]=oe;return oe}}(le),ce=new function(we){var Ue=0,ke=function(){for(var Fe=[],oe=0,Se=we.length;oe<we.length;){var he=we.charCodeAt(oe);if(M(he,55296,57343))if(M(he,56320,57343))Fe.push(65533);else if(oe===Se-1)Fe.push(65533);else{var We=we.charCodeAt(oe+1);M(We,56320,57343)?(oe+=1,Fe.push(65536+((1023&he)<<10)+(1023&We))):Fe.push(65533)}else Fe.push(he);oe+=1}return Fe}();this.offset=function(Fe){if((Ue+=Fe)<0)throw new Error("Seeking past start of the buffer");if(Ue>ke.length)throw new Error("Seeking past EOF")},this.get=function(){return Ue>=ke.length?b:ke[Ue]}}(V);ce.get()!==b;)this._encoder.encode(Q,ce);if(!this._streaming){var se;do{se=this._encoder.encode(Q,ce)}while(se!==T);this._encoder=null}return new Uint8Array(le)}},ee.prototype={decode:function(V,q){if(V&&!("buffer"in V&&"byteOffset"in V&&"byteLength"in V))throw new TypeError("Expected ArrayBufferView");V||(V=new Uint8Array(0)),q=Object(q),this._streaming||(this._decoder=this._encoding.getDecoder(this._options)),this._streaming=Boolean(q.stream);var se,we,le=new function(se){var we=0;this.get=function(){return we>=se.length?T:Number(se[we])},this.offset=function(Ue){if((we+=Ue)<0)throw new Error("Seeking past start of the buffer");if(we>se.length)throw new Error("Seeking past EOF")},this.match=function(Ue){if(Ue.length>we+se.length)return!1;var ke;for(ke=0;ke<Ue.length;ke+=1)if(Number(se[we+ke])!==Ue[ke])return!1;return!0}}(new Uint8Array(V.buffer,V.byteOffset,V.byteLength));if(_((se=this._encoding.name,(we=le).match([255,254])?(we.offset(2),"utf-16"):we.match([254,255])?(we.offset(2),"utf-16be"):we.match([239,187,191])?(we.offset(3),"utf-8"):se))!==this._encoding)throw new Error("BOM mismatch");for(var Q,ce=new function(){var se="";this.string=function(){return se},this.emit=function(we){we<=65535?se+=String.fromCharCode(we):(we-=65536,se+=String.fromCharCode(55296+(we>>10&1023)),se+=String.fromCharCode(56320+(1023&we)))}};le.get()!==T;)null!==(Q=this._decoder.decode(le))&&Q!==b&&ce.emit(Q);if(!this._streaming){do{null!==(Q=this._decoder.decode(le))&&Q!==b&&ce.emit(Q)}while(Q!==b);this._decoder=null}return ce.string()}},h.TextEncoder=h.TextEncoder||ie,h.TextDecoder=h.TextDecoder||ee}(this)},function(H,A){H.exports=function(h){return h.webpackPolyfill||(h.deprecate=function(){},h.paths=[],h.children||(h.children=[]),Object.defineProperty(h,"loaded",{enumerable:!0,get:function(){return h.l}}),Object.defineProperty(h,"id",{enumerable:!0,get:function(){return h.i}}),h.webpackPolyfill=1),h}},function(H,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.SFSDataSerializer=void 0;var M,S=function(){function P(p,C){for(var x=0;x<C.length;x++){var L=C[x];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(p,L.key,L)}}return function(p,C,x){return C&&P(p.prototype,C),x&&P(p,x),p}}(),b=(M=h(120))&&M.__esModule?M:{default:M},v=h(172),g=h(8),_=Symbol(),m=Symbol(),w=function(){function P(p){if(function(C,x){if(!(C instanceof x))throw new TypeError("Cannot call a class as a function")}(this,P),p!==m)throw"SFSDataSerializer is a singleton class; you can't instantiate it"}return S(P,[{key:"object2binary",value:function(p){var C=new b.default(new ArrayBuffer(0),0,b.default.BIG_ENDIAN);return C.writeInt8(g.SFSDataType.SFS_OBJECT),C.writeInt16(p.size()),this.obj2bin(p,C),new Uint8Array(C.buffer)}},{key:"obj2bin",value:function(p,C){var x=!0,L=!1,$=void 0;try{for(var X,re=p.keys()[Symbol.iterator]();!(x=(X=re.next()).done);x=!0){var ie=X.value,ee=p.getWrappedItem(ie);this.encodeSFSObjectKey(C,ie),this.encodeObject(C,ee)}}catch(V){L=!0,$=V}finally{try{!x&&re.return&&re.return()}finally{if(L)throw $}}}},{key:"array2binary",value:function(p){var C=new b.default(new ArrayBuffer(0),0,b.default.BIG_ENDIAN);return C.writeInt8(g.SFSDataType.SFS_ARRAY),C.writeInt16(p.size()),this.arr2bin(p,C),new Uint8Array(C.buffer)}},{key:"arr2bin",value:function(p,C){for(var x=0;x<p.size();x++){var L=p.getWrappedItem(x);this.encodeObject(C,L)}}},{key:"encodeSFSObjectKey",value:function(p,C){p.writeInt16(C.length),p.writeUint8Array(new v.TextEncoder("utf-8").encode(C))}},{key:"encodeObject",value:function(p,C){var x=C.type;if(x===g.SFSDataType.NULL)this.binEncode_NULL(p,C);else if(x===g.SFSDataType.BOOL)this.binEncode_BOOL(p,C);else if(x===g.SFSDataType.BOOL_ARRAY)this.binEncode_BOOL_ARRAY(p,C);else if(x===g.SFSDataType.BYTE)this.binEncode_BYTE(p,C);else if(x===g.SFSDataType.BYTE_ARRAY)this.binEncode_BYTE_ARRAY(p,C);else if(x===g.SFSDataType.SHORT)this.binEncode_SHORT(p,C);else if(x===g.SFSDataType.SHORT_ARRAY)this.binEncode_SHORT_ARRAY(p,C);else if(x===g.SFSDataType.INT)this.binEncode_INT(p,C);else if(x===g.SFSDataType.INT_ARRAY)this.binEncode_INT_ARRAY(p,C);else if(x===g.SFSDataType.LONG)this.binEncode_LONG(p,C);else if(x===g.SFSDataType.LONG_ARRAY)this.binEncode_LONG_ARRAY(p,C);else if(x===g.SFSDataType.FLOAT)this.binEncode_FLOAT(p,C);else if(x===g.SFSDataType.FLOAT_ARRAY)this.binEncode_FLOAT_ARRAY(p,C);else if(x===g.SFSDataType.DOUBLE)this.binEncode_DOUBLE(p,C);else if(x===g.SFSDataType.DOUBLE_ARRAY)this.binEncode_DOUBLE_ARRAY(p,C);else if(x===g.SFSDataType.UTF_STRING)this.binEncode_UTF_STRING(p,C);else if(x===g.SFSDataType.TEXT)this.binEncode_TEXT(p,C);else if(x===g.SFSDataType.UTF_STRING_ARRAY)this.binEncode_UTF_STRING_ARRAY(p,C);else if(x===g.SFSDataType.SFS_ARRAY)p.writeUint8Array(this.array2binary(C.value));else{if(x!==g.SFSDataType.SFS_OBJECT)throw"Unknow SFSDataType ID: "+x;p.writeUint8Array(this.object2binary(C.value))}return p}},{key:"binEncode_NULL",value:function(p,C){p.writeUint8(C.type)}},{key:"binEncode_BOOL",value:function(p,C){p.writeUint8(C.type),p.writeUint8(C.value?1:0)}},{key:"binEncode_BOOL_ARRAY",value:function(p,C){var x=C.value;p.writeUint8(C.type),p.writeUint16(x.length);for(var L=0;L<x.length;L++)p.writeUint8(x[L]?1:0)}},{key:"binEncode_BYTE",value:function(p,C){p.writeUint8(C.type),p.writeUint8(C.value)}},{key:"binEncode_BYTE_ARRAY",value:function(p,C){var x=C.value;p.writeUint8(C.type),p.writeUint32(x.length),p.writeUint8Array(x)}},{key:"binEncode_SHORT",value:function(p,C){p.writeUint8(C.type),p.writeUint16(C.value)}},{key:"binEncode_SHORT_ARRAY",value:function(p,C){var x=C.value;p.writeUint8(C.type),p.writeUint16(x.length);for(var L=0;L<x.length;L++)p.writeUint16(x[L])}},{key:"binEncode_INT",value:function(p,C){p.writeUint8(C.type),p.writeUint32(C.value)}},{key:"binEncode_INT_ARRAY",value:function(p,C){var x=C.value;p.writeUint8(C.type),p.writeUint16(x.length);for(var L=0;L<x.length;L++)p.writeUint32(x[L])}},{key:"binEncode_LONG",value:function(p,C){var x=C.value,L=Math.floor(x/Math.pow(2,32)),$=x%Math.pow(2,32);p.writeUint8(C.type),p.writeInt32(L),p.writeInt32($)}},{key:"binEncode_LONG_ARRAY",value:function(p,C){var x=C.value;p.writeUint8(C.type),p.writeUint16(x.length);for(var L=0;L<x.length;L++){var $=x[L],X=Math.floor($/Math.pow(2,32)),re=$%Math.pow(2,32);p.writeInt32(X),p.writeInt32(re)}}},{key:"binEncode_FLOAT",value:function(p,C){p.writeUint8(C.type),p.writeFloat32(C.value)}},{key:"binEncode_FLOAT_ARRAY",value:function(p,C){var x=C.value;p.writeUint8(C.type),p.writeUint16(x.length);for(var L=0;L<x.length;L++)p.writeFloat32(x[L])}},{key:"binEncode_DOUBLE",value:function(p,C){p.writeUint8(C.type),p.writeFloat64(C.value)}},{key:"binEncode_DOUBLE_ARRAY",value:function(p,C){var x=C.value;p.writeUint8(C.type),p.writeUint16(x.length);for(var L=0;L<x.length;L++)p.writeFloat64(x[L])}},{key:"binEncode_UTF_STRING",value:function(p,C){var x=new v.TextEncoder("utf-8").encode(C.value);p.writeUint8(C.type),p.writeUint16(x.length),p.writeUint8Array(x)}},{key:"binEncode_TEXT",value:function(p,C){var x=new v.TextEncoder("utf-8").encode(C.value);p.writeUint8(C.type),p.writeUint32(x.length),p.writeUint8Array(x)}},{key:"binEncode_UTF_STRING_ARRAY",value:function(p,C){var x=C.value;p.writeUint8(C.type),p.writeUint16(x.length);for(var L=0;L<x.length;L++){var $=new v.TextEncoder("utf-8").encode(x[L]);p.writeUint16($.byteLength),p.writeUint8Array($)}}},{key:"binary2object",value:function(p){if(p.byteLength<3)throw"Can't decode an SFSObject. Byte data is insufficient. Size: "+p.byteLength+" bytes";return this.decodeSFSObject(new b.default(p,0,b.default.BIG_ENDIAN))}},{key:"binary2array",value:function(p){if(p.byteLength<3)throw"Can't decode an SFSArray. Byte data is insufficient. Size: "+p.byteLength+" bytes";return this.decodeSFSArray(new b.default(p,0,b.default.BIG_ENDIAN))}},{key:"decodeSFSObject",value:function(p){var C=new g.SFSObject,x=p.readUint8();if(x!==g.SFSDataType.SFS_OBJECT)throw"Invalid SFSDataType. Expected: "+g.SFSDataType.SFS_OBJECT+", found: "+x;var L=p.readUint16();if(L<0)throw"Can't decode SFSObject. Size is negative: "+L;try{for(var $=0;$<L;$++){var X=p.readUint16();if(X<0||X>255)throw"Invalid SFSObject key length. Found: "+X;var re=p.readUint8Array(X),ie=String.fromCharCode.apply(String,re),ee=this.decodeObject(p);if(null==ee)throw"Could not decode value for key: "+ie;C.put(ie,ee.value,ee.type,!0)}}catch(V){throw V}return C}},{key:"decodeSFSArray",value:function(p){var C=new g.SFSArray,x=p.readUint8();if(x!==g.SFSDataType.SFS_ARRAY)throw"Invalid SFSDataType. Expected: "+g.SFSDataType.SFS_ARRAY+", found: "+x;var L=p.readInt16();if(L<0)throw"Can't decode SFSArray. Size is negative: "+L;try{for(var $=0;$<L;$++){var X=this.decodeObject(p);if(null==X)throw"Could not decode value for index: "+$;C.add(X.value,X.type,!0)}}catch(re){throw re}return C}},{key:"decodeObject",value:function(p){var C=null,x=p.readUint8();if(x===g.SFSDataType.NULL)C=this.binDecode_NULL(p);else if(x===g.SFSDataType.BOOL)C=this.binDecode_BOOL(p);else if(x===g.SFSDataType.BOOL_ARRAY)C=this.binDecode_BOOL_ARRAY(p);else if(x===g.SFSDataType.BYTE)C=this.binDecode_BYTE(p);else if(x===g.SFSDataType.BYTE_ARRAY)C=this.binDecode_BYTE_ARRAY(p);else if(x===g.SFSDataType.SHORT)C=this.binDecode_SHORT(p);else if(x===g.SFSDataType.SHORT_ARRAY)C=this.binDecode_SHORT_ARRAY(p);else if(x===g.SFSDataType.INT)C=this.binDecode_INT(p);else if(x===g.SFSDataType.INT_ARRAY)C=this.binDecode_INT_ARRAY(p);else if(x===g.SFSDataType.LONG)C=this.binDecode_LONG(p);else if(x===g.SFSDataType.LONG_ARRAY)C=this.binDecode_LONG_ARRAY(p);else if(x===g.SFSDataType.FLOAT)C=this.binDecode_FLOAT(p);else if(x===g.SFSDataType.FLOAT_ARRAY)C=this.binDecode_FLOAT_ARRAY(p);else if(x===g.SFSDataType.DOUBLE)C=this.binDecode_DOUBLE(p);else if(x===g.SFSDataType.DOUBLE_ARRAY)C=this.binDecode_DOUBLE_ARRAY(p);else if(x===g.SFSDataType.UTF_STRING)C=this.binDecode_UTF_STRING(p);else if(x===g.SFSDataType.TEXT)C=this.binDecode_TEXT(p);else if(x===g.SFSDataType.UTF_STRING_ARRAY)C=this.binDecode_UTF_STRING_ARRAY(p);else if(x===g.SFSDataType.SFS_ARRAY){p.seek(p.position-1);var L=this.decodeSFSArray(p);C=new g.SFSDataWrapper(x,L)}else{if(x!==g.SFSDataType.SFS_OBJECT)throw"Unknow SFSDataType ID: "+x;p.seek(p.position-1);var $=this.decodeSFSObject(p);C=new g.SFSDataWrapper(x,$)}return C}},{key:"binDecode_NULL",value:function(p){return new g.SFSDataWrapper(g.SFSDataType.NULL,null)}},{key:"binDecode_BOOL",value:function(p){var C=p.readUint8(),x=null;if(0===C)x=!1;else{if(1!==C)throw"Error decoding Bool type. Illegal value: "+C;x=!0}return new g.SFSDataWrapper(g.SFSDataType.BOOL,x)}},{key:"binDecode_BOOL_ARRAY",value:function(p){for(var C=this.getTypedArraySize(p),x=[],L=0;L<C;L++){var $=p.readUint8(),X=null;if(0===$)X=!1;else{if(1!==$)throw"Error decoding Bool type. Illegal value: "+$;X=!0}x.push(X)}return new g.SFSDataWrapper(g.SFSDataType.BOOL_ARRAY,x)}},{key:"binDecode_BYTE",value:function(p){var C=p.readUint8();return new g.SFSDataWrapper(g.SFSDataType.BYTE,C)}},{key:"binDecode_BYTE_ARRAY",value:function(p){var C=p.readInt32();if(C<0)throw"Error decoding typed array size. Negative size: "+C;for(var x=new Uint8Array(C),L=0;L<C;L++)x[L]=p.readUint8();return new g.SFSDataWrapper(g.SFSDataType.BYTE_ARRAY,x)}},{key:"binDecode_SHORT",value:function(p){var C=p.readInt16();return new g.SFSDataWrapper(g.SFSDataType.SHORT,C)}},{key:"binDecode_SHORT_ARRAY",value:function(p){for(var C=this.getTypedArraySize(p),x=[],L=0;L<C;L++)x.push(p.readInt16());return new g.SFSDataWrapper(g.SFSDataType.SHORT_ARRAY,x)}},{key:"binDecode_INT",value:function(p){var C=p.readInt32();return new g.SFSDataWrapper(g.SFSDataType.INT,C)}},{key:"binDecode_INT_ARRAY",value:function(p){for(var C=this.getTypedArraySize(p),x=[],L=0;L<C;L++)x.push(p.readInt32());return new g.SFSDataWrapper(g.SFSDataType.INT_ARRAY,x)}},{key:"binDecode_LONG",value:function(p){var C=p.readInt32(),x=p.readUint32(),L=C*Math.pow(2,32)+x;return new g.SFSDataWrapper(g.SFSDataType.LONG,L)}},{key:"binDecode_LONG_ARRAY",value:function(p){for(var C=this.getTypedArraySize(p),x=[],L=0;L<C;L++){var $=p.readInt32(),X=p.readUint32(),re=$*Math.pow(2,32)+X;x.push(re)}return new g.SFSDataWrapper(g.SFSDataType.LONG_ARRAY,x)}},{key:"binDecode_FLOAT",value:function(p){var C=p.readFloat32();return new g.SFSDataWrapper(g.SFSDataType.FLOAT,C)}},{key:"binDecode_FLOAT_ARRAY",value:function(p){for(var C=this.getTypedArraySize(p),x=[],L=0;L<C;L++)x.push(p.readFloat32());return new g.SFSDataWrapper(g.SFSDataType.FLOAT_ARRAY,x)}},{key:"binDecode_DOUBLE",value:function(p){var C=p.readFloat64();return new g.SFSDataWrapper(g.SFSDataType.DOUBLE,C)}},{key:"binDecode_DOUBLE_ARRAY",value:function(p){for(var C=this.getTypedArraySize(p),x=[],L=0;L<C;L++)x.push(p.readFloat64());return new g.SFSDataWrapper(g.SFSDataType.DOUBLE_ARRAY,x)}},{key:"binDecode_UTF_STRING",value:function(p){var C=p.readInt16();if(C<0)throw"Error decoding UTF_STRING. Negative size: "+C;var x=p.readUint8Array(C),L=new v.TextDecoder("utf-8").decode(x);return new g.SFSDataWrapper(g.SFSDataType.UTF_STRING,L)}},{key:"binDecode_UTF_STRING_ARRAY",value:function(p){for(var C=this.getTypedArraySize(p),x=[],L=0;L<C;L++){var $=p.readInt16();if($<0)throw"Error decoding UTF_STRING. Negative size: "+$;var X=p.readUint8Array($),re=new v.TextDecoder("utf-8").decode(X);x.push(re)}return new g.SFSDataWrapper(g.SFSDataType.UTF_STRING_ARRAY,x)}},{key:"binDecode_TEXT",value:function(p){var C=p.readInt32();if(C<0)throw"Error decoding TEXT. Negative size: "+C;var x=p.readUint8Array(C),L=new v.TextDecoder("utf-8").decode(x);return new g.SFSDataWrapper(g.SFSDataType.TEXT,L)}},{key:"getTypedArraySize",value:function(p){var C=p.readUint16();if(C<0)throw"Error decoding typed array size. Negative size: "+C;return C}}],[{key:"instance",get:function(){return this[_]||(this[_]=new P(m)),Object.seal(this[_])}}]),P}();A.SFSDataSerializer=w},function(H,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.SystemController=void 0;var M=function(){function Je(ue,Me){for(var Ie=0;Ie<Me.length;Ie++){var Ze=Me[Ie];Ze.enumerable=Ze.enumerable||!1,Ze.configurable=!0,"value"in Ze&&(Ze.writable=!0),Object.defineProperty(ue,Ze.key,Ze)}}return function(ue,Me,Ie){return Me&&Je(ue.prototype,Me),Ie&&Je(ue,Ie),ue}}(),S=h(2),T=h(39),b=h(74),v=h(8),g=h(9),_=h(47),m=h(171),w=h(58),P=h(72),p=h(59),C=h(49),x=h(73),L=h(46),$=h(51),X=h(118),re=h(117),ie=h(116),ee=h(57),V=h(115),q=h(114),le=h(113),Q=h(70),ce=h(112),se=h(111),we=h(110),Ue=h(109),ke=h(108),Fe=h(107),oe=h(106),Se=h(105),he=h(69),We=h(170),_e=h(104),Ce=h(103),Pe=h(102),tt=h(101),yt=h(100),Qe=h(99),Kt=h(98),pt=function(){function Je(ue){(function(Me,Ie){if(!(Me instanceof Ie))throw new TypeError("Cannot call a class as a function")})(this,Je),this._sfs=ue,this._logger=ue.logger,this._id=0,this._messageHandlers=new Map,this._initMessageHandlers(),Object.freeze(this)}return M(Je,null,[{key:"KEY_ERROR_CODE",get:function(){return"ec"}},{key:"KEY_ERROR_PARAMS",get:function(){return"ep"}},{key:"ROOM_PARAM",get:function(){return"r"}},{key:"USER_PARAM",get:function(){return"u"}},{key:"USER_COUNT_PARAM",get:function(){return"uc"}},{key:"SPECT_COUNT_PARAM",get:function(){return"sc"}},{key:"DISCONNECTION_REASON_PARAM",get:function(){return"dr"}}]),M(Je,[{key:"handleMessage",value:function(ue,Me){var Ie=this._messageHandlers.get(Me);null!=Ie?(this._sfs.debug&&this._logger.info("Handling server event: "+Ie.name+" ("+Me+")"),Ie.handler.call(this,ue)):this._logger.warn("Unknown server event received; id: "+Me)}},{key:"_initMessageHandlers",value:function(){this._setHandler(S.Requests.Handshake,this._fnHandshake),this._setHandler(S.Requests.Login,this._fnLogin),this._setHandler(S.Requests.Logout,this._fnLogout),this._setHandler(S.Requests.JoinRoom,this._fnJoinRoom),this._setHandler(S.Requests.CreateRoom,this._fnCreateRoom),this._setHandler(S.Requests.ChangeRoomName,this._fnChangeRoomName),this._setHandler(S.Requests.ChangeRoomPassword,this._fnChangeRoomPassword),this._setHandler(S.Requests.ChangeRoomCapacity,this._fnChangeRoomCapacity),this._setHandler(S.Requests.GenericMessage,this._fnGenericMessage),this._setHandler(S.Requests.SetRoomVariables,this._fnSetRoomVariables),this._setHandler(S.Requests.SetUserVariables,this._fnSetUserVariables),this._setHandler(S.Requests.SubscribeRoomGroup,this._fnSubscribeRoomGroup),this._setHandler(S.Requests.UnsubscribeRoomGroup,this._fnUnsubscribeRoomGroup),this._setHandler(S.Requests.SpectatorToPlayer,this._fnSpectatorToPlayer),this._setHandler(S.Requests.PlayerToSpectator,this._fnPlayerToSpectator),this._setHandler(S.Requests.FindRooms,this._fnFindRooms),this._setHandler(S.Requests.FindUsers,this._fnFindUsers),this._setHandler(S.Requests.PingPong,this._fnPingPong),this._setHandler(S.Requests.InitBuddyList,this._fnInitBuddyList),this._setHandler(S.Requests.AddBuddy,this._fnAddBuddy),this._setHandler(S.Requests.RemoveBuddy,this._fnRemoveBuddy),this._setHandler(S.Requests.BlockBuddy,this._fnBlockBuddy),this._setHandler(S.Requests.GoOnline,this._fnGoOnline),this._setHandler(S.Requests.SetBuddyVariables,this._fnSetBuddyVariables),this._setHandler(S.Requests.QuickJoinGame,this._fnQuickJoinGame),this._setHandler(S.Requests.InviteUsers,this._fnInviteUsers),this._setHandler(S.Requests.InvitationReply,this._fnInvitationReply),this._setHandler(S.Requests.SetUserPosition,this._fnSetUserPosition),this._setHandler(1e3,this._fnUserEnterRoom,"UserEnterRoom"),this._setHandler(1001,this._fnUserCountChange,"UserCountChange"),this._setHandler(1002,this._fnUserLost,"UserLost"),this._setHandler(1003,this._fnRoomLost,"RoomLost"),this._setHandler(1004,this._fnUserExitRoom,"UserExitRoom"),this._setHandler(1005,this._fnClientDisconnection,"ClientDisconnection"),this._setHandler(1007,this._fnSetMMOItemVariables,"SetMMOItemVariables")}},{key:"_setHandler",value:function(ue,Me){var Ie=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null==Ie&&(Ie=S.Requests.getNameFromId(ue)),this._messageHandlers.set(ue,{name:Ie,handler:Me})}},{key:"_fnHandshake",value:function(ue){this._sfs._handleHandShake(ue)}},{key:"_fnLogin",value:function(ue){if(null==ue.get(Je.KEY_ERROR_CODE)){this._populateRoomList(ue.get(X.LoginRequest.KEY_ROOMLIST)),this._sfs._mySelf=new _.SFSUser(ue.get(X.LoginRequest.KEY_ID),ue.get(X.LoginRequest.KEY_USER_NAME),!0),this._sfs.mySelf._setUserManager(this._sfs.userManager),this._sfs.mySelf._privilegeId=ue.get(X.LoginRequest.KEY_PRIVILEGE_ID),this._sfs.userManager._addUser(this._sfs.mySelf);var Me={};Me.zone=ue.get(X.LoginRequest.KEY_ZONE_NAME),Me.user=this._sfs.mySelf,Me.data=ue.get(X.LoginRequest.KEY_PARAMS),this._sfs.dispatchEvent(T.SFSEvent.LOGIN,Me)}else this._dispatchError(T.SFSEvent.LOGIN_ERROR,ue)}},{key:"_fnLogout",value:function(ue){this._sfs._handleLogout();var Me={};Me.zone=ue.get(re.LogoutRequest.KEY_ZONE_NAME),this._sfs.dispatchEvent(T.SFSEvent.LOGOUT,Me)}},{key:"_fnJoinRoom",value:function(ue){if(this._sfs._isJoining=!1,null==ue.get(Je.KEY_ERROR_CODE)){var Me=ue.get(ie.JoinRoomRequest.KEY_ROOM),Ie=ue.get(ie.JoinRoomRequest.KEY_USER_LIST),Ze=this._sfs.roomManager,ct=g.SFSRoom.fromSFSArray(Me);ct=Ze._replaceRoom(ct,Ze.containsGroup(ct.groupId));for(var _t=0;_t<Ie.size();_t++){var ze=Ie.get(_t),Ke=this._getOrCreateUser(ze,!0,ct);ct._addUser(Ke)}ct._isJoined=!0,this._sfs._lastJoinedRoom=ct;var an={};an.room=ct,this._sfs.dispatchEvent(T.SFSEvent.ROOM_JOIN,an)}else this._dispatchError(T.SFSEvent.ROOM_JOIN_ERROR,ue)}},{key:"_fnCreateRoom",value:function(ue){if(null==ue.get(Je.KEY_ERROR_CODE)){var Me=g.SFSRoom.fromSFSArray(ue.get(ee.CreateRoomRequest.KEY_ROOM));this._sfs.roomManager._addRoom(Me);var Ie={};Ie.room=Me,this._sfs.dispatchEvent(T.SFSEvent.ROOM_ADD,Ie)}else this._dispatchError(T.SFSEvent.ROOM_CREATION_ERROR,ue)}},{key:"_fnChangeRoomName",value:function(ue){if(null==ue.get(Je.KEY_ERROR_CODE)){var Me=ue.get(V.ChangeRoomNameRequest.KEY_ROOM),Ie=this._sfs.roomManager.getRoomById(Me);if(null!=Ie){var Ze=Ie.name;this._sfs.roomManager._changeRoomName(Ie,ue.get(V.ChangeRoomNameRequest.KEY_NAME));var ct={};ct.oldName=Ze,ct.room=Ie,this._sfs.dispatchEvent(T.SFSEvent.ROOM_NAME_CHANGE,ct)}else this._logger.warn("Unexpected RoomNameChange event error; unknown Room id: "+Me)}else this._dispatchError(T.SFSEvent.ROOM_NAME_CHANGE_ERROR,ue)}},{key:"_fnChangeRoomPassword",value:function(ue){if(null==ue.get(Je.KEY_ERROR_CODE)){var Me=ue.get(q.ChangeRoomPasswordStateRequest.KEY_ROOM),Ie=this._sfs.roomManager.getRoomById(Me);if(null!=Ie){this._sfs.roomManager._changeRoomPasswordState(Ie,ue.get(q.ChangeRoomPasswordStateRequest.KEY_PASS));var Ze={};Ze.room=Ie,this._sfs.dispatchEvent(T.SFSEvent.ROOM_PASSWORD_STATE_CHANGE,Ze)}else this._logger.warn("Unexpected RoomPasswordChange event error; unknown Room id: "+Me)}else this._dispatchError(T.SFSEvent.ROOM_PASSWORD_STATE_CHANGE_ERROR,ue)}},{key:"_fnChangeRoomCapacity",value:function(ue){if(null==ue.get(Je.KEY_ERROR_CODE)){var Me=ue.get(le.ChangeRoomCapacityRequest.KEY_ROOM),Ie=this._sfs.roomManager.getRoomById(Me);if(null!=Ie){this._sfs.roomManager._changeRoomCapacity(Ie,ue.get(le.ChangeRoomCapacityRequest.KEY_USER_SIZE),ue.get(le.ChangeRoomCapacityRequest.KEY_SPEC_SIZE));var Ze={};Ze.room=Ie,this._sfs.dispatchEvent(T.SFSEvent.ROOM_CAPACITY_CHANGE,Ze)}else this._logger.warn("Unexpected RoomCapacityChange event error; unknown Room id: "+Me)}else this._dispatchError(T.SFSEvent.ROOM_CAPACITY_CHANGE_ERROR,ue)}},{key:"_fnGenericMessage",value:function(ue){switch(ue.get(Q.GenericMessageRequest.KEY_MESSAGE_TYPE)){case Q.GenericMessageType.PUBLIC_MSG:this._handlePublicMessage(ue);break;case Q.GenericMessageType.PRIVATE_MSG:this._handlePrivateMessage(ue);break;case Q.GenericMessageType.BUDDY_MSG:this._handleBuddyMessage(ue);break;case Q.GenericMessageType.MODERATOR_MSG:this._handleModMessage(ue);break;case Q.GenericMessageType.ADMING_MSG:this._handleAdminMessage(ue);break;case Q.GenericMessageType.OBJECT_MSG:this._handleObjectMessage(ue)}}},{key:"_handlePublicMessage",value:function(ue){var Me=ue.get(Q.GenericMessageRequest.KEY_ROOM_ID),Ie=this._sfs.roomManager.getRoomById(Me);if(null!=Ie){var Ze={};Ze.room=Ie,Ze.sender=this._sfs.userManager.getUserById(ue.get(Q.GenericMessageRequest.KEY_USER_ID)),Ze.message=ue.get(Q.GenericMessageRequest.KEY_MESSAGE),Ze.data=ue.get(Q.GenericMessageRequest.KEY_XTRA_PARAMS),this._sfs.dispatchEvent(T.SFSEvent.PUBLIC_MESSAGE,Ze)}else this._logger.warn("Unexpected PublicMessage event error; unknown Room id: "+Me)}},{key:"_handlePrivateMessage",value:function(ue){var Me=ue.get(Q.GenericMessageRequest.KEY_USER_ID),Ie=this._sfs.userManager.getUserById(Me);if(null==Ie){if(null==ue.get(Q.GenericMessageRequest.KEY_SENDER_DATA))return void this._logger.warn("Unexpected PublicMessage event error; missing sender details");Ie=_.SFSUser.fromSFSArray(ue.get(Q.GenericMessageRequest.KEY_SENDER_DATA))}var Ze={};Ze.sender=Ie,Ze.message=ue.get(Q.GenericMessageRequest.KEY_MESSAGE),Ze.data=ue.get(Q.GenericMessageRequest.KEY_XTRA_PARAMS),this._sfs.dispatchEvent(T.SFSEvent.PRIVATE_MESSAGE,Ze)}},{key:"_handleBuddyMessage",value:function(ue){var Me=ue.get(Q.GenericMessageRequest.KEY_USER_ID),Ie=this._sfs.buddyManager.getBuddyById(Me),Ze={};Ze.isItMe=this._sfs.mySelf.id===Me,Ze.buddy=Ie,Ze.message=ue.get(Q.GenericMessageRequest.KEY_MESSAGE),Ze.data=ue.get(Q.GenericMessageRequest.KEY_XTRA_PARAMS),this._sfs.dispatchEvent(T.SFSBuddyEvent.BUDDY_MESSAGE,Ze)}},{key:"_handleObjectMessage",value:function(ue){var Me={};Me.sender=this._sfs.userManager.getUserById(ue.get(Q.GenericMessageRequest.KEY_USER_ID)),Me.message=ue.get(Q.GenericMessageRequest.KEY_XTRA_PARAMS),this._sfs.dispatchEvent(T.SFSEvent.OBJECT_MESSAGE,Me)}},{key:"_handleModMessage",value:function(ue){var Me={};Me.sender=_.SFSUser.fromSFSArray(ue.get(Q.GenericMessageRequest.KEY_SENDER_DATA)),Me.message=ue.get(Q.GenericMessageRequest.KEY_MESSAGE),Me.data=ue.get(Q.GenericMessageRequest.KEY_XTRA_PARAMS),this._sfs.dispatchEvent(T.SFSEvent.MODERATOR_MESSAGE,Me)}},{key:"_handleAdminMessage",value:function(ue){var Me={};Me.sender=_.SFSUser.fromSFSArray(ue.get(Q.GenericMessageRequest.KEY_SENDER_DATA)),Me.message=ue.get(Q.GenericMessageRequest.KEY_MESSAGE),Me.data=ue.get(Q.GenericMessageRequest.KEY_XTRA_PARAMS),this._sfs.dispatchEvent(T.SFSEvent.ADMIN_MESSAGE,Me)}},{key:"_fnSetRoomVariables",value:function(ue){var Me=ue.get(ce.SetRoomVariablesRequest.KEY_VAR_ROOM),Ie=ue.get(ce.SetRoomVariablesRequest.KEY_VAR_LIST),Ze=this._sfs.roomManager.getRoomById(Me),ct=new Set;if(null!=Ze){for(var _t=0;_t<Ie.size();_t++){var ze=C.SFSRoomVariable.fromSFSArray(Ie.get(_t));Ze._setVariable(ze),ct.add(ze.name)}var Ke={};Ke.changedVars=Array.from(ct),Ke.room=Ze,this._sfs.dispatchEvent(T.SFSEvent.ROOM_VARIABLES_UPDATE,Ke)}else this._logger.warn("Unexpected RoomVariablesUpdate event error; unknown Room id: "+Me)}},{key:"_fnSetUserVariables",value:function(ue){var Me=ue.get(se.SetUserVariablesRequest.KEY_USER),Ie=ue.get(se.SetUserVariablesRequest.KEY_VAR_LIST),Ze=this._sfs.userManager.getUserById(Me),ct=new Set;if(null!=Ze){for(var _t=0;_t<Ie.size();_t++){var ze=p.SFSUserVariable.fromSFSArray(Ie.get(_t));Ze._setVariable(ze),ct.add(ze.name)}var Ke={};Ke.changedVars=Array.from(ct),Ke.user=Ze,this._sfs.dispatchEvent(T.SFSEvent.USER_VARIABLES_UPDATE,Ke)}else this._logger.warn("Unexpected UserVariablesUpdate event error; unknown User id: "+Me)}},{key:"_fnSubscribeRoomGroup",value:function(ue){if(null==ue.get(Je.KEY_ERROR_CODE)){var Me=ue.get(we.SubscribeRoomGroupRequest.KEY_GROUP_ID),Ie=ue.get(we.SubscribeRoomGroupRequest.KEY_ROOM_LIST);this._sfs.roomManager.containsGroup(Me)&&this._logger.warn("Unexpected SubscribeRoomGroup event error; group already subscribed: "+Me),this._sfs.roomManager._addGroup(Me),this._populateRoomList(Ie);var Ze={};Ze.groupId=Me,Ze.newRooms=this._sfs.roomManager.getRoomListFromGroup(Me),this._sfs.dispatchEvent(T.SFSEvent.ROOM_GROUP_SUBSCRIBE,Ze)}else this._dispatchError(T.SFSEvent.ROOM_GROUP_SUBSCRIBE_ERROR,ue)}},{key:"_fnUnsubscribeRoomGroup",value:function(ue){if(null==ue.get(Je.KEY_ERROR_CODE)){var Me=ue.get(Ue.UnsubscribeRoomGroupRequest.KEY_GROUP_ID);this._sfs.roomManager.containsGroup(Me)||this._logger.warn("Unexpected UnsubscribeRoomGroup event error; group not found: "+Me+" (maybe never subscribed, or the Room Manager doesn't contain Rooms belonging to that Group)"),this._sfs.roomManager._removeGroup(Me);var Ie={};Ie.groupId=Me,this._sfs.dispatchEvent(T.SFSEvent.ROOM_GROUP_UNSUBSCRIBE,Ie)}else this._dispatchError(T.SFSEvent.ROOM_GROUP_UNSUBSCRIBE_ERROR,ue)}},{key:"_fnSpectatorToPlayer",value:function(ue){if(null==ue.get(Je.KEY_ERROR_CODE)){var Me=ue.get(ke.SpectatorToPlayerRequest.KEY_ROOM_ID),Ie=ue.get(ke.SpectatorToPlayerRequest.KEY_USER_ID),Ze=ue.get(ke.SpectatorToPlayerRequest.KEY_PLAYER_ID),ct=this._sfs.userManager.getUserById(Ie),_t=this._sfs.roomManager.getRoomById(Me);if(null!=_t)if(null!=ct)if(ct.isJoinedInRoom(_t)){ct._setPlayerId(Ze,_t);var ze={};ze.room=_t,ze.user=ct,ze.playerId=Ze,this._sfs.dispatchEvent(T.SFSEvent.SPECTATOR_TO_PLAYER,ze)}else this._logger.warn("Unexpected SpectatorToPlayer event error; User "+ct+" not in Room "+_t);else this._logger.warn("Unexpected SpectatorToPlayer event error; unknown User id: "+Ie);else this._logger.warn("Unexpected SpectatorToPlayer event error; unknown Room id: "+Me)}else this._dispatchError(T.SFSEvent.SPECTATOR_TO_PLAYER_ERROR,ue)}},{key:"_fnPlayerToSpectator",value:function(ue){if(null==ue.get(Je.KEY_ERROR_CODE)){var Me=ue.get(Fe.PlayerToSpectatorRequest.KEY_ROOM_ID),Ie=ue.get(Fe.PlayerToSpectatorRequest.KEY_USER_ID),Ze=this._sfs.userManager.getUserById(Ie),ct=this._sfs.roomManager.getRoomById(Me);if(null!=ct)if(null!=Ze)if(Ze.isJoinedInRoom(ct)){Ze._setPlayerId(-1,ct);var _t={};_t.room=ct,_t.user=Ze,this._sfs.dispatchEvent(T.SFSEvent.PLAYER_TO_SPECTATOR,_t)}else this._logger.warn("Unexpected PlayerToSpectator event error; User "+Ze+" not in Room "+ct);else this._logger.warn("Unexpected SpectatorToPlayer event error; unknown User id: "+Ie);else this._logger.warn("Unexpected SpectatorToPlayer event error; unknown Room id: "+Me)}else this._dispatchError(T.SFSEvent.PLAYER_TO_SPECTATOR_ERROR,ue)}},{key:"_fnPingPong",value:function(ue){var Me={};Me.lagValue=this._sfs._lagMonitor._onPingPong(),this._sfs.dispatchEvent(T.SFSEvent.PING_PONG,Me)}},{key:"_fnFindRooms",value:function(ue){for(var Me=ue.get(oe.FindRoomsRequest.KEY_FILTERED_ROOMS),Ie=[],Ze=0;Ze<Me.size();Ze++){var ct=Me.get(Ze),_t=g.SFSRoom.fromSFSArray(ct),ze=this._sfs.roomManager.getRoomById(_t.id);null!=ze&&(_t._isJoined=ze._isJoined),Ie.push(_t)}var Ke={};Ke.rooms=Ie,this._sfs.dispatchEvent(T.SFSEvent.ROOM_FIND_RESULT,Ke)}},{key:"_fnFindUsers",value:function(ue){for(var Me=ue.get(Se.FindUsersRequest.KEY_FILTERED_USERS),Ie=[],Ze=this._sfs.mySelf,ct=0;ct<Me.size();ct++){var _t=Me.get(ct),ze=_.SFSUser.fromSFSArray(_t);ze.id===Ze.id&&(ze=Ze),Ie.push(ze)}var Ke={};Ke.users=Ie,this._sfs.dispatchEvent(T.SFSEvent.USER_FIND_RESULT,Ke)}},{key:"_fnQuickJoinGame",value:function(ue){null!=ue.get(Je.KEY_ERROR_CODE)&&this._dispatchError(T.SFSEvent.ROOM_JOIN_ERROR,ue)}},{key:"_fnInviteUsers",value:function(ue){var Me;Me=null!=ue.get(he.InviteUsersRequest.KEY_USER_ID)?this._sfs.userManager.getUserById(ue.get(he.InviteUsersRequest.KEY_USER_ID)):_.SFSUser.fromSFSArray(ue.get(he.InviteUsersRequest.KEY_USER));var Ie=ue.get(he.InviteUsersRequest.KEY_TIME),Ze=ue.get(he.InviteUsersRequest.KEY_INVITATION_ID),ct=ue.get(he.InviteUsersRequest.KEY_PARAMS),_t=new P.SFSInvitation(Me,this._sfs.mySelf,Ie,ct);_t._id=Ze;var ze={};ze.invitation=_t,this._sfs.dispatchEvent(T.SFSEvent.INVITATION,ze)}},{key:"_fnInvitationReply",value:function(ue){if(null==ue.get(Je.KEY_ERROR_CODE)){var Me;Me=null!=ue.get(he.InviteUsersRequest.KEY_USER_ID)?this._sfs.userManager.getUserById(ue.get(he.InviteUsersRequest.KEY_USER_ID)):_.SFSUser.fromSFSArray(ue.get(he.InviteUsersRequest.KEY_USER));var Ie=ue.get(he.InviteUsersRequest.KEY_REPLY_ID),Ze=ue.get(he.InviteUsersRequest.KEY_PARAMS),ct={};ct.invitee=Me,ct.reply=Ie,ct.data=Ze,this._sfs.dispatchEvent(T.SFSEvent.INVITATION_REPLY,ct)}else this._dispatchError(T.SFSEvent.INVITATION_REPLY_ERROR,ue)}},{key:"_fnSetUserPosition",value:function(ue){var Me=ue.get(_e.SetUserPositionRequest.KEY_ROOM),Ie=this._sfs.roomManager.getRoomById(Me),Ze=ue.get(_e.SetUserPositionRequest.KEY_MINUS_USER_LIST),ct=ue.get(_e.SetUserPositionRequest.KEY_PLUS_USER_LIST),_t=ue.get(_e.SetUserPositionRequest.KEY_MINUS_ITEM_LIST),ze=ue.get(_e.SetUserPositionRequest.KEY_PLUS_ITEM_LIST),Ke=[],an=[],zt=[],gn=[];if(null!=Ze){var yi=!0,mt=!1,xt=void 0;try{for(var Ne,Ae=Ze[Symbol.iterator]();!(yi=(Ne=Ae.next()).done);yi=!0){var $e=Ie.getUserById(Ne.value);null!=$e&&(Ie._removeUser($e),an.push($e))}}catch(_n){mt=!0,xt=_n}finally{try{!yi&&Ae.return&&Ae.return()}finally{if(mt)throw xt}}}if(null!=ct)for(var Le=0;Le<ct.size();Le++){var Xe=ct.get(Le),Et=this._getOrCreateUser(Xe,!0,Ie);Ke.push(Et),Ie._addUser(Et);var It=Xe.get(5);null!=It&&(Et._aoiEntryPoint=v.Vec3D.fromArray(It))}if(null!=_t){var Rt=!0,In=!1,ei=void 0;try{for(var bi,Yt=_t[Symbol.iterator]();!(Rt=(bi=Yt.next()).done);Rt=!0){var Cn=Ie.getMMOItem(bi.value);null!=Cn&&(Ie._removeItem(Cn.id),gn.push(Cn))}}catch(_n){In=!0,ei=_n}finally{try{!Rt&&Yt.return&&Yt.return()}finally{if(In)throw ei}}}if(null!=ze)for(var Xt=0;Xt<ze.size();Xt++){var $n=ze.get(Xt),Yr=m.MMOItem.fromSFSArray($n);zt.push(Yr),Ie._addMMOItem(Yr);var Xr=$n.get(2);null!=Xr&&(Yr._aoiEntryPoint=v.Vec3D.fromArray(Xr))}var ci={};ci.addedItems=zt,ci.removedItems=gn,ci.removedUsers=an,ci.addedUsers=Ke,ci.room=Ie,this._sfs.dispatchEvent(T.SFSEvent.PROXIMITY_LIST_UPDATE,ci)}},{key:"_fnInitBuddyList",value:function(ue){if(null==ue.get(Je.KEY_ERROR_CODE)){var Me=ue.get(Ce.InitBuddyListRequest.KEY_BLIST),Ie=ue.get(Ce.InitBuddyListRequest.KEY_MY_VARS),Ze=ue.get(Ce.InitBuddyListRequest.KEY_BUDDY_STATES);this._sfs.buddyManager._clearAll();for(var ct=0;ct<Me.size();ct++){var _t=w.SFSBuddy.fromSFSArray(Me.get(ct));this._sfs.buddyManager._addBuddy(_t)}null!=Ze&&this._sfs.buddyManager._setBuddyStates(Ze);for(var ze=[],Ke=0;Ke<Ie.size();Ke++){var an=L.SFSBuddyVariable.fromSFSArray(Ie.get(Ke));ze.push(an)}this._sfs.buddyManager._setMyVariables(ze),this._sfs.buddyManager._setInited();var zt={};zt.buddyList=this._sfs.buddyManager.getBuddyList(),zt.myVariables=this._sfs.buddyManager.getMyVariables(),this._sfs.dispatchEvent(T.SFSBuddyEvent.BUDDY_LIST_INIT,zt)}else this._dispatchError(T.SFSBuddyEvent.BUDDY_ERROR,ue)}},{key:"_fnAddBuddy",value:function(ue){if(null==ue.get(Je.KEY_ERROR_CODE)){var Me=w.SFSBuddy.fromSFSArray(ue.get(Pe.AddBuddyRequest.KEY_BUDDY_NAME));this._sfs.buddyManager._addBuddy(Me);var Ie={};Ie.buddy=Me,this._sfs.dispatchEvent(T.SFSBuddyEvent.BUDDY_ADD,Ie)}else this._dispatchError(T.SFSBuddyEvent.BUDDY_ERROR,ue)}},{key:"_fnRemoveBuddy",value:function(ue){if(null==ue.get(Je.KEY_ERROR_CODE)){var Me=ue.get(tt.RemoveBuddyRequest.KEY_BUDDY_NAME),Ie=this._sfs.buddyManager._removeBuddyByName(Me);if(null!=Ie){var Ze={};Ze.buddy=Ie,this._sfs.dispatchEvent(T.SFSBuddyEvent.BUDDY_REMOVE,Ze)}else this._logger.warn("Unexpected RemoveBuddy event error; can't find "+Me+" in local buddy list")}else this._dispatchError(T.SFSBuddyEvent.BUDDY_ERROR,ue)}},{key:"_fnBlockBuddy",value:function(ue){if(null==ue.get(Je.KEY_ERROR_CODE)){var Me=ue.get(yt.BlockBuddyRequest.KEY_BUDDY_NAME),Ie=this._sfs.buddyManager.getBuddyByName(Me);null!=ue.get(yt.BlockBuddyRequest.KEY_BUDDY)?(Ie=w.SFSBuddy.fromSFSArray(ue.get(yt.BlockBuddyRequest.KEY_BUDDY)),this._sfs.buddyManager._addBuddy(Ie)):null!=Ie?Ie._isBlocked=ue.get(yt.BlockBuddyRequest.KEY_BUDDY_BLOCK_STATE):this._logger.warn("Unexpected BlockBuddy event error; can't find "+Me+" in local buddy list");var Ze={};Ze.buddy=Ie,this._sfs.dispatchEvent(T.SFSBuddyEvent.BUDDY_BLOCK,Ze)}else this._dispatchError(T.SFSBuddyEvent.BUDDY_ERROR,ue)}},{key:"_fnGoOnline",value:function(ue){if(null==ue.get(Je.KEY_ERROR_CODE)){var Me=ue.get(Qe.GoOnlineRequest.KEY_BUDDY_NAME),Ie=this._sfs.buddyManager.getBuddyByName(Me),Ze=Me===this._sfs.mySelf.name,ct=ue.get(Qe.GoOnlineRequest.KEY_ONLINE),_t=ct===w.BuddyOnlineState.ONLINE,ze=!0;if(Ze)this._sfs.buddyManager.getMyOnlineState()!=_t&&(this._logger.warn("Unexpected GoOnline event error; current user's online state is not in synch with the server; resynching to: "+_t),this._sfs.buddyManager._setMyOnlineState(_t));else{if(null==Ie)return void this._logger.warn("Unexpected GoOnline event error; can't find "+Me+" in local buddy list");Ie._id=ue.get(Qe.GoOnlineRequest.KEY_BUDDY_ID),Ie._setVariable(new L.SFSBuddyVariable(L.ReservedBuddyVariables.BV_ONLINE,_t)),ct===w.BuddyOnlineState.LEFT_THE_SERVER&&Ie._clearVolatileVariables(),ze=this._sfs.buddyManager.getMyOnlineState()}if(ze){var Ke={};Ke.buddy=Ie,Ke.isItMe=Ze,this._sfs.dispatchEvent(T.SFSBuddyEvent.BUDDY_ONLINE_STATE_CHANGE,Ke)}}else this._dispatchError(T.SFSBuddyEvent.BUDDY_ERROR,ue)}},{key:"_fnSetBuddyVariables",value:function(ue){if(null==ue.get(Je.KEY_ERROR_CODE)){for(var Me=ue.get(Kt.SetBuddyVariablesRequest.KEY_BUDDY_NAME),Ie=ue.get(Kt.SetBuddyVariablesRequest.KEY_BUDDY_VARS),Ze=this._sfs.buddyManager.getBuddyByName(Me),ct=Me===this._sfs.mySelf.name,_t=[],ze=[],Ke=!0,an=0;an<Ie.size();an++){var zt=L.SFSBuddyVariable.fromSFSArray(Ie.get(an));ze.push(zt),_t.push(zt.name)}if(ct)this._sfs.buddyManager._setMyVariables(ze);else{if(null==Ze)return void this._logger.warn("Unexpected SetBuddyVariables event error; can't find "+Me+" in local buddy list");Ze._setVariables(ze),Ke=this._sfs.buddyManager.getMyOnlineState()}if(Ke){var gn={};gn.buddy=Ze,gn.isItMe=ct,gn.changedVars=_t,this._sfs.dispatchEvent(T.SFSBuddyEvent.BUDDY_VARIABLES_UPDATE,gn)}}else this._dispatchError(T.SFSBuddyEvent.BUDDY_ERROR,ue)}},{key:"_fnUserEnterRoom",value:function(ue){var Me=this._sfs.roomManager.getRoomById(ue.get(Je.ROOM_PARAM));if(null!=Me){var Ie=ue.get(Je.USER_PARAM),Ze=this._getOrCreateUser(Ie,!0,Me);Me._addUser(Ze);var ct={};ct.user=Ze,ct.room=Me,this._sfs.dispatchEvent(T.SFSEvent.USER_ENTER_ROOM,ct)}}},{key:"_fnUserCountChange",value:function(ue){var Me=this._sfs.roomManager.getRoomById(ue.get(Je.ROOM_PARAM));if(null!=Me){var Ie=ue.get(Je.USER_COUNT_PARAM),Ze=null!=ue.get(Je.SPECT_COUNT_PARAM)?ue.get(Je.SPECT_COUNT_PARAM):0;Me._userCount=Ie,Me._specCount=Ze;var ct={};ct.room=Me,ct.uCount=Ie,ct.sCount=Ze,this._sfs.dispatchEvent(T.SFSEvent.USER_COUNT_CHANGE,ct)}}},{key:"_fnUserLost",value:function(ue){var Me=this._sfs.userManager.getUserById(ue.get(Je.USER_PARAM));if(null!=Me){var Ie=this._sfs.roomManager.getUserRooms(Me);this._sfs.roomManager._removeUser(Me),this._sfs.userManager._removeUserReference(Me,!0);var Ze=!0,ct=!1,_t=void 0;try{for(var ze,Ke=Ie[Symbol.iterator]();!(Ze=(ze=Ke.next()).done);Ze=!0){var an=ze.value,zt={};zt.user=Me,zt.room=an,this._sfs.dispatchEvent(T.SFSEvent.USER_EXIT_ROOM,zt)}}catch(gn){ct=!0,_t=gn}finally{try{!Ze&&Ke.return&&Ke.return()}finally{if(ct)throw _t}}}}},{key:"_fnRoomLost",value:function(ue){var Me=this._sfs.roomManager.getRoomById(ue.get(Je.ROOM_PARAM));if(null!=Me){this._sfs.roomManager._removeRoom(Me);var Ie=!0,Ze=!1,ct=void 0;try{for(var _t,ze=Me.getUserList()[Symbol.iterator]();!(Ie=(_t=ze.next()).done);Ie=!0)this._sfs.userManager._removeUser(_t.value)}catch(zt){Ze=!0,ct=zt}finally{try{!Ie&&ze.return&&ze.return()}finally{if(Ze)throw ct}}var an={};an.room=Me,this._sfs.dispatchEvent(T.SFSEvent.ROOM_REMOVE,an)}}},{key:"_fnUserExitRoom",value:function(ue){var Me=this._sfs.roomManager.getRoomById(ue.get(Je.ROOM_PARAM)),Ie=this._sfs.userManager.getUserById(ue.get(Je.USER_PARAM));if(null!=Me&&null!=Ie){Me._removeUser(Ie),this._sfs.userManager._removeUser(Ie),Ie.isItMe&&Me.isJoined&&(Me._isJoined=!1,0!==this._sfs.roomManager.getJoinedRooms().length&&this._sfs._lastJoinedRoom!==Me||(this._sfs._lastJoinedRoom=null),Me._isManaged||this._sfs.roomManager._removeRoom(Me));var Ze={};Ze.user=Ie,Ze.room=Me,this._sfs.dispatchEvent(T.SFSEvent.USER_EXIT_ROOM,Ze)}else this._logger.debug("Failed to handle UserExit event; Room: "+Me+", User: "+Ie)}},{key:"_fnClientDisconnection",value:function(ue){var Me=ue.get(Je.DISCONNECTION_REASON_PARAM);this._sfs._handleClientDisconnection($.ClientDisconnectionReason.getReason(Me))}},{key:"_fnSetMMOItemVariables",value:function(ue){var Me=ue.get(We.SetMMOItemVariables.KEY_ROOM_ID),Ie=ue.get(We.SetMMOItemVariables.KEY_ITEM_ID),Ze=ue.get(We.SetMMOItemVariables.KEY_VAR_LIST),ct=this._sfs.roomManager.getRoomById(Me),_t=new Set;if(null!=ct){var ze=ct.getMMOItem(Ie);if(null!=ze){for(var Ke=0;Ke<Ze.size();Ke++){var an=x.MMOItemVariable.fromSFSArray(Ze.get(Ke));ze._setVariable(an),_t.add(an.name)}var zt={};zt.changedVars=Array.from(_t),zt.mmoItem=ze,zt.room=ct,this._sfs.dispatchEvent(T.SFSEvent.MMOITEM_VARIABLES_UPDATE,zt)}else this._logger.warn("Unexpected MMOItemVariablesUpdate event error; unknown MMOItem id: "+Ie)}else this._logger.warn("Unexpected MMOItemVariablesUpdate event error; unknown MMORoom id: "+Me)}},{key:"_dispatchError",value:function(ue,Me){var Ie={};Ie.errorCode=Me.get(Je.KEY_ERROR_CODE),Ie.errorMessage=b.SFSErrorCodes.getErrorMessage(Ie.errorCode,Me.get(Je.KEY_ERROR_PARAMS)),this._sfs.dispatchEvent(ue,Ie)}},{key:"_populateRoomList",value:function(ue){for(var Me=0;Me<ue.size();Me++){var Ie=g.SFSRoom.fromSFSArray(ue.get(Me));this._sfs.roomManager._replaceRoom(Ie)}}},{key:"_getOrCreateUser",value:function(ue,Me,Ie){var Ze=ue.get(0),ct=this._sfs.userManager.getUserById(Ze);if(null==ct)(ct=_.SFSUser.fromSFSArray(ue,Ie))._setUserManager(this._sfs.userManager);else{ct._setPlayerId(ue.get(3),Ie);var _t=ue.get(4);if(null!=_t)for(var ze=0;ze<_t.size();ze++)ct._setVariable(p.SFSUserVariable.fromSFSArray(_t.get(ze)))}return Me&&this._sfs.userManager._addUser(ct),ct}},{key:"id",get:function(){return this._id}}]),Je}();A.SystemController=pt},function(H,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.SmartFox=void 0;var M=function(){function re(ie,ee){for(var V=0;V<ee.length;V++){var q=ee[V];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(ie,q.key,q)}}return function(ie,ee,V){return ee&&re(ie.prototype,ee),V&&re(ie,V),ie}}(),S=h(175),T=h(169),b=h(39),v=h(1),g=h(168),_=h(119),m=h(166),w=h(165),P=h(2),p=h(164),C=h(74),x=h(50),L=h(163),$=h(51),X=function(re){function ie(){var ee=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!function(q,le){if(!(q instanceof le))throw new TypeError("Cannot call a class as a function")}(this,ie);var V=function(q,le){if(!q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!le||"object"!=typeof le&&"function"!=typeof le?q:le}(this,(ie.__proto__||Object.getPrototypeOf(ie)).call(this));return V._majVersion=1,V._minVersion=7,V._subVersion=19,V._configData=ee,V._logger=x.Logger.instance,V._sessionToken=null,V._socketEngine=new g.SocketEngine(V),V._socketEngine.addEventListener(g.SocketEvent.CONNECT,V._onSocketConnect,V),V._socketEngine.addEventListener(g.SocketEvent.DISCONNECT,V._onSocketDisconnect,V),V._socketEngine.addEventListener(g.SocketEvent.DATA,V._onSocketData,V),V._socketEngine.addEventListener(g.SocketEvent.IOERROR,V._onSocketIOError,V),V._controllers={},V._controllers[0]=new S.SystemController(V),V._controllers[1]=new T.ExtensionController(V),V._reset(),V._clientDetails="JavaScript",V.debug=null!=V.config&&V.config.debug,V.debug&&(V._logger.info("SmartFox instance ready"),V._logger.info("SFS2X JavaScript API v"+V.version)),Object.seal(V),V}return function(ee,V){if("function"!=typeof V&&null!==V)throw new TypeError("Super expression must either be null or a function, not "+typeof V);ee.prototype=Object.create(V&&V.prototype,{constructor:{value:ee,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(ee,V):ee.__proto__=V)}(ie,b.EventDispatcher),M(ie,[{key:"setClientDetails",value:function(ee,V){this.isConnected?this._logger.warn("Method setClientDetails must be called before the connection is started"):(ee=null!=ee?ee.replace(":"," "):"",V=null!=V?V.replace(":"," "):"",this._clientDetails=ee+":"+V)}},{key:"connect",value:function(){var ee=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,V=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(this.debug&&this._logger.info("Attempting connection to server"),this.isConnected)this._logger.warn("Connection attempt interrupted: already connected");else if(this._socketEngine.isConnecting)this._logger.warn("Connection attempt interrupted: another attempt is already in progress");else{var le=null!=this.config&&null!=this.config.host?this.config.host:null,Q=null!=this.config&&null!=this.config.port?this.config.port:null,ce=null!=this.config&&this.config.useSSL;null!=ee&&(le=ee),V>-1&&(Q=V),null!=q&&(ce=q),null!=le&&"string"==typeof le&&0!==le.length?"number"!=typeof Q||Q<0||Q>65535?this._logger.error("Invalid TCP connection port: "+Q):("boolean"!=typeof ce&&(ce=!1),this._socketEngine.connect(le,Q,ce)):this._logger.error("Invalid connection host/address")}}},{key:"disconnect",value:function(){this.isConnected&&this._handleClientDisconnection($.ClientDisconnectionReason.MANUAL)}},{key:"enableLagMonitor",value:function(ee){var V=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;null!=this.mySelf?(null!=this._lagMonitor&&this._lagMonitor.destroy(),ee&&(this._lagMonitor=new L.LagMonitor(this,V,q),this._lagMonitor.start())):this._logger.warn("Lag monitoring requires that you are logged in a Zone; please retry after completing the login process")}},{key:"send",value:function(ee){if(this.isConnected){if(null!=ee.validate&&null!=ee.execute){this.debug&&this._logger.info("Sending request '"+P.Requests.getNameFromId(ee.id)+"' to server");try{ee.validate(this),ee.execute(this)}catch(le){if(!(le instanceof v.SFSValidationError&&null!=le.message))throw le;var V=le.message;if(null!=le.errors){V+=":";for(var q=0;q<le.errors.length;q++)le.errors.length>1&&(V+=" "+(q+1)+")"),V+=" "+le.errors[q]}return this._logger.error("Request failed | "+V),!1}return this._socketEngine.send(ee.getMessage()),!0}this._logger.error("An invalid request was passed: "+ee)}else this._logger.error("You are not connected. Request cannot be sent: "+P.Requests.getNameFromId(ee.id))}},{key:"getRoomById",value:function(ee){return this.roomManager.getRoomById(ee)}},{key:"getRoomByName",value:function(ee){return this.roomManager.getRoomByName(ee)}},{key:"getRoomList",value:function(){return this.roomManager.getRoomList()}},{key:"getRoomListFromGroup",value:function(ee){return this.roomManager.getRoomListFromGroup(ee)}},{key:"getJoinedRooms",value:function(){return this.roomManager.getJoinedRooms()}},{key:"_reset",value:function(){var ee=arguments.length>0&&void 0!==arguments[0]&&arguments[0];null!=this._buddyManager&&(this._buddyManager._clearAll(),this._buddyManager._inited=!1),this._userManager=new _.GlobalUserManager(this),this._roomManager=new m.SFSRoomManager(this),this._buddyManager=new w.SFSBuddyManager(this),null!=this._lagMonitor&&this._lagMonitor.destroy(),this._lagMonitor=null,this._isJoining=!1,this._currentZone=null,this._lastJoinedRoom=null,this._mySelf=null,ee&&(this._sessionToken=null)}},{key:"_onSocketConnect",value:function(ee){ee.success?this.send(new p.HandshakeRequest(this.version,this._clientDetails)):this.dispatchEvent(b.SFSEvent.CONNECTION,{success:!1})}},{key:"_onSocketDisconnect",value:function(ee){this.dispatchEvent(b.SFSEvent.CONNECTION_LOST,{reason:ee.reason}),this._reset(!0)}},{key:"_onSocketData",value:function(ee){var V=ee.targetController,q=ee.id;null!=V?null!=q?this._controllers[V].handleMessage(ee.content,q):this._logger.error("Incoming message rejected: Command ID is missing"):this._logger.error("Incoming message rejected: Controller ID is missing")}},{key:"_onSocketIOError",value:function(ee){this.dispatchEvent(b.SFSEvent.SOCKET_ERROR,{message:ee})}},{key:"_handleHandShake",value:function(ee){var V=ee.get(P.BaseRequest.KEY_ERROR_CODE);if(null==V)this._sessionToken=ee.get(p.HandshakeRequest.KEY_SESSION_TOKEN),this._socketEngine.maxMessageSize=ee.get(p.HandshakeRequest.KEY_MAX_MESSAGE_SIZE),this._socketEngine.compressionThreshold=ee.get(p.HandshakeRequest.KEY_COMPRESSION_THRESHOLD),this.dispatchEvent(b.SFSEvent.CONNECTION,{success:!0});else{var q={success:!1,errorMessage:C.SFSErrorCodes.getErrorMessage(V,ee.get(P.BaseRequest.KEY_ERROR_PARAMS)),errorCode:V};this.dispatchEvent(b.SFSEvent.CONNECTION,q)}}},{key:"_handleLogout",value:function(){this._reset()}},{key:"_handleClientDisconnection",value:function(ee){this.isConnected&&this._socketEngine.disconnect(ee)}},{key:"version",get:function(){return this._majVersion+"."+this._minVersion+"."+this._subVersion}},{key:"config",get:function(){return this._configData}},{key:"logger",get:function(){return this._logger}},{key:"sessionToken",get:function(){return this._sessionToken}},{key:"roomManager",get:function(){return this._roomManager}},{key:"userManager",get:function(){return this._userManager}},{key:"buddyManager",get:function(){return this._buddyManager}},{key:"mySelf",get:function(){return this._mySelf}},{key:"lastJoinedRoom",get:function(){return this._lastJoinedRoom}},{key:"isConnected",get:function(){return null!=this._socketEngine&&this._socketEngine.isConnected}},{key:"maxMessageSize",get:function(){return null!=this._socketEngine?this._socketEngine.maxMessageSize:0}}]),ie}();A.SmartFox=X},function(H,A,h){var M=h(0),S=h(89);S&&M(M.S,"Reflect",{setPrototypeOf:function(T,b){S.check(T,b);try{return S.set(T,b),!0}catch(v){return!1}}})},function(H,A,h){var M=h(10),S=h(23),T=h(31),b=h(16),v=h(0),g=h(36),_=h(5),m=h(4);v(v.S,"Reflect",{set:function w(P,p,C){var x,L,$=arguments.length<4?P:arguments[3],X=S.f(_(P),p);if(!X){if(m(L=T(P)))return w(L,p,C,$);X=g(0)}return b(X,"value")?!(!1===X.writable||!m($)||((x=S.f($,p)||g(0)).value=C,M.f($,p,x),0)):void 0!==X.set&&(X.set.call($,C),!0)}})},function(H,A,h){var M=h(0),S=h(5),T=Object.preventExtensions;M(M.S,"Reflect",{preventExtensions:function(b){S(b);try{return T&&T(b),!0}catch(v){return!1}}})},function(H,A,h){var M=h(32),S=h(68),T=h(5),b=h(6).Reflect;H.exports=b&&b.ownKeys||function(v){var g=M.f(T(v)),_=S.f;return _?g.concat(_(v)):g}},function(H,A,h){var M=h(0);M(M.S,"Reflect",{ownKeys:h(180)})},function(H,A,h){var M=h(0),S=h(5),T=Object.isExtensible;M(M.S,"Reflect",{isExtensible:function(b){return S(b),!T||T(b)}})},function(H,A,h){var M=h(0);M(M.S,"Reflect",{has:function(S,T){return T in S}})},function(H,A,h){var M=h(0),S=h(31),T=h(5);M(M.S,"Reflect",{getPrototypeOf:function(b){return S(T(b))}})},function(H,A,h){var M=h(23),S=h(0),T=h(5);S(S.S,"Reflect",{getOwnPropertyDescriptor:function(b,v){return M.f(T(b),v)}})},function(H,A,h){var M=h(23),S=h(31),T=h(16),b=h(0),v=h(4),g=h(5);b(b.S,"Reflect",{get:function _(m,w){var P,p,C=arguments.length<3?m:arguments[2];return g(m)===C?m[w]:(P=M.f(m,w))?T(P,"value")?P.value:void 0!==P.get?P.get.call(C):void 0:v(p=S(m))?_(p,w,C):void 0}})},function(H,A,h){"use strict";var M=h(0),S=h(5),T=function(b){this._t=S(b),this._i=0;var v,g=this._k=[];for(v in b)g.push(v)};h(133)(T,"Object",function(){var b,v=this._k;do{if(this._i>=v.length)return{value:void 0,done:!0}}while(!((b=v[this._i++])in this._t));return{value:b,done:!1}}),M(M.S,"Reflect",{enumerate:function(b){return new T(b)}})},function(H,A,h){var M=h(0),S=h(23).f,T=h(5);M(M.S,"Reflect",{deleteProperty:function(b,v){var g=S(T(b),v);return!(g&&!g.configurable)&&delete b[v]}})},function(H,A,h){var M=h(10),S=h(0),T=h(5),b=h(30);S(S.S+S.F*h(3)(function(){Reflect.defineProperty(M.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(v,g,_){T(v),g=b(g,!0),T(_);try{return M.f(v,g,_),!0}catch(m){return!1}}})},function(H,A,h){var M=h(0),S=h(33),T=h(26),b=h(5),v=h(4),g=h(3),_=h(142),m=(h(6).Reflect||{}).construct,w=g(function(){function p(){}return!(m(function(){},[],p)instanceof p)}),P=!g(function(){m(function(){})});M(M.S+M.F*(w||P),"Reflect",{construct:function(p,C){T(p),b(C);var x=arguments.length<3?p:T(arguments[2]);if(P&&!w)return m(p,C,x);if(p==x){switch(C.length){case 0:return new p;case 1:return new p(C[0]);case 2:return new p(C[0],C[1]);case 3:return new p(C[0],C[1],C[2]);case 4:return new p(C[0],C[1],C[2],C[3])}var L=[null];return L.push.apply(L,C),new(_.apply(p,L))}var $=x.prototype,X=S(v($)?$:Object.prototype),re=Function.apply.call(p,X,C);return v(re)?re:X}})},function(H,A,h){var M=h(0),S=h(26),T=h(5),b=(h(6).Reflect||{}).apply,v=Function.apply;M(M.S+M.F*!h(3)(function(){b(function(){})}),"Reflect",{apply:function(g,_,m){var w=S(g),P=T(m);return b?b(w,_,P):v.call(w,_,P)}})},function(H,A,h){h(22)("Float64",8,function(M){return function(S,T,b){return M(this,S,T,b)}})},function(H,A,h){h(22)("Float32",4,function(M){return function(S,T,b){return M(this,S,T,b)}})},function(H,A,h){h(22)("Uint32",4,function(M){return function(S,T,b){return M(this,S,T,b)}})},function(H,A,h){h(22)("Int32",4,function(M){return function(S,T,b){return M(this,S,T,b)}})},function(H,A,h){h(22)("Uint16",2,function(M){return function(S,T,b){return M(this,S,T,b)}})},function(H,A,h){h(22)("Int16",2,function(M){return function(S,T,b){return M(this,S,T,b)}})},function(H,A,h){h(22)("Uint8",1,function(M){return function(S,T,b){return M(this,S,T,b)}},!0)},function(H,A,h){h(22)("Uint8",1,function(M){return function(S,T,b){return M(this,S,T,b)}})},function(H,A,h){h(22)("Int8",1,function(M){return function(S,T,b){return M(this,S,T,b)}})},function(H,A,h){var M=h(0);M(M.G+M.W+M.F*!h(60).ABV,{DataView:h(75).DataView})},function(H,A,h){"use strict";var M=h(0),S=h(60),T=h(75),b=h(5),v=h(34),g=h(12),_=h(4),m=h(6).ArrayBuffer,w=h(76),P=T.ArrayBuffer,p=T.DataView,C=S.ABV&&m.isView,x=P.prototype.slice,L=S.VIEW;M(M.G+M.W+M.F*(m!==P),{ArrayBuffer:P}),M(M.S+M.F*!S.CONSTR,"ArrayBuffer",{isView:function($){return C&&C($)||_($)&&L in $}}),M(M.P+M.U+M.F*h(3)(function(){return!new P(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function($,X){if(void 0!==x&&void 0===X)return x.call(b(this),$);for(var re=b(this).byteLength,ie=v($,re),ee=v(void 0===X?re:X,re),V=new(w(this,P))(g(ee-ie)),q=new p(this),le=new p(V),Q=0;ie<ee;)le.setUint8(Q++,q.getUint8(ie++));return V}}),h(43)("ArrayBuffer")},function(H,A,h){"use strict";var M=h(122),S=h(40);h(61)("WeakSet",function(T){return function(){return T(this,arguments.length>0?arguments[0]:void 0)}},{add:function(T){return M.def(S(this,"WeakSet"),T,!0)}},M,!1,!0)},function(H,A,h){"use strict";var M,S=h(19)(0),T=h(15),b=h(29),v=h(143),g=h(122),_=h(4),m=h(3),w=h(40),P=b.getWeak,p=Object.isExtensible,C=g.ufstore,x={},L=function(re){return function(){return re(this,arguments.length>0?arguments[0]:void 0)}},$={get:function(re){if(_(re)){var ie=P(re);return!0===ie?C(w(this,"WeakMap")).get(re):ie?ie[this._i]:void 0}},set:function(re,ie){return g.def(w(this,"WeakMap"),re,ie)}},X=H.exports=h(61)("WeakMap",L,$,g,!0,!0);m(function(){return 7!=(new X).set((Object.freeze||Object)(x),7).get(x)})&&(v((M=g.getConstructor(L,"WeakMap")).prototype,$),b.NEED=!0,S(["delete","has","get","set"],function(re){var ie=X.prototype,ee=ie[re];T(ie,re,function(V,q){if(_(V)&&!p(V)){this._f||(this._f=new M);var le=this._f[re](V,q);return"set"==re?this:le}return ee.call(this,V,q)})}))},function(H,A,h){"use strict";var M=h(123),S=h(40);H.exports=h(61)("Set",function(T){return function(){return T(this,arguments.length>0?arguments[0]:void 0)}},{add:function(T){return M.def(S(this,"Set"),T=0===T?0:T,T)}},M)},function(H,A,h){"use strict";var M=h(123),S=h(40);H.exports=h(61)("Map",function(T){return function(){return T(this,arguments.length>0?arguments[0]:void 0)}},{get:function(T){var b=M.getEntry(S(this,"Map"),T);return b&&b.v},set:function(T,b){return M.def(S(this,"Map"),0===T?0:T,b)}},M,!0)},function(H,A,h){var M=h(5),S=h(4),T=h(124);H.exports=function(b,v){if(M(b),S(v)&&v.constructor===b)return v;var g=T.f(b);return(0,g.resolve)(v),g.promise}},function(H,A){H.exports=function(h){try{return{e:!1,v:h()}}catch(M){return{e:!0,v:M}}}},function(H,A,h){var M=h(6),S=h(125).set,T=M.MutationObserver||M.WebKitMutationObserver,b=M.process,v=M.Promise,g="process"==h(25)(b);H.exports=function(){var _,m,w,P=function(){var L,$;for(g&&(L=b.domain)&&L.exit();_;){$=_.fn,_=_.next;try{$()}catch(X){throw _?w():m=void 0,X}}m=void 0,L&&L.enter()};if(g)w=function(){b.nextTick(P)};else if(!T||M.navigator&&M.navigator.standalone)if(v&&v.resolve){var p=v.resolve();w=function(){p.then(P)}}else w=function(){S.call(M,P)};else{var C=!0,x=document.createTextNode("");new T(P).observe(x,{characterData:!0}),w=function(){x.data=C=!C}}return function(L){var $={fn:L,next:void 0};m&&(m.next=$),_||(_=$,w()),m=$}}},function(H,A,h){"use strict";var M,S,T,b,v=h(44),g=h(6),_=h(27),m=h(66),w=h(0),P=h(4),p=h(26),C=h(42),x=h(62),L=h(76),$=h(125).set,X=h(209)(),re=h(124),ie=h(208),ee=h(207),V=g.TypeError,q=g.process,le=g.Promise,Q="process"==m(q),ce=function(){},se=S=re.f,we=!!function(){try{var _e=le.resolve(1),Ce=(_e.constructor={})[h(7)("species")]=function(Pe){Pe(ce,ce)};return(Q||"function"==typeof PromiseRejectionEvent)&&_e.then(ce)instanceof Ce}catch(Pe){}}(),Ue=function(_e){var Ce;return!(!P(_e)||"function"!=typeof(Ce=_e.then))&&Ce},ke=function(_e,Ce){if(!_e._n){_e._n=!0;var Pe=_e._c;X(function(){for(var tt=_e._v,yt=1==_e._s,Qe=0,Kt=function(pt){var Je,ue,Me,Ie=yt?pt.ok:pt.fail,Ze=pt.resolve,ct=pt.reject,_t=pt.domain;try{Ie?(yt||(2==_e._h&&Se(_e),_e._h=1),!0===Ie?Je=tt:(_t&&_t.enter(),Je=Ie(tt),_t&&(_t.exit(),Me=!0)),Je===pt.promise?ct(V("Promise-chain cycle")):(ue=Ue(Je))?ue.call(Je,Ze,ct):Ze(Je)):ct(tt)}catch(ze){_t&&!Me&&_t.exit(),ct(ze)}};Pe.length>Qe;)Kt(Pe[Qe++]);_e._c=[],_e._n=!1,Ce&&!_e._h&&Fe(_e)})}},Fe=function(_e){$.call(g,function(){var Ce,Pe,tt,yt=_e._v,Qe=oe(_e);if(Qe&&(Ce=ie(function(){Q?q.emit("unhandledRejection",yt,_e):(Pe=g.onunhandledrejection)?Pe({promise:_e,reason:yt}):(tt=g.console)&&tt.error&&tt.error("Unhandled promise rejection",yt)}),_e._h=Q||oe(_e)?2:1),_e._a=void 0,Qe&&Ce.e)throw Ce.v})},oe=function(_e){return 1!==_e._h&&0===(_e._a||_e._c).length},Se=function(_e){$.call(g,function(){var Ce;Q?q.emit("rejectionHandled",_e):(Ce=g.onrejectionhandled)&&Ce({promise:_e,reason:_e._v})})},he=function(_e){var Ce=this;Ce._d||(Ce._d=!0,(Ce=Ce._w||Ce)._v=_e,Ce._s=2,Ce._a||(Ce._a=Ce._c.slice()),ke(Ce,!0))},We=function(_e){var Ce,Pe=this;if(!Pe._d){Pe._d=!0,Pe=Pe._w||Pe;try{if(Pe===_e)throw V("Promise can't be resolved itself");(Ce=Ue(_e))?X(function(){var tt={_w:Pe,_d:!1};try{Ce.call(_e,_(We,tt,1),_(he,tt,1))}catch(yt){he.call(tt,yt)}}):(Pe._v=_e,Pe._s=1,ke(Pe,!1))}catch(tt){he.call({_w:Pe,_d:!1},tt)}}};we||(le=function(_e){C(this,le,"Promise","_h"),p(_e),M.call(this);try{_e(_(We,this,1),_(he,this,1))}catch(Ce){he.call(this,Ce)}},(M=function(_e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=h(41)(le.prototype,{then:function(_e,Ce){var Pe=se(L(this,le));return Pe.ok="function"!=typeof _e||_e,Pe.fail="function"==typeof Ce&&Ce,Pe.domain=Q?q.domain:void 0,this._c.push(Pe),this._a&&this._a.push(Pe),this._s&&ke(this,!1),Pe.promise},catch:function(_e){return this.then(void 0,_e)}}),T=function(){var _e=new M;this.promise=_e,this.resolve=_(We,_e,1),this.reject=_(he,_e,1)},re.f=se=function(_e){return _e===le||_e===b?new T(_e):S(_e)}),w(w.G+w.W+w.F*!we,{Promise:le}),h(45)(le,"Promise"),h(43)("Promise"),b=h(37).Promise,w(w.S+w.F*!we,"Promise",{reject:function(_e){var Ce=se(this);return(0,Ce.reject)(_e),Ce.promise}}),w(w.S+w.F*(v||!we),"Promise",{resolve:function(_e){return ee(v&&this===b?le:this,_e)}}),w(w.S+w.F*!(we&&h(64)(function(_e){le.all(_e).catch(ce)})),"Promise",{all:function(_e){var Ce=this,Pe=se(Ce),tt=Pe.resolve,yt=Pe.reject,Qe=ie(function(){var Kt=[],pt=0,Je=1;x(_e,!1,function(ue){var Me=pt++,Ie=!1;Kt.push(void 0),Je++,Ce.resolve(ue).then(function(Ze){Ie||(Ie=!0,Kt[Me]=Ze,--Je||tt(Kt))},yt)}),--Je||tt(Kt)});return Qe.e&&yt(Qe.v),Pe.promise},race:function(_e){var Ce=this,Pe=se(Ce),tt=Pe.reject,yt=ie(function(){x(_e,!1,function(Qe){Ce.resolve(Qe).then(Pe.resolve,tt)})});return yt.e&&tt(yt.v),Pe.promise}})},function(H,A,h){h(63)("split",2,function(M,S,T){"use strict";var b=h(82),v=T,g=[].push;if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length){var _=void 0===/()??/.exec("")[1];T=function(m,w){var P=String(this);if(void 0===m&&0===w)return[];if(!b(m))return v.call(P,m,w);var p,C,x,L,$,X=[],re=(m.ignoreCase?"i":"")+(m.multiline?"m":"")+(m.unicode?"u":"")+(m.sticky?"y":""),ie=0,ee=void 0===w?4294967295:w>>>0,V=new RegExp(m.source,re+"g");for(_||(p=new RegExp("^"+V.source+"$(?!\\s)",re));(C=V.exec(P))&&!((x=C.index+C[0].length)>ie&&(X.push(P.slice(ie,C.index)),!_&&C.length>1&&C[0].replace(p,function(){for($=1;$<arguments.length-2;$++)void 0===arguments[$]&&(C[$]=void 0)}),C.length>1&&C.index<P.length&&g.apply(X,C.slice(1)),L=C[0].length,ie=x,X.length>=ee));)V.lastIndex===C.index&&V.lastIndex++;return ie===P.length?!L&&V.test("")||X.push(""):X.push(P.slice(ie)),X.length>ee?X.slice(0,ee):X}}else"0".split(void 0,0).length&&(T=function(m,w){return void 0===m&&0===w?[]:v.call(this,m,w)});return[function(m,w){var P=M(this),p=null==m?void 0:m[S];return void 0!==p?p.call(m,P,w):T.call(String(P),m,w)},T]})},function(H,A,h){h(63)("search",1,function(M,S,T){return[function(b){"use strict";var v=M(this),g=null==b?void 0:b[S];return void 0!==g?g.call(b,v):new RegExp(b)[S](String(v))},T]})},function(H,A,h){h(63)("replace",2,function(M,S,T){return[function(b,v){"use strict";var g=M(this),_=null==b?void 0:b[S];return void 0!==_?_.call(b,g,v):T.call(String(g),b,v)},T]})},function(H,A,h){h(63)("match",1,function(M,S,T){return[function(b){"use strict";var v=M(this),g=null==b?void 0:b[S];return void 0!==g?g.call(b,v):new RegExp(b)[S](String(v))},T]})},function(H,A,h){"use strict";h(126);var M=h(5),S=h(77),T=h(11),b=/./.toString,v=function(g){h(15)(RegExp.prototype,"toString",g,!0)};h(3)(function(){return"/a/b"!=b.call({source:"a",flags:"b"})})?v(function(){var g=M(this);return"/".concat(g.source,"/","flags"in g?g.flags:!T&&g instanceof RegExp?S.call(g):void 0)}):"toString"!=b.name&&v(function(){return b.call(this)})},function(H,A,h){var M=h(6),S=h(87),T=h(10).f,b=h(32).f,v=h(82),g=h(77),_=M.RegExp,m=_,w=_.prototype,P=/a/g,p=/a/g,C=new _(P)!==P;if(h(11)&&(!C||h(3)(function(){return p[h(7)("match")]=!1,_(P)!=P||_(p)==p||"/a/i"!=_(P,"i")}))){_=function(X,re){var ie=this instanceof _,ee=v(X),V=void 0===re;return!ie&&ee&&X.constructor===_&&V?X:S(C?new m(ee&&!V?X.source:X,re):m((ee=X instanceof _)?X.source:X,ee&&V?g.call(X):re),ie?this:w,_)};for(var x=function(X){X in _||T(_,X,{configurable:!0,get:function(){return m[X]},set:function(re){m[X]=re}})},L=b(m),$=0;L.length>$;)x(L[$++]);w.constructor=_,_.prototype=w,h(15)(M,"RegExp",_)}h(43)("RegExp")},function(H,A,h){h(43)("Array")},function(H,A,h){"use strict";var M=h(0),S=h(19)(6),T="findIndex",b=!0;T in[]&&Array(1)[T](function(){b=!1}),M(M.P+M.F*b,"Array",{findIndex:function(v){return S(this,v,arguments.length>1?arguments[1]:void 0)}}),h(52)(T)},function(H,A,h){"use strict";var M=h(0),S=h(19)(5),T=!0;"find"in[]&&Array(1).find(function(){T=!1}),M(M.P+M.F*T,"Array",{find:function(b){return S(this,b,arguments.length>1?arguments[1]:void 0)}}),h(52)("find")},function(H,A,h){var M=h(0);M(M.P,"Array",{fill:h(78)}),h(52)("fill")},function(H,A,h){var M=h(0);M(M.P,"Array",{copyWithin:h(129)}),h(52)("copyWithin")},function(H,A,h){"use strict";var M=h(0),S=h(21),T=h(24),b=h(12),v=[].lastIndexOf,g=!!v&&1/[1].lastIndexOf(1,-0)<0;M(M.P+M.F*(g||!h(17)(v)),"Array",{lastIndexOf:function(_){if(g)return v.apply(this,arguments)||0;var m=S(this),w=b(m.length),P=w-1;for(arguments.length>1&&(P=Math.min(P,T(arguments[1]))),P<0&&(P=w+P);P>=0;P--)if(P in m&&m[P]===_)return P||0;return-1}})},function(H,A,h){"use strict";var M=h(0),S=h(94)(!1),T=[].indexOf,b=!!T&&1/[1].indexOf(1,-0)<0;M(M.P+M.F*(b||!h(17)(T)),"Array",{indexOf:function(v){return b?T.apply(this,arguments)||0:S(this,v,arguments[1])}})},function(H,A,h){"use strict";var M=h(0),S=h(130);M(M.P+M.F*!h(17)([].reduceRight,!0),"Array",{reduceRight:function(T){return S(this,T,arguments.length,arguments[1],!0)}})},function(H,A,h){"use strict";var M=h(0),S=h(130);M(M.P+M.F*!h(17)([].reduce,!0),"Array",{reduce:function(T){return S(this,T,arguments.length,arguments[1],!1)}})},function(H,A,h){"use strict";var M=h(0),S=h(19)(4);M(M.P+M.F*!h(17)([].every,!0),"Array",{every:function(T){return S(this,T,arguments[1])}})},function(H,A,h){"use strict";var M=h(0),S=h(19)(3);M(M.P+M.F*!h(17)([].some,!0),"Array",{some:function(T){return S(this,T,arguments[1])}})},function(H,A,h){"use strict";var M=h(0),S=h(19)(2);M(M.P+M.F*!h(17)([].filter,!0),"Array",{filter:function(T){return S(this,T,arguments[1])}})},function(H,A,h){"use strict";var M=h(0),S=h(19)(1);M(M.P+M.F*!h(17)([].map,!0),"Array",{map:function(T){return S(this,T,arguments[1])}})},function(H,A,h){var M=h(4),S=h(91),T=h(7)("species");H.exports=function(b){var v;return S(b)&&("function"!=typeof(v=b.constructor)||v!==Array&&!S(v.prototype)||(v=void 0),M(v)&&null===(v=v[T])&&(v=void 0)),void 0===v?Array:v}},function(H,A,h){var M=h(230);H.exports=function(S,T){return new(M(S))(T)}},function(H,A,h){"use strict";var M=h(0),S=h(19)(0),T=h(17)([].forEach,!0);M(M.P+M.F*!T,"Array",{forEach:function(b){return S(this,b,arguments[1])}})},function(H,A,h){"use strict";var M=h(0),S=h(26),T=h(14),b=h(3),v=[].sort,g=[1,2,3];M(M.P+M.F*(b(function(){g.sort(void 0)})||!b(function(){g.sort(null)})||!h(17)(v)),"Array",{sort:function(_){return void 0===_?v.call(T(this)):v.call(T(this),S(_))}})},function(H,A,h){"use strict";var M=h(0),S=h(90),T=h(25),b=h(34),v=h(12),g=[].slice;M(M.P+M.F*h(3)(function(){S&&g.call(S)}),"Array",{slice:function(_,m){var w=v(this.length),P=T(this);if(m=void 0===m?w:m,"Array"==P)return g.call(this,_,m);for(var p=b(_,w),C=b(m,w),x=v(C-p),L=new Array(x),$=0;$<x;$++)L[$]="String"==P?this.charAt(p+$):this[p+$];return L}})},function(H,A,h){"use strict";var M=h(0),S=h(21),T=[].join;M(M.P+M.F*(h(54)!=Object||!h(17)(T)),"Array",{join:function(b){return T.call(S(this),void 0===b?",":b)}})},function(H,A,h){"use strict";var M=h(0),S=h(131);M(M.S+M.F*h(3)(function(){function T(){}return!(Array.of.call(T)instanceof T)}),"Array",{of:function(){for(var T=0,b=arguments.length,v=new("function"==typeof this?this:Array)(b);b>T;)S(v,T,arguments[T++]);return v.length=b,v}})},function(H,A,h){"use strict";var M=h(27),S=h(0),T=h(14),b=h(132),v=h(80),g=h(12),_=h(131),m=h(79);S(S.S+S.F*!h(64)(function(w){Array.from(w)}),"Array",{from:function(w){var P,p,C,x,L=T(w),$="function"==typeof this?this:Array,X=arguments.length,re=X>1?arguments[1]:void 0,ie=void 0!==re,ee=0,V=m(L);if(ie&&(re=M(re,X>2?arguments[2]:void 0,2)),null==V||$==Array&&v(V))for(p=new $(P=g(L.length));P>ee;ee++)_(p,ee,ie?re(L[ee],ee):L[ee]);else for(x=V.call(L),p=new $;!(C=x.next()).done;ee++)_(p,ee,ie?b(x,re,[C.value,ee],!0):C.value);return p.length=ee,p}})},function(H,A,h){var M=h(0);M(M.S,"Array",{isArray:h(91)})},function(H,A,h){"use strict";var M=h(5),S=h(30);H.exports=function(T){if("string"!==T&&"number"!==T&&"default"!==T)throw TypeError("Incorrect hint");return S(M(this),"number"!=T)}},function(H,A,h){var M=h(7)("toPrimitive"),S=Date.prototype;M in S||h(18)(S,M,h(239))},function(H,A,h){var M=Date.prototype,S=M.toString,T=M.getTime;new Date(NaN)+""!="Invalid Date"&&h(15)(M,"toString",function(){var b=T.call(this);return b==b?S.call(this):"Invalid Date"})},function(H,A,h){"use strict";var M=h(3),S=Date.prototype.getTime,T=Date.prototype.toISOString,b=function(v){return v>9?v:"0"+v};H.exports=M(function(){return"0385-07-25T07:06:39.999Z"!=T.call(new Date(-50000000000001))})||!M(function(){T.call(new Date(NaN))})?function(){if(!isFinite(S.call(this)))throw RangeError("Invalid time value");var v=this,g=v.getUTCFullYear(),_=v.getUTCMilliseconds(),m=g<0?"-":g>9999?"+":"";return m+("00000"+Math.abs(g)).slice(m?-6:-4)+"-"+b(v.getUTCMonth()+1)+"-"+b(v.getUTCDate())+"T"+b(v.getUTCHours())+":"+b(v.getUTCMinutes())+":"+b(v.getUTCSeconds())+"."+(_>99?_:"0"+b(_))+"Z"}:T},function(H,A,h){var M=h(0),S=h(242);M(M.P+M.F*(Date.prototype.toISOString!==S),"Date",{toISOString:S})},function(H,A,h){"use strict";var M=h(0),S=h(14),T=h(30);M(M.P+M.F*h(3)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(b){var v=S(this),g=T(v);return"number"!=typeof g||isFinite(g)?v.toISOString():null}})},function(H,A,h){var M=h(0);M(M.S,"Date",{now:function(){return(new Date).getTime()}})},function(H,A,h){"use strict";h(13)("sup",function(M){return function(){return M(this,"sup","","")}})},function(H,A,h){"use strict";h(13)("sub",function(M){return function(){return M(this,"sub","","")}})},function(H,A,h){"use strict";h(13)("strike",function(M){return function(){return M(this,"strike","","")}})},function(H,A,h){"use strict";h(13)("small",function(M){return function(){return M(this,"small","","")}})},function(H,A,h){"use strict";h(13)("link",function(M){return function(S){return M(this,"a","href",S)}})},function(H,A,h){"use strict";h(13)("italics",function(M){return function(){return M(this,"i","","")}})},function(H,A,h){"use strict";h(13)("fontsize",function(M){return function(S){return M(this,"font","size",S)}})},function(H,A,h){"use strict";h(13)("fontcolor",function(M){return function(S){return M(this,"font","color",S)}})},function(H,A,h){"use strict";h(13)("fixed",function(M){return function(){return M(this,"tt","","")}})},function(H,A,h){"use strict";h(13)("bold",function(M){return function(){return M(this,"b","","")}})},function(H,A,h){"use strict";h(13)("blink",function(M){return function(){return M(this,"blink","","")}})},function(H,A,h){"use strict";h(13)("big",function(M){return function(){return M(this,"big","","")}})},function(H,A,h){"use strict";h(13)("anchor",function(M){return function(S){return M(this,"a","name",S)}})},function(H,A,h){"use strict";var M=h(0),S=h(12),T=h(83),b="".startsWith;M(M.P+M.F*h(81)("startsWith"),"String",{startsWith:function(v){var g=T(this,v,"startsWith"),_=S(Math.min(arguments.length>1?arguments[1]:void 0,g.length)),m=String(v);return b?b.call(g,m,_):g.slice(_,_+m.length)===m}})},function(H,A,h){var M=h(0);M(M.P,"String",{repeat:h(137)})},function(H,A,h){"use strict";var M=h(0),S=h(83);M(M.P+M.F*h(81)("includes"),"String",{includes:function(T){return!!~S(this,T,"includes").indexOf(T,arguments.length>1?arguments[1]:void 0)}})},function(H,A,h){"use strict";var M=h(0),S=h(12),T=h(83),b="".endsWith;M(M.P+M.F*h(81)("endsWith"),"String",{endsWith:function(v){var g=T(this,v,"endsWith"),_=arguments.length>1?arguments[1]:void 0,m=S(g.length),w=void 0===_?m:Math.min(S(_),m),P=String(v);return b?b.call(g,P,w):g.slice(w-P.length,w)===P}})},function(H,A,h){"use strict";var M=h(0),S=h(134)(!1);M(M.P,"String",{codePointAt:function(T){return S(this,T)}})},function(H,A,h){"use strict";var M=h(134)(!0);h(84)(String,"String",function(S){this._t=String(S),this._i=0},function(){var S,T=this._t,b=this._i;return b>=T.length?{value:void 0,done:!0}:(S=M(T,b),this._i+=S.length,{value:S,done:!1})})},function(H,A,h){"use strict";h(65)("trim",function(M){return function(){return M(this,3)}})},function(H,A,h){var M=h(0),S=h(21),T=h(12);M(M.S,"String",{raw:function(b){for(var v=S(b.raw),g=T(v.length),_=arguments.length,m=[],w=0;g>w;)m.push(String(v[w++])),w<_&&m.push(String(arguments[w]));return m.join("")}})},function(H,A,h){var M=h(0),S=h(34),T=String.fromCharCode,b=String.fromCodePoint;M(M.S+M.F*(!!b&&1!=b.length),"String",{fromCodePoint:function(v){for(var g,_=[],m=arguments.length,w=0;m>w;){if(g=+arguments[w++],S(g,1114111)!==g)throw RangeError(g+" is not a valid code point");_.push(g<65536?T(g):T(55296+((g-=65536)>>10),g%1024+56320))}return _.join("")}})},function(H,A,h){var M=h(0);M(M.S,"Math",{trunc:function(S){return(S>0?Math.floor:Math.ceil)(S)}})},function(H,A,h){var M=h(0),S=h(85),T=Math.exp;M(M.S,"Math",{tanh:function(b){var v=S(b=+b),g=S(-b);return v==1/0?1:g==1/0?-1:(v-g)/(T(b)+T(-b))}})},function(H,A,h){var M=h(0),S=h(85),T=Math.exp;M(M.S+M.F*h(3)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(b){return Math.abs(b=+b)<1?(S(b)-S(-b))/2:(T(b-1)-T(-b-1))*(Math.E/2)}})},function(H,A,h){var M=h(0);M(M.S,"Math",{sign:h(86)})},function(H,A,h){var M=h(0);M(M.S,"Math",{log2:function(S){return Math.log(S)/Math.LN2}})},function(H,A,h){var M=h(0);M(M.S,"Math",{log1p:h(135)})},function(H,A,h){var M=h(0);M(M.S,"Math",{log10:function(S){return Math.log(S)*Math.LOG10E}})},function(H,A,h){var M=h(0),S=Math.imul;M(M.S+M.F*h(3)(function(){return-5!=S(4294967295,5)||2!=S.length}),"Math",{imul:function(T,b){var v=+T,g=+b,_=65535&v,m=65535&g;return 0|_*m+((65535&v>>>16)*m+_*(65535&g>>>16)<<16>>>0)}})},function(H,A,h){var M=h(0),S=Math.abs;M(M.S,"Math",{hypot:function(T,b){for(var v,g,_=0,m=0,w=arguments.length,P=0;m<w;)P<(v=S(arguments[m++]))?(_=_*(g=P/v)*g+1,P=v):_+=v>0?(g=v/P)*g:v;return P===1/0?1/0:P*Math.sqrt(_)}})},function(H,A,h){var M=h(86),S=Math.pow,T=S(2,-52),b=S(2,-23),v=S(2,127)*(2-b),g=S(2,-126);H.exports=Math.fround||function(_){var m,w,P=Math.abs(_),p=M(_);return P<g?p*(P/g/b+1/T-1/T)*g*b:(w=(m=(1+b/T)*P)-(m-P))>v||w!=w?p*(1/0):p*w}},function(H,A,h){var M=h(0);M(M.S,"Math",{fround:h(277)})},function(H,A,h){var M=h(0),S=h(85);M(M.S+M.F*(S!=Math.expm1),"Math",{expm1:S})},function(H,A,h){var M=h(0),S=Math.exp;M(M.S,"Math",{cosh:function(T){return(S(T=+T)+S(-T))/2}})},function(H,A,h){var M=h(0);M(M.S,"Math",{clz32:function(S){return(S>>>=0)?31-Math.floor(Math.log(S+.5)*Math.LOG2E):32}})},function(H,A,h){var M=h(0),S=h(86);M(M.S,"Math",{cbrt:function(T){return S(T=+T)*Math.pow(Math.abs(T),1/3)}})},function(H,A,h){var M=h(0),S=Math.atanh;M(M.S+M.F*!(S&&1/S(-0)<0),"Math",{atanh:function(T){return 0==(T=+T)?T:Math.log((1+T)/(1-T))/2}})},function(H,A,h){var M=h(0),S=Math.asinh;M(M.S+M.F*!(S&&1/S(0)>0),"Math",{asinh:function T(b){return isFinite(b=+b)&&0!=b?b<0?-T(-b):Math.log(b+Math.sqrt(b*b+1)):b}})},function(H,A,h){var M=h(0),S=h(135),T=Math.sqrt,b=Math.acosh;M(M.S+M.F*!(b&&710==Math.floor(b(Number.MAX_VALUE))&&b(1/0)==1/0),"Math",{acosh:function(v){return(v=+v)<1?NaN:v>94906265.62425156?Math.log(v)+Math.LN2:S(v-1+T(v-1)*T(v+1))}})},function(H,A,h){var M=h(0),S=h(140);M(M.S+M.F*(Number.parseInt!=S),"Number",{parseInt:S})},function(H,A,h){var M=h(0),S=h(139);M(M.S+M.F*(Number.parseFloat!=S),"Number",{parseFloat:S})},function(H,A,h){var M=h(0);M(M.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(H,A,h){var M=h(0);M(M.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(H,A,h){var M=h(0),S=h(136),T=Math.abs;M(M.S,"Number",{isSafeInteger:function(b){return S(b)&&T(b)<=9007199254740991}})},function(H,A,h){var M=h(0);M(M.S,"Number",{isNaN:function(S){return S!=S}})},function(H,A,h){var M=h(0);M(M.S,"Number",{isInteger:h(136)})},function(H,A,h){var M=h(0),S=h(6).isFinite;M(M.S,"Number",{isFinite:function(T){return"number"==typeof T&&S(T)}})},function(H,A,h){var M=h(0);M(M.S,"Number",{EPSILON:Math.pow(2,-52)})},function(H,A,h){"use strict";var M=h(0),S=h(3),T=h(138),b=1..toPrecision;M(M.P+M.F*(S(function(){return"1"!==b.call(1,void 0)})||!S(function(){b.call({})})),"Number",{toPrecision:function(v){var g=T(this,"Number#toPrecision: incorrect invocation!");return void 0===v?b.call(g):b.call(g,v)}})},function(H,A,h){"use strict";var M=h(0),S=h(24),T=h(138),b=h(137),v=1..toFixed,g=Math.floor,_=[0,0,0,0,0,0],m="Number.toFixed: incorrect invocation!",w=function(x,L){for(var $=-1,X=L;++$<6;)_[$]=(X+=x*_[$])%1e7,X=g(X/1e7)},P=function(x){for(var L=6,$=0;--L>=0;)_[L]=g(($+=_[L])/x),$=$%x*1e7},p=function(){for(var x=6,L="";--x>=0;)if(""!==L||0===x||0!==_[x]){var $=String(_[x]);L=""===L?$:L+b.call("0",7-$.length)+$}return L},C=function(x,L,$){return 0===L?$:L%2==1?C(x,L-1,$*x):C(x*x,L/2,$)};M(M.P+M.F*(!!v&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!h(3)(function(){v.call({})})),"Number",{toFixed:function(x){var L,$,X,re,ie=T(this,m),ee=S(x),V="",q="0";if(ee<0||ee>20)throw RangeError(m);if(ie!=ie)return"NaN";if(ie<=-1e21||ie>=1e21)return String(ie);if(ie<0&&(V="-",ie=-ie),ie>1e-21)if($=(L=function(le){for(var Q=0,ce=le;ce>=4096;)Q+=12,ce/=4096;for(;ce>=2;)Q+=1,ce/=2;return Q}(ie*C(2,69,1))-69)<0?ie*C(2,-L,1):ie/C(2,L,1),$*=4503599627370496,(L=52-L)>0){for(w(0,$),X=ee;X>=7;)w(1e7,0),X-=7;for(w(C(10,X,1),0),X=L-1;X>=23;)P(1<<23),X-=23;P(1<<X),w(1,1),P(2),q=p()}else w(0,$),w(1<<-L,0),q=p()+b.call("0",ee);return ee>0?V+((re=q.length)<=ee?"0."+b.call("0",ee-re)+q:q.slice(0,re-ee)+"."+q.slice(re-ee)):V+q}})},function(H,A,h){"use strict";var M=h(6),S=h(16),T=h(25),b=h(87),v=h(30),g=h(3),_=h(32).f,m=h(23).f,w=h(10).f,P=h(65).trim,p=M.Number,C=p,x=p.prototype,L="Number"==T(h(33)(x)),$="trim"in String.prototype,X=function(V){var q=v(V,!1);if("string"==typeof q&&q.length>2){var le,Q,ce,se=(q=$?q.trim():P(q,3)).charCodeAt(0);if(43===se||45===se){if(88===(le=q.charCodeAt(2))||120===le)return NaN}else if(48===se){switch(q.charCodeAt(1)){case 66:case 98:Q=2,ce=49;break;case 79:case 111:Q=8,ce=55;break;default:return+q}for(var we,Ue=q.slice(2),ke=0,Fe=Ue.length;ke<Fe;ke++)if((we=Ue.charCodeAt(ke))<48||we>ce)return NaN;return parseInt(Ue,Q)}}return+q};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(V){var q=arguments.length<1?0:V,le=this;return le instanceof p&&(L?g(function(){x.valueOf.call(le)}):"Number"!=T(le))?b(new C(X(q)),le,p):X(q)};for(var re,ie=h(11)?_(C):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),ee=0;ie.length>ee;ee++)S(C,re=ie[ee])&&!S(p,re)&&w(p,re,m(C,re));p.prototype=x,x.constructor=p,h(15)(M,"Number",p)}},function(H,A,h){var M=h(0),S=h(139);M(M.G+M.F*(parseFloat!=S),{parseFloat:S})},function(H,A,h){var M=h(0),S=h(140);M(M.G+M.F*(parseInt!=S),{parseInt:S})},function(H,A,h){"use strict";var M=h(4),S=h(31),T=h(7)("hasInstance"),b=Function.prototype;T in b||h(10).f(b,T,{value:function(v){if("function"!=typeof this||!M(v))return!1;if(!M(this.prototype))return v instanceof this;for(;v=S(v);)if(this.prototype===v)return!0;return!1}})},function(H,A,h){var M=h(10).f,S=Function.prototype,T=/^\s*function ([^ (]*)/;"name"in S||h(11)&&M(S,"name",{configurable:!0,get:function(){try{return(""+this).match(T)[1]}catch(b){return""}}})},function(H,A,h){var M=h(0);M(M.P,"Function",{bind:h(142)})},function(H,A,h){"use strict";var M=h(66),S={};S[h(7)("toStringTag")]="z",S+""!="[object z]"&&h(15)(Object.prototype,"toString",function(){return"[object "+M(this)+"]"},!0)},function(H,A,h){var M=h(0);M(M.S,"Object",{setPrototypeOf:h(89).set})},function(H,A){H.exports=Object.is||function(h,M){return h===M?0!==h||1/h==1/M:h!=h&&M!=M}},function(H,A,h){var M=h(0);M(M.S,"Object",{is:h(305)})},function(H,A,h){var M=h(0);M(M.S+M.F,"Object",{assign:h(143)})},function(H,A,h){var M=h(4);h(20)("isExtensible",function(S){return function(T){return!!M(T)&&(!S||S(T))}})},function(H,A,h){var M=h(4);h(20)("isSealed",function(S){return function(T){return!M(T)||!!S&&S(T)}})},function(H,A,h){var M=h(4);h(20)("isFrozen",function(S){return function(T){return!M(T)||!!S&&S(T)}})},function(H,A,h){var M=h(4),S=h(29).onFreeze;h(20)("preventExtensions",function(T){return function(b){return T&&M(b)?T(S(b)):b}})},function(H,A,h){var M=h(4),S=h(29).onFreeze;h(20)("seal",function(T){return function(b){return T&&M(b)?T(S(b)):b}})},function(H,A,h){var M=h(4),S=h(29).onFreeze;h(20)("freeze",function(T){return function(b){return T&&M(b)?T(S(b)):b}})},function(H,A,h){h(20)("getOwnPropertyNames",function(){return h(144).f})},function(H,A,h){var M=h(14),S=h(55);h(20)("keys",function(){return function(T){return S(M(T))}})},function(H,A,h){var M=h(14),S=h(31);h(20)("getPrototypeOf",function(){return function(T){return S(M(T))}})},function(H,A,h){var M=h(21),S=h(23).f;h(20)("getOwnPropertyDescriptor",function(){return function(T,b){return S(M(T),b)}})},function(H,A,h){var M=h(0);M(M.S+M.F*!h(11),"Object",{defineProperties:h(145)})},function(H,A,h){var M=h(0);M(M.S+M.F*!h(11),"Object",{defineProperty:h(10).f})},function(H,A,h){var M=h(0);M(M.S,"Object",{create:h(33)})},function(H,A,h){var M=h(55),S=h(68),T=h(67);H.exports=function(b){var v=M(b),g=S.f;if(g)for(var _,m=g(b),w=T.f,P=0;m.length>P;)w.call(b,_=m[P++])&&v.push(_);return v}},function(H,A,h){var M=h(6),S=h(37),T=h(44),b=h(147),v=h(10).f;H.exports=function(g){var _=S.Symbol||(S.Symbol=T?{}:M.Symbol||{});"_"==g.charAt(0)||g in _||v(_,g,{value:b.f(g)})}},function(H,A,h){"use strict";var M=h(6),S=h(16),T=h(11),b=h(0),v=h(15),g=h(29).KEY,_=h(3),m=h(95),w=h(45),P=h(35),p=h(7),C=h(147),x=h(322),L=h(321),$=h(91),X=h(5),re=h(4),ie=h(21),ee=h(30),V=h(36),q=h(33),le=h(144),Q=h(23),ce=h(10),se=h(55),we=Q.f,Ue=ce.f,ke=le.f,Fe=M.Symbol,oe=M.JSON,Se=oe&&oe.stringify,he=p("_hidden"),We=p("toPrimitive"),_e={}.propertyIsEnumerable,Ce=m("symbol-registry"),Pe=m("symbols"),tt=m("op-symbols"),yt=Object.prototype,Qe="function"==typeof Fe,Kt=M.QObject,pt=!Kt||!Kt.prototype||!Kt.prototype.findChild,Je=T&&_(function(){return 7!=q(Ue({},"a",{get:function(){return Ue(this,"a",{value:7}).a}})).a})?function(mt,xt,Ne){var Ae=we(yt,xt);Ae&&delete yt[xt],Ue(mt,xt,Ne),Ae&&mt!==yt&&Ue(yt,xt,Ae)}:Ue,ue=function(mt){var xt=Pe[mt]=q(Fe.prototype);return xt._k=mt,xt},Me=Qe&&"symbol"==typeof Fe.iterator?function(mt){return"symbol"==typeof mt}:function(mt){return mt instanceof Fe},Ie=function(mt,xt,Ne){return mt===yt&&Ie(tt,xt,Ne),X(mt),xt=ee(xt,!0),X(Ne),S(Pe,xt)?(Ne.enumerable?(S(mt,he)&&mt[he][xt]&&(mt[he][xt]=!1),Ne=q(Ne,{enumerable:V(0,!1)})):(S(mt,he)||Ue(mt,he,V(1,{})),mt[he][xt]=!0),Je(mt,xt,Ne)):Ue(mt,xt,Ne)},Ze=function(mt,xt){X(mt);for(var Ne,Ae=L(xt=ie(xt)),Ge=0,$e=Ae.length;$e>Ge;)Ie(mt,Ne=Ae[Ge++],xt[Ne]);return mt},ct=function(mt){var xt=_e.call(this,mt=ee(mt,!0));return!(this===yt&&S(Pe,mt)&&!S(tt,mt))&&(!(xt||!S(this,mt)||!S(Pe,mt)||S(this,he)&&this[he][mt])||xt)},_t=function(mt,xt){if(mt=ie(mt),xt=ee(xt,!0),mt!==yt||!S(Pe,xt)||S(tt,xt)){var Ne=we(mt,xt);return!Ne||!S(Pe,xt)||S(mt,he)&&mt[he][xt]||(Ne.enumerable=!0),Ne}},ze=function(mt){for(var xt,Ne=ke(ie(mt)),Ae=[],Ge=0;Ne.length>Ge;)S(Pe,xt=Ne[Ge++])||xt==he||xt==g||Ae.push(xt);return Ae},Ke=function(mt){for(var xt,Ne=mt===yt,Ae=ke(Ne?tt:ie(mt)),Ge=[],$e=0;Ae.length>$e;)!S(Pe,xt=Ae[$e++])||Ne&&!S(yt,xt)||Ge.push(Pe[xt]);return Ge};Qe||(v((Fe=function(){if(this instanceof Fe)throw TypeError("Symbol is not a constructor!");var mt=P(arguments.length>0?arguments[0]:void 0),xt=function(Ne){this===yt&&xt.call(tt,Ne),S(this,he)&&S(this[he],mt)&&(this[he][mt]=!1),Je(this,mt,V(1,Ne))};return T&&pt&&Je(yt,mt,{configurable:!0,set:xt}),ue(mt)}).prototype,"toString",function(){return this._k}),Q.f=_t,ce.f=Ie,h(32).f=le.f=ze,h(67).f=ct,h(68).f=Ke,T&&!h(44)&&v(yt,"propertyIsEnumerable",ct,!0),C.f=function(mt){return ue(p(mt))}),b(b.G+b.W+b.F*!Qe,{Symbol:Fe});for(var an="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),zt=0;an.length>zt;)p(an[zt++]);for(var gn=se(p.store),yi=0;gn.length>yi;)x(gn[yi++]);b(b.S+b.F*!Qe,"Symbol",{for:function(mt){return S(Ce,mt+="")?Ce[mt]:Ce[mt]=Fe(mt)},keyFor:function(mt){if(!Me(mt))throw TypeError(mt+" is not a symbol!");for(var xt in Ce)if(Ce[xt]===mt)return xt},useSetter:function(){pt=!0},useSimple:function(){pt=!1}}),b(b.S+b.F*!Qe,"Object",{create:function(mt,xt){return void 0===xt?q(mt):Ze(q(mt),xt)},defineProperty:Ie,defineProperties:Ze,getOwnPropertyDescriptor:_t,getOwnPropertyNames:ze,getOwnPropertySymbols:Ke}),oe&&b(b.S+b.F*(!Qe||_(function(){var mt=Fe();return"[null]"!=Se([mt])||"{}"!=Se({a:mt})||"{}"!=Se(Object(mt))})),"JSON",{stringify:function(mt){for(var xt,Ne,Ae=[mt],Ge=1;arguments.length>Ge;)Ae.push(arguments[Ge++]);if(Ne=xt=Ae[1],(re(xt)||void 0!==mt)&&!Me(mt))return $(xt)||(xt=function($e,Le){if("function"==typeof Ne&&(Le=Ne.call(this,$e,Le)),!Me(Le))return Le}),Ae[1]=xt,Se.apply(oe,Ae)}}),Fe.prototype[We]||h(18)(Fe.prototype,We,Fe.prototype.valueOf),w(Fe,"Symbol"),w(Math,"Math",!0),w(M.JSON,"JSON",!0)},function(H,A,h){h(323),h(320),h(319),h(318),h(317),h(316),h(315),h(314),h(313),h(312),h(311),h(310),h(309),h(308),h(307),h(306),h(304),h(303),h(302),h(301),h(300),h(299),h(298),h(297),h(296),h(295),h(294),h(293),h(292),h(291),h(290),h(289),h(288),h(287),h(286),h(285),h(284),h(283),h(282),h(281),h(280),h(279),h(278),h(276),h(275),h(274),h(273),h(272),h(271),h(270),h(269),h(268),h(267),h(266),h(265),h(264),h(263),h(262),h(261),h(260),h(259),h(258),h(257),h(256),h(255),h(254),h(253),h(252),h(251),h(250),h(249),h(248),h(247),h(246),h(245),h(244),h(243),h(241),h(240),h(238),h(237),h(236),h(235),h(234),h(233),h(232),h(229),h(228),h(227),h(226),h(225),h(224),h(223),h(222),h(221),h(220),h(219),h(218),h(217),h(128),h(216),h(215),h(126),h(214),h(213),h(212),h(211),h(210),h(206),h(205),h(204),h(203),h(202),h(201),h(200),h(199),h(198),h(197),h(196),h(195),h(194),h(193),h(192),h(191),h(190),h(189),h(188),h(187),h(186),h(185),h(184),h(183),h(182),h(181),h(179),h(178),h(177),H.exports=h(37)},function(H,A,h){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.MD5=A.SFSRoom=A.SetBuddyVariablesRequest=A.RemoveBuddyRequest=A.InitBuddyListRequest=A.GoOnlineRequest=A.BuddyMessageRequest=A.BlockBuddyRequest=A.AddBuddyRequest=A.SetUserPositionRequest=A.QuickJoinGameRequest=A.JoinRoomInvitationRequest=A.InviteUsersRequest=A.InvitationReplyRequest=A.CreateSFSGameRequest=A.BanUserRequest=A.KickUserRequest=A.ExtensionRequest=A.FindUsersRequest=A.FindRoomsRequest=A.PlayerToSpectatorRequest=A.SpectatorToPlayerRequest=A.UnsubscribeRoomGroupRequest=A.SubscribeRoomGroupRequest=A.SetUserVariablesRequest=A.SetRoomVariablesRequest=A.AdminMessageRequest=A.ModeratorMessageRequest=A.ObjectMessageRequest=A.PrivateMessageRequest=A.PublicMessageRequest=A.ChangeRoomCapacityRequest=A.ChangeRoomPasswordStateRequest=A.ChangeRoomNameRequest=A.LeaveRoomRequest=A.QuickJoinOrCreateRoomRequest=A.CreateRoomRequest=A.JoinRoomRequest=A.LogoutRequest=A.LoginRequest=A.PasswordUtil=A.ClientDisconnectionReason=A.LoggerEvent=A.LogLevel=A.SFSErrorCodes=A.MessageRecipientMode=A.BanMode=A.MapLimits=A.RoomExtension=A.RoomEvents=A.RoomPermissions=A.MMORoomSettings=A.SFSGameSettings=A.RoomSettings=A.UserProperties=A.RoomProperties=A.StringMatch=A.NumberMatch=A.BoolMatch=A.LogicOperator=A.MatchExpression=A.MMOItemVariable=A.ReservedBuddyVariables=A.SFSBuddyVariable=A.ReservedRoomVariables=A.SFSRoomVariable=A.SFSUserVariable=A.VariableType=A.UserPrivileges=A.InvitationReply=A.Vec3D=A.SFSArray=A.SFSObject=A.SFSDataType=A.SFSBuddyEvent=A.SFSEvent=A.SmartFox=void 0;var M=h(324);Object.keys(M).forEach(function(xt){"default"!==xt&&"__esModule"!==xt&&Object.defineProperty(A,xt,{enumerable:!0,get:function(){return M[xt]}})});var S=h(176);Object.defineProperty(A,"SmartFox",{enumerable:!0,get:function(){return S.SmartFox}});var T=h(39);Object.defineProperty(A,"SFSEvent",{enumerable:!0,get:function(){return T.SFSEvent}}),Object.defineProperty(A,"SFSBuddyEvent",{enumerable:!0,get:function(){return T.SFSBuddyEvent}});var b=h(8);Object.defineProperty(A,"SFSDataType",{enumerable:!0,get:function(){return b.SFSDataType}}),Object.defineProperty(A,"SFSObject",{enumerable:!0,get:function(){return b.SFSObject}}),Object.defineProperty(A,"SFSArray",{enumerable:!0,get:function(){return b.SFSArray}}),Object.defineProperty(A,"Vec3D",{enumerable:!0,get:function(){return b.Vec3D}});var v=h(72);Object.defineProperty(A,"InvitationReply",{enumerable:!0,get:function(){return v.InvitationReply}});var g=h(47);Object.defineProperty(A,"UserPrivileges",{enumerable:!0,get:function(){return g.UserPrivileges}});var _=h(48);Object.defineProperty(A,"VariableType",{enumerable:!0,get:function(){return _.VariableType}});var m=h(59);Object.defineProperty(A,"SFSUserVariable",{enumerable:!0,get:function(){return m.SFSUserVariable}});var w=h(49);Object.defineProperty(A,"SFSRoomVariable",{enumerable:!0,get:function(){return w.SFSRoomVariable}}),Object.defineProperty(A,"ReservedRoomVariables",{enumerable:!0,get:function(){return w.ReservedRoomVariables}});var P=h(46);Object.defineProperty(A,"SFSBuddyVariable",{enumerable:!0,get:function(){return P.SFSBuddyVariable}}),Object.defineProperty(A,"ReservedBuddyVariables",{enumerable:!0,get:function(){return P.ReservedBuddyVariables}});var p=h(73);Object.defineProperty(A,"MMOItemVariable",{enumerable:!0,get:function(){return p.MMOItemVariable}});var C=h(38);Object.defineProperty(A,"MatchExpression",{enumerable:!0,get:function(){return C.MatchExpression}}),Object.defineProperty(A,"LogicOperator",{enumerable:!0,get:function(){return C.LogicOperator}});var x=h(161);Object.defineProperty(A,"BoolMatch",{enumerable:!0,get:function(){return x.BoolMatch}}),Object.defineProperty(A,"NumberMatch",{enumerable:!0,get:function(){return x.NumberMatch}}),Object.defineProperty(A,"StringMatch",{enumerable:!0,get:function(){return x.StringMatch}});var L=h(160);Object.defineProperty(A,"RoomProperties",{enumerable:!0,get:function(){return L.RoomProperties}}),Object.defineProperty(A,"UserProperties",{enumerable:!0,get:function(){return L.UserProperties}});var $=h(56);Object.defineProperty(A,"RoomSettings",{enumerable:!0,get:function(){return $.RoomSettings}}),Object.defineProperty(A,"SFSGameSettings",{enumerable:!0,get:function(){return $.SFSGameSettings}}),Object.defineProperty(A,"MMORoomSettings",{enumerable:!0,get:function(){return $.MMORoomSettings}}),Object.defineProperty(A,"RoomPermissions",{enumerable:!0,get:function(){return $.RoomPermissions}}),Object.defineProperty(A,"RoomEvents",{enumerable:!0,get:function(){return $.RoomEvents}}),Object.defineProperty(A,"RoomExtension",{enumerable:!0,get:function(){return $.RoomExtension}}),Object.defineProperty(A,"MapLimits",{enumerable:!0,get:function(){return $.MapLimits}}),Object.defineProperty(A,"BanMode",{enumerable:!0,get:function(){return $.BanMode}}),Object.defineProperty(A,"MessageRecipientMode",{enumerable:!0,get:function(){return $.MessageRecipientMode}});var X=h(74);Object.defineProperty(A,"SFSErrorCodes",{enumerable:!0,get:function(){return X.SFSErrorCodes}});var re=h(50);Object.defineProperty(A,"LogLevel",{enumerable:!0,get:function(){return re.LogLevel}}),Object.defineProperty(A,"LoggerEvent",{enumerable:!0,get:function(){return re.LoggerEvent}});var ie=h(51);Object.defineProperty(A,"ClientDisconnectionReason",{enumerable:!0,get:function(){return ie.ClientDisconnectionReason}});var ee=h(159);Object.defineProperty(A,"PasswordUtil",{enumerable:!0,get:function(){return ee.PasswordUtil}});var V=h(118);Object.defineProperty(A,"LoginRequest",{enumerable:!0,get:function(){return V.LoginRequest}});var q=h(117);Object.defineProperty(A,"LogoutRequest",{enumerable:!0,get:function(){return q.LogoutRequest}});var le=h(116);Object.defineProperty(A,"JoinRoomRequest",{enumerable:!0,get:function(){return le.JoinRoomRequest}});var Q=h(57);Object.defineProperty(A,"CreateRoomRequest",{enumerable:!0,get:function(){return Q.CreateRoomRequest}});var ce=h(158);Object.defineProperty(A,"QuickJoinOrCreateRoomRequest",{enumerable:!0,get:function(){return ce.QuickJoinOrCreateRoomRequest}});var se=h(157);Object.defineProperty(A,"LeaveRoomRequest",{enumerable:!0,get:function(){return se.LeaveRoomRequest}});var we=h(115);Object.defineProperty(A,"ChangeRoomNameRequest",{enumerable:!0,get:function(){return we.ChangeRoomNameRequest}});var Ue=h(114);Object.defineProperty(A,"ChangeRoomPasswordStateRequest",{enumerable:!0,get:function(){return Ue.ChangeRoomPasswordStateRequest}});var ke=h(113);Object.defineProperty(A,"ChangeRoomCapacityRequest",{enumerable:!0,get:function(){return ke.ChangeRoomCapacityRequest}});var Fe=h(70);Object.defineProperty(A,"PublicMessageRequest",{enumerable:!0,get:function(){return Fe.PublicMessageRequest}}),Object.defineProperty(A,"PrivateMessageRequest",{enumerable:!0,get:function(){return Fe.PrivateMessageRequest}}),Object.defineProperty(A,"ObjectMessageRequest",{enumerable:!0,get:function(){return Fe.ObjectMessageRequest}}),Object.defineProperty(A,"ModeratorMessageRequest",{enumerable:!0,get:function(){return Fe.ModeratorMessageRequest}}),Object.defineProperty(A,"AdminMessageRequest",{enumerable:!0,get:function(){return Fe.AdminMessageRequest}});var oe=h(112);Object.defineProperty(A,"SetRoomVariablesRequest",{enumerable:!0,get:function(){return oe.SetRoomVariablesRequest}});var Se=h(111);Object.defineProperty(A,"SetUserVariablesRequest",{enumerable:!0,get:function(){return Se.SetUserVariablesRequest}});var he=h(110);Object.defineProperty(A,"SubscribeRoomGroupRequest",{enumerable:!0,get:function(){return he.SubscribeRoomGroupRequest}});var We=h(109);Object.defineProperty(A,"UnsubscribeRoomGroupRequest",{enumerable:!0,get:function(){return We.UnsubscribeRoomGroupRequest}});var _e=h(108);Object.defineProperty(A,"SpectatorToPlayerRequest",{enumerable:!0,get:function(){return _e.SpectatorToPlayerRequest}});var Ce=h(107);Object.defineProperty(A,"PlayerToSpectatorRequest",{enumerable:!0,get:function(){return Ce.PlayerToSpectatorRequest}});var Pe=h(106);Object.defineProperty(A,"FindRoomsRequest",{enumerable:!0,get:function(){return Pe.FindRoomsRequest}});var tt=h(105);Object.defineProperty(A,"FindUsersRequest",{enumerable:!0,get:function(){return tt.FindUsersRequest}});var yt=h(97);Object.defineProperty(A,"ExtensionRequest",{enumerable:!0,get:function(){return yt.ExtensionRequest}});var Qe=h(156);Object.defineProperty(A,"KickUserRequest",{enumerable:!0,get:function(){return Qe.KickUserRequest}});var Kt=h(155);Object.defineProperty(A,"BanUserRequest",{enumerable:!0,get:function(){return Kt.BanUserRequest}});var pt=h(154);Object.defineProperty(A,"CreateSFSGameRequest",{enumerable:!0,get:function(){return pt.CreateSFSGameRequest}});var Je=h(153);Object.defineProperty(A,"InvitationReplyRequest",{enumerable:!0,get:function(){return Je.InvitationReplyRequest}});var ue=h(69);Object.defineProperty(A,"InviteUsersRequest",{enumerable:!0,get:function(){return ue.InviteUsersRequest}});var Me=h(152);Object.defineProperty(A,"JoinRoomInvitationRequest",{enumerable:!0,get:function(){return Me.JoinRoomInvitationRequest}});var Ie=h(151);Object.defineProperty(A,"QuickJoinGameRequest",{enumerable:!0,get:function(){return Ie.QuickJoinGameRequest}});var Ze=h(104);Object.defineProperty(A,"SetUserPositionRequest",{enumerable:!0,get:function(){return Ze.SetUserPositionRequest}});var ct=h(102);Object.defineProperty(A,"AddBuddyRequest",{enumerable:!0,get:function(){return ct.AddBuddyRequest}});var _t=h(100);Object.defineProperty(A,"BlockBuddyRequest",{enumerable:!0,get:function(){return _t.BlockBuddyRequest}});var ze=h(150);Object.defineProperty(A,"BuddyMessageRequest",{enumerable:!0,get:function(){return ze.BuddyMessageRequest}});var Ke=h(99);Object.defineProperty(A,"GoOnlineRequest",{enumerable:!0,get:function(){return Ke.GoOnlineRequest}});var an=h(103);Object.defineProperty(A,"InitBuddyListRequest",{enumerable:!0,get:function(){return an.InitBuddyListRequest}});var zt=h(101);Object.defineProperty(A,"RemoveBuddyRequest",{enumerable:!0,get:function(){return zt.RemoveBuddyRequest}});var gn=h(98);Object.defineProperty(A,"SetBuddyVariablesRequest",{enumerable:!0,get:function(){return gn.SetBuddyVariablesRequest}});var yi=h(9);Object.defineProperty(A,"SFSRoom",{enumerable:!0,get:function(){return yi.SFSRoom}});var mt=h(71);Object.defineProperty(A,"MD5",{enumerable:!0,get:function(){return mt.MD5}}),h(149)}])},209:(He,H,A)=>{"use strict";var h=A(8810);He.exports=A(3096)(h),"_sockjs_onload"in global&&setTimeout(global._sockjs_onload,1)},8265:(He,H,A)=>{"use strict";var h=A(3894),M=A(4532);function S(){M.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}h(S,M),He.exports=S},17:(He,H,A)=>{"use strict";var h=A(3894),M=A(9895);function S(){M.call(this)}h(S,M),S.prototype.removeAllListeners=function(T){T?delete this._listeners[T]:this._listeners={}},S.prototype.once=function(T,b){var v=this,g=!1;this.on(T,function _(){v.removeListener(T,_),g||(g=!0,b.apply(this,arguments))})},S.prototype.emit=function(){var T=arguments[0],b=this._listeners[T];if(b){for(var v=arguments.length,g=new Array(v-1),_=1;_<v;_++)g[_-1]=arguments[_];for(var m=0;m<b.length;m++)b[m].apply(this,g)}},S.prototype.on=S.prototype.addListener=M.prototype.addEventListener,S.prototype.removeListener=M.prototype.removeEventListener,He.exports.v=S},4532:He=>{"use strict";function H(A){this.type=A}H.prototype.initEvent=function(A,h,M){return this.type=A,this.bubbles=h,this.cancelable=M,this.timeStamp=+new Date,this},H.prototype.stopPropagation=function(){},H.prototype.preventDefault=function(){},H.CAPTURING_PHASE=1,H.AT_TARGET=2,H.BUBBLING_PHASE=3,He.exports=H},9895:He=>{"use strict";function H(){this._listeners={}}H.prototype.addEventListener=function(A,h){A in this._listeners||(this._listeners[A]=[]);var M=this._listeners[A];-1===M.indexOf(h)&&(M=M.concat([h])),this._listeners[A]=M},H.prototype.removeEventListener=function(A,h){var M=this._listeners[A];if(M){var S=M.indexOf(h);if(-1!==S)return void(M.length>1?this._listeners[A]=M.slice(0,S).concat(M.slice(S+1)):delete this._listeners[A])}},H.prototype.dispatchEvent=function(){var A=arguments[0],h=A.type,M=1===arguments.length?[A]:Array.apply(null,arguments);if(this["on"+h]&&this["on"+h].apply(this,M),h in this._listeners)for(var S=this._listeners[h],T=0;T<S.length;T++)S[T].apply(this,M)},He.exports=H},4572:(He,H,A)=>{"use strict";var h=A(3894),M=A(4532);function S(T){M.call(this),this.initEvent("message",!1,!1),this.data=T}h(S,M),He.exports=S},7299:(He,H,A)=>{"use strict";var h=A(8075);function M(S){this._transport=S,S.on("message",this._transportMessage.bind(this)),S.on("close",this._transportClose.bind(this))}M.prototype._transportClose=function(S,T){h.postMessage("c",JSON.stringify([S,T]))},M.prototype._transportMessage=function(S){h.postMessage("t",S)},M.prototype._send=function(S){this._transport.send(S)},M.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},He.exports=M},737:(He,H,A)=>{"use strict";var h=A(1493),M=A(3865),S=A(7299),T=A(5841),b=A(8075),v=A(205);He.exports=function(_,m){var P,w={};m.forEach(function(p){p.facadeTransport&&(w[p.facadeTransport.transportName]=p.facadeTransport)}),w[T.transportName]=T,_.bootstrap_iframe=function(){var p;b.currentWindowId=v.hash.slice(1),M.attachEvent("message",function(x){if(x.source===parent&&(void 0===P&&(P=x.origin),x.origin===P)){var L;try{L=JSON.parse(x.data)}catch(V){return}if(L.windowId===b.currentWindowId)switch(L.type){case"s":var $;try{$=JSON.parse(L.data)}catch(V){break}var X=$[0],re=$[1],ie=$[2],ee=$[3];if(X!==_.version)throw new Error('Incompatible SockJS! Main site uses: "'+X+'", the iframe: "'+_.version+'".');if(!h.isOriginEqual(ie,v.href)||!h.isOriginEqual(ee,v.href))throw new Error("Can't connect to different domain from within an iframe. ("+v.href+", "+ie+", "+ee+")");p=new S(new w[re](ie,ee));break;case"m":p._send(L.data);break;case"c":p&&p._close(),p=null}}}),b.postMessage("s")}}},8834:(He,H,A)=>{"use strict";var h=A(17).v,M=A(3894),S=A(2923);function b(v,g){h.call(this);var _=this,m=+new Date;this.xo=new g("GET",v),this.xo.once("finish",function(w,P){var p,C;if(200===w){if(C=+new Date-m,P)try{p=JSON.parse(P)}catch(x){}S.isObject(p)||(p={})}_.emit("finish",p,C),_.removeAllListeners()})}M(b,h),b.prototype.close=function(){this.removeAllListeners(),this.xo.close()},He.exports=b},5841:(He,H,A)=>{"use strict";var h=A(3894),M=A(17).v,S=A(7898),T=A(8834);function b(v){var g=this;M.call(this),this.ir=new T(v,S),this.ir.once("finish",function(_,m){g.ir=null,g.emit("message",JSON.stringify([_,m]))})}h(b,M),b.transportName="iframe-info-receiver",b.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},He.exports=b},5672:(He,H,A)=>{"use strict";var h=A(17).v,M=A(3894),S=A(3865),T=A(7415),b=A(5841);function g(_,m){var w=this;h.call(this);var P=function(){var p=w.ifr=new T(b.transportName,m,_);p.once("message",function(C){if(C){var x;try{x=JSON.parse(C)}catch(X){return w.emit("finish"),void w.close()}w.emit("finish",x[0],x[1])}w.close()}),p.once("close",function(){w.emit("finish"),w.close()})};global.document.body?P():S.attachEvent("load",P)}M(g,h),g.enabled=function(){return T.enabled()},g.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null},He.exports=g},6689:(He,H,A)=>{"use strict";var h=A(17).v,M=A(3894),S=A(1493),T=A(5705),b=A(7807),v=A(7898),g=A(9312),_=A(5672),m=A(8834);function P(p,C){var x=this;h.call(this),setTimeout(function(){x.doXhr(p,C)},0)}M(P,h),P._getReceiver=function(p,C,x){return x.sameOrigin?new m(C,v):b.enabled?new m(C,b):T.enabled&&x.sameScheme?new m(C,T):_.enabled()?new _(p,C):new m(C,g)},P.prototype.doXhr=function(p,C){var x=this,L=S.addPath(p,"/info");this.xo=P._getReceiver(p,L,C),this.timeoutRef=setTimeout(function(){x._cleanup(!1),x.emit("finish")},P.timeout),this.xo.once("finish",function($,X){x._cleanup(!0),x.emit("finish",$,X)})},P.prototype._cleanup=function(p){clearTimeout(this.timeoutRef),this.timeoutRef=null,!p&&this.xo&&this.xo.close(),this.xo=null},P.prototype.close=function(){this.removeAllListeners(),this._cleanup(!1)},P.timeout=8e3,He.exports=P},205:He=>{"use strict";He.exports=global.location||{origin:"http://localhost:80",protocol:"http:",host:"localhost",port:80,href:"http://localhost/",hash:""}},3096:(He,H,A)=>{"use strict";A(5904);var re,h=A(7629),M=A(3894),S=A(347),T=A(8481),b=A(1493),v=A(3865),g=A(2264),_=A(2923),m=A(480),w=A(1433),P=A(4532),p=A(9895),C=A(205),x=A(8265),L=A(4572),$=A(6689);function ie(V,q,le){if(!(this instanceof ie))return new ie(V,q,le);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");p.call(this),this.readyState=ie.CONNECTING,this.extensions="",this.protocol="",(le=le||{}).protocols_whitelist&&w.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=le.transports,this._transportOptions=le.transportOptions||{},this._timeout=le.timeout||0;var Q=le.sessionId||8;if("function"==typeof Q)this._generateSessionId=Q;else{if("number"!=typeof Q)throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._generateSessionId=function(){return S.string(Q)}}this._server=le.server||S.numberString(1e3);var ce=new h(V);if(!ce.host||!ce.protocol)throw new SyntaxError("The URL '"+V+"' is invalid");if(ce.hash)throw new SyntaxError("The URL must not contain a fragment");if("http:"!==ce.protocol&&"https:"!==ce.protocol)throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+ce.protocol+"' is not allowed.");var se="https:"===ce.protocol;if("https:"===C.protocol&&!se&&!b.isLoopbackAddr(ce.hostname))throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");q?Array.isArray(q)||(q=[q]):q=[];var we=q.sort();we.forEach(function(ke,Fe){if(!ke)throw new SyntaxError("The protocols entry '"+ke+"' is invalid.");if(Fe<we.length-1&&ke===we[Fe+1])throw new SyntaxError("The protocols entry '"+ke+"' is duplicated.")});var Ue=b.getOrigin(C.href);this._origin=Ue?Ue.toLowerCase():null,ce.set("pathname",ce.pathname.replace(/\/+$/,"")),this.url=ce.href,this._urlInfo={nullOrigin:!m.hasDomain(),sameOrigin:b.isOriginEqual(this.url,C.href),sameScheme:b.isSchemeEqual(this.url,C.href)},this._ir=new $(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}function ee(V){return 1e3===V||V>=3e3&&V<=4999}M(ie,p),ie.prototype.close=function(V,q){if(V&&!ee(V))throw new Error("InvalidAccessError: Invalid code");if(q&&q.length>123)throw new SyntaxError("reason argument has an invalid length");this.readyState!==ie.CLOSING&&this.readyState!==ie.CLOSED&&this._close(V||1e3,q||"Normal closure",!0)},ie.prototype.send=function(V){if("string"!=typeof V&&(V=""+V),this.readyState===ie.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===ie.OPEN&&this._transport.send(T.quote(V))},ie.version=A(947),ie.CONNECTING=0,ie.OPEN=1,ie.CLOSING=2,ie.CLOSED=3,ie.prototype._receiveInfo=function(V,q){if(this._ir=null,V){this._rto=this.countRTO(q),this._transUrl=V.base_url?V.base_url:this.url,V=_.extend(V,this._urlInfo);var le=re.filterToEnabled(this._transportsWhitelist,V);this._transports=le.main,this._connect()}else this._close(1002,"Cannot connect to server")},ie.prototype._connect=function(){for(var V=this._transports.shift();V;V=this._transports.shift()){if(V.needBody&&(!global.document.body||void 0!==global.document.readyState&&"complete"!==global.document.readyState&&"interactive"!==global.document.readyState))return this._transports.unshift(V),void v.attachEvent("load",this._connect.bind(this));var q=Math.max(this._timeout,this._rto*V.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),q);var ce=new V(b.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),this._transUrl,this._transportOptions[V.transportName]);return ce.on("message",this._transportMessage.bind(this)),ce.once("close",this._transportClose.bind(this)),ce.transportName=V.transportName,void(this._transport=ce)}this._close(2e3,"All transports failed",!1)},ie.prototype._transportTimeout=function(){this.readyState===ie.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))},ie.prototype._transportMessage=function(V){var ce,q=this,le=V.slice(0,1),Q=V.slice(1);switch(le){case"o":return void this._open();case"h":return void this.dispatchEvent(new P("heartbeat"))}if(Q)try{ce=JSON.parse(Q)}catch(se){}if(void 0!==ce)switch(le){case"a":Array.isArray(ce)&&ce.forEach(function(se){q.dispatchEvent(new L(se))});break;case"m":this.dispatchEvent(new L(ce));break;case"c":Array.isArray(ce)&&2===ce.length&&this._close(ce[0],ce[1],!0)}},ie.prototype._transportClose=function(V,q){this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),ee(V)||2e3===V||this.readyState!==ie.CONNECTING?this._close(V,q):this._connect()},ie.prototype._open=function(){this.readyState===ie.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=ie.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new P("open"))):this._close(1006,"Server lost session")},ie.prototype._close=function(V,q,le){var Q=!1;if(this._ir&&(Q=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===ie.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=ie.CLOSING,setTimeout(function(){this.readyState=ie.CLOSED,Q&&this.dispatchEvent(new P("error"));var ce=new x("close");ce.wasClean=le||!1,ce.code=V||1e3,ce.reason=q,this.dispatchEvent(ce),this.onmessage=this.onclose=this.onerror=null}.bind(this),0)},ie.prototype.countRTO=function(V){return V>100?4*V:300+V},He.exports=function(V){return re=g(V),A(737)(ie,V),ie}},5904:()=>{"use strict";var _,He=Array.prototype,H=Object.prototype,A=Function.prototype,h=String.prototype,M=He.slice,S=H.toString,T=function(V){return"[object Function]"===H.toString.call(V)},v=function(q){return"[object String]"===S.call(q)},g=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(V){return!1}}();_=g?function(V,q,le,Q){!Q&&q in V||Object.defineProperty(V,q,{configurable:!0,enumerable:!1,writable:!0,value:le})}:function(V,q,le,Q){!Q&&q in V||(V[q]=le)};var m=function(V,q,le){for(var Q in q)H.hasOwnProperty.call(q,Q)&&_(V,Q,q[Q],le)},w=function(V){if(null==V)throw new TypeError("can't convert "+V+" to object");return Object(V)};function P(V){var q=+V;return q!=q?q=0:0!==q&&q!==1/0&&q!==-1/0&&(q=(q>0||-1)*Math.floor(Math.abs(q))),q}function C(){}m(A,{bind:function(q){var le=this;if(!T(le))throw new TypeError("Function.prototype.bind called on incompatible "+le);for(var Q=M.call(arguments,1),ce=function(){if(this instanceof ke){var Fe=le.apply(this,Q.concat(M.call(arguments)));return Object(Fe)===Fe?Fe:this}return le.apply(q,Q.concat(M.call(arguments)))},se=Math.max(0,le.length-Q.length),we=[],Ue=0;Ue<se;Ue++)we.push("$"+Ue);var ke=Function("binder","return function ("+we.join(",")+"){ return binder.apply(this, arguments); }")(ce);return le.prototype&&(C.prototype=le.prototype,ke.prototype=new C,C.prototype=null),ke}}),m(Array,{isArray:function(q){return"[object Array]"===S.call(q)}});var q,le,Q,x=Object("a"),L="a"!==x[0]||!(0 in x);m(He,{forEach:function(q){var le=w(this),Q=L&&v(this)?this.split(""):le,ce=arguments[1],se=-1,we=Q.length>>>0;if(!T(q))throw new TypeError;for(;++se<we;)se in Q&&q.call(ce,Q[se],se,le)}},(le=!0,Q=!0,(q=He.forEach)&&(q.call("foo",function(ce,se,we){"object"!=typeof we&&(le=!1)}),q.call([1],function(){Q="string"==typeof this},"x")),!(q&&le&&Q)));var X=Array.prototype.indexOf&&-1!==[0,1].indexOf(1,2);m(He,{indexOf:function(q){var le=L&&v(this)?this.split(""):w(this),Q=le.length>>>0;if(!Q)return-1;var ce=0;for(arguments.length>1&&(ce=P(arguments[1])),ce=ce>=0?ce:Math.max(0,Q+ce);ce<Q;ce++)if(ce in le&&le[ce]===q)return ce;return-1}},X);var V,re=h.split;2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?(V=void 0===/()??/.exec("")[1],h.split=function(q,le){var Q=this;if(void 0===q&&0===le)return[];if("[object RegExp]"!==S.call(q))return re.call(this,q,le);var Ue,ke,Fe,oe,ce=[],se=(q.ignoreCase?"i":"")+(q.multiline?"m":"")+(q.extended?"x":"")+(q.sticky?"y":""),we=0;for(q=new RegExp(q.source,se+"g"),Q+="",V||(Ue=new RegExp("^"+q.source+"$(?!\\s)",se)),le=void 0===le?-1>>>0:function p(V){return V>>>0}(le);(ke=q.exec(Q))&&!((Fe=ke.index+ke[0].length)>we&&(ce.push(Q.slice(we,ke.index)),!V&&ke.length>1&&ke[0].replace(Ue,function(){for(var Se=1;Se<arguments.length-2;Se++)void 0===arguments[Se]&&(ke[Se]=void 0)}),ke.length>1&&ke.index<Q.length&&He.push.apply(ce,ke.slice(1)),oe=ke[0].length,we=Fe,ce.length>=le));)q.lastIndex===ke.index&&q.lastIndex++;return we===Q.length?(oe||!q.test(""))&&ce.push(""):ce.push(Q.slice(we)),ce.length>le?ce.slice(0,le):ce}):"0".split(void 0,0).length&&(h.split=function(q,le){return void 0===q&&0===le?[]:re.call(this,q,le)});var ie=h.substr;m(h,{substr:function(q,le){return ie.call(this,q<0&&(q=this.length+q)<0?0:q,le)}},"".substr&&"b"!=="0b".substr(-1))},8810:(He,H,A)=>{"use strict";He.exports=[A(7040),A(3897),A(4053),A(1591),A(9802)(A(1591)),A(3362),A(9802)(A(3362)),A(7237),A(8931),A(9802)(A(7237)),A(545)]},3134:(He,H,A)=>{"use strict";var h=A(17).v,M=A(3894),S=A(3865),T=A(1493),b=global.XMLHttpRequest;function g(w,P,p,C){var x=this;h.call(this),setTimeout(function(){x._start(w,P,p,C)},0)}M(g,h),g.prototype._start=function(w,P,p,C){var x=this;try{this.xhr=new b}catch($){}if(!this.xhr)return this.emit("finish",0,"no xhr support"),void this._cleanup();P=T.addQuery(P,"t="+ +new Date),this.unloadRef=S.unloadAdd(function(){x._cleanup(!0)});try{this.xhr.open(w,P,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){x.emit("finish",0,""),x._cleanup(!1)})}catch($){return this.emit("finish",0,""),void this._cleanup(!1)}if((!C||!C.noCredentials)&&g.supportsCORS&&(this.xhr.withCredentials=!0),C&&C.headers)for(var L in C.headers)this.xhr.setRequestHeader(L,C.headers[L]);this.xhr.onreadystatechange=function(){if(x.xhr){var X,re,$=x.xhr;switch($.readyState){case 3:try{re=$.status,X=$.responseText}catch(ie){}1223===re&&(re=204),200===re&&X&&X.length>0&&x.emit("chunk",re,X);break;case 4:1223===(re=$.status)&&(re=204),(12005===re||12029===re)&&(re=0),x.emit("finish",re,$.responseText),x._cleanup(!1)}}};try{x.xhr.send(p)}catch($){x.emit("finish",0,""),x._cleanup(!1)}},g.prototype._cleanup=function(w){if(this.xhr){if(this.removeAllListeners(),S.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),w)try{this.xhr.abort()}catch(P){}this.unloadRef=this.xhr=null}},g.prototype.close=function(){this._cleanup(!0)},g.enabled=!!b;var _=["Active"].concat("Object").join("X");!g.enabled&&_ in global&&(g.enabled=!!new(b=function(){try{return new global[_]("Microsoft.XMLHTTP")}catch(w){return null}}));var m=!1;try{m="withCredentials"in new b}catch(w){}g.supportsCORS=m,He.exports=g},8513:He=>{He.exports=global.EventSource},3848:He=>{"use strict";var H=global.WebSocket||global.MozWebSocket;He.exports=H?function(h){return new H(h)}:void 0},1591:(He,H,A)=>{"use strict";var h=A(3894),M=A(4172),S=A(3436),T=A(7807),b=A(8513);function v(g){if(!v.enabled())throw new Error("Transport created when disabled");M.call(this,g,"/eventsource",S,T)}h(v,M),v.enabled=function(){return!!b},v.transportName="eventsource",v.roundTrips=2,He.exports=v},3362:(He,H,A)=>{"use strict";var h=A(3894),M=A(288),S=A(7898),T=A(4172);function b(v){if(!M.enabled)throw new Error("Transport created when disabled");T.call(this,v,"/htmlfile",M,S)}h(b,T),b.enabled=function(v){return M.enabled&&v.sameOrigin},b.transportName="htmlfile",b.roundTrips=2,He.exports=b},7415:(He,H,A)=>{"use strict";var h=A(3894),M=A(17).v,S=A(947),T=A(1493),b=A(8075),v=A(3865),g=A(347);function m(w,P,p){if(!m.enabled())throw new Error("Transport created when disabled");M.call(this);var C=this;this.origin=T.getOrigin(p),this.baseUrl=p,this.transUrl=P,this.transport=w,this.windowId=g.string(8);var x=T.addPath(p,"/iframe.html")+"#"+this.windowId;this.iframeObj=b.createIframe(x,function(L){C.emit("close",1006,"Unable to load an iframe ("+L+")"),C.close()}),this.onmessageCallback=this._message.bind(this),v.attachEvent("message",this.onmessageCallback)}h(m,M),m.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){v.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch(w){}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}},m.prototype._message=function(w){if(T.isOriginEqual(w.origin,this.origin)){var P;try{P=JSON.parse(w.data)}catch(C){return}if(P.windowId===this.windowId)switch(P.type){case"s":this.iframeObj.loaded(),this.postMessage("s",JSON.stringify([S,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",P.data);break;case"c":var p;try{p=JSON.parse(P.data)}catch(C){return}this.emit("close",p[0],p[1]),this.close()}}},m.prototype.postMessage=function(w,P){this.iframeObj.post(JSON.stringify({windowId:this.windowId,type:w,data:P||""}),this.origin)},m.prototype.send=function(w){this.postMessage("m",w)},m.enabled=function(){return b.iframeEnabled},m.transportName="iframe",m.roundTrips=2,He.exports=m},545:(He,H,A)=>{"use strict";var h=A(3894),M=A(4196),S=A(8785),T=A(3216);function b(v){if(!b.enabled())throw new Error("Transport created when disabled");M.call(this,v,"/jsonp",T,S)}h(b,M),b.enabled=function(){return!!global.document},b.transportName="jsonp-polling",b.roundTrips=1,b.needBody=!0,He.exports=b},4172:(He,H,A)=>{"use strict";var h=A(3894),M=A(1493),S=A(4196);function v(g,_,m,w){S.call(this,g,_,function b(g){return function(_,m,w){var P={};"string"==typeof m&&(P.headers={"Content-type":"text/plain"});var p=M.addPath(_,"/xhr_send"),C=new g("POST",p,m,P);return C.once("finish",function(x){if(C=null,200!==x&&204!==x)return w(new Error("http status "+x));w()}),function(){C.close(),C=null;var x=new Error("Aborted");x.code=1e3,w(x)}}}(w),m,w)}h(v,S),He.exports=v},9661:(He,H,A)=>{"use strict";var h=A(3894),M=A(17).v;function T(b,v){M.call(this),this.sendBuffer=[],this.sender=v,this.url=b}h(T,M),T.prototype.send=function(b){this.sendBuffer.push(b),this.sendStop||this.sendSchedule()},T.prototype.sendScheduleWait=function(){var v,b=this;this.sendStop=function(){b.sendStop=null,clearTimeout(v)},v=setTimeout(function(){b.sendStop=null,b.sendSchedule()},25)},T.prototype.sendSchedule=function(){var b=this;if(this.sendBuffer.length>0){var v="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,v,function(g){b.sendStop=null,g?(b.emit("close",g.code||1006,"Sending error: "+g),b.close()):b.sendScheduleWait()}),this.sendBuffer=[]}},T.prototype._cleanup=function(){this.removeAllListeners()},T.prototype.close=function(){this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)},He.exports=T},9802:(He,H,A)=>{"use strict";var h=A(3894),M=A(7415),S=A(2923);He.exports=function(T){function b(v,g){M.call(this,T.transportName,v,g)}return h(b,M),b.enabled=function(v,g){if(!global.document)return!1;var _=S.extend({},g);return _.sameOrigin=!0,T.enabled(_)&&M.enabled()},b.transportName="iframe-"+T.transportName,b.needBody=!0,b.roundTrips=M.roundTrips+T.roundTrips-1,b.facadeTransport=T,b}},20:(He,H,A)=>{"use strict";var h=A(3894),M=A(17).v;function T(b,v,g){M.call(this),this.Receiver=b,this.receiveUrl=v,this.AjaxObject=g,this._scheduleReceiver()}h(T,M),T.prototype._scheduleReceiver=function(){var b=this,v=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);v.on("message",function(g){b.emit("message",g)}),v.once("close",function(g,_){b.poll=v=null,b.pollIsClosing||("network"===_?b._scheduleReceiver():(b.emit("close",g||1006,_),b.removeAllListeners()))})},T.prototype.abort=function(){this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()},He.exports=T},4196:(He,H,A)=>{"use strict";var h=A(3894),M=A(1493),S=A(9661),T=A(20);function v(g,_,m,w,P){var p=M.addPath(g,_),C=this;S.call(this,g,m),this.poll=new T(w,p,P),this.poll.on("message",function(x){C.emit("message",x)}),this.poll.once("close",function(x,L){C.poll=null,C.emit("close",x,L),C.close()})}h(v,S),v.prototype.close=function(){S.prototype.close.call(this),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)},He.exports=v},3436:(He,H,A)=>{"use strict";var h=A(3894),M=A(17).v,S=A(8513);function b(v){M.call(this);var g=this,_=this.es=new S(v);_.onmessage=function(m){g.emit("message",decodeURI(m.data))},_.onerror=function(m){var w=2!==_.readyState?"network":"permanent";g._cleanup(),g._close(w)}}h(b,M),b.prototype.abort=function(){this._cleanup(),this._close("user")},b.prototype._cleanup=function(){var v=this.es;v&&(v.onmessage=v.onerror=null,v.close(),this.es=null)},b.prototype._close=function(v){var g=this;setTimeout(function(){g.emit("close",null,v),g.removeAllListeners()},200)},He.exports=b},288:(He,H,A)=>{"use strict";var h=A(3894),M=A(8075),S=A(1493),T=A(17).v,b=A(347);function g(m){T.call(this);var w=this;M.polluteGlobalNamespace(),this.id="a"+b.string(6),m=S.addQuery(m,"c="+decodeURIComponent(M.WPrefix+"."+this.id));var P=g.htmlfileEnabled?M.createHtmlfile:M.createIframe;global[M.WPrefix][this.id]={start:function(){w.iframeObj.loaded()},message:function(p){w.emit("message",p)},stop:function(){w._cleanup(),w._close("network")}},this.iframeObj=P(m,function(){w._cleanup(),w._close("permanent")})}h(g,T),g.prototype.abort=function(){this._cleanup(),this._close("user")},g.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete global[M.WPrefix][this.id]},g.prototype._close=function(m){this.emit("close",null,m),this.removeAllListeners()},g.htmlfileEnabled=!1;var _=["Active"].concat("Object").join("X");if(_ in global)try{g.htmlfileEnabled=!!new global[_]("htmlfile")}catch(m){}g.enabled=g.htmlfileEnabled||M.iframeEnabled,He.exports=g},8785:(He,H,A)=>{"use strict";var h=A(8075),M=A(347),S=A(480),T=A(1493),b=A(3894),v=A(17).v;function _(m){var w=this;v.call(this),h.polluteGlobalNamespace(),this.id="a"+M.string(6);var P=T.addQuery(m,"c="+encodeURIComponent(h.WPrefix+"."+this.id));global[h.WPrefix][this.id]=this._callback.bind(this),this._createScript(P),this.timeoutId=setTimeout(function(){w._abort(new Error("JSONP script loaded abnormally (timeout)"))},_.timeout)}b(_,v),_.prototype.abort=function(){if(global[h.WPrefix][this.id]){var m=new Error("JSONP user aborted read");m.code=1e3,this._abort(m)}},_.timeout=35e3,_.scriptErrorTimeout=1e3,_.prototype._callback=function(m){this._cleanup(),!this.aborting&&(m&&this.emit("message",m),this.emit("close",null,"network"),this.removeAllListeners())},_.prototype._abort=function(m){this._cleanup(),this.aborting=!0,this.emit("close",m.code,m.message),this.removeAllListeners()},_.prototype._cleanup=function(){if(clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var m=this.script;m.parentNode.removeChild(m),m.onreadystatechange=m.onerror=m.onload=m.onclick=null,this.script=null}delete global[h.WPrefix][this.id]},_.prototype._scriptError=function(){var m=this;this.errorTimer||(this.errorTimer=setTimeout(function(){m.loadedOkay||m._abort(new Error("JSONP script loaded abnormally (onerror)"))},_.scriptErrorTimeout))},_.prototype._createScript=function(m){var p,w=this,P=this.script=global.document.createElement("script");if(P.id="a"+M.string(8),P.src=m,P.type="text/javascript",P.charset="UTF-8",P.onerror=this._scriptError.bind(this),P.onload=function(){w._abort(new Error("JSONP script loaded abnormally (onload)"))},P.onreadystatechange=function(){if(/loaded|closed/.test(P.readyState)){if(P&&P.htmlFor&&P.onclick){w.loadedOkay=!0;try{P.onclick()}catch(x){}}P&&w._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},void 0===P.async&&global.document.attachEvent)if(S.isOpera())(p=this.script2=global.document.createElement("script")).text="try{var a = document.getElementById('"+P.id+"'); if(a)a.onerror();}catch(x){};",P.async=p.async=!1;else{try{P.htmlFor=P.id,P.event="onclick"}catch(x){}P.async=!0}void 0!==P.async&&(P.async=!0);var C=global.document.getElementsByTagName("head")[0];C.insertBefore(P,C.firstChild),p&&C.insertBefore(p,C.firstChild)},He.exports=_},6909:(He,H,A)=>{"use strict";var h=A(3894),M=A(17).v;function T(b,v){M.call(this);var g=this;this.bufferPosition=0,this.xo=new v("POST",b,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(_,m){g._chunkHandler(_,m),g.xo=null,g.emit("close",null,200===_?"network":"permanent"),g._cleanup()})}h(T,M),T.prototype._chunkHandler=function(b,v){if(200===b&&v)for(var g=-1;;this.bufferPosition+=g+1){var _=v.slice(this.bufferPosition);if(-1===(g=_.indexOf("\n")))break;var m=_.slice(0,g);m&&this.emit("message",m)}},T.prototype._cleanup=function(){this.removeAllListeners()},T.prototype.abort=function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null),this._cleanup()},He.exports=T},3216:(He,H,A)=>{"use strict";var T,b,h=A(347),M=A(1493);He.exports=function(_,m,w){T||function g(){(T=global.document.createElement("form")).style.display="none",T.style.position="absolute",T.method="POST",T.enctype="application/x-www-form-urlencoded",T.acceptCharset="UTF-8",(b=global.document.createElement("textarea")).name="d",T.appendChild(b),global.document.body.appendChild(T)}();var P="a"+h.string(8);T.target=P,T.action=M.addQuery(M.addPath(_,"/jsonp_send"),"i="+P);var p=function v(_){try{return global.document.createElement('<iframe name="'+_+'">')}catch(w){var m=global.document.createElement("iframe");return m.name=_,m}}(P);p.id=P,p.style.display="none",T.appendChild(p);try{b.value=m}catch(x){}T.submit();var C=function(x){p.onerror&&(p.onreadystatechange=p.onerror=p.onload=null,setTimeout(function(){p.parentNode.removeChild(p),p=null},500),b.value="",w(x))};return p.onerror=function(){C()},p.onload=function(){C()},p.onreadystatechange=function(x){"complete"===p.readyState&&C()},function(){C(new Error("Aborted"))}}},5705:(He,H,A)=>{"use strict";var h=A(17).v,M=A(3894),S=A(3865),T=A(480),b=A(1493);function g(_,m,w){var P=this;h.call(this),setTimeout(function(){P._start(_,m,w)},0)}M(g,h),g.prototype._start=function(_,m,w){var P=this,p=new global.XDomainRequest;m=b.addQuery(m,"t="+ +new Date),p.onerror=function(){P._error()},p.ontimeout=function(){P._error()},p.onprogress=function(){P.emit("chunk",200,p.responseText)},p.onload=function(){P.emit("finish",200,p.responseText),P._cleanup(!1)},this.xdr=p,this.unloadRef=S.unloadAdd(function(){P._cleanup(!0)});try{this.xdr.open(_,m),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(w)}catch(C){this._error()}},g.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)},g.prototype._cleanup=function(_){if(this.xdr){if(this.removeAllListeners(),S.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,_)try{this.xdr.abort()}catch(m){}this.unloadRef=this.xdr=null}},g.prototype.close=function(){this._cleanup(!0)},g.enabled=!(!global.XDomainRequest||!T.hasDomain()),He.exports=g},7807:(He,H,A)=>{"use strict";var h=A(3894),M=A(3134);function S(T,b,v,g){M.call(this,T,b,v,g)}h(S,M),S.enabled=M.enabled&&M.supportsCORS,He.exports=S},9312:(He,H,A)=>{"use strict";var h=A(17).v;function S(){var T=this;h.call(this),this.to=setTimeout(function(){T.emit("finish",200,"{}")},S.timeout)}A(3894)(S,h),S.prototype.close=function(){clearTimeout(this.to)},S.timeout=2e3,He.exports=S},7898:(He,H,A)=>{"use strict";var h=A(3894),M=A(3134);function S(T,b,v){M.call(this,T,b,v,{noCredentials:!0})}h(S,M),S.enabled=M.enabled,He.exports=S},7040:(He,H,A)=>{"use strict";var h=A(3865),M=A(1493),S=A(3894),T=A(17).v,b=A(3848);function g(_,m,w){if(!g.enabled())throw new Error("Transport created when disabled");T.call(this);var P=this,p=M.addPath(_,"/websocket");p="https"===p.slice(0,5)?"wss"+p.slice(5):"ws"+p.slice(4),this.url=p,this.ws=new b(this.url,[],w),this.ws.onmessage=function(C){P.emit("message",C.data)},this.unloadRef=h.unloadAdd(function(){P.ws.close()}),this.ws.onclose=function(C){P.emit("close",C.code,C.reason),P._cleanup()},this.ws.onerror=function(C){P.emit("close",1006,"WebSocket connection broken"),P._cleanup()}}S(g,T),g.prototype.send=function(_){this.ws.send("["+_+"]")},g.prototype.close=function(){var _=this.ws;this._cleanup(),_&&_.close()},g.prototype._cleanup=function(){var _=this.ws;_&&(_.onmessage=_.onclose=_.onerror=null),h.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()},g.enabled=function(){return!!b},g.transportName="websocket",g.roundTrips=2,He.exports=g},8931:(He,H,A)=>{"use strict";var h=A(3894),M=A(4172),S=A(4053),T=A(6909),b=A(5705);function v(g){if(!b.enabled)throw new Error("Transport created when disabled");M.call(this,g,"/xhr",T,b)}h(v,M),v.enabled=S.enabled,v.transportName="xdr-polling",v.roundTrips=2,He.exports=v},4053:(He,H,A)=>{"use strict";var h=A(3894),M=A(4172),S=A(6909),T=A(5705);function b(v){if(!T.enabled)throw new Error("Transport created when disabled");M.call(this,v,"/xhr_streaming",S,T)}h(b,M),b.enabled=function(v){return!v.cookie_needed&&!v.nullOrigin&&T.enabled&&v.sameScheme},b.transportName="xdr-streaming",b.roundTrips=2,He.exports=b},7237:(He,H,A)=>{"use strict";var h=A(3894),M=A(4172),S=A(6909),T=A(7807),b=A(7898);function v(g){if(!b.enabled&&!T.enabled)throw new Error("Transport created when disabled");M.call(this,g,"/xhr",S,T)}h(v,M),v.enabled=function(g){return!g.nullOrigin&&(!(!b.enabled||!g.sameOrigin)||T.enabled)},v.transportName="xhr-polling",v.roundTrips=2,He.exports=v},3897:(He,H,A)=>{"use strict";var h=A(3894),M=A(4172),S=A(6909),T=A(7807),b=A(7898),v=A(480);function g(_){if(!b.enabled&&!T.enabled)throw new Error("Transport created when disabled");M.call(this,_,"/xhr_streaming",S,T)}h(g,M),g.enabled=function(_){return!_.nullOrigin&&!v.isOpera()&&T.enabled},g.transportName="xhr-streaming",g.roundTrips=2,g.needBody=!!global.document,He.exports=g},8143:He=>{"use strict";He.exports.randomBytes=global.crypto&&global.crypto.getRandomValues?function(H){var A=new Uint8Array(H);return global.crypto.getRandomValues(A),A}:function(H){for(var A=new Array(H),h=0;h<H;h++)A[h]=Math.floor(256*Math.random());return A}},480:He=>{"use strict";He.exports={isOpera:function(){return global.navigator&&/opera/i.test(global.navigator.userAgent)},isKonqueror:function(){return global.navigator&&/konqueror/i.test(global.navigator.userAgent)},hasDomain:function(){if(!global.document)return!0;try{return!!global.document.domain}catch(H){return!1}}}},8481:He=>{"use strict";var A,H=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g;He.exports={quote:function(M){var S=JSON.stringify(M);return H.lastIndex=0,H.test(S)?(A||(A=function(M){var S,T={},b=[];for(S=0;S<65536;S++)b.push(String.fromCharCode(S));return M.lastIndex=0,b.join("").replace(M,function(v){return T[v]="\\u"+("0000"+v.charCodeAt(0).toString(16)).slice(-4),""}),M.lastIndex=0,T}(H)),S.replace(H,function(T){return A[T]})):S}}},3865:(He,H,A)=>{"use strict";var h=A(347),M={},S=!1,T=global.chrome&&global.chrome.app&&global.chrome.app.runtime;He.exports={attachEvent:function(v,g){void 0!==global.addEventListener?global.addEventListener(v,g,!1):global.document&&global.attachEvent&&(global.document.attachEvent("on"+v,g),global.attachEvent("on"+v,g))},detachEvent:function(v,g){void 0!==global.addEventListener?global.removeEventListener(v,g,!1):global.document&&global.detachEvent&&(global.document.detachEvent("on"+v,g),global.detachEvent("on"+v,g))},unloadAdd:function(v){if(T)return null;var g=h.string(8);return M[g]=v,S&&setTimeout(this.triggerUnloadCallbacks,0),g},unloadDel:function(v){v in M&&delete M[v]},triggerUnloadCallbacks:function(){for(var v in M)M[v](),delete M[v]}},T||He.exports.attachEvent("unload",function(){S||(S=!0,He.exports.triggerUnloadCallbacks())})},8075:(He,H,A)=>{"use strict";var h=A(3865),M=A(480);He.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){He.exports.WPrefix in global||(global[He.exports.WPrefix]={})},postMessage:function(T,b){global.parent!==global&&global.parent.postMessage(JSON.stringify({windowId:He.exports.currentWindowId,type:T,data:b||""}),"*")},createIframe:function(T,b){var g,_,v=global.document.createElement("iframe"),m=function(){clearTimeout(g);try{v.onload=null}catch(C){}v.onerror=null},w=function(){v&&(m(),setTimeout(function(){v&&v.parentNode.removeChild(v),v=null},0),h.unloadDel(_))},P=function(C){v&&(w(),b(C))};return v.src=T,v.style.display="none",v.style.position="absolute",v.onerror=function(){P("onerror")},v.onload=function(){clearTimeout(g),g=setTimeout(function(){P("onload timeout")},2e3)},global.document.body.appendChild(v),g=setTimeout(function(){P("timeout")},15e3),_=h.unloadAdd(w),{post:function(C,x){setTimeout(function(){try{v&&v.contentWindow&&v.contentWindow.postMessage(C,x)}catch(L){}},0)},cleanup:w,loaded:m}},createHtmlfile:function(T,b){var _,m,w,v=["Active"].concat("Object").join("X"),g=new global[v]("htmlfile"),P=function(){clearTimeout(_),w.onerror=null},p=function(){g&&(P(),h.unloadDel(m),w.parentNode.removeChild(w),w=g=null,CollectGarbage())},C=function($){g&&(p(),b($))};g.open(),g.write('<html><script>document.domain="'+global.document.domain+'";<\/script></html>'),g.close(),g.parentWindow[He.exports.WPrefix]=global[He.exports.WPrefix];var L=g.createElement("div");return g.body.appendChild(L),w=g.createElement("iframe"),L.appendChild(w),w.src=T,w.onerror=function(){C("onerror")},_=setTimeout(function(){C("timeout")},15e3),m=h.unloadAdd(p),{post:function($,X){try{setTimeout(function(){w&&w.contentWindow&&w.contentWindow.postMessage($,X)},0)}catch(re){}},cleanup:p,loaded:P}}},He.exports.iframeEnabled=!1,global.document&&(He.exports.iframeEnabled=("function"==typeof global.postMessage||"object"==typeof global.postMessage)&&!M.isKonqueror())},1433:He=>{"use strict";var H={};["log","debug","warn"].forEach(function(A){var h;try{h=global.console&&global.console[A]&&global.console[A].apply}catch(M){}H[A]=h?function(){return global.console[A].apply(global.console,arguments)}:"log"===A?function(){}:H.log}),He.exports=H},2923:He=>{"use strict";He.exports={isObject:function(H){var A=typeof H;return"function"===A||"object"===A&&!!H},extend:function(H){if(!this.isObject(H))return H;for(var A,h,M=1,S=arguments.length;M<S;M++)for(h in A=arguments[M])Object.prototype.hasOwnProperty.call(A,h)&&(H[h]=A[h]);return H}}},347:(He,H,A)=>{"use strict";var h=A(8143),M="abcdefghijklmnopqrstuvwxyz012345";He.exports={string:function(S){for(var T=M.length,b=h.randomBytes(S),v=[],g=0;g<S;g++)v.push(M.substr(b[g]%T,1));return v.join("")},number:function(S){return Math.floor(Math.random()*S)},numberString:function(S){var T=(""+(S-1)).length;return(new Array(T+1).join("0")+this.number(S)).slice(-T)}}},2264:He=>{"use strict";He.exports=function(A){return{filterToEnabled:function(h,M){var S={main:[],facade:[]};return h?"string"==typeof h&&(h=[h]):h=[],A.forEach(function(T){if(T){if("websocket"===T.transportName&&!1===M.websocket)return;if(h.length&&-1===h.indexOf(T.transportName))return;T.enabled(M)&&(S.main.push(T),T.facadeTransport&&S.facade.push(T.facadeTransport))}}),S}}}},1493:(He,H,A)=>{"use strict";var h=A(7629);He.exports={getOrigin:function(S){if(!S)return null;var T=new h(S);if("file:"===T.protocol)return null;var b=T.port;return b||(b="https:"===T.protocol?"443":"80"),T.protocol+"//"+T.hostname+":"+b},isOriginEqual:function(S,T){return this.getOrigin(S)===this.getOrigin(T)},isSchemeEqual:function(S,T){return S.split(":")[0]===T.split(":")[0]},addPath:function(S,T){var b=S.split("?");return b[0]+T+(b[1]?"?"+b[1]:"")},addQuery:function(S,T){return S+(-1===S.indexOf("?")?"?"+T:"&"+T)},isLoopbackAddr:function(S){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(S)||/^\[::1\]$/.test(S)}}},947:He=>{He.exports="1.6.1"},7629:(He,H,A)=>{"use strict";var h=A(8237),M=A(2858),S=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,T=/[\n\r\t]/g,b=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,v=/:\d+$/,g=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,_=/^[a-zA-Z]:/;function m(ie){return(ie||"").toString().replace(S,"")}var w=[["#","hash"],["?","query"],function(ee,V){return C(V.protocol)?ee.replace(/\\/g,"/"):ee},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],P={hash:1,query:1};function p(ie){var ee;ee="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var Q,q={},le=typeof(ie=ie||ee.location||{});if("blob:"===ie.protocol)q=new $(unescape(ie.pathname),{});else if("string"===le)for(Q in q=new $(ie,{}),P)delete q[Q];else if("object"===le){for(Q in ie)Q in P||(q[Q]=ie[Q]);void 0===q.slashes&&(q.slashes=b.test(ie.href))}return q}function C(ie){return"file:"===ie||"ftp:"===ie||"http:"===ie||"https:"===ie||"ws:"===ie||"wss:"===ie}function x(ie,ee){ie=(ie=m(ie)).replace(T,""),ee=ee||{};var se,V=g.exec(ie),q=V[1]?V[1].toLowerCase():"",le=!!V[2],Q=!!V[3],ce=0;return le?Q?(se=V[2]+V[3]+V[4],ce=V[2].length+V[3].length):(se=V[2]+V[4],ce=V[2].length):Q?(se=V[3]+V[4],ce=V[3].length):se=V[4],"file:"===q?ce>=2&&(se=se.slice(2)):C(q)?se=V[4]:q?le&&(se=se.slice(2)):ce>=2&&C(ee.protocol)&&(se=V[4]),{protocol:q,slashes:le||C(q),slashesCount:ce,rest:se}}function $(ie,ee,V){if(ie=(ie=m(ie)).replace(T,""),!(this instanceof $))return new $(ie,ee,V);var q,le,Q,ce,se,we,Ue=w.slice(),ke=typeof ee,Fe=this,oe=0;for("object"!==ke&&"string"!==ke&&(V=ee,ee=null),V&&"function"!=typeof V&&(V=M.parse),q=!(le=x(ie||"",ee=p(ee))).protocol&&!le.slashes,Fe.slashes=le.slashes||q&&ee.slashes,Fe.protocol=le.protocol||ee.protocol||"",ie=le.rest,("file:"===le.protocol&&(2!==le.slashesCount||_.test(ie))||!le.slashes&&(le.protocol||le.slashesCount<2||!C(Fe.protocol)))&&(Ue[3]=[/(.*)/,"pathname"]);oe<Ue.length;oe++)"function"!=typeof(ce=Ue[oe])?(we=ce[1],(Q=ce[0])!=Q?Fe[we]=ie:"string"==typeof Q?~(se="@"===Q?ie.lastIndexOf(Q):ie.indexOf(Q))&&("number"==typeof ce[2]?(Fe[we]=ie.slice(0,se),ie=ie.slice(se+ce[2])):(Fe[we]=ie.slice(se),ie=ie.slice(0,se))):(se=Q.exec(ie))&&(Fe[we]=se[1],ie=ie.slice(0,se.index)),Fe[we]=Fe[we]||q&&ce[3]&&ee[we]||"",ce[4]&&(Fe[we]=Fe[we].toLowerCase())):ie=ce(ie,Fe);V&&(Fe.query=V(Fe.query)),q&&ee.slashes&&"/"!==Fe.pathname.charAt(0)&&(""!==Fe.pathname||""!==ee.pathname)&&(Fe.pathname=function L(ie,ee){if(""===ie)return ee;for(var V=(ee||"/").split("/").slice(0,-1).concat(ie.split("/")),q=V.length,le=V[q-1],Q=!1,ce=0;q--;)"."===V[q]?V.splice(q,1):".."===V[q]?(V.splice(q,1),ce++):ce&&(0===q&&(Q=!0),V.splice(q,1),ce--);return Q&&V.unshift(""),("."===le||".."===le)&&V.push(""),V.join("/")}(Fe.pathname,ee.pathname)),"/"!==Fe.pathname.charAt(0)&&C(Fe.protocol)&&(Fe.pathname="/"+Fe.pathname),h(Fe.port,Fe.protocol)||(Fe.host=Fe.hostname,Fe.port=""),Fe.username=Fe.password="",Fe.auth&&(~(se=Fe.auth.indexOf(":"))?(Fe.username=Fe.auth.slice(0,se),Fe.username=encodeURIComponent(decodeURIComponent(Fe.username)),Fe.password=Fe.auth.slice(se+1),Fe.password=encodeURIComponent(decodeURIComponent(Fe.password))):Fe.username=encodeURIComponent(decodeURIComponent(Fe.auth)),Fe.auth=Fe.password?Fe.username+":"+Fe.password:Fe.username),Fe.origin="file:"!==Fe.protocol&&C(Fe.protocol)&&Fe.host?Fe.protocol+"//"+Fe.host:"null",Fe.href=Fe.toString()}$.prototype={set:function X(ie,ee,V){var q=this;switch(ie){case"query":"string"==typeof ee&&ee.length&&(ee=(V||M.parse)(ee)),q[ie]=ee;break;case"port":q[ie]=ee,h(ee,q.protocol)?ee&&(q.host=q.hostname+":"+ee):(q.host=q.hostname,q[ie]="");break;case"hostname":q[ie]=ee,q.port&&(ee+=":"+q.port),q.host=ee;break;case"host":q[ie]=ee,v.test(ee)?(ee=ee.split(":"),q.port=ee.pop(),q.hostname=ee.join(":")):(q.hostname=ee,q.port="");break;case"protocol":q.protocol=ee.toLowerCase(),q.slashes=!V;break;case"pathname":case"hash":if(ee){var le="pathname"===ie?"/":"#";q[ie]=ee.charAt(0)!==le?le+ee:ee}else q[ie]=ee;break;case"username":case"password":q[ie]=encodeURIComponent(ee);break;case"auth":var Q=ee.indexOf(":");~Q?(q.username=ee.slice(0,Q),q.username=encodeURIComponent(decodeURIComponent(q.username)),q.password=ee.slice(Q+1),q.password=encodeURIComponent(decodeURIComponent(q.password))):q.username=encodeURIComponent(decodeURIComponent(ee))}for(var ce=0;ce<w.length;ce++){var se=w[ce];se[4]&&(q[se[1]]=q[se[1]].toLowerCase())}return q.auth=q.password?q.username+":"+q.password:q.username,q.origin="file:"!==q.protocol&&C(q.protocol)&&q.host?q.protocol+"//"+q.host:"null",q.href=q.toString(),q},toString:function re(ie){(!ie||"function"!=typeof ie)&&(ie=M.stringify);var ee,V=this,q=V.host,le=V.protocol;le&&":"!==le.charAt(le.length-1)&&(le+=":");var Q=le+(V.protocol&&V.slashes||C(V.protocol)?"//":"");return V.username?(Q+=V.username,V.password&&(Q+=":"+V.password),Q+="@"):V.password?(Q+=":"+V.password,Q+="@"):"file:"!==V.protocol&&C(V.protocol)&&!q&&"/"!==V.pathname&&(Q+="@"),(":"===q[q.length-1]||v.test(V.hostname)&&!V.port)&&(q+=":"),Q+=q+V.pathname,(ee="object"==typeof V.query?ie(V.query):V.query)&&(Q+="?"!==ee.charAt(0)?"?"+ee:ee),V.hash&&(Q+=V.hash),Q}},$.extractProtocol=x,$.location=p,$.trimLeft=m,$.qs=M,He.exports=$},1308:function(He,H,A){var h;He=A.nmd(He),function(M){"object"==typeof global&&global;var v,g=2147483647,_=36,$=/^xn--/,X=/[^\x20-\x7E]/,re=/[\x2E\u3002\uFF0E\uFF61]/g,ie={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},V=Math.floor,q=String.fromCharCode;function Q(Ce){throw RangeError(ie[Ce])}function ce(Ce,Pe){for(var tt=Ce.length,yt=[];tt--;)yt[tt]=Pe(Ce[tt]);return yt}function se(Ce,Pe){var tt=Ce.split("@"),yt="";return tt.length>1&&(yt=tt[0]+"@",Ce=tt[1]),yt+ce((Ce=Ce.replace(re,".")).split("."),Pe).join(".")}function we(Ce){for(var Qe,Kt,Pe=[],tt=0,yt=Ce.length;tt<yt;)(Qe=Ce.charCodeAt(tt++))>=55296&&Qe<=56319&&tt<yt?56320==(64512&(Kt=Ce.charCodeAt(tt++)))?Pe.push(((1023&Qe)<<10)+(1023&Kt)+65536):(Pe.push(Qe),tt--):Pe.push(Qe);return Pe}function Ue(Ce){return ce(Ce,function(Pe){var tt="";return Pe>65535&&(tt+=q((Pe-=65536)>>>10&1023|55296),Pe=56320|1023&Pe),tt+q(Pe)}).join("")}function ke(Ce){return Ce-48<10?Ce-22:Ce-65<26?Ce-65:Ce-97<26?Ce-97:_}function Fe(Ce,Pe){return Ce+22+75*(Ce<26)-((0!=Pe)<<5)}function oe(Ce,Pe,tt){var yt=0;for(Ce=tt?V(Ce/700):Ce>>1,Ce+=V(Ce/Pe);Ce>455;yt+=_)Ce=V(Ce/35);return V(yt+36*Ce/(Ce+38))}function Se(Ce){var yt,Je,ue,Me,Ie,Ze,ct,_t,ze,Ke,Pe=[],tt=Ce.length,Qe=0,Kt=128,pt=72;for((Je=Ce.lastIndexOf("-"))<0&&(Je=0),ue=0;ue<Je;++ue)Ce.charCodeAt(ue)>=128&&Q("not-basic"),Pe.push(Ce.charCodeAt(ue));for(Me=Je>0?Je+1:0;Me<tt;){for(Ie=Qe,Ze=1,ct=_;Me>=tt&&Q("invalid-input"),((_t=ke(Ce.charCodeAt(Me++)))>=_||_t>V((g-Qe)/Ze))&&Q("overflow"),Qe+=_t*Ze,!(_t<(ze=ct<=pt?1:ct>=pt+26?26:ct-pt));ct+=_)Ze>V(g/(Ke=_-ze))&&Q("overflow"),Ze*=Ke;pt=oe(Qe-Ie,yt=Pe.length+1,0==Ie),V(Qe/yt)>g-Kt&&Q("overflow"),Kt+=V(Qe/yt),Qe%=yt,Pe.splice(Qe++,0,Kt)}return Ue(Pe)}function he(Ce){var Pe,tt,yt,Qe,Kt,pt,Je,ue,Me,Ie,Ze,_t,ze,Ke,an,ct=[];for(_t=(Ce=we(Ce)).length,Pe=128,tt=0,Kt=72,pt=0;pt<_t;++pt)(Ze=Ce[pt])<128&&ct.push(q(Ze));for(yt=Qe=ct.length,Qe&&ct.push("-");yt<_t;){for(Je=g,pt=0;pt<_t;++pt)(Ze=Ce[pt])>=Pe&&Ze<Je&&(Je=Ze);for(Je-Pe>V((g-tt)/(ze=yt+1))&&Q("overflow"),tt+=(Je-Pe)*ze,Pe=Je,pt=0;pt<_t;++pt)if((Ze=Ce[pt])<Pe&&++tt>g&&Q("overflow"),Ze==Pe){for(ue=tt,Me=_;!(ue<(Ie=Me<=Kt?1:Me>=Kt+26?26:Me-Kt));Me+=_)ct.push(q(Fe(Ie+(an=ue-Ie)%(Ke=_-Ie),0))),ue=V(an/Ke);ct.push(q(Fe(ue,0))),Kt=oe(tt,ze,yt==Qe),tt=0,++yt}++tt,++Pe}return ct.join("")}v={version:"1.3.2",ucs2:{decode:we,encode:Ue},decode:Se,encode:he,toASCII:function _e(Ce){return se(Ce,function(Pe){return X.test(Pe)?"xn--"+he(Pe):Pe})},toUnicode:function We(Ce){return se(Ce,function(Pe){return $.test(Pe)?Se(Pe.slice(4).toLowerCase()):Pe})}},void 0!==(h=function(){return v}.call(H,A,H,He))&&(He.exports=h)}()},8762:(He,H,A)=>{"use strict";var M=A(1308),S=A(796);function T(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}H.Qc=ee,H.DB=function q(Q,ce){return ee(Q,!1,!0).resolve(ce)},H.WU=function V(Q){return S.isString(Q)&&(Q=ee(Q)),Q instanceof T?Q.format():T.prototype.format.call(Q)};var b=/^([a-z0-9.+-]+:)/i,v=/:[0-9]*$/,g=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,m=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),w=["'"].concat(m),P=["%","/","?",";","#"].concat(w),p=["/","?","#"],x=/^[+a-z0-9A-Z_-]{0,63}$/,L=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,$={javascript:!0,"javascript:":!0},X={javascript:!0,"javascript:":!0},re={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},ie=A(7137);function ee(Q,ce,se){if(Q&&S.isObject(Q)&&Q instanceof T)return Q;var we=new T;return we.parse(Q,ce,se),we}T.prototype.parse=function(Q,ce,se){if(!S.isString(Q))throw new TypeError("Parameter 'url' must be a string, not "+typeof Q);var we=Q.indexOf("?"),Ue=-1!==we&&we<Q.indexOf("#")?"?":"#",ke=Q.split(Ue);ke[0]=ke[0].replace(/\\/g,"/");var oe=Q=ke.join(Ue);if(oe=oe.trim(),!se&&1===Q.split("#").length){var Se=g.exec(oe);if(Se)return this.path=oe,this.href=oe,this.pathname=Se[1],Se[2]?(this.search=Se[2],this.query=ce?ie.parse(this.search.substr(1)):this.search.substr(1)):ce&&(this.search="",this.query={}),this}var he=b.exec(oe);if(he){var We=(he=he[0]).toLowerCase();this.protocol=We,oe=oe.substr(he.length)}if(se||he||oe.match(/^\/\/[^@\/]+@[^@\/]+/)){var _e="//"===oe.substr(0,2);_e&&(!he||!X[he])&&(oe=oe.substr(2),this.slashes=!0)}if(!X[he]&&(_e||he&&!re[he])){for(var Ce=-1,Pe=0;Pe<p.length;Pe++)-1!==(tt=oe.indexOf(p[Pe]))&&(-1===Ce||tt<Ce)&&(Ce=tt);var yt,Qe;for(-1!==(Qe=-1===Ce?oe.lastIndexOf("@"):oe.lastIndexOf("@",Ce))&&(yt=oe.slice(0,Qe),oe=oe.slice(Qe+1),this.auth=decodeURIComponent(yt)),Ce=-1,Pe=0;Pe<P.length;Pe++){var tt;-1!==(tt=oe.indexOf(P[Pe]))&&(-1===Ce||tt<Ce)&&(Ce=tt)}-1===Ce&&(Ce=oe.length),this.host=oe.slice(0,Ce),oe=oe.slice(Ce),this.parseHost(),this.hostname=this.hostname||"";var Kt="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!Kt)for(var pt=this.hostname.split(/\./),Je=(Pe=0,pt.length);Pe<Je;Pe++){var ue=pt[Pe];if(ue&&!ue.match(x)){for(var Me="",Ie=0,Ze=ue.length;Ie<Ze;Ie++)ue.charCodeAt(Ie)>127?Me+="x":Me+=ue[Ie];if(!Me.match(x)){var ct=pt.slice(0,Pe),_t=pt.slice(Pe+1),ze=ue.match(L);ze&&(ct.push(ze[1]),_t.unshift(ze[2])),_t.length&&(oe="/"+_t.join(".")+oe),this.hostname=ct.join(".");break}}}this.hostname=this.hostname.length>255?"":this.hostname.toLowerCase(),Kt||(this.hostname=M.toASCII(this.hostname)),this.host=(this.hostname||"")+(this.port?":"+this.port:""),this.href+=this.host,Kt&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==oe[0]&&(oe="/"+oe))}if(!$[We])for(Pe=0,Je=w.length;Pe<Je;Pe++){var zt=w[Pe];if(-1!==oe.indexOf(zt)){var gn=encodeURIComponent(zt);gn===zt&&(gn=escape(zt)),oe=oe.split(zt).join(gn)}}var yi=oe.indexOf("#");-1!==yi&&(this.hash=oe.substr(yi),oe=oe.slice(0,yi));var mt=oe.indexOf("?");return-1!==mt?(this.search=oe.substr(mt),this.query=oe.substr(mt+1),ce&&(this.query=ie.parse(this.query)),oe=oe.slice(0,mt)):ce&&(this.search="",this.query={}),oe&&(this.pathname=oe),re[We]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(this.path=(this.pathname||"")+(this.search||"")),this.href=this.format(),this},T.prototype.format=function(){var Q=this.auth||"";Q&&(Q=(Q=encodeURIComponent(Q)).replace(/%3A/i,":"),Q+="@");var ce=this.protocol||"",se=this.pathname||"",we=this.hash||"",Ue=!1,ke="";this.host?Ue=Q+this.host:this.hostname&&(Ue=Q+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(Ue+=":"+this.port)),this.query&&S.isObject(this.query)&&Object.keys(this.query).length&&(ke=ie.stringify(this.query));var Fe=this.search||ke&&"?"+ke||"";return ce&&":"!==ce.substr(-1)&&(ce+=":"),this.slashes||(!ce||re[ce])&&!1!==Ue?(Ue="//"+(Ue||""),se&&"/"!==se.charAt(0)&&(se="/"+se)):Ue||(Ue=""),we&&"#"!==we.charAt(0)&&(we="#"+we),Fe&&"?"!==Fe.charAt(0)&&(Fe="?"+Fe),ce+Ue+(se=se.replace(/[?#]/g,function(oe){return encodeURIComponent(oe)}))+(Fe=Fe.replace("#","%23"))+we},T.prototype.resolve=function(Q){return this.resolveObject(ee(Q,!1,!0)).format()},T.prototype.resolveObject=function(Q){if(S.isString(Q)){var ce=new T;ce.parse(Q,!1,!0),Q=ce}for(var se=new T,we=Object.keys(this),Ue=0;Ue<we.length;Ue++){var ke=we[Ue];se[ke]=this[ke]}if(se.hash=Q.hash,""===Q.href)return se.href=se.format(),se;if(Q.slashes&&!Q.protocol){for(var Fe=Object.keys(Q),oe=0;oe<Fe.length;oe++){var Se=Fe[oe];"protocol"!==Se&&(se[Se]=Q[Se])}return re[se.protocol]&&se.hostname&&!se.pathname&&(se.path=se.pathname="/"),se.href=se.format(),se}if(Q.protocol&&Q.protocol!==se.protocol){if(!re[Q.protocol]){for(var he=Object.keys(Q),We=0;We<he.length;We++){var _e=he[We];se[_e]=Q[_e]}return se.href=se.format(),se}if(se.protocol=Q.protocol,Q.host||X[Q.protocol])se.pathname=Q.pathname;else{for(var Je=(Q.pathname||"").split("/");Je.length&&!(Q.host=Je.shift()););Q.host||(Q.host=""),Q.hostname||(Q.hostname=""),""!==Je[0]&&Je.unshift(""),Je.length<2&&Je.unshift(""),se.pathname=Je.join("/")}return se.search=Q.search,se.query=Q.query,se.host=Q.host||"",se.auth=Q.auth,se.hostname=Q.hostname||Q.host,se.port=Q.port,(se.pathname||se.search)&&(se.path=(se.pathname||"")+(se.search||"")),se.slashes=se.slashes||Q.slashes,se.href=se.format(),se}var tt=se.pathname&&"/"===se.pathname.charAt(0),yt=Q.host||Q.pathname&&"/"===Q.pathname.charAt(0),Qe=yt||tt||se.host&&Q.pathname,Kt=Qe,pt=se.pathname&&se.pathname.split("/")||[],ue=(Je=Q.pathname&&Q.pathname.split("/")||[],se.protocol&&!re[se.protocol]);if(ue&&(se.hostname="",se.port=null,se.host&&(""===pt[0]?pt[0]=se.host:pt.unshift(se.host)),se.host="",Q.protocol&&(Q.hostname=null,Q.port=null,Q.host&&(""===Je[0]?Je[0]=Q.host:Je.unshift(Q.host)),Q.host=null),Qe=Qe&&(""===Je[0]||""===pt[0])),yt)se.host=Q.host||""===Q.host?Q.host:se.host,se.hostname=Q.hostname||""===Q.hostname?Q.hostname:se.hostname,se.search=Q.search,se.query=Q.query,pt=Je;else if(Je.length)pt||(pt=[]),pt.pop(),pt=pt.concat(Je),se.search=Q.search,se.query=Q.query;else if(!S.isNullOrUndefined(Q.search))return ue&&(se.hostname=se.host=pt.shift(),(Me=!!(se.host&&se.host.indexOf("@")>0)&&se.host.split("@"))&&(se.auth=Me.shift(),se.host=se.hostname=Me.shift())),se.search=Q.search,se.query=Q.query,(!S.isNull(se.pathname)||!S.isNull(se.search))&&(se.path=(se.pathname?se.pathname:"")+(se.search?se.search:"")),se.href=se.format(),se;if(!pt.length)return se.pathname=null,se.path=se.search?"/"+se.search:null,se.href=se.format(),se;for(var Ie=pt.slice(-1)[0],Ze=(se.host||Q.host||pt.length>1)&&("."===Ie||".."===Ie)||""===Ie,ct=0,_t=pt.length;_t>=0;_t--)"."===(Ie=pt[_t])?pt.splice(_t,1):".."===Ie?(pt.splice(_t,1),ct++):ct&&(pt.splice(_t,1),ct--);if(!Qe&&!Kt)for(;ct--;ct)pt.unshift("..");Qe&&""!==pt[0]&&(!pt[0]||"/"!==pt[0].charAt(0))&&pt.unshift(""),Ze&&"/"!==pt.join("/").substr(-1)&&pt.push("");var Me,ze=""===pt[0]||pt[0]&&"/"===pt[0].charAt(0);return ue&&(se.hostname=se.host=ze?"":pt.length?pt.shift():"",(Me=!!(se.host&&se.host.indexOf("@")>0)&&se.host.split("@"))&&(se.auth=Me.shift(),se.host=se.hostname=Me.shift())),(Qe=Qe||se.host&&pt.length)&&!ze&&pt.unshift(""),pt.length?se.pathname=pt.join("/"):(se.pathname=null,se.path=null),(!S.isNull(se.pathname)||!S.isNull(se.search))&&(se.path=(se.pathname?se.pathname:"")+(se.search?se.search:"")),se.auth=Q.auth||se.auth,se.slashes=se.slashes||Q.slashes,se.href=se.format(),se},T.prototype.parseHost=function(){var Q=this.host,ce=v.exec(Q);ce&&(":"!==(ce=ce[0])&&(this.port=ce.substr(1)),Q=Q.substr(0,Q.length-ce.length)),Q&&(this.hostname=Q)}},796:He=>{"use strict";He.exports={isString:function(H){return"string"==typeof H},isObject:function(H){return"object"==typeof H&&null!==H},isNull:function(H){return null===H},isNullOrUndefined:function(H){return null==H}}}},He=>{He(He.s=417)}]);